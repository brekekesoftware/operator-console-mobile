;(function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var a = typeof require == 'function' && require
        if (!u && a) return a(o, !0)
        if (i) return i(o, !0)
        var f = new Error("Cannot find module '" + o + "'")
        throw ((f.code = 'MODULE_NOT_FOUND'), f)
      }
      var l = (n[o] = { exports: {} })
      t[o][0].call(
        l.exports,
        function (e) {
          var n = t[o][1][e]
          return s(n ? n : e)
        },
        l,
        l.exports,
        e,
        t,
        n,
        r,
      )
    }
    return n[o].exports
  }
  var i = typeof require == 'function' && require
  for (var o = 0; o < r.length; o++) s(r[o])
  return s
})(
  {
    1: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var _isDisposable = require('./isDisposable')

        var _isDisposable2 = _interopRequireDefault(_isDisposable)

        /**
         * Represents a group of disposable resources that are disposed together.
         */

        var CompositeDisposable = (function () {
          function CompositeDisposable() {
            for (
              var _len = arguments.length, disposables = Array(_len), _key = 0;
              _key < _len;
              _key++
            ) {
              disposables[_key] = arguments[_key]
            }

            _classCallCheck(this, CompositeDisposable)

            if (Array.isArray(disposables[0]) && disposables.length === 1) {
              disposables = disposables[0]
            }

            for (var i = 0; i < disposables.length; i++) {
              if (!_isDisposable2['default'](disposables[i])) {
                throw new Error('Expected a disposable')
              }
            }

            this.disposables = disposables
            this.isDisposed = false
          }

          /**
           * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.
           * @param {Disposable} item Disposable to add.
           */

          CompositeDisposable.prototype.add = function add(item) {
            if (this.isDisposed) {
              item.dispose()
            } else {
              this.disposables.push(item)
            }
          }

          /**
           * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.
           * @param {Disposable} item Disposable to remove.
           * @returns {Boolean} true if found; false otherwise.
           */

          CompositeDisposable.prototype.remove = function remove(item) {
            if (this.isDisposed) {
              return false
            }

            var index = this.disposables.indexOf(item)
            if (index === -1) {
              return false
            }

            this.disposables.splice(index, 1)
            item.dispose()
            return true
          }

          /**
           * Disposes all disposables in the group and removes them from the group.
           */

          CompositeDisposable.prototype.dispose = function dispose() {
            if (this.isDisposed) {
              return
            }

            var len = this.disposables.length
            var currentDisposables = new Array(len)
            for (var i = 0; i < len; i++) {
              currentDisposables[i] = this.disposables[i]
            }

            this.isDisposed = true
            this.disposables = []
            this.length = 0

            for (var i = 0; i < len; i++) {
              currentDisposables[i].dispose()
            }
          }

          return CompositeDisposable
        })()

        exports['default'] = CompositeDisposable
        module.exports = exports['default']
      },
      { './isDisposable': 5 },
    ],
    2: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var noop = function noop() {}

        /**
         * The basic disposable.
         */

        var Disposable = (function () {
          _createClass(Disposable, null, [
            {
              key: 'empty',
              value: { dispose: noop },
              enumerable: true,
            },
          ])

          function Disposable(action) {
            _classCallCheck(this, Disposable)

            this.isDisposed = false
            this.action = action || noop
          }

          Disposable.prototype.dispose = function dispose() {
            if (!this.isDisposed) {
              this.action.call(null)
              this.isDisposed = true
            }
          }

          return Disposable
        })()

        exports['default'] = Disposable
        module.exports = exports['default']
      },
      {},
    ],
    3: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var _isDisposable = require('./isDisposable')

        var _isDisposable2 = _interopRequireDefault(_isDisposable)

        var SerialDisposable = (function () {
          function SerialDisposable() {
            _classCallCheck(this, SerialDisposable)

            this.isDisposed = false
            this.current = null
          }

          /**
           * Gets the underlying disposable.
           * @return The underlying disposable.
           */

          SerialDisposable.prototype.getDisposable = function getDisposable() {
            return this.current
          }

          /**
           * Sets the underlying disposable.
           * @param {Disposable} value The new underlying disposable.
           */

          SerialDisposable.prototype.setDisposable = function setDisposable() {
            var value =
              arguments.length <= 0 || arguments[0] === undefined
                ? null
                : arguments[0]

            if (value != null && !_isDisposable2['default'](value)) {
              throw new Error(
                'Expected either an empty value or a valid disposable',
              )
            }

            var isDisposed = this.isDisposed
            var previous = undefined

            if (!isDisposed) {
              previous = this.current
              this.current = value
            }

            if (previous) {
              previous.dispose()
            }

            if (isDisposed && value) {
              value.dispose()
            }
          }

          /**
           * Disposes the underlying disposable as well as all future replacements.
           */

          SerialDisposable.prototype.dispose = function dispose() {
            if (this.isDisposed) {
              return
            }

            this.isDisposed = true
            var previous = this.current
            this.current = null

            if (previous) {
              previous.dispose()
            }
          }

          return SerialDisposable
        })()

        exports['default'] = SerialDisposable
        module.exports = exports['default']
      },
      { './isDisposable': 5 },
    ],
    4: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var _isDisposable2 = require('./isDisposable')

        var _isDisposable3 = _interopRequireDefault(_isDisposable2)

        exports.isDisposable = _isDisposable3['default']

        var _Disposable2 = require('./Disposable')

        var _Disposable3 = _interopRequireDefault(_Disposable2)

        exports.Disposable = _Disposable3['default']

        var _CompositeDisposable2 = require('./CompositeDisposable')

        var _CompositeDisposable3 = _interopRequireDefault(
          _CompositeDisposable2,
        )

        exports.CompositeDisposable = _CompositeDisposable3['default']

        var _SerialDisposable2 = require('./SerialDisposable')

        var _SerialDisposable3 = _interopRequireDefault(_SerialDisposable2)

        exports.SerialDisposable = _SerialDisposable3['default']
      },
      {
        './CompositeDisposable': 1,
        './Disposable': 2,
        './SerialDisposable': 3,
        './isDisposable': 5,
      },
    ],
    5: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true
        exports['default'] = isDisposable

        function isDisposable(obj) {
          return Boolean(obj && typeof obj.dispose === 'function')
        }

        module.exports = exports['default']
      },
      {},
    ],
    6: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _createStore = require('redux/lib/createStore')

        var _createStore2 = _interopRequireDefault(_createStore)

        var _reducers = require('./reducers')

        var _reducers2 = _interopRequireDefault(_reducers)

        var _dragDrop = require('./actions/dragDrop')

        var dragDropActions = _interopRequireWildcard(_dragDrop)

        var _DragDropMonitor = require('./DragDropMonitor')

        var _DragDropMonitor2 = _interopRequireDefault(_DragDropMonitor)

        function _interopRequireWildcard(obj) {
          if (obj && obj.__esModule) {
            return obj
          } else {
            var newObj = {}
            if (obj != null) {
              for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key))
                  newObj[key] = obj[key]
              }
            }
            newObj.default = obj
            return newObj
          }
        }

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var DragDropManager = (function () {
          function DragDropManager(createBackend) {
            var context =
              arguments.length > 1 && arguments[1] !== undefined
                ? arguments[1]
                : {}

            _classCallCheck(this, DragDropManager)

            var store = (0, _createStore2.default)(_reducers2.default)
            this.context = context
            this.store = store
            this.monitor = new _DragDropMonitor2.default(store)
            this.registry = this.monitor.registry
            this.backend = createBackend(this)

            store.subscribe(this.handleRefCountChange.bind(this))
          }

          _createClass(DragDropManager, [
            {
              key: 'handleRefCountChange',
              value: function handleRefCountChange() {
                var shouldSetUp = this.store.getState().refCount > 0
                if (shouldSetUp && !this.isSetUp) {
                  this.backend.setup()
                  this.isSetUp = true
                } else if (!shouldSetUp && this.isSetUp) {
                  this.backend.teardown()
                  this.isSetUp = false
                }
              },
            },
            {
              key: 'getContext',
              value: function getContext() {
                return this.context
              },
            },
            {
              key: 'getMonitor',
              value: function getMonitor() {
                return this.monitor
              },
            },
            {
              key: 'getBackend',
              value: function getBackend() {
                return this.backend
              },
            },
            {
              key: 'getRegistry',
              value: function getRegistry() {
                return this.registry
              },
            },
            {
              key: 'getActions',
              value: function getActions() {
                var manager = this
                var dispatch = this.store.dispatch

                function bindActionCreator(actionCreator) {
                  return function () {
                    for (
                      var _len = arguments.length, args = Array(_len), _key = 0;
                      _key < _len;
                      _key++
                    ) {
                      args[_key] = arguments[_key]
                    }

                    var action = actionCreator.apply(manager, args)
                    if (typeof action !== 'undefined') {
                      dispatch(action)
                    }
                  }
                }

                return Object.keys(dragDropActions)
                  .filter(function (key) {
                    return typeof dragDropActions[key] === 'function'
                  })
                  .reduce(function (boundActions, key) {
                    var action = dragDropActions[key]
                    boundActions[key] = bindActionCreator(action) // eslint-disable-line no-param-reassign
                    return boundActions
                  }, {})
              },
            },
          ])

          return DragDropManager
        })()

        exports.default = DragDropManager
      },
      {
        './DragDropMonitor': 7,
        './actions/dragDrop': 11,
        './reducers': 18,
        'redux/lib/createStore': 342,
      },
    ],
    7: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _isArray = require('lodash/isArray')

        var _isArray2 = _interopRequireDefault(_isArray)

        var _matchesType = require('./utils/matchesType')

        var _matchesType2 = _interopRequireDefault(_matchesType)

        var _HandlerRegistry = require('./HandlerRegistry')

        var _HandlerRegistry2 = _interopRequireDefault(_HandlerRegistry)

        var _dragOffset = require('./reducers/dragOffset')

        var _dirtyHandlerIds = require('./reducers/dirtyHandlerIds')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var DragDropMonitor = (function () {
          function DragDropMonitor(store) {
            _classCallCheck(this, DragDropMonitor)

            this.store = store
            this.registry = new _HandlerRegistry2.default(store)
          }

          _createClass(DragDropMonitor, [
            {
              key: 'subscribeToStateChange',
              value: function subscribeToStateChange(listener) {
                var _this = this

                var options =
                  arguments.length > 1 && arguments[1] !== undefined
                    ? arguments[1]
                    : {}
                var handlerIds = options.handlerIds

                ;(0, _invariant2.default)(
                  typeof listener === 'function',
                  'listener must be a function.',
                )
                ;(0, _invariant2.default)(
                  typeof handlerIds === 'undefined' ||
                    (0, _isArray2.default)(handlerIds),
                  'handlerIds, when specified, must be an array of strings.',
                )

                var prevStateId = this.store.getState().stateId
                var handleChange = function handleChange() {
                  var state = _this.store.getState()
                  var currentStateId = state.stateId
                  try {
                    var canSkipListener =
                      currentStateId === prevStateId ||
                      (currentStateId === prevStateId + 1 &&
                        !(0, _dirtyHandlerIds.areDirty)(
                          state.dirtyHandlerIds,
                          handlerIds,
                        ))

                    if (!canSkipListener) {
                      listener()
                    }
                  } finally {
                    prevStateId = currentStateId
                  }
                }

                return this.store.subscribe(handleChange)
              },
            },
            {
              key: 'subscribeToOffsetChange',
              value: function subscribeToOffsetChange(listener) {
                var _this2 = this

                ;(0, _invariant2.default)(
                  typeof listener === 'function',
                  'listener must be a function.',
                )

                var previousState = this.store.getState().dragOffset
                var handleChange = function handleChange() {
                  var nextState = _this2.store.getState().dragOffset
                  if (nextState === previousState) {
                    return
                  }

                  previousState = nextState
                  listener()
                }

                return this.store.subscribe(handleChange)
              },
            },
            {
              key: 'canDragSource',
              value: function canDragSource(sourceId) {
                var source = this.registry.getSource(sourceId)
                ;(0, _invariant2.default)(
                  source,
                  'Expected to find a valid source.',
                )

                if (this.isDragging()) {
                  return false
                }

                return source.canDrag(this, sourceId)
              },
            },
            {
              key: 'canDropOnTarget',
              value: function canDropOnTarget(targetId) {
                var target = this.registry.getTarget(targetId)
                ;(0, _invariant2.default)(
                  target,
                  'Expected to find a valid target.',
                )

                if (!this.isDragging() || this.didDrop()) {
                  return false
                }

                var targetType = this.registry.getTargetType(targetId)
                var draggedItemType = this.getItemType()
                return (
                  (0, _matchesType2.default)(targetType, draggedItemType) &&
                  target.canDrop(this, targetId)
                )
              },
            },
            {
              key: 'isDragging',
              value: function isDragging() {
                return Boolean(this.getItemType())
              },
            },
            {
              key: 'isDraggingSource',
              value: function isDraggingSource(sourceId) {
                var source = this.registry.getSource(sourceId, true)
                ;(0, _invariant2.default)(
                  source,
                  'Expected to find a valid source.',
                )

                if (!this.isDragging() || !this.isSourcePublic()) {
                  return false
                }

                var sourceType = this.registry.getSourceType(sourceId)
                var draggedItemType = this.getItemType()
                if (sourceType !== draggedItemType) {
                  return false
                }

                return source.isDragging(this, sourceId)
              },
            },
            {
              key: 'isOverTarget',
              value: function isOverTarget(targetId) {
                var options =
                  arguments.length > 1 && arguments[1] !== undefined
                    ? arguments[1]
                    : { shallow: false }
                var shallow = options.shallow

                if (!this.isDragging()) {
                  return false
                }

                var targetType = this.registry.getTargetType(targetId)
                var draggedItemType = this.getItemType()
                if (!(0, _matchesType2.default)(targetType, draggedItemType)) {
                  return false
                }

                var targetIds = this.getTargetIds()
                if (!targetIds.length) {
                  return false
                }

                var index = targetIds.indexOf(targetId)
                if (shallow) {
                  return index === targetIds.length - 1
                } else {
                  return index > -1
                }
              },
            },
            {
              key: 'getItemType',
              value: function getItemType() {
                return this.store.getState().dragOperation.itemType
              },
            },
            {
              key: 'getItem',
              value: function getItem() {
                return this.store.getState().dragOperation.item
              },
            },
            {
              key: 'getSourceId',
              value: function getSourceId() {
                return this.store.getState().dragOperation.sourceId
              },
            },
            {
              key: 'getTargetIds',
              value: function getTargetIds() {
                return this.store.getState().dragOperation.targetIds
              },
            },
            {
              key: 'getDropResult',
              value: function getDropResult() {
                return this.store.getState().dragOperation.dropResult
              },
            },
            {
              key: 'didDrop',
              value: function didDrop() {
                return this.store.getState().dragOperation.didDrop
              },
            },
            {
              key: 'isSourcePublic',
              value: function isSourcePublic() {
                return this.store.getState().dragOperation.isSourcePublic
              },
            },
            {
              key: 'getInitialClientOffset',
              value: function getInitialClientOffset() {
                return this.store.getState().dragOffset.initialClientOffset
              },
            },
            {
              key: 'getInitialSourceClientOffset',
              value: function getInitialSourceClientOffset() {
                return this.store.getState().dragOffset
                  .initialSourceClientOffset
              },
            },
            {
              key: 'getClientOffset',
              value: function getClientOffset() {
                return this.store.getState().dragOffset.clientOffset
              },
            },
            {
              key: 'getSourceClientOffset',
              value: function getSourceClientOffset() {
                return (0, _dragOffset.getSourceClientOffset)(
                  this.store.getState().dragOffset,
                )
              },
            },
            {
              key: 'getDifferenceFromInitialOffset',
              value: function getDifferenceFromInitialOffset() {
                return (0, _dragOffset.getDifferenceFromInitialOffset)(
                  this.store.getState().dragOffset,
                )
              },
            },
          ])

          return DragDropMonitor
        })()

        exports.default = DragDropMonitor
      },
      {
        './HandlerRegistry': 10,
        './reducers/dirtyHandlerIds': 15,
        './reducers/dragOffset': 16,
        './utils/matchesType': 22,
        invariant: 54,
        'lodash/isArray': 141,
      },
    ],
    8: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var DragSource = (function () {
          function DragSource() {
            _classCallCheck(this, DragSource)
          }

          _createClass(DragSource, [
            {
              key: 'canDrag',
              value: function canDrag() {
                return true
              },
            },
            {
              key: 'isDragging',
              value: function isDragging(monitor, handle) {
                return handle === monitor.getSourceId()
              },
            },
            {
              key: 'endDrag',
              value: function endDrag() {},
            },
          ])

          return DragSource
        })()

        exports.default = DragSource
      },
      {},
    ],
    9: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var DropTarget = (function () {
          function DropTarget() {
            _classCallCheck(this, DropTarget)
          }

          _createClass(DropTarget, [
            {
              key: 'canDrop',
              value: function canDrop() {
                return true
              },
            },
            {
              key: 'hover',
              value: function hover() {},
            },
            {
              key: 'drop',
              value: function drop() {},
            },
          ])

          return DropTarget
        })()

        exports.default = DropTarget
      },
      {},
    ],
    10: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol &&
                  obj !== Symbol.prototype
                  ? 'symbol'
                  : typeof obj
              }

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _isArray = require('lodash/isArray')

        var _isArray2 = _interopRequireDefault(_isArray)

        var _asap = require('asap')

        var _asap2 = _interopRequireDefault(_asap)

        var _registry = require('./actions/registry')

        var _getNextUniqueId = require('./utils/getNextUniqueId')

        var _getNextUniqueId2 = _interopRequireDefault(_getNextUniqueId)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var HandlerRoles = {
          SOURCE: 'SOURCE',
          TARGET: 'TARGET',
        }

        function validateSourceContract(source) {
          ;(0, _invariant2.default)(
            typeof source.canDrag === 'function',
            'Expected canDrag to be a function.',
          )
          ;(0, _invariant2.default)(
            typeof source.beginDrag === 'function',
            'Expected beginDrag to be a function.',
          )
          ;(0, _invariant2.default)(
            typeof source.endDrag === 'function',
            'Expected endDrag to be a function.',
          )
        }

        function validateTargetContract(target) {
          ;(0, _invariant2.default)(
            typeof target.canDrop === 'function',
            'Expected canDrop to be a function.',
          )
          ;(0, _invariant2.default)(
            typeof target.hover === 'function',
            'Expected hover to be a function.',
          )
          ;(0, _invariant2.default)(
            typeof target.drop === 'function',
            'Expected beginDrag to be a function.',
          )
        }

        function validateType(type, allowArray) {
          if (allowArray && (0, _isArray2.default)(type)) {
            type.forEach(function (t) {
              return validateType(t, false)
            })
            return
          }

          ;(0, _invariant2.default)(
            typeof type === 'string' ||
              (typeof type === 'undefined' ? 'undefined' : _typeof(type)) ===
                'symbol',
            allowArray
              ? 'Type can only be a string, a symbol, or an array of either.'
              : 'Type can only be a string or a symbol.',
          )
        }

        function getNextHandlerId(role) {
          var id = (0, _getNextUniqueId2.default)().toString()
          switch (role) {
            case HandlerRoles.SOURCE:
              return 'S' + id
            case HandlerRoles.TARGET:
              return 'T' + id
            default:
              ;(0, _invariant2.default)(false, 'Unknown role: ' + role)
          }
        }

        function parseRoleFromHandlerId(handlerId) {
          switch (handlerId[0]) {
            case 'S':
              return HandlerRoles.SOURCE
            case 'T':
              return HandlerRoles.TARGET
            default:
              ;(0, _invariant2.default)(
                false,
                'Cannot parse handler ID: ' + handlerId,
              )
          }
        }

        var HandlerRegistry = (function () {
          function HandlerRegistry(store) {
            _classCallCheck(this, HandlerRegistry)

            this.store = store

            this.types = {}
            this.handlers = {}

            this.pinnedSourceId = null
            this.pinnedSource = null
          }

          _createClass(HandlerRegistry, [
            {
              key: 'addSource',
              value: function addSource(type, source) {
                validateType(type)
                validateSourceContract(source)

                var sourceId = this.addHandler(
                  HandlerRoles.SOURCE,
                  type,
                  source,
                )
                this.store.dispatch((0, _registry.addSource)(sourceId))
                return sourceId
              },
            },
            {
              key: 'addTarget',
              value: function addTarget(type, target) {
                validateType(type, true)
                validateTargetContract(target)

                var targetId = this.addHandler(
                  HandlerRoles.TARGET,
                  type,
                  target,
                )
                this.store.dispatch((0, _registry.addTarget)(targetId))
                return targetId
              },
            },
            {
              key: 'addHandler',
              value: function addHandler(role, type, handler) {
                var id = getNextHandlerId(role)
                this.types[id] = type
                this.handlers[id] = handler

                return id
              },
            },
            {
              key: 'containsHandler',
              value: function containsHandler(handler) {
                var _this = this

                return Object.keys(this.handlers).some(function (key) {
                  return _this.handlers[key] === handler
                })
              },
            },
            {
              key: 'getSource',
              value: function getSource(sourceId, includePinned) {
                ;(0, _invariant2.default)(
                  this.isSourceId(sourceId),
                  'Expected a valid source ID.',
                )

                var isPinned = includePinned && sourceId === this.pinnedSourceId
                var source = isPinned
                  ? this.pinnedSource
                  : this.handlers[sourceId]

                return source
              },
            },
            {
              key: 'getTarget',
              value: function getTarget(targetId) {
                ;(0, _invariant2.default)(
                  this.isTargetId(targetId),
                  'Expected a valid target ID.',
                )
                return this.handlers[targetId]
              },
            },
            {
              key: 'getSourceType',
              value: function getSourceType(sourceId) {
                ;(0, _invariant2.default)(
                  this.isSourceId(sourceId),
                  'Expected a valid source ID.',
                )
                return this.types[sourceId]
              },
            },
            {
              key: 'getTargetType',
              value: function getTargetType(targetId) {
                ;(0, _invariant2.default)(
                  this.isTargetId(targetId),
                  'Expected a valid target ID.',
                )
                return this.types[targetId]
              },
            },
            {
              key: 'isSourceId',
              value: function isSourceId(handlerId) {
                var role = parseRoleFromHandlerId(handlerId)
                return role === HandlerRoles.SOURCE
              },
            },
            {
              key: 'isTargetId',
              value: function isTargetId(handlerId) {
                var role = parseRoleFromHandlerId(handlerId)
                return role === HandlerRoles.TARGET
              },
            },
            {
              key: 'removeSource',
              value: function removeSource(sourceId) {
                var _this2 = this

                ;(0, _invariant2.default)(
                  this.getSource(sourceId),
                  'Expected an existing source.',
                )
                this.store.dispatch((0, _registry.removeSource)(sourceId))

                ;(0, _asap2.default)(function () {
                  delete _this2.handlers[sourceId]
                  delete _this2.types[sourceId]
                })
              },
            },
            {
              key: 'removeTarget',
              value: function removeTarget(targetId) {
                var _this3 = this

                ;(0, _invariant2.default)(
                  this.getTarget(targetId),
                  'Expected an existing target.',
                )
                this.store.dispatch((0, _registry.removeTarget)(targetId))

                ;(0, _asap2.default)(function () {
                  delete _this3.handlers[targetId]
                  delete _this3.types[targetId]
                })
              },
            },
            {
              key: 'pinSource',
              value: function pinSource(sourceId) {
                var source = this.getSource(sourceId)
                ;(0, _invariant2.default)(
                  source,
                  'Expected an existing source.',
                )

                this.pinnedSourceId = sourceId
                this.pinnedSource = source
              },
            },
            {
              key: 'unpinSource',
              value: function unpinSource() {
                ;(0, _invariant2.default)(
                  this.pinnedSource,
                  'No source is pinned at the time.',
                )

                this.pinnedSourceId = null
                this.pinnedSource = null
              },
            },
          ])

          return HandlerRegistry
        })()

        exports.default = HandlerRegistry
      },
      {
        './actions/registry': 12,
        './utils/getNextUniqueId': 21,
        asap: 23,
        invariant: 54,
        'lodash/isArray': 141,
      },
    ],
    11: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.END_DRAG =
          exports.DROP =
          exports.HOVER =
          exports.PUBLISH_DRAG_SOURCE =
          exports.BEGIN_DRAG =
            undefined

        var _extends =
          Object.assign ||
          function (target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]
              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }
            return target
          }

        exports.beginDrag = beginDrag
        exports.publishDragSource = publishDragSource
        exports.hover = hover
        exports.drop = drop
        exports.endDrag = endDrag

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _isArray = require('lodash/isArray')

        var _isArray2 = _interopRequireDefault(_isArray)

        var _isObject = require('lodash/isObject')

        var _isObject2 = _interopRequireDefault(_isObject)

        var _matchesType = require('../utils/matchesType')

        var _matchesType2 = _interopRequireDefault(_matchesType)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var BEGIN_DRAG = (exports.BEGIN_DRAG = 'dnd-core/BEGIN_DRAG')
        var PUBLISH_DRAG_SOURCE = (exports.PUBLISH_DRAG_SOURCE =
          'dnd-core/PUBLISH_DRAG_SOURCE')
        var HOVER = (exports.HOVER = 'dnd-core/HOVER')
        var DROP = (exports.DROP = 'dnd-core/DROP')
        var END_DRAG = (exports.END_DRAG = 'dnd-core/END_DRAG')

        function beginDrag(sourceIds) {
          var options =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : { publishSource: true, clientOffset: null }
          var publishSource = options.publishSource,
            clientOffset = options.clientOffset,
            getSourceClientOffset = options.getSourceClientOffset

          ;(0, _invariant2.default)(
            (0, _isArray2.default)(sourceIds),
            'Expected sourceIds to be an array.',
          )

          var monitor = this.getMonitor()
          var registry = this.getRegistry()
          ;(0, _invariant2.default)(
            !monitor.isDragging(),
            'Cannot call beginDrag while dragging.',
          )

          for (var i = 0; i < sourceIds.length; i++) {
            ;(0, _invariant2.default)(
              registry.getSource(sourceIds[i]),
              'Expected sourceIds to be registered.',
            )
          }

          var sourceId = null
          for (var _i = sourceIds.length - 1; _i >= 0; _i--) {
            if (monitor.canDragSource(sourceIds[_i])) {
              sourceId = sourceIds[_i]
              break
            }
          }
          if (sourceId === null) {
            return
          }

          var sourceClientOffset = null
          if (clientOffset) {
            ;(0, _invariant2.default)(
              typeof getSourceClientOffset === 'function',
              'When clientOffset is provided, getSourceClientOffset must be a function.',
            )
            sourceClientOffset = getSourceClientOffset(sourceId)
          }

          var source = registry.getSource(sourceId)
          var item = source.beginDrag(monitor, sourceId)
          ;(0, _invariant2.default)(
            (0, _isObject2.default)(item),
            'Item must be an object.',
          )

          registry.pinSource(sourceId)

          var itemType = registry.getSourceType(sourceId)
          return {
            type: BEGIN_DRAG,
            itemType: itemType,
            item: item,
            sourceId: sourceId,
            clientOffset: clientOffset,
            sourceClientOffset: sourceClientOffset,
            isSourcePublic: publishSource,
          }
        }

        function publishDragSource() {
          var monitor = this.getMonitor()
          if (!monitor.isDragging()) {
            return
          }

          return { type: PUBLISH_DRAG_SOURCE }
        }

        function hover(targetIdsArg) {
          var _ref =
              arguments.length > 1 && arguments[1] !== undefined
                ? arguments[1]
                : {},
            _ref$clientOffset = _ref.clientOffset,
            clientOffset =
              _ref$clientOffset === undefined ? null : _ref$clientOffset

          ;(0, _invariant2.default)(
            (0, _isArray2.default)(targetIdsArg),
            'Expected targetIds to be an array.',
          )
          var targetIds = targetIdsArg.slice(0)

          var monitor = this.getMonitor()
          var registry = this.getRegistry()
          ;(0, _invariant2.default)(
            monitor.isDragging(),
            'Cannot call hover while not dragging.',
          )
          ;(0, _invariant2.default)(
            !monitor.didDrop(),
            'Cannot call hover after drop.',
          )

          // First check invariants.
          for (var i = 0; i < targetIds.length; i++) {
            var targetId = targetIds[i]
            ;(0, _invariant2.default)(
              targetIds.lastIndexOf(targetId) === i,
              'Expected targetIds to be unique in the passed array.',
            )

            var target = registry.getTarget(targetId)
            ;(0, _invariant2.default)(
              target,
              'Expected targetIds to be registered.',
            )
          }

          var draggedItemType = monitor.getItemType()

          // Remove those targetIds that don't match the targetType.  This
          // fixes shallow isOver which would only be non-shallow because of
          // non-matching targets.
          for (var _i2 = targetIds.length - 1; _i2 >= 0; _i2--) {
            var _targetId = targetIds[_i2]
            var targetType = registry.getTargetType(_targetId)
            if (!(0, _matchesType2.default)(targetType, draggedItemType)) {
              targetIds.splice(_i2, 1)
            }
          }

          // Finally call hover on all matching targets.
          for (var _i3 = 0; _i3 < targetIds.length; _i3++) {
            var _targetId2 = targetIds[_i3]
            var _target = registry.getTarget(_targetId2)
            _target.hover(monitor, _targetId2)
          }

          return {
            type: HOVER,
            targetIds: targetIds,
            clientOffset: clientOffset,
          }
        }

        function drop() {
          var _this = this

          var options =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : {}

          var monitor = this.getMonitor()
          var registry = this.getRegistry()
          ;(0, _invariant2.default)(
            monitor.isDragging(),
            'Cannot call drop while not dragging.',
          )
          ;(0, _invariant2.default)(
            !monitor.didDrop(),
            'Cannot call drop twice during one drag operation.',
          )

          var targetIds = monitor
            .getTargetIds()
            .filter(monitor.canDropOnTarget, monitor)

          targetIds.reverse()
          targetIds.forEach(function (targetId, index) {
            var target = registry.getTarget(targetId)

            var dropResult = target.drop(monitor, targetId)
            ;(0, _invariant2.default)(
              typeof dropResult === 'undefined' ||
                (0, _isObject2.default)(dropResult),
              'Drop result must either be an object or undefined.',
            )
            if (typeof dropResult === 'undefined') {
              dropResult = index === 0 ? {} : monitor.getDropResult()
            }

            _this.store.dispatch({
              type: DROP,
              dropResult: _extends({}, options, dropResult),
            })
          })
        }

        function endDrag() {
          var monitor = this.getMonitor()
          var registry = this.getRegistry()
          ;(0, _invariant2.default)(
            monitor.isDragging(),
            'Cannot call endDrag while not dragging.',
          )

          var sourceId = monitor.getSourceId()
          var source = registry.getSource(sourceId, true)
          source.endDrag(monitor, sourceId)

          registry.unpinSource()

          return { type: END_DRAG }
        }
      },
      {
        '../utils/matchesType': 22,
        invariant: 54,
        'lodash/isArray': 141,
        'lodash/isObject': 146,
      },
    ],
    12: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.addSource = addSource
        exports.addTarget = addTarget
        exports.removeSource = removeSource
        exports.removeTarget = removeTarget
        var ADD_SOURCE = (exports.ADD_SOURCE = 'dnd-core/ADD_SOURCE')
        var ADD_TARGET = (exports.ADD_TARGET = 'dnd-core/ADD_TARGET')
        var REMOVE_SOURCE = (exports.REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE')
        var REMOVE_TARGET = (exports.REMOVE_TARGET = 'dnd-core/REMOVE_TARGET')

        function addSource(sourceId) {
          return {
            type: ADD_SOURCE,
            sourceId: sourceId,
          }
        }

        function addTarget(targetId) {
          return {
            type: ADD_TARGET,
            targetId: targetId,
          }
        }

        function removeSource(sourceId) {
          return {
            type: REMOVE_SOURCE,
            sourceId: sourceId,
          }
        }

        function removeTarget(targetId) {
          return {
            type: REMOVE_TARGET,
            targetId: targetId,
          }
        }
      },
      {},
    ],
    13: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        exports.default = createBackend

        var _noop = require('lodash/noop')

        var _noop2 = _interopRequireDefault(_noop)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var TestBackend = (function () {
          function TestBackend(manager) {
            _classCallCheck(this, TestBackend)

            this.actions = manager.getActions()
          }

          _createClass(TestBackend, [
            {
              key: 'setup',
              value: function setup() {
                this.didCallSetup = true
              },
            },
            {
              key: 'teardown',
              value: function teardown() {
                this.didCallTeardown = true
              },
            },
            {
              key: 'connectDragSource',
              value: function connectDragSource() {
                return _noop2.default
              },
            },
            {
              key: 'connectDragPreview',
              value: function connectDragPreview() {
                return _noop2.default
              },
            },
            {
              key: 'connectDropTarget',
              value: function connectDropTarget() {
                return _noop2.default
              },
            },
            {
              key: 'simulateBeginDrag',
              value: function simulateBeginDrag(sourceIds, options) {
                this.actions.beginDrag(sourceIds, options)
              },
            },
            {
              key: 'simulatePublishDragSource',
              value: function simulatePublishDragSource() {
                this.actions.publishDragSource()
              },
            },
            {
              key: 'simulateHover',
              value: function simulateHover(targetIds, options) {
                this.actions.hover(targetIds, options)
              },
            },
            {
              key: 'simulateDrop',
              value: function simulateDrop() {
                this.actions.drop()
              },
            },
            {
              key: 'simulateEndDrag',
              value: function simulateEndDrag() {
                this.actions.endDrag()
              },
            },
          ])

          return TestBackend
        })()

        function createBackend(manager) {
          return new TestBackend(manager)
        }
      },
      { 'lodash/noop': 153 },
    ],
    14: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _DragDropManager = require('./DragDropManager')

        Object.defineProperty(exports, 'DragDropManager', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragDropManager).default
          },
        })

        var _DragSource = require('./DragSource')

        Object.defineProperty(exports, 'DragSource', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragSource).default
          },
        })

        var _DropTarget = require('./DropTarget')

        Object.defineProperty(exports, 'DropTarget', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DropTarget).default
          },
        })

        var _createTestBackend = require('./backends/createTestBackend')

        Object.defineProperty(exports, 'createTestBackend', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_createTestBackend).default
          },
        })

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }
      },
      {
        './DragDropManager': 6,
        './DragSource': 8,
        './DropTarget': 9,
        './backends/createTestBackend': 13,
      },
    ],
    15: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = dirtyHandlerIds
        exports.areDirty = areDirty

        var _xor = require('lodash/xor')

        var _xor2 = _interopRequireDefault(_xor)

        var _intersection = require('lodash/intersection')

        var _intersection2 = _interopRequireDefault(_intersection)

        var _dragDrop = require('../actions/dragDrop')

        var _registry = require('../actions/registry')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var NONE = []
        var ALL = []

        function dirtyHandlerIds() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : NONE
          var action = arguments[1]
          var dragOperation = arguments[2]

          switch (action.type) {
            case _dragDrop.HOVER:
              break
            case _registry.ADD_SOURCE:
            case _registry.ADD_TARGET:
            case _registry.REMOVE_TARGET:
            case _registry.REMOVE_SOURCE:
              return NONE
            case _dragDrop.BEGIN_DRAG:
            case _dragDrop.PUBLISH_DRAG_SOURCE:
            case _dragDrop.END_DRAG:
            case _dragDrop.DROP:
            default:
              return ALL
          }

          var targetIds = action.targetIds
          var prevTargetIds = dragOperation.targetIds

          var result = (0, _xor2.default)(targetIds, prevTargetIds)

          var didChange = false
          if (result.length === 0) {
            for (var i = 0; i < targetIds.length; i++) {
              if (targetIds[i] !== prevTargetIds[i]) {
                didChange = true
                break
              }
            }
          } else {
            didChange = true
          }

          if (!didChange) {
            return NONE
          }

          var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]
          var innermostTargetId = targetIds[targetIds.length - 1]

          if (prevInnermostTargetId !== innermostTargetId) {
            if (prevInnermostTargetId) {
              result.push(prevInnermostTargetId)
            }
            if (innermostTargetId) {
              result.push(innermostTargetId)
            }
          }

          return result
        }

        function areDirty(state, handlerIds) {
          if (state === NONE) {
            return false
          }

          if (state === ALL || typeof handlerIds === 'undefined') {
            return true
          }

          return (0, _intersection2.default)(handlerIds, state).length > 0
        }
      },
      {
        '../actions/dragDrop': 11,
        '../actions/registry': 12,
        'lodash/intersection': 139,
        'lodash/xor': 160,
      },
    ],
    16: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _extends =
          Object.assign ||
          function (target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]
              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }
            return target
          }

        exports.default = dragOffset
        exports.getSourceClientOffset = getSourceClientOffset
        exports.getDifferenceFromInitialOffset = getDifferenceFromInitialOffset

        var _dragDrop = require('../actions/dragDrop')

        var initialState = {
          initialSourceClientOffset: null,
          initialClientOffset: null,
          clientOffset: null,
        }

        function areOffsetsEqual(offsetA, offsetB) {
          if (offsetA === offsetB) {
            return true
          }
          return (
            offsetA &&
            offsetB &&
            offsetA.x === offsetB.x &&
            offsetA.y === offsetB.y
          )
        }

        function dragOffset() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : initialState
          var action = arguments[1]

          switch (action.type) {
            case _dragDrop.BEGIN_DRAG:
              return {
                initialSourceClientOffset: action.sourceClientOffset,
                initialClientOffset: action.clientOffset,
                clientOffset: action.clientOffset,
              }
            case _dragDrop.HOVER:
              if (areOffsetsEqual(state.clientOffset, action.clientOffset)) {
                return state
              }
              return _extends({}, state, {
                clientOffset: action.clientOffset,
              })
            case _dragDrop.END_DRAG:
            case _dragDrop.DROP:
              return initialState
            default:
              return state
          }
        }

        function getSourceClientOffset(state) {
          var clientOffset = state.clientOffset,
            initialClientOffset = state.initialClientOffset,
            initialSourceClientOffset = state.initialSourceClientOffset

          if (
            !clientOffset ||
            !initialClientOffset ||
            !initialSourceClientOffset
          ) {
            return null
          }
          return {
            x:
              clientOffset.x +
              initialSourceClientOffset.x -
              initialClientOffset.x,
            y:
              clientOffset.y +
              initialSourceClientOffset.y -
              initialClientOffset.y,
          }
        }

        function getDifferenceFromInitialOffset(state) {
          var clientOffset = state.clientOffset,
            initialClientOffset = state.initialClientOffset

          if (!clientOffset || !initialClientOffset) {
            return null
          }
          return {
            x: clientOffset.x - initialClientOffset.x,
            y: clientOffset.y - initialClientOffset.y,
          }
        }
      },
      { '../actions/dragDrop': 11 },
    ],
    17: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _extends =
          Object.assign ||
          function (target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]
              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }
            return target
          }

        exports.default = dragOperation

        var _without = require('lodash/without')

        var _without2 = _interopRequireDefault(_without)

        var _dragDrop = require('../actions/dragDrop')

        var _registry = require('../actions/registry')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var initialState = {
          itemType: null,
          item: null,
          sourceId: null,
          targetIds: [],
          dropResult: null,
          didDrop: false,
          isSourcePublic: null,
        }

        function dragOperation() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : initialState
          var action = arguments[1]

          switch (action.type) {
            case _dragDrop.BEGIN_DRAG:
              return _extends({}, state, {
                itemType: action.itemType,
                item: action.item,
                sourceId: action.sourceId,
                isSourcePublic: action.isSourcePublic,
                dropResult: null,
                didDrop: false,
              })
            case _dragDrop.PUBLISH_DRAG_SOURCE:
              return _extends({}, state, {
                isSourcePublic: true,
              })
            case _dragDrop.HOVER:
              return _extends({}, state, {
                targetIds: action.targetIds,
              })
            case _registry.REMOVE_TARGET:
              if (state.targetIds.indexOf(action.targetId) === -1) {
                return state
              }
              return _extends({}, state, {
                targetIds: (0, _without2.default)(
                  state.targetIds,
                  action.targetId,
                ),
              })
            case _dragDrop.DROP:
              return _extends({}, state, {
                dropResult: action.dropResult,
                didDrop: true,
                targetIds: [],
              })
            case _dragDrop.END_DRAG:
              return _extends({}, state, {
                itemType: null,
                item: null,
                sourceId: null,
                dropResult: null,
                didDrop: false,
                isSourcePublic: null,
                targetIds: [],
              })
            default:
              return state
          }
        }
      },
      {
        '../actions/dragDrop': 11,
        '../actions/registry': 12,
        'lodash/without': 159,
      },
    ],
    18: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = reduce

        var _dragOffset = require('./dragOffset')

        var _dragOffset2 = _interopRequireDefault(_dragOffset)

        var _dragOperation = require('./dragOperation')

        var _dragOperation2 = _interopRequireDefault(_dragOperation)

        var _refCount = require('./refCount')

        var _refCount2 = _interopRequireDefault(_refCount)

        var _dirtyHandlerIds = require('./dirtyHandlerIds')

        var _dirtyHandlerIds2 = _interopRequireDefault(_dirtyHandlerIds)

        var _stateId = require('./stateId')

        var _stateId2 = _interopRequireDefault(_stateId)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function reduce() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : {}
          var action = arguments[1]

          return {
            dirtyHandlerIds: (0, _dirtyHandlerIds2.default)(
              state.dirtyHandlerIds,
              action,
              state.dragOperation,
            ),
            dragOffset: (0, _dragOffset2.default)(state.dragOffset, action),
            refCount: (0, _refCount2.default)(state.refCount, action),
            dragOperation: (0, _dragOperation2.default)(
              state.dragOperation,
              action,
            ),
            stateId: (0, _stateId2.default)(state.stateId),
          }
        }
      },
      {
        './dirtyHandlerIds': 15,
        './dragOffset': 16,
        './dragOperation': 17,
        './refCount': 19,
        './stateId': 20,
      },
    ],
    19: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = refCount

        var _registry = require('../actions/registry')

        function refCount() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : 0
          var action = arguments[1]

          switch (action.type) {
            case _registry.ADD_SOURCE:
            case _registry.ADD_TARGET:
              return state + 1
            case _registry.REMOVE_SOURCE:
            case _registry.REMOVE_TARGET:
              return state - 1
            default:
              return state
          }
        }
      },
      { '../actions/registry': 12 },
    ],
    20: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = stateId
        function stateId() {
          var state =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : 0

          return state + 1
        }
      },
      {},
    ],
    21: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = getNextUniqueId
        var nextUniqueId = 0

        function getNextUniqueId() {
          return nextUniqueId++
        }
      },
      {},
    ],
    22: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = matchesType

        var _isArray = require('lodash/isArray')

        var _isArray2 = _interopRequireDefault(_isArray)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function matchesType(targetType, draggedItemType) {
          if ((0, _isArray2.default)(targetType)) {
            return targetType.some(function (t) {
              return t === draggedItemType
            })
          } else {
            return targetType === draggedItemType
          }
        }
      },
      { 'lodash/isArray': 141 },
    ],
    23: [
      function (require, module, exports) {
        'use strict'

        // rawAsap provides everything we need except exception management.
        var rawAsap = require('./raw')
        // RawTasks are recycled to reduce GC churn.
        var freeTasks = []
        // We queue errors to ensure they are thrown in right order (FIFO).
        // Array-as-queue is good enough here, since we are just dealing with exceptions.
        var pendingErrors = []
        var requestErrorThrow =
          rawAsap.makeRequestCallFromTimer(throwFirstError)

        function throwFirstError() {
          if (pendingErrors.length) {
            throw pendingErrors.shift()
          }
        }

        /**
         * Calls a task as soon as possible after returning, in its own event, with priority
         * over other events like animation, reflow, and repaint. An error thrown from an
         * event will not interrupt, nor even substantially slow down the processing of
         * other events, but will be rather postponed to a lower priority event.
         * @param {{call}} task A callable object, typically a function that takes no
         * arguments.
         */
        module.exports = asap
        function asap(task) {
          var rawTask
          if (freeTasks.length) {
            rawTask = freeTasks.pop()
          } else {
            rawTask = new RawTask()
          }
          rawTask.task = task
          rawAsap(rawTask)
        }

        // We wrap tasks with recyclable task objects.  A task object implements
        // `call`, just like a function.
        function RawTask() {
          this.task = null
        }

        // The sole purpose of wrapping the task is to catch the exception and recycle
        // the task object after its single use.
        RawTask.prototype.call = function () {
          try {
            this.task.call()
          } catch (error) {
            if (asap.onerror) {
              // This hook exists purely for testing purposes.
              // Its name will be periodically randomized to break any code that
              // depends on its existence.
              asap.onerror(error)
            } else {
              // In a web browser, exceptions are not fatal. However, to avoid
              // slowing down the queue of pending tasks, we rethrow the error in a
              // lower priority turn.
              pendingErrors.push(error)
              requestErrorThrow()
            }
          } finally {
            this.task = null
            freeTasks[freeTasks.length] = this
          }
        }
      },
      { './raw': 24 },
    ],
    24: [
      function (require, module, exports) {
        ;(function (global) {
          'use strict'

          // Use the fastest means possible to execute a task in its own turn, with
          // priority over other events including IO, animation, reflow, and redraw
          // events in browsers.
          //
          // An exception thrown by a task will permanently interrupt the processing of
          // subsequent tasks. The higher level `asap` function ensures that if an
          // exception is thrown by a task, that the task queue will continue flushing as
          // soon as possible, but if you use `rawAsap` directly, you are responsible to
          // either ensure that no exceptions are thrown from your task, or to manually
          // call `rawAsap.requestFlush` if an exception is thrown.
          module.exports = rawAsap
          function rawAsap(task) {
            if (!queue.length) {
              requestFlush()
              flushing = true
            }
            // Equivalent to push, but avoids a function call.
            queue[queue.length] = task
          }

          var queue = []
          // Once a flush has been requested, no further calls to `requestFlush` are
          // necessary until the next `flush` completes.
          var flushing = false
          // `requestFlush` is an implementation-specific method that attempts to kick
          // off a `flush` event as quickly as possible. `flush` will attempt to exhaust
          // the event queue before yielding to the browser's own event loop.
          var requestFlush
          // The position of the next task to execute in the task queue. This is
          // preserved between calls to `flush` so that it can be resumed if
          // a task throws an exception.
          var index = 0
          // If a task schedules additional tasks recursively, the task queue can grow
          // unbounded. To prevent memory exhaustion, the task queue will periodically
          // truncate already-completed tasks.
          var capacity = 1024

          // The flush function processes all tasks that have been scheduled with
          // `rawAsap` unless and until one of those tasks throws an exception.
          // If a task throws an exception, `flush` ensures that its state will remain
          // consistent and will resume where it left off when called again.
          // However, `flush` does not make any arrangements to be called again if an
          // exception is thrown.
          function flush() {
            while (index < queue.length) {
              var currentIndex = index
              // Advance the index before calling the task. This ensures that we will
              // begin flushing on the next task the task throws an error.
              index = index + 1
              queue[currentIndex].call()
              // Prevent leaking memory for long chains of recursive calls to `asap`.
              // If we call `asap` within tasks scheduled by `asap`, the queue will
              // grow, but to avoid an O(n) walk for every task we execute, we don't
              // shift tasks off the queue after they have been executed.
              // Instead, we periodically shift 1024 tasks off the queue.
              if (index > capacity) {
                // Manually shift all values starting at the index back to the
                // beginning of the queue.
                for (
                  var scan = 0, newLength = queue.length - index;
                  scan < newLength;
                  scan++
                ) {
                  queue[scan] = queue[scan + index]
                }
                queue.length -= index
                index = 0
              }
            }
            queue.length = 0
            index = 0
            flushing = false
          }

          // `requestFlush` is implemented using a strategy based on data collected from
          // every available SauceLabs Selenium web driver worker at time of writing.
          // https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

          // Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
          // have WebKitMutationObserver but not un-prefixed MutationObserver.
          // Must use `global` or `self` instead of `window` to work in both frames and web
          // workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.

          /* globals self */
          var scope = typeof global !== 'undefined' ? global : self
          var BrowserMutationObserver =
            scope.MutationObserver || scope.WebKitMutationObserver

          // MutationObservers are desirable because they have high priority and work
          // reliably everywhere they are implemented.
          // They are implemented in all modern browsers.
          //
          // - Android 4-4.3
          // - Chrome 26-34
          // - Firefox 14-29
          // - Internet Explorer 11
          // - iPad Safari 6-7.1
          // - iPhone Safari 7-7.1
          // - Safari 6-7
          if (typeof BrowserMutationObserver === 'function') {
            requestFlush = makeRequestCallFromMutationObserver(flush)

            // MessageChannels are desirable because they give direct access to the HTML
            // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
            // 11-12, and in web workers in many engines.
            // Although message channels yield to any queued rendering and IO tasks, they
            // would be better than imposing the 4ms delay of timers.
            // However, they do not work reliably in Internet Explorer or Safari.

            // Internet Explorer 10 is the only browser that has setImmediate but does
            // not have MutationObservers.
            // Although setImmediate yields to the browser's renderer, it would be
            // preferrable to falling back to setTimeout since it does not have
            // the minimum 4ms penalty.
            // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
            // Desktop to a lesser extent) that renders both setImmediate and
            // MessageChannel useless for the purposes of ASAP.
            // https://github.com/kriskowal/q/issues/396

            // Timers are implemented universally.
            // We fall back to timers in workers in most engines, and in foreground
            // contexts in the following browsers.
            // However, note that even this simple case requires nuances to operate in a
            // broad spectrum of browsers.
            //
            // - Firefox 3-13
            // - Internet Explorer 6-9
            // - iPad Safari 4.3
            // - Lynx 2.8.7
          } else {
            requestFlush = makeRequestCallFromTimer(flush)
          }

          // `requestFlush` requests that the high priority event queue be flushed as
          // soon as possible.
          // This is useful to prevent an error thrown in a task from stalling the event
          // queue if the exception handled by Node.js’s
          // `process.on("uncaughtException")` or by a domain.
          rawAsap.requestFlush = requestFlush

          // To request a high priority event, we induce a mutation observer by toggling
          // the text of a text node between "1" and "-1".
          function makeRequestCallFromMutationObserver(callback) {
            var toggle = 1
            var observer = new BrowserMutationObserver(callback)
            var node = document.createTextNode('')
            observer.observe(node, { characterData: true })
            return function requestCall() {
              toggle = -toggle
              node.data = toggle
            }
          }

          // The message channel technique was discovered by Malte Ubl and was the
          // original foundation for this library.
          // http://www.nonblocking.io/2011/06/windownexttick.html

          // Safari 6.0.5 (at least) intermittently fails to create message ports on a
          // page's first load. Thankfully, this version of Safari supports
          // MutationObservers, so we don't need to fall back in that case.

          // function makeRequestCallFromMessageChannel(callback) {
          //     var channel = new MessageChannel();
          //     channel.port1.onmessage = callback;
          //     return function requestCall() {
          //         channel.port2.postMessage(0);
          //     };
          // }

          // For reasons explained above, we are also unable to use `setImmediate`
          // under any circumstances.
          // Even if we were, there is another bug in Internet Explorer 10.
          // It is not sufficient to assign `setImmediate` to `requestFlush` because
          // `setImmediate` must be called *by name* and therefore must be wrapped in a
          // closure.
          // Never forget.

          // function makeRequestCallFromSetImmediate(callback) {
          //     return function requestCall() {
          //         setImmediate(callback);
          //     };
          // }

          // Safari 6.0 has a problem where timers will get lost while the user is
          // scrolling. This problem does not impact ASAP because Safari 6.0 supports
          // mutation observers, so that implementation is used instead.
          // However, if we ever elect to use timers in Safari, the prevalent work-around
          // is to add a scroll event listener that calls for a flush.

          // `setTimeout` does not call the passed callback if the delay is less than
          // approximately 7 in web workers in Firefox 8 through 18, and sometimes not
          // even then.

          function makeRequestCallFromTimer(callback) {
            return function requestCall() {
              // We dispatch a timeout with a specified delay of 0 for engines that
              // can reliably accommodate that request. This will usually be snapped
              // to a 4 milisecond delay, but once we're flushing, there's no delay
              // between events.
              var timeoutHandle = setTimeout(handleTimer, 0)
              // However, since this timer gets frequently dropped in Firefox
              // workers, we enlist an interval handle that will try to fire
              // an event 20 times per second until it succeeds.
              var intervalHandle = setInterval(handleTimer, 50)

              function handleTimer() {
                // Whichever timer succeeds will cancel both timers and
                // execute the callback.
                clearTimeout(timeoutHandle)
                clearInterval(intervalHandle)
                callback()
              }
            }
          }

          // This is for `asap.js` only.
          // Its name will be periodically randomized to break any code that depends on
          // its existence.
          rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer

          // ASAP was originally a nextTick shim included in Q. This was factored out
          // into this ASAP package. It was later adapted to RSVP which made further
          // amendments. These decisions, particularly to marginalize MessageChannel and
          // to capture the MutationObserver implementation in a closure, were integrated
          // back into ASAP proper.
          // https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js
        }).call(
          this,
          typeof global !== 'undefined'
            ? global
            : typeof self !== 'undefined'
              ? self
              : typeof window !== 'undefined'
                ? window
                : {},
        )
      },
      {},
    ],
    25: [
      function (require, module, exports) {
        module.exports = function (opts) {
          return new ElementClass(opts)
        }

        function indexOf(arr, prop) {
          if (arr.indexOf) return arr.indexOf(prop)
          for (var i = 0, len = arr.length; i < len; i++)
            if (arr[i] === prop) return i
          return -1
        }

        function ElementClass(opts) {
          if (!(this instanceof ElementClass)) return new ElementClass(opts)
          var self = this
          if (!opts) opts = {}

          // similar doing instanceof HTMLElement but works in IE8
          if (opts.nodeType) opts = { el: opts }

          this.opts = opts
          this.el = opts.el || document.body
          if (typeof this.el !== 'object')
            this.el = document.querySelector(this.el)
        }

        ElementClass.prototype.add = function (className) {
          var el = this.el
          if (!el) return
          if (el.className === '') return (el.className = className)
          var classes = el.className.split(' ')
          if (indexOf(classes, className) > -1) return classes
          classes.push(className)
          el.className = classes.join(' ')
          return classes
        }

        ElementClass.prototype.remove = function (className) {
          var el = this.el
          if (!el) return
          if (el.className === '') return
          var classes = el.className.split(' ')
          var idx = indexOf(classes, className)
          if (idx > -1) classes.splice(idx, 1)
          el.className = classes.join(' ')
          return classes
        }

        ElementClass.prototype.has = function (className) {
          var el = this.el
          if (!el) return
          var classes = el.className.split(' ')
          return indexOf(classes, className) > -1
        }

        ElementClass.prototype.toggle = function (className) {
          var el = this.el
          if (!el) return
          if (this.has(className)) this.remove(className)
          else this.add(className)
        }
      },
      {},
    ],
    26: [
      function (require, module, exports) {
        /*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/

        ;(function () {
          'use strict'

          var canUseDOM = !!(
            typeof window !== 'undefined' &&
            window.document &&
            window.document.createElement
          )

          var ExecutionEnvironment = {
            canUseDOM: canUseDOM,

            canUseWorkers: typeof Worker !== 'undefined',

            canUseEventListeners:
              canUseDOM && !!(window.addEventListener || window.attachEvent),

            canUseViewport: canUseDOM && !!window.screen,
          }

          if (
            typeof define === 'function' &&
            typeof define.amd === 'object' &&
            define.amd
          ) {
            define(function () {
              return ExecutionEnvironment
            })
          } else if (typeof module !== 'undefined' && module.exports) {
            module.exports = ExecutionEnvironment
          } else {
            window.ExecutionEnvironment = ExecutionEnvironment
          }
        })()
      },
      {},
    ],
    27: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           *
           * Licensed under the Apache License, Version 2.0 (the "License");
           * you may not use this file except in compliance with the License.
           * You may obtain a copy of the License at
           *
           * http://www.apache.org/licenses/LICENSE-2.0
           *
           * Unless required by applicable law or agreed to in writing, software
           * distributed under the License is distributed on an "AS IS" BASIS,
           * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
           * See the License for the specific language governing permissions and
           * limitations under the License.
           *
           * @typechecks
           */

          var emptyFunction = require('./emptyFunction')

          /**
           * Upstream version of event listener. Does not take into account specific
           * nature of platform.
           */
          var EventListener = {
            /**
             * Listen to DOM events during the bubble phase.
             *
             * @param {DOMEventTarget} target DOM element to register listener on.
             * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
             * @param {function} callback Callback function.
             * @return {object} Object with a `remove` method.
             */
            listen: function listen(target, eventType, callback) {
              if (target.addEventListener) {
                target.addEventListener(eventType, callback, false)
                return {
                  remove: function remove() {
                    target.removeEventListener(eventType, callback, false)
                  },
                }
              } else if (target.attachEvent) {
                target.attachEvent('on' + eventType, callback)
                return {
                  remove: function remove() {
                    target.detachEvent('on' + eventType, callback)
                  },
                }
              }
            },

            /**
             * Listen to DOM events during the capture phase.
             *
             * @param {DOMEventTarget} target DOM element to register listener on.
             * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
             * @param {function} callback Callback function.
             * @return {object} Object with a `remove` method.
             */
            capture: function capture(target, eventType, callback) {
              if (target.addEventListener) {
                target.addEventListener(eventType, callback, true)
                return {
                  remove: function remove() {
                    target.removeEventListener(eventType, callback, true)
                  },
                }
              } else {
                if (process.env.NODE_ENV !== 'production') {
                  console.error(
                    'Attempted to listen to events during the capture phase on a ' +
                      'browser that does not support the capture phase. Your application ' +
                      'will not receive some events.',
                  )
                }
                return {
                  remove: emptyFunction,
                }
              }
            },

            registerDefault: function registerDefault() {},
          }

          module.exports = EventListener
        }).call(this, require('_process'))
      },
      { './emptyFunction': 34, _process: 162 },
    ],
    28: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         */

        'use strict'

        var canUseDOM = !!(
          typeof window !== 'undefined' &&
          window.document &&
          window.document.createElement
        )

        /**
         * Simple, lightweight module assisting with the detection and context of
         * Worker. Helps avoid circular dependencies and allows code to reason about
         * whether or not they are in a Worker, even if they never include the main
         * `ReactWorker` dependency.
         */
        var ExecutionEnvironment = {
          canUseDOM: canUseDOM,

          canUseWorkers: typeof Worker !== 'undefined',

          canUseEventListeners:
            canUseDOM && !!(window.addEventListener || window.attachEvent),

          canUseViewport: canUseDOM && !!window.screen,

          isInWorker: !canUseDOM, // For now, this is true - might change in the future.
        }

        module.exports = ExecutionEnvironment
      },
      {},
    ],
    29: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        var _hyphenPattern = /-(.)/g

        /**
         * Camelcases a hyphenated string, for example:
         *
         *   > camelize('background-color')
         *   < "backgroundColor"
         *
         * @param {string} string
         * @return {string}
         */
        function camelize(string) {
          return string.replace(_hyphenPattern, function (_, character) {
            return character.toUpperCase()
          })
        }

        module.exports = camelize
      },
      {},
    ],
    30: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        'use strict'

        var camelize = require('./camelize')

        var msPattern = /^-ms-/

        /**
         * Camelcases a hyphenated CSS property name, for example:
         *
         *   > camelizeStyleName('background-color')
         *   < "backgroundColor"
         *   > camelizeStyleName('-moz-transition')
         *   < "MozTransition"
         *   > camelizeStyleName('-ms-transition')
         *   < "msTransition"
         *
         * As Andi Smith suggests
         * (http://www.andismith.com/blog/2012/02/modernizr-prefixed/), an `-ms` prefix
         * is converted to lowercase `ms`.
         *
         * @param {string} string
         * @return {string}
         */
        function camelizeStyleName(string) {
          return camelize(string.replace(msPattern, 'ms-'))
        }

        module.exports = camelizeStyleName
      },
      { './camelize': 29 },
    ],
    31: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         *
         */

        var isTextNode = require('./isTextNode')

        /*eslint-disable no-bitwise */

        /**
         * Checks if a given DOM node contains or is another DOM node.
         */
        function containsNode(outerNode, innerNode) {
          if (!outerNode || !innerNode) {
            return false
          } else if (outerNode === innerNode) {
            return true
          } else if (isTextNode(outerNode)) {
            return false
          } else if (isTextNode(innerNode)) {
            return containsNode(outerNode, innerNode.parentNode)
          } else if ('contains' in outerNode) {
            return outerNode.contains(innerNode)
          } else if (outerNode.compareDocumentPosition) {
            return !!(outerNode.compareDocumentPosition(innerNode) & 16)
          } else {
            return false
          }
        }

        module.exports = containsNode
      },
      { './isTextNode': 44 },
    ],
    32: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @typechecks
           */

          var invariant = require('./invariant')

          /**
           * Convert array-like objects to arrays.
           *
           * This API assumes the caller knows the contents of the data type. For less
           * well defined inputs use createArrayFromMixed.
           *
           * @param {object|function|filelist} obj
           * @return {array}
           */
          function toArray(obj) {
            var length = obj.length

            // Some browsers builtin objects can report typeof 'function' (e.g. NodeList
            // in old versions of Safari).
            !(
              !Array.isArray(obj) &&
              (typeof obj === 'object' || typeof obj === 'function')
            )
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'toArray: Array-like object expected')
                : invariant(false)
              : void 0

            !(typeof length === 'number')
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'toArray: Object needs a length property')
                : invariant(false)
              : void 0

            !(length === 0 || length - 1 in obj)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'toArray: Object should have keys for indices',
                  )
                : invariant(false)
              : void 0

            !(typeof obj.callee !== 'function')
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    "toArray: Object can't be `arguments`. Use rest params " +
                      '(function(...args) {}) or Array.from() instead.',
                  )
                : invariant(false)
              : void 0

            // Old IE doesn't give collections access to hasOwnProperty. Assume inputs
            // without method will throw during the slice call and skip straight to the
            // fallback.
            if (obj.hasOwnProperty) {
              try {
                return Array.prototype.slice.call(obj)
              } catch (e) {
                // IE < 9 does not support Array#slice on collections objects
              }
            }

            // Fall back to copying key by key. This assumes all keys have a value,
            // so will not preserve sparsely populated inputs.
            var ret = Array(length)
            for (var ii = 0; ii < length; ii++) {
              ret[ii] = obj[ii]
            }
            return ret
          }

          /**
           * Perform a heuristic test to determine if an object is "array-like".
           *
           *   A monk asked Joshu, a Zen master, "Has a dog Buddha nature?"
           *   Joshu replied: "Mu."
           *
           * This function determines if its argument has "array nature": it returns
           * true if the argument is an actual array, an `arguments' object, or an
           * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).
           *
           * It will return false for other array-like objects like Filelist.
           *
           * @param {*} obj
           * @return {boolean}
           */
          function hasArrayNature(obj) {
            return (
              // not null/false
              !!obj &&
              // arrays are objects, NodeLists are functions in Safari
              (typeof obj == 'object' || typeof obj == 'function') &&
              // quacks like an array
              'length' in obj &&
              // not window
              !('setInterval' in obj) &&
              // no DOM node should be considered an array-like
              // a 'select' element has 'length' and 'item' properties on IE8
              typeof obj.nodeType != 'number' &&
              // a real array
              (Array.isArray(obj) ||
                // arguments
                'callee' in obj ||
                // HTMLCollection/NodeList
                'item' in obj)
            )
          }

          /**
           * Ensure that the argument is an array by wrapping it in an array if it is not.
           * Creates a copy of the argument if it is already an array.
           *
           * This is mostly useful idiomatically:
           *
           *   var createArrayFromMixed = require('createArrayFromMixed');
           *
           *   function takesOneOrMoreThings(things) {
           *     things = createArrayFromMixed(things);
           *     ...
           *   }
           *
           * This allows you to treat `things' as an array, but accept scalars in the API.
           *
           * If you need to convert an array-like object, like `arguments`, into an array
           * use toArray instead.
           *
           * @param {*} obj
           * @return {array}
           */
          function createArrayFromMixed(obj) {
            if (!hasArrayNature(obj)) {
              return [obj]
            } else if (Array.isArray(obj)) {
              return obj.slice()
            } else {
              return toArray(obj)
            }
          }

          module.exports = createArrayFromMixed
        }).call(this, require('_process'))
      },
      { './invariant': 42, _process: 162 },
    ],
    33: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @typechecks
           */

          /*eslint-disable fb-www/unsafe-html*/

          var ExecutionEnvironment = require('./ExecutionEnvironment')

          var createArrayFromMixed = require('./createArrayFromMixed')
          var getMarkupWrap = require('./getMarkupWrap')
          var invariant = require('./invariant')

          /**
           * Dummy container used to render all markup.
           */
          var dummyNode = ExecutionEnvironment.canUseDOM
            ? document.createElement('div')
            : null

          /**
           * Pattern used by `getNodeName`.
           */
          var nodeNamePattern = /^\s*<(\w+)/

          /**
           * Extracts the `nodeName` of the first element in a string of markup.
           *
           * @param {string} markup String of markup.
           * @return {?string} Node name of the supplied markup.
           */
          function getNodeName(markup) {
            var nodeNameMatch = markup.match(nodeNamePattern)
            return nodeNameMatch && nodeNameMatch[1].toLowerCase()
          }

          /**
           * Creates an array containing the nodes rendered from the supplied markup. The
           * optionally supplied `handleScript` function will be invoked once for each
           * <script> element that is rendered. If no `handleScript` function is supplied,
           * an exception is thrown if any <script> elements are rendered.
           *
           * @param {string} markup A string of valid HTML markup.
           * @param {?function} handleScript Invoked once for each rendered <script>.
           * @return {array<DOMElement|DOMTextNode>} An array of rendered nodes.
           */
          function createNodesFromMarkup(markup, handleScript) {
            var node = dummyNode
            !!!dummyNode
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'createNodesFromMarkup dummy not initialized',
                  )
                : invariant(false)
              : void 0
            var nodeName = getNodeName(markup)

            var wrap = nodeName && getMarkupWrap(nodeName)
            if (wrap) {
              node.innerHTML = wrap[1] + markup + wrap[2]

              var wrapDepth = wrap[0]
              while (wrapDepth--) {
                node = node.lastChild
              }
            } else {
              node.innerHTML = markup
            }

            var scripts = node.getElementsByTagName('script')
            if (scripts.length) {
              !handleScript
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'createNodesFromMarkup(...): Unexpected <script> element rendered.',
                    )
                  : invariant(false)
                : void 0
              createArrayFromMixed(scripts).forEach(handleScript)
            }

            var nodes = Array.from(node.childNodes)
            while (node.lastChild) {
              node.removeChild(node.lastChild)
            }
            return nodes
          }

          module.exports = createNodesFromMarkup
        }).call(this, require('_process'))
      },
      {
        './ExecutionEnvironment': 28,
        './createArrayFromMixed': 32,
        './getMarkupWrap': 38,
        './invariant': 42,
        _process: 162,
      },
    ],
    34: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         *
         */

        function makeEmptyFunction(arg) {
          return function () {
            return arg
          }
        }

        /**
         * This function accepts and discards inputs; it has no side effects. This is
         * primarily useful idiomatically for overridable function endpoints which
         * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
         */
        var emptyFunction = function emptyFunction() {}

        emptyFunction.thatReturns = makeEmptyFunction
        emptyFunction.thatReturnsFalse = makeEmptyFunction(false)
        emptyFunction.thatReturnsTrue = makeEmptyFunction(true)
        emptyFunction.thatReturnsNull = makeEmptyFunction(null)
        emptyFunction.thatReturnsThis = function () {
          return this
        }
        emptyFunction.thatReturnsArgument = function (arg) {
          return arg
        }

        module.exports = emptyFunction
      },
      {},
    ],
    35: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           */

          'use strict'

          var emptyObject = {}

          if (process.env.NODE_ENV !== 'production') {
            Object.freeze(emptyObject)
          }

          module.exports = emptyObject
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    36: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         */

        'use strict'

        /**
         * @param {DOMElement} node input/textarea to focus
         */

        function focusNode(node) {
          // IE8 can throw "Can't move focus to the control because it is invisible,
          // not enabled, or of a type that does not accept the focus." for all kinds of
          // reasons that are too expensive and fragile to test.
          try {
            node.focus()
          } catch (e) {}
        }

        module.exports = focusNode
      },
      {},
    ],
    37: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        /* eslint-disable fb-www/typeof-undefined */

        /**
         * Same as document.activeElement but wraps in a try-catch block. In IE it is
         * not safe to call document.activeElement if there is nothing focused.
         *
         * The activeElement will be null only if the document or document body is not
         * yet defined.
         */
        function getActiveElement() /*?DOMElement*/ {
          if (typeof document === 'undefined') {
            return null
          }
          try {
            return document.activeElement || document.body
          } catch (e) {
            return document.body
          }
        }

        module.exports = getActiveElement
      },
      {},
    ],
    38: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           */

          /*eslint-disable fb-www/unsafe-html */

          var ExecutionEnvironment = require('./ExecutionEnvironment')

          var invariant = require('./invariant')

          /**
           * Dummy container used to detect which wraps are necessary.
           */
          var dummyNode = ExecutionEnvironment.canUseDOM
            ? document.createElement('div')
            : null

          /**
           * Some browsers cannot use `innerHTML` to render certain elements standalone,
           * so we wrap them, render the wrapped nodes, then extract the desired node.
           *
           * In IE8, certain elements cannot render alone, so wrap all elements ('*').
           */

          var shouldWrap = {}

          var selectWrap = [1, '<select multiple="true">', '</select>']
          var tableWrap = [1, '<table>', '</table>']
          var trWrap = [3, '<table><tbody><tr>', '</tr></tbody></table>']

          var svgWrap = [
            1,
            '<svg xmlns="http://www.w3.org/2000/svg">',
            '</svg>',
          ]

          var markupWrap = {
            '*': [1, '?<div>', '</div>'],

            area: [1, '<map>', '</map>'],
            col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],
            legend: [1, '<fieldset>', '</fieldset>'],
            param: [1, '<object>', '</object>'],
            tr: [2, '<table><tbody>', '</tbody></table>'],

            optgroup: selectWrap,
            option: selectWrap,

            caption: tableWrap,
            colgroup: tableWrap,
            tbody: tableWrap,
            tfoot: tableWrap,
            thead: tableWrap,

            td: trWrap,
            th: trWrap,
          }

          // Initialize the SVG elements since we know they'll always need to be wrapped
          // consistently. If they are created inside a <div> they will be initialized in
          // the wrong namespace (and will not display).
          var svgElements = [
            'circle',
            'clipPath',
            'defs',
            'ellipse',
            'g',
            'image',
            'line',
            'linearGradient',
            'mask',
            'path',
            'pattern',
            'polygon',
            'polyline',
            'radialGradient',
            'rect',
            'stop',
            'text',
            'tspan',
          ]
          svgElements.forEach(function (nodeName) {
            markupWrap[nodeName] = svgWrap
            shouldWrap[nodeName] = true
          })

          /**
           * Gets the markup wrap configuration for the supplied `nodeName`.
           *
           * NOTE: This lazily detects which wraps are necessary for the current browser.
           *
           * @param {string} nodeName Lowercase `nodeName`.
           * @return {?array} Markup wrap configuration, if applicable.
           */
          function getMarkupWrap(nodeName) {
            !!!dummyNode
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'Markup wrapping node not initialized')
                : invariant(false)
              : void 0
            if (!markupWrap.hasOwnProperty(nodeName)) {
              nodeName = '*'
            }
            if (!shouldWrap.hasOwnProperty(nodeName)) {
              if (nodeName === '*') {
                dummyNode.innerHTML = '<link />'
              } else {
                dummyNode.innerHTML = '<' + nodeName + '></' + nodeName + '>'
              }
              shouldWrap[nodeName] = !dummyNode.firstChild
            }
            return shouldWrap[nodeName] ? markupWrap[nodeName] : null
          }

          module.exports = getMarkupWrap
        }).call(this, require('_process'))
      },
      { './ExecutionEnvironment': 28, './invariant': 42, _process: 162 },
    ],
    39: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        'use strict'

        /**
         * Gets the scroll position of the supplied element or window.
         *
         * The return values are unbounded, unlike `getScrollPosition`. This means they
         * may be negative or exceed the element boundaries (which is possible using
         * inertial scrolling).
         *
         * @param {DOMWindow|DOMElement} scrollable
         * @return {object} Map with `x` and `y` keys.
         */

        function getUnboundedScrollPosition(scrollable) {
          if (scrollable === window) {
            return {
              x: window.pageXOffset || document.documentElement.scrollLeft,
              y: window.pageYOffset || document.documentElement.scrollTop,
            }
          }
          return {
            x: scrollable.scrollLeft,
            y: scrollable.scrollTop,
          }
        }

        module.exports = getUnboundedScrollPosition
      },
      {},
    ],
    40: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        var _uppercasePattern = /([A-Z])/g

        /**
         * Hyphenates a camelcased string, for example:
         *
         *   > hyphenate('backgroundColor')
         *   < "background-color"
         *
         * For CSS style names, use `hyphenateStyleName` instead which works properly
         * with all vendor prefixes, including `ms`.
         *
         * @param {string} string
         * @return {string}
         */
        function hyphenate(string) {
          return string.replace(_uppercasePattern, '-$1').toLowerCase()
        }

        module.exports = hyphenate
      },
      {},
    ],
    41: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        'use strict'

        var hyphenate = require('./hyphenate')

        var msPattern = /^ms-/

        /**
         * Hyphenates a camelcased CSS property name, for example:
         *
         *   > hyphenateStyleName('backgroundColor')
         *   < "background-color"
         *   > hyphenateStyleName('MozTransition')
         *   < "-moz-transition"
         *   > hyphenateStyleName('msTransition')
         *   < "-ms-transition"
         *
         * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix
         * is converted to `-ms-`.
         *
         * @param {string} string
         * @return {string}
         */
        function hyphenateStyleName(string) {
          return hyphenate(string).replace(msPattern, '-ms-')
        }

        module.exports = hyphenateStyleName
      },
      { './hyphenate': 40 },
    ],
    42: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           */

          'use strict'

          /**
           * Use invariant() to assert state which your program assumes to be true.
           *
           * Provide sprintf-style format (only %s is supported) and arguments
           * to provide information about what broke and what you were
           * expecting.
           *
           * The invariant message will be stripped in production, but the invariant
           * will remain to ensure logic does not differ in production.
           */

          function invariant(condition, format, a, b, c, d, e, f) {
            if (process.env.NODE_ENV !== 'production') {
              if (format === undefined) {
                throw new Error('invariant requires an error message argument')
              }
            }

            if (!condition) {
              var error
              if (format === undefined) {
                error = new Error(
                  'Minified exception occurred; use the non-minified dev environment ' +
                    'for the full error message and additional helpful warnings.',
                )
              } else {
                var args = [a, b, c, d, e, f]
                var argIndex = 0
                error = new Error(
                  format.replace(/%s/g, function () {
                    return args[argIndex++]
                  }),
                )
                error.name = 'Invariant Violation'
              }

              error.framesToPop = 1 // we don't care about invariant's own frame
              throw error
            }
          }

          module.exports = invariant
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    43: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        /**
         * @param {*} object The object to check.
         * @return {boolean} Whether or not the object is a DOM node.
         */
        function isNode(object) {
          return !!(
            object &&
            (typeof Node === 'function'
              ? object instanceof Node
              : typeof object === 'object' &&
                typeof object.nodeType === 'number' &&
                typeof object.nodeName === 'string')
          )
        }

        module.exports = isNode
      },
      {},
    ],
    44: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        var isNode = require('./isNode')

        /**
         * @param {*} object The object to check.
         * @return {boolean} Whether or not the object is a DOM text node.
         */
        function isTextNode(object) {
          return isNode(object) && object.nodeType == 3
        }

        module.exports = isTextNode
      },
      { './isNode': 43 },
    ],
    45: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright (c) 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @typechecks static-only
           */

          'use strict'

          var invariant = require('./invariant')

          /**
           * Constructs an enumeration with keys equal to their value.
           *
           * For example:
           *
           *   var COLORS = keyMirror({blue: null, red: null});
           *   var myColor = COLORS.blue;
           *   var isColorValid = !!COLORS[myColor];
           *
           * The last line could not be performed if the values of the generated enum were
           * not equal to their keys.
           *
           *   Input:  {key1: val1, key2: val2}
           *   Output: {key1: key1, key2: key2}
           *
           * @param {object} obj
           * @return {object}
           */
          var keyMirror = function keyMirror(obj) {
            var ret = {}
            var key
            !(obj instanceof Object && !Array.isArray(obj))
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'keyMirror(...): Argument must be an object.',
                  )
                : invariant(false)
              : void 0
            for (key in obj) {
              if (!obj.hasOwnProperty(key)) {
                continue
              }
              ret[key] = key
            }
            return ret
          }

          module.exports = keyMirror
        }).call(this, require('_process'))
      },
      { './invariant': 42, _process: 162 },
    ],
    46: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         */

        /**
         * Allows extraction of a minified key. Let's the build system minify keys
         * without losing the ability to dynamically use key strings as values
         * themselves. Pass in an object with a single key/val pair and it will return
         * you the string key of that single record. Suppose you want to grab the
         * value for a key 'className' inside of an object. Key/val minification may
         * have aliased that key to be 'xa12'. keyOf({className: null}) will return
         * 'xa12' in that case. Resolve keys you want to use once at startup time, then
         * reuse those resolutions.
         */
        var keyOf = function keyOf(oneKeyObj) {
          var key
          for (key in oneKeyObj) {
            if (!oneKeyObj.hasOwnProperty(key)) {
              continue
            }
            return key
          }
          return null
        }

        module.exports = keyOf
      },
      {},
    ],
    47: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         */

        'use strict'

        var hasOwnProperty = Object.prototype.hasOwnProperty

        /**
         * Executes the provided `callback` once for each enumerable own property in the
         * object and constructs a new object from the results. The `callback` is
         * invoked with three arguments:
         *
         *  - the property value
         *  - the property name
         *  - the object being traversed
         *
         * Properties that are added after the call to `mapObject` will not be visited
         * by `callback`. If the values of existing properties are changed, the value
         * passed to `callback` will be the value at the time `mapObject` visits them.
         * Properties that are deleted before being visited are not visited.
         *
         * @grep function objectMap()
         * @grep function objMap()
         *
         * @param {?object} object
         * @param {function} callback
         * @param {*} context
         * @return {?object}
         */
        function mapObject(object, callback, context) {
          if (!object) {
            return null
          }
          var result = {}
          for (var name in object) {
            if (hasOwnProperty.call(object, name)) {
              result[name] = callback.call(context, object[name], name, object)
            }
          }
          return result
        }

        module.exports = mapObject
      },
      {},
    ],
    48: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         *
         * @typechecks static-only
         */

        'use strict'

        /**
         * Memoizes the return value of a function that accepts one string argument.
         */

        function memoizeStringOnly(callback) {
          var cache = {}
          return function (string) {
            if (!cache.hasOwnProperty(string)) {
              cache[string] = callback.call(this, string)
            }
            return cache[string]
          }
        }

        module.exports = memoizeStringOnly
      },
      {},
    ],
    49: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        'use strict'

        var ExecutionEnvironment = require('./ExecutionEnvironment')

        var performance

        if (ExecutionEnvironment.canUseDOM) {
          performance =
            window.performance ||
            window.msPerformance ||
            window.webkitPerformance
        }

        module.exports = performance || {}
      },
      { './ExecutionEnvironment': 28 },
    ],
    50: [
      function (require, module, exports) {
        'use strict'

        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         */

        var performance = require('./performance')

        var performanceNow

        /**
         * Detect if we can use `window.performance.now()` and gracefully fallback to
         * `Date.now()` if it doesn't exist. We need to support Firefox < 15 for now
         * because of Facebook's testing infrastructure.
         */
        if (performance.now) {
          performanceNow = function performanceNow() {
            return performance.now()
          }
        } else {
          performanceNow = function performanceNow() {
            return Date.now()
          }
        }

        module.exports = performanceNow
      },
      { './performance': 49 },
    ],
    51: [
      function (require, module, exports) {
        /**
         * Copyright (c) 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @typechecks
         *
         */

        /*eslint-disable no-self-compare */

        'use strict'

        var hasOwnProperty = Object.prototype.hasOwnProperty

        /**
         * inlined Object.is polyfill to avoid requiring consumers ship their own
         * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
         */
        function is(x, y) {
          // SameValue algorithm
          if (x === y) {
            // Steps 1-5, 7-10
            // Steps 6.b-6.e: +0 != -0
            return x !== 0 || 1 / x === 1 / y
          } else {
            // Step 6.a: NaN == NaN
            return x !== x && y !== y
          }
        }

        /**
         * Performs equality by iterating through keys on an object and returning false
         * when any key has values which are not strictly equal between the arguments.
         * Returns true when the values of all keys are strictly equal.
         */
        function shallowEqual(objA, objB) {
          if (is(objA, objB)) {
            return true
          }

          if (
            typeof objA !== 'object' ||
            objA === null ||
            typeof objB !== 'object' ||
            objB === null
          ) {
            return false
          }

          var keysA = Object.keys(objA)
          var keysB = Object.keys(objB)

          if (keysA.length !== keysB.length) {
            return false
          }

          // Test for A's keys different from B.
          for (var i = 0; i < keysA.length; i++) {
            if (
              !hasOwnProperty.call(objB, keysA[i]) ||
              !is(objA[keysA[i]], objB[keysA[i]])
            ) {
              return false
            }
          }

          return true
        }

        module.exports = shallowEqual
      },
      {},
    ],
    52: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-2015, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           */

          'use strict'

          var emptyFunction = require('./emptyFunction')

          /**
           * Similar to invariant but only logs a warning if the condition is not met.
           * This can be used to log issues in development environments in critical
           * paths. Removing the logging code for production environments will keep the
           * same logic and follow the same code paths.
           */

          var warning = emptyFunction

          if (process.env.NODE_ENV !== 'production') {
            warning = function warning(condition, format) {
              for (
                var _len = arguments.length,
                  args = Array(_len > 2 ? _len - 2 : 0),
                  _key = 2;
                _key < _len;
                _key++
              ) {
                args[_key - 2] = arguments[_key]
              }

              if (format === undefined) {
                throw new Error(
                  '`warning(condition, format, ...args)` requires a warning ' +
                    'message argument',
                )
              }

              if (format.indexOf('Failed Composite propType: ') === 0) {
                return // Ignore CompositeComponent proptype check.
              }

              if (!condition) {
                var argIndex = 0
                var message =
                  'Warning: ' +
                  format.replace(/%s/g, function () {
                    return args[argIndex++]
                  })
                if (typeof console !== 'undefined') {
                  console.error(message)
                }
                try {
                  // --- Welcome to debugging React ---
                  // This error was thrown as a convenience so that you can use this stack
                  // to find the callsite that caused this warning to fire.
                  throw new Error(message)
                } catch (x) {}
              }
            }
          }

          module.exports = warning
        }).call(this, require('_process'))
      },
      { './emptyFunction': 34, _process: 162 },
    ],
    53: [
      function (require, module, exports) {
        /**
         * Copyright 2015, Yahoo! Inc.
         * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
         */
        'use strict'

        var REACT_STATICS = {
          childContextTypes: true,
          contextTypes: true,
          defaultProps: true,
          displayName: true,
          getDefaultProps: true,
          mixins: true,
          propTypes: true,
          type: true,
        }

        var KNOWN_STATICS = {
          name: true,
          length: true,
          prototype: true,
          caller: true,
          arguments: true,
          arity: true,
        }

        var isGetOwnPropertySymbolsAvailable =
          typeof Object.getOwnPropertySymbols === 'function'

        module.exports = function hoistNonReactStatics(
          targetComponent,
          sourceComponent,
          customStatics,
        ) {
          if (typeof sourceComponent !== 'string') {
            // don't hoist over string (html) components
            var keys = Object.getOwnPropertyNames(sourceComponent)

            /* istanbul ignore else */
            if (isGetOwnPropertySymbolsAvailable) {
              keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent))
            }

            for (var i = 0; i < keys.length; ++i) {
              if (
                !REACT_STATICS[keys[i]] &&
                !KNOWN_STATICS[keys[i]] &&
                (!customStatics || !customStatics[keys[i]])
              ) {
                try {
                  targetComponent[keys[i]] = sourceComponent[keys[i]]
                } catch (error) {}
              }
            }
          }

          return targetComponent
        }
      },
      {},
    ],
    54: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-2015, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           */

          'use strict'

          /**
           * Use invariant() to assert state which your program assumes to be true.
           *
           * Provide sprintf-style format (only %s is supported) and arguments
           * to provide information about what broke and what you were
           * expecting.
           *
           * The invariant message will be stripped in production, but the invariant
           * will remain to ensure logic does not differ in production.
           */

          var invariant = function (condition, format, a, b, c, d, e, f) {
            if (process.env.NODE_ENV !== 'production') {
              if (format === undefined) {
                throw new Error('invariant requires an error message argument')
              }
            }

            if (!condition) {
              var error
              if (format === undefined) {
                error = new Error(
                  'Minified exception occurred; use the non-minified dev environment ' +
                    'for the full error message and additional helpful warnings.',
                )
              } else {
                var args = [a, b, c, d, e, f]
                var argIndex = 0
                error = new Error(
                  format.replace(/%s/g, function () {
                    return args[argIndex++]
                  }),
                )
                error.name = 'Invariant Violation'
              }

              error.framesToPop = 1 // we don't care about invariant's own frame
              throw error
            }
          }

          module.exports = invariant
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    55: [
      function (require, module, exports) {
        /**
         * lodash 3.2.0 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */
        var baseCopy = require('lodash._basecopy'),
          keys = require('lodash.keys')

        /**
         * The base implementation of `_.assign` without support for argument juggling,
         * multiple sources, and `customizer` functions.
         *
         * @private
         * @param {Object} object The destination object.
         * @param {Object} source The source object.
         * @returns {Object} Returns `object`.
         */
        function baseAssign(object, source) {
          return source == null
            ? object
            : baseCopy(source, keys(source), object)
        }

        module.exports = baseAssign
      },
      { 'lodash._basecopy': 56, 'lodash.keys': 64 },
    ],
    56: [
      function (require, module, exports) {
        /**
         * lodash 3.0.1 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /**
         * Copies properties of `source` to `object`.
         *
         * @private
         * @param {Object} source The object to copy properties from.
         * @param {Array} props The property names to copy.
         * @param {Object} [object={}] The object to copy properties to.
         * @returns {Object} Returns `object`.
         */
        function baseCopy(source, props, object) {
          object || (object = {})

          var index = -1,
            length = props.length

          while (++index < length) {
            var key = props[index]
            object[key] = source[key]
          }
          return object
        }

        module.exports = baseCopy
      },
      {},
    ],
    57: [
      function (require, module, exports) {
        /**
         * lodash 3.0.1 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /**
         * A specialized version of `baseCallback` which only supports `this` binding
         * and specifying the number of arguments to provide to `func`.
         *
         * @private
         * @param {Function} func The function to bind.
         * @param {*} thisArg The `this` binding of `func`.
         * @param {number} [argCount] The number of arguments to provide to `func`.
         * @returns {Function} Returns the callback.
         */
        function bindCallback(func, thisArg, argCount) {
          if (typeof func != 'function') {
            return identity
          }
          if (thisArg === undefined) {
            return func
          }
          switch (argCount) {
            case 1:
              return function (value) {
                return func.call(thisArg, value)
              }
            case 3:
              return function (value, index, collection) {
                return func.call(thisArg, value, index, collection)
              }
            case 4:
              return function (accumulator, value, index, collection) {
                return func.call(thisArg, accumulator, value, index, collection)
              }
            case 5:
              return function (value, other, key, object, source) {
                return func.call(thisArg, value, other, key, object, source)
              }
          }
          return function () {
            return func.apply(thisArg, arguments)
          }
        }

        /**
         * This method returns the first argument provided to it.
         *
         * @static
         * @memberOf _
         * @category Utility
         * @param {*} value Any value.
         * @returns {*} Returns `value`.
         * @example
         *
         * var object = { 'user': 'fred' };
         *
         * _.identity(object) === object;
         * // => true
         */
        function identity(value) {
          return value
        }

        module.exports = bindCallback
      },
      {},
    ],
    58: [
      function (require, module, exports) {
        /**
         * lodash 3.1.1 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */
        var bindCallback = require('lodash._bindcallback'),
          isIterateeCall = require('lodash._isiterateecall'),
          restParam = require('lodash.restparam')

        /**
         * Creates a function that assigns properties of source object(s) to a given
         * destination object.
         *
         * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.
         *
         * @private
         * @param {Function} assigner The function to assign values.
         * @returns {Function} Returns the new assigner function.
         */
        function createAssigner(assigner) {
          return restParam(function (object, sources) {
            var index = -1,
              length = object == null ? 0 : sources.length,
              customizer = length > 2 ? sources[length - 2] : undefined,
              guard = length > 2 ? sources[2] : undefined,
              thisArg = length > 1 ? sources[length - 1] : undefined

            if (typeof customizer == 'function') {
              customizer = bindCallback(customizer, thisArg, 5)
              length -= 2
            } else {
              customizer = typeof thisArg == 'function' ? thisArg : undefined
              length -= customizer ? 1 : 0
            }
            if (guard && isIterateeCall(sources[0], sources[1], guard)) {
              customizer = length < 3 ? undefined : customizer
              length = 1
            }
            while (++index < length) {
              var source = sources[index]
              if (source) {
                assigner(object, source, customizer)
              }
            }
            return object
          })
        }

        module.exports = createAssigner
      },
      {
        'lodash._bindcallback': 57,
        'lodash._isiterateecall': 60,
        'lodash.restparam': 65,
      },
    ],
    59: [
      function (require, module, exports) {
        /**
         * lodash 3.9.1 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /** `Object#toString` result references. */
        var funcTag = '[object Function]'

        /** Used to detect host constructors (Safari > 5). */
        var reIsHostCtor = /^\[object .+?Constructor\]$/

        /**
         * Checks if `value` is object-like.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
         */
        function isObjectLike(value) {
          return !!value && typeof value == 'object'
        }

        /** Used for native method references. */
        var objectProto = Object.prototype

        /** Used to resolve the decompiled source of functions. */
        var fnToString = Function.prototype.toString

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objToString = objectProto.toString

        /** Used to detect if a method is native. */
        var reIsNative = RegExp(
          '^' +
            fnToString
              .call(hasOwnProperty)
              .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
              .replace(
                /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                '$1.*?',
              ) +
            '$',
        )

        /**
         * Gets the native function at `key` of `object`.
         *
         * @private
         * @param {Object} object The object to query.
         * @param {string} key The key of the method to get.
         * @returns {*} Returns the function if it's native, else `undefined`.
         */
        function getNative(object, key) {
          var value = object == null ? undefined : object[key]
          return isNative(value) ? value : undefined
        }

        /**
         * Checks if `value` is classified as a `Function` object.
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
         * @example
         *
         * _.isFunction(_);
         * // => true
         *
         * _.isFunction(/abc/);
         * // => false
         */
        function isFunction(value) {
          // The use of `Object#toString` avoids issues with the `typeof` operator
          // in older versions of Chrome and Safari which return 'function' for regexes
          // and Safari 8 equivalents which return 'object' for typed array constructors.
          return isObject(value) && objToString.call(value) == funcTag
        }

        /**
         * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.
         * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(1);
         * // => false
         */
        function isObject(value) {
          // Avoid a V8 JIT bug in Chrome 19-20.
          // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        /**
         * Checks if `value` is a native function.
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a native function, else `false`.
         * @example
         *
         * _.isNative(Array.prototype.push);
         * // => true
         *
         * _.isNative(_);
         * // => false
         */
        function isNative(value) {
          if (value == null) {
            return false
          }
          if (isFunction(value)) {
            return reIsNative.test(fnToString.call(value))
          }
          return isObjectLike(value) && reIsHostCtor.test(value)
        }

        module.exports = getNative
      },
      {},
    ],
    60: [
      function (require, module, exports) {
        /**
         * lodash 3.0.9 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /** Used to detect unsigned integer values. */
        var reIsUint = /^\d+$/

        /**
         * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)
         * of an array-like value.
         */
        var MAX_SAFE_INTEGER = 9007199254740991

        /**
         * The base implementation of `_.property` without support for deep paths.
         *
         * @private
         * @param {string} key The key of the property to get.
         * @returns {Function} Returns the new function.
         */
        function baseProperty(key) {
          return function (object) {
            return object == null ? undefined : object[key]
          }
        }

        /**
         * Gets the "length" property value of `object`.
         *
         * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)
         * that affects Safari on at least iOS 8.1-8.3 ARM64.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {*} Returns the "length" value.
         */
        var getLength = baseProperty('length')

        /**
         * Checks if `value` is array-like.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
         */
        function isArrayLike(value) {
          return value != null && isLength(getLength(value))
        }

        /**
         * Checks if `value` is a valid array-like index.
         *
         * @private
         * @param {*} value The value to check.
         * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
         * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
         */
        function isIndex(value, length) {
          value = typeof value == 'number' || reIsUint.test(value) ? +value : -1
          length = length == null ? MAX_SAFE_INTEGER : length
          return value > -1 && value % 1 == 0 && value < length
        }

        /**
         * Checks if the provided arguments are from an iteratee call.
         *
         * @private
         * @param {*} value The potential iteratee value argument.
         * @param {*} index The potential iteratee index or key argument.
         * @param {*} object The potential iteratee object argument.
         * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.
         */
        function isIterateeCall(value, index, object) {
          if (!isObject(object)) {
            return false
          }
          var type = typeof index
          if (
            type == 'number'
              ? isArrayLike(object) && isIndex(index, object.length)
              : type == 'string' && index in object
          ) {
            var other = object[index]
            return value === value ? value === other : other !== other
          }
          return false
        }

        /**
         * Checks if `value` is a valid array-like length.
         *
         * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
         */
        function isLength(value) {
          return (
            typeof value == 'number' &&
            value > -1 &&
            value % 1 == 0 &&
            value <= MAX_SAFE_INTEGER
          )
        }

        /**
         * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.
         * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(1);
         * // => false
         */
        function isObject(value) {
          // Avoid a V8 JIT bug in Chrome 19-20.
          // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        module.exports = isIterateeCall
      },
      {},
    ],
    61: [
      function (require, module, exports) {
        /**
         * lodash 3.2.0 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */
        var baseAssign = require('lodash._baseassign'),
          createAssigner = require('lodash._createassigner'),
          keys = require('lodash.keys')

        /**
         * A specialized version of `_.assign` for customizing assigned values without
         * support for argument juggling, multiple sources, and `this` binding `customizer`
         * functions.
         *
         * @private
         * @param {Object} object The destination object.
         * @param {Object} source The source object.
         * @param {Function} customizer The function to customize assigned values.
         * @returns {Object} Returns `object`.
         */
        function assignWith(object, source, customizer) {
          var index = -1,
            props = keys(source),
            length = props.length

          while (++index < length) {
            var key = props[index],
              value = object[key],
              result = customizer(value, source[key], key, object, source)

            if (
              (result === result ? result !== value : value === value) ||
              (value === undefined && !(key in object))
            ) {
              object[key] = result
            }
          }
          return object
        }

        /**
         * Assigns own enumerable properties of source object(s) to the destination
         * object. Subsequent sources overwrite property assignments of previous sources.
         * If `customizer` is provided it is invoked to produce the assigned values.
         * The `customizer` is bound to `thisArg` and invoked with five arguments:
         * (objectValue, sourceValue, key, object, source).
         *
         * **Note:** This method mutates `object` and is based on
         * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).
         *
         * @static
         * @memberOf _
         * @alias extend
         * @category Object
         * @param {Object} object The destination object.
         * @param {...Object} [sources] The source objects.
         * @param {Function} [customizer] The function to customize assigned values.
         * @param {*} [thisArg] The `this` binding of `customizer`.
         * @returns {Object} Returns `object`.
         * @example
         *
         * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });
         * // => { 'user': 'fred', 'age': 40 }
         *
         * // using a customizer callback
         * var defaults = _.partialRight(_.assign, function(value, other) {
         *   return _.isUndefined(value) ? other : value;
         * });
         *
         * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });
         * // => { 'user': 'barney', 'age': 36 }
         */
        var assign = createAssigner(function (object, source, customizer) {
          return customizer
            ? assignWith(object, source, customizer)
            : baseAssign(object, source)
        })

        module.exports = assign
      },
      {
        'lodash._baseassign': 55,
        'lodash._createassigner': 58,
        'lodash.keys': 64,
      },
    ],
    62: [
      function (require, module, exports) {
        /**
         * lodash (Custom Build) <https://lodash.com/>
         * Build: `lodash modularize exports="npm" -o ./`
         * Copyright jQuery Foundation and other contributors <https://jquery.org/>
         * Released under MIT license <https://lodash.com/license>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         */

        /** Used as references for various `Number` constants. */
        var MAX_SAFE_INTEGER = 9007199254740991

        /** `Object#toString` result references. */
        var argsTag = '[object Arguments]',
          funcTag = '[object Function]',
          genTag = '[object GeneratorFunction]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /** Built-in value references. */
        var propertyIsEnumerable = objectProto.propertyIsEnumerable

        /**
         * Checks if `value` is likely an `arguments` object.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an `arguments` object,
         *  else `false`.
         * @example
         *
         * _.isArguments(function() { return arguments; }());
         * // => true
         *
         * _.isArguments([1, 2, 3]);
         * // => false
         */
        function isArguments(value) {
          // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
          return (
            isArrayLikeObject(value) &&
            hasOwnProperty.call(value, 'callee') &&
            (!propertyIsEnumerable.call(value, 'callee') ||
              objectToString.call(value) == argsTag)
          )
        }

        /**
         * Checks if `value` is array-like. A value is considered array-like if it's
         * not a function and has a `value.length` that's an integer greater than or
         * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
         * @example
         *
         * _.isArrayLike([1, 2, 3]);
         * // => true
         *
         * _.isArrayLike(document.body.children);
         * // => true
         *
         * _.isArrayLike('abc');
         * // => true
         *
         * _.isArrayLike(_.noop);
         * // => false
         */
        function isArrayLike(value) {
          return value != null && isLength(value.length) && !isFunction(value)
        }

        /**
         * This method is like `_.isArrayLike` except that it also checks if `value`
         * is an object.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an array-like object,
         *  else `false`.
         * @example
         *
         * _.isArrayLikeObject([1, 2, 3]);
         * // => true
         *
         * _.isArrayLikeObject(document.body.children);
         * // => true
         *
         * _.isArrayLikeObject('abc');
         * // => false
         *
         * _.isArrayLikeObject(_.noop);
         * // => false
         */
        function isArrayLikeObject(value) {
          return isObjectLike(value) && isArrayLike(value)
        }

        /**
         * Checks if `value` is classified as a `Function` object.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a function, else `false`.
         * @example
         *
         * _.isFunction(_);
         * // => true
         *
         * _.isFunction(/abc/);
         * // => false
         */
        function isFunction(value) {
          // The use of `Object#toString` avoids issues with the `typeof` operator
          // in Safari 8-9 which returns 'object' for typed array and other constructors.
          var tag = isObject(value) ? objectToString.call(value) : ''
          return tag == funcTag || tag == genTag
        }

        /**
         * Checks if `value` is a valid array-like length.
         *
         * **Note:** This method is loosely based on
         * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
         * @example
         *
         * _.isLength(3);
         * // => true
         *
         * _.isLength(Number.MIN_VALUE);
         * // => false
         *
         * _.isLength(Infinity);
         * // => false
         *
         * _.isLength('3');
         * // => false
         */
        function isLength(value) {
          return (
            typeof value == 'number' &&
            value > -1 &&
            value % 1 == 0 &&
            value <= MAX_SAFE_INTEGER
          )
        }

        /**
         * Checks if `value` is the
         * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
         * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(_.noop);
         * // => true
         *
         * _.isObject(null);
         * // => false
         */
        function isObject(value) {
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        /**
         * Checks if `value` is object-like. A value is object-like if it's not `null`
         * and has a `typeof` result of "object".
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
         * @example
         *
         * _.isObjectLike({});
         * // => true
         *
         * _.isObjectLike([1, 2, 3]);
         * // => true
         *
         * _.isObjectLike(_.noop);
         * // => false
         *
         * _.isObjectLike(null);
         * // => false
         */
        function isObjectLike(value) {
          return !!value && typeof value == 'object'
        }

        module.exports = isArguments
      },
      {},
    ],
    63: [
      function (require, module, exports) {
        /**
         * lodash 3.0.4 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /** `Object#toString` result references. */
        var arrayTag = '[object Array]',
          funcTag = '[object Function]'

        /** Used to detect host constructors (Safari > 5). */
        var reIsHostCtor = /^\[object .+?Constructor\]$/

        /**
         * Checks if `value` is object-like.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
         */
        function isObjectLike(value) {
          return !!value && typeof value == 'object'
        }

        /** Used for native method references. */
        var objectProto = Object.prototype

        /** Used to resolve the decompiled source of functions. */
        var fnToString = Function.prototype.toString

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objToString = objectProto.toString

        /** Used to detect if a method is native. */
        var reIsNative = RegExp(
          '^' +
            fnToString
              .call(hasOwnProperty)
              .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
              .replace(
                /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                '$1.*?',
              ) +
            '$',
        )

        /* Native method references for those with the same name as other `lodash` methods. */
        var nativeIsArray = getNative(Array, 'isArray')

        /**
         * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)
         * of an array-like value.
         */
        var MAX_SAFE_INTEGER = 9007199254740991

        /**
         * Gets the native function at `key` of `object`.
         *
         * @private
         * @param {Object} object The object to query.
         * @param {string} key The key of the method to get.
         * @returns {*} Returns the function if it's native, else `undefined`.
         */
        function getNative(object, key) {
          var value = object == null ? undefined : object[key]
          return isNative(value) ? value : undefined
        }

        /**
         * Checks if `value` is a valid array-like length.
         *
         * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
         */
        function isLength(value) {
          return (
            typeof value == 'number' &&
            value > -1 &&
            value % 1 == 0 &&
            value <= MAX_SAFE_INTEGER
          )
        }

        /**
         * Checks if `value` is classified as an `Array` object.
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
         * @example
         *
         * _.isArray([1, 2, 3]);
         * // => true
         *
         * _.isArray(function() { return arguments; }());
         * // => false
         */
        var isArray =
          nativeIsArray ||
          function (value) {
            return (
              isObjectLike(value) &&
              isLength(value.length) &&
              objToString.call(value) == arrayTag
            )
          }

        /**
         * Checks if `value` is classified as a `Function` object.
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
         * @example
         *
         * _.isFunction(_);
         * // => true
         *
         * _.isFunction(/abc/);
         * // => false
         */
        function isFunction(value) {
          // The use of `Object#toString` avoids issues with the `typeof` operator
          // in older versions of Chrome and Safari which return 'function' for regexes
          // and Safari 8 equivalents which return 'object' for typed array constructors.
          return isObject(value) && objToString.call(value) == funcTag
        }

        /**
         * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.
         * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(1);
         * // => false
         */
        function isObject(value) {
          // Avoid a V8 JIT bug in Chrome 19-20.
          // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        /**
         * Checks if `value` is a native function.
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a native function, else `false`.
         * @example
         *
         * _.isNative(Array.prototype.push);
         * // => true
         *
         * _.isNative(_);
         * // => false
         */
        function isNative(value) {
          if (value == null) {
            return false
          }
          if (isFunction(value)) {
            return reIsNative.test(fnToString.call(value))
          }
          return isObjectLike(value) && reIsHostCtor.test(value)
        }

        module.exports = isArray
      },
      {},
    ],
    64: [
      function (require, module, exports) {
        /**
         * lodash 3.1.2 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */
        var getNative = require('lodash._getnative'),
          isArguments = require('lodash.isarguments'),
          isArray = require('lodash.isarray')

        /** Used to detect unsigned integer values. */
        var reIsUint = /^\d+$/

        /** Used for native method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /* Native method references for those with the same name as other `lodash` methods. */
        var nativeKeys = getNative(Object, 'keys')

        /**
         * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)
         * of an array-like value.
         */
        var MAX_SAFE_INTEGER = 9007199254740991

        /**
         * The base implementation of `_.property` without support for deep paths.
         *
         * @private
         * @param {string} key The key of the property to get.
         * @returns {Function} Returns the new function.
         */
        function baseProperty(key) {
          return function (object) {
            return object == null ? undefined : object[key]
          }
        }

        /**
         * Gets the "length" property value of `object`.
         *
         * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)
         * that affects Safari on at least iOS 8.1-8.3 ARM64.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {*} Returns the "length" value.
         */
        var getLength = baseProperty('length')

        /**
         * Checks if `value` is array-like.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
         */
        function isArrayLike(value) {
          return value != null && isLength(getLength(value))
        }

        /**
         * Checks if `value` is a valid array-like index.
         *
         * @private
         * @param {*} value The value to check.
         * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
         * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
         */
        function isIndex(value, length) {
          value = typeof value == 'number' || reIsUint.test(value) ? +value : -1
          length = length == null ? MAX_SAFE_INTEGER : length
          return value > -1 && value % 1 == 0 && value < length
        }

        /**
         * Checks if `value` is a valid array-like length.
         *
         * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
         */
        function isLength(value) {
          return (
            typeof value == 'number' &&
            value > -1 &&
            value % 1 == 0 &&
            value <= MAX_SAFE_INTEGER
          )
        }

        /**
         * A fallback implementation of `Object.keys` which creates an array of the
         * own enumerable property names of `object`.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {Array} Returns the array of property names.
         */
        function shimKeys(object) {
          var props = keysIn(object),
            propsLength = props.length,
            length = propsLength && object.length

          var allowIndexes =
            !!length &&
            isLength(length) &&
            (isArray(object) || isArguments(object))

          var index = -1,
            result = []

          while (++index < propsLength) {
            var key = props[index]
            if (
              (allowIndexes && isIndex(key, length)) ||
              hasOwnProperty.call(object, key)
            ) {
              result.push(key)
            }
          }
          return result
        }

        /**
         * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.
         * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(1);
         * // => false
         */
        function isObject(value) {
          // Avoid a V8 JIT bug in Chrome 19-20.
          // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        /**
         * Creates an array of the own enumerable property names of `object`.
         *
         * **Note:** Non-object values are coerced to objects. See the
         * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)
         * for more details.
         *
         * @static
         * @memberOf _
         * @category Object
         * @param {Object} object The object to query.
         * @returns {Array} Returns the array of property names.
         * @example
         *
         * function Foo() {
         *   this.a = 1;
         *   this.b = 2;
         * }
         *
         * Foo.prototype.c = 3;
         *
         * _.keys(new Foo);
         * // => ['a', 'b'] (iteration order is not guaranteed)
         *
         * _.keys('hi');
         * // => ['0', '1']
         */
        var keys = !nativeKeys
          ? shimKeys
          : function (object) {
              var Ctor = object == null ? undefined : object.constructor
              if (
                (typeof Ctor == 'function' && Ctor.prototype === object) ||
                (typeof object != 'function' && isArrayLike(object))
              ) {
                return shimKeys(object)
              }
              return isObject(object) ? nativeKeys(object) : []
            }

        /**
         * Creates an array of the own and inherited enumerable property names of `object`.
         *
         * **Note:** Non-object values are coerced to objects.
         *
         * @static
         * @memberOf _
         * @category Object
         * @param {Object} object The object to query.
         * @returns {Array} Returns the array of property names.
         * @example
         *
         * function Foo() {
         *   this.a = 1;
         *   this.b = 2;
         * }
         *
         * Foo.prototype.c = 3;
         *
         * _.keysIn(new Foo);
         * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
         */
        function keysIn(object) {
          if (object == null) {
            return []
          }
          if (!isObject(object)) {
            object = Object(object)
          }
          var length = object.length
          length =
            (length &&
              isLength(length) &&
              (isArray(object) || isArguments(object)) &&
              length) ||
            0

          var Ctor = object.constructor,
            index = -1,
            isProto = typeof Ctor == 'function' && Ctor.prototype === object,
            result = Array(length),
            skipIndexes = length > 0

          while (++index < length) {
            result[index] = index + ''
          }
          for (var key in object) {
            if (
              !(skipIndexes && isIndex(key, length)) &&
              !(
                key == 'constructor' &&
                (isProto || !hasOwnProperty.call(object, key))
              )
            ) {
              result.push(key)
            }
          }
          return result
        }

        module.exports = keys
      },
      {
        'lodash._getnative': 59,
        'lodash.isarguments': 62,
        'lodash.isarray': 63,
      },
    ],
    65: [
      function (require, module, exports) {
        /**
         * lodash 3.6.1 (Custom Build) <https://lodash.com/>
         * Build: `lodash modern modularize exports="npm" -o ./`
         * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         * Available under MIT license <https://lodash.com/license>
         */

        /** Used as the `TypeError` message for "Functions" methods. */
        var FUNC_ERROR_TEXT = 'Expected a function'

        /* Native method references for those with the same name as other `lodash` methods. */
        var nativeMax = Math.max

        /**
         * Creates a function that invokes `func` with the `this` binding of the
         * created function and arguments from `start` and beyond provided as an array.
         *
         * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).
         *
         * @static
         * @memberOf _
         * @category Function
         * @param {Function} func The function to apply a rest parameter to.
         * @param {number} [start=func.length-1] The start position of the rest parameter.
         * @returns {Function} Returns the new function.
         * @example
         *
         * var say = _.restParam(function(what, names) {
         *   return what + ' ' + _.initial(names).join(', ') +
         *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);
         * });
         *
         * say('hello', 'fred', 'barney', 'pebbles');
         * // => 'hello fred, barney, & pebbles'
         */
        function restParam(func, start) {
          if (typeof func != 'function') {
            throw new TypeError(FUNC_ERROR_TEXT)
          }
          start = nativeMax(
            start === undefined ? func.length - 1 : +start || 0,
            0,
          )
          return function () {
            var args = arguments,
              index = -1,
              length = nativeMax(args.length - start, 0),
              rest = Array(length)

            while (++index < length) {
              rest[index] = args[start + index]
            }
            switch (start) {
              case 0:
                return func.call(this, rest)
              case 1:
                return func.call(this, args[0], rest)
              case 2:
                return func.call(this, args[0], args[1], rest)
            }
            var otherArgs = Array(start + 1)
            index = -1
            while (++index < start) {
              otherArgs[index] = args[index]
            }
            otherArgs[start] = rest
            return func.apply(this, otherArgs)
          }
        }

        module.exports = restParam
      },
      {},
    ],
    66: [
      function (require, module, exports) {
        var hashClear = require('./_hashClear'),
          hashDelete = require('./_hashDelete'),
          hashGet = require('./_hashGet'),
          hashHas = require('./_hashHas'),
          hashSet = require('./_hashSet')

        /**
         * Creates a hash object.
         *
         * @private
         * @constructor
         * @param {Array} [entries] The key-value pairs to cache.
         */
        function Hash(entries) {
          var index = -1,
            length = entries ? entries.length : 0

          this.clear()
          while (++index < length) {
            var entry = entries[index]
            this.set(entry[0], entry[1])
          }
        }

        // Add methods to `Hash`.
        Hash.prototype.clear = hashClear
        Hash.prototype['delete'] = hashDelete
        Hash.prototype.get = hashGet
        Hash.prototype.has = hashHas
        Hash.prototype.set = hashSet

        module.exports = Hash
      },
      {
        './_hashClear': 105,
        './_hashDelete': 106,
        './_hashGet': 107,
        './_hashHas': 108,
        './_hashSet': 109,
      },
    ],
    67: [
      function (require, module, exports) {
        var listCacheClear = require('./_listCacheClear'),
          listCacheDelete = require('./_listCacheDelete'),
          listCacheGet = require('./_listCacheGet'),
          listCacheHas = require('./_listCacheHas'),
          listCacheSet = require('./_listCacheSet')

        /**
         * Creates an list cache object.
         *
         * @private
         * @constructor
         * @param {Array} [entries] The key-value pairs to cache.
         */
        function ListCache(entries) {
          var index = -1,
            length = entries ? entries.length : 0

          this.clear()
          while (++index < length) {
            var entry = entries[index]
            this.set(entry[0], entry[1])
          }
        }

        // Add methods to `ListCache`.
        ListCache.prototype.clear = listCacheClear
        ListCache.prototype['delete'] = listCacheDelete
        ListCache.prototype.get = listCacheGet
        ListCache.prototype.has = listCacheHas
        ListCache.prototype.set = listCacheSet

        module.exports = ListCache
      },
      {
        './_listCacheClear': 120,
        './_listCacheDelete': 121,
        './_listCacheGet': 122,
        './_listCacheHas': 123,
        './_listCacheSet': 124,
      },
    ],
    68: [
      function (require, module, exports) {
        var getNative = require('./_getNative'),
          root = require('./_root')

        /* Built-in method references that are verified to be native. */
        var Map = getNative(root, 'Map')

        module.exports = Map
      },
      { './_getNative': 102, './_root': 131 },
    ],
    69: [
      function (require, module, exports) {
        var mapCacheClear = require('./_mapCacheClear'),
          mapCacheDelete = require('./_mapCacheDelete'),
          mapCacheGet = require('./_mapCacheGet'),
          mapCacheHas = require('./_mapCacheHas'),
          mapCacheSet = require('./_mapCacheSet')

        /**
         * Creates a map cache object to store key-value pairs.
         *
         * @private
         * @constructor
         * @param {Array} [entries] The key-value pairs to cache.
         */
        function MapCache(entries) {
          var index = -1,
            length = entries ? entries.length : 0

          this.clear()
          while (++index < length) {
            var entry = entries[index]
            this.set(entry[0], entry[1])
          }
        }

        // Add methods to `MapCache`.
        MapCache.prototype.clear = mapCacheClear
        MapCache.prototype['delete'] = mapCacheDelete
        MapCache.prototype.get = mapCacheGet
        MapCache.prototype.has = mapCacheHas
        MapCache.prototype.set = mapCacheSet

        module.exports = MapCache
      },
      {
        './_mapCacheClear': 125,
        './_mapCacheDelete': 126,
        './_mapCacheGet': 127,
        './_mapCacheHas': 128,
        './_mapCacheSet': 129,
      },
    ],
    70: [
      function (require, module, exports) {
        var root = require('./_root')

        /** Built-in value references. */
        var Reflect = root.Reflect

        module.exports = Reflect
      },
      { './_root': 131 },
    ],
    71: [
      function (require, module, exports) {
        var getNative = require('./_getNative'),
          root = require('./_root')

        /* Built-in method references that are verified to be native. */
        var Set = getNative(root, 'Set')

        module.exports = Set
      },
      { './_getNative': 102, './_root': 131 },
    ],
    72: [
      function (require, module, exports) {
        var MapCache = require('./_MapCache'),
          setCacheAdd = require('./_setCacheAdd'),
          setCacheHas = require('./_setCacheHas')

        /**
         *
         * Creates an array cache object to store unique values.
         *
         * @private
         * @constructor
         * @param {Array} [values] The values to cache.
         */
        function SetCache(values) {
          var index = -1,
            length = values ? values.length : 0

          this.__data__ = new MapCache()
          while (++index < length) {
            this.add(values[index])
          }
        }

        // Add methods to `SetCache`.
        SetCache.prototype.add = SetCache.prototype.push = setCacheAdd
        SetCache.prototype.has = setCacheHas

        module.exports = SetCache
      },
      { './_MapCache': 69, './_setCacheAdd': 132, './_setCacheHas': 133 },
    ],
    73: [
      function (require, module, exports) {
        /**
         * A faster alternative to `Function#apply`, this function invokes `func`
         * with the `this` binding of `thisArg` and the arguments of `args`.
         *
         * @private
         * @param {Function} func The function to invoke.
         * @param {*} thisArg The `this` binding of `func`.
         * @param {Array} args The arguments to invoke `func` with.
         * @returns {*} Returns the result of `func`.
         */
        function apply(func, thisArg, args) {
          var length = args.length
          switch (length) {
            case 0:
              return func.call(thisArg)
            case 1:
              return func.call(thisArg, args[0])
            case 2:
              return func.call(thisArg, args[0], args[1])
            case 3:
              return func.call(thisArg, args[0], args[1], args[2])
          }
          return func.apply(thisArg, args)
        }

        module.exports = apply
      },
      {},
    ],
    74: [
      function (require, module, exports) {
        /**
         * A specialized version of `_.filter` for arrays without support for
         * iteratee shorthands.
         *
         * @private
         * @param {Array} [array] The array to iterate over.
         * @param {Function} predicate The function invoked per iteration.
         * @returns {Array} Returns the new filtered array.
         */
        function arrayFilter(array, predicate) {
          var index = -1,
            length = array ? array.length : 0,
            resIndex = 0,
            result = []

          while (++index < length) {
            var value = array[index]
            if (predicate(value, index, array)) {
              result[resIndex++] = value
            }
          }
          return result
        }

        module.exports = arrayFilter
      },
      {},
    ],
    75: [
      function (require, module, exports) {
        var baseIndexOf = require('./_baseIndexOf')

        /**
         * A specialized version of `_.includes` for arrays without support for
         * specifying an index to search from.
         *
         * @private
         * @param {Array} [array] The array to search.
         * @param {*} target The value to search for.
         * @returns {boolean} Returns `true` if `target` is found, else `false`.
         */
        function arrayIncludes(array, value) {
          var length = array ? array.length : 0
          return !!length && baseIndexOf(array, value, 0) > -1
        }

        module.exports = arrayIncludes
      },
      { './_baseIndexOf': 84 },
    ],
    76: [
      function (require, module, exports) {
        /**
         * This function is like `arrayIncludes` except that it accepts a comparator.
         *
         * @private
         * @param {Array} [array] The array to search.
         * @param {*} target The value to search for.
         * @param {Function} comparator The comparator invoked per element.
         * @returns {boolean} Returns `true` if `target` is found, else `false`.
         */
        function arrayIncludesWith(array, value, comparator) {
          var index = -1,
            length = array ? array.length : 0

          while (++index < length) {
            if (comparator(value, array[index])) {
              return true
            }
          }
          return false
        }

        module.exports = arrayIncludesWith
      },
      {},
    ],
    77: [
      function (require, module, exports) {
        /**
         * A specialized version of `_.map` for arrays without support for iteratee
         * shorthands.
         *
         * @private
         * @param {Array} [array] The array to iterate over.
         * @param {Function} iteratee The function invoked per iteration.
         * @returns {Array} Returns the new mapped array.
         */
        function arrayMap(array, iteratee) {
          var index = -1,
            length = array ? array.length : 0,
            result = Array(length)

          while (++index < length) {
            result[index] = iteratee(array[index], index, array)
          }
          return result
        }

        module.exports = arrayMap
      },
      {},
    ],
    78: [
      function (require, module, exports) {
        /**
         * Appends the elements of `values` to `array`.
         *
         * @private
         * @param {Array} array The array to modify.
         * @param {Array} values The values to append.
         * @returns {Array} Returns `array`.
         */
        function arrayPush(array, values) {
          var index = -1,
            length = values.length,
            offset = array.length

          while (++index < length) {
            array[offset + index] = values[index]
          }
          return array
        }

        module.exports = arrayPush
      },
      {},
    ],
    79: [
      function (require, module, exports) {
        var eq = require('./eq')

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Used by `_.defaults` to customize its `_.assignIn` use.
         *
         * @private
         * @param {*} objValue The destination value.
         * @param {*} srcValue The source value.
         * @param {string} key The key of the property to assign.
         * @param {Object} object The parent object of `objValue`.
         * @returns {*} Returns the value to assign.
         */
        function assignInDefaults(objValue, srcValue, key, object) {
          if (
            objValue === undefined ||
            (eq(objValue, objectProto[key]) &&
              !hasOwnProperty.call(object, key))
          ) {
            return srcValue
          }
          return objValue
        }

        module.exports = assignInDefaults
      },
      { './eq': 138 },
    ],
    80: [
      function (require, module, exports) {
        var eq = require('./eq')

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Assigns `value` to `key` of `object` if the existing value is not equivalent
         * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)
         * for equality comparisons.
         *
         * @private
         * @param {Object} object The object to modify.
         * @param {string} key The key of the property to assign.
         * @param {*} value The value to assign.
         */
        function assignValue(object, key, value) {
          var objValue = object[key]
          if (
            !(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
            (value === undefined && !(key in object))
          ) {
            object[key] = value
          }
        }

        module.exports = assignValue
      },
      { './eq': 138 },
    ],
    81: [
      function (require, module, exports) {
        var eq = require('./eq')

        /**
         * Gets the index at which the `key` is found in `array` of key-value pairs.
         *
         * @private
         * @param {Array} array The array to search.
         * @param {*} key The key to search for.
         * @returns {number} Returns the index of the matched value, else `-1`.
         */
        function assocIndexOf(array, key) {
          var length = array.length
          while (length--) {
            if (eq(array[length][0], key)) {
              return length
            }
          }
          return -1
        }

        module.exports = assocIndexOf
      },
      { './eq': 138 },
    ],
    82: [
      function (require, module, exports) {
        var SetCache = require('./_SetCache'),
          arrayIncludes = require('./_arrayIncludes'),
          arrayIncludesWith = require('./_arrayIncludesWith'),
          arrayMap = require('./_arrayMap'),
          baseUnary = require('./_baseUnary'),
          cacheHas = require('./_cacheHas')

        /** Used as the size to enable large array optimizations. */
        var LARGE_ARRAY_SIZE = 200

        /**
         * The base implementation of methods like `_.difference` without support
         * for excluding multiple arrays or iteratee shorthands.
         *
         * @private
         * @param {Array} array The array to inspect.
         * @param {Array} values The values to exclude.
         * @param {Function} [iteratee] The iteratee invoked per element.
         * @param {Function} [comparator] The comparator invoked per element.
         * @returns {Array} Returns the new array of filtered values.
         */
        function baseDifference(array, values, iteratee, comparator) {
          var index = -1,
            includes = arrayIncludes,
            isCommon = true,
            length = array.length,
            result = [],
            valuesLength = values.length

          if (!length) {
            return result
          }
          if (iteratee) {
            values = arrayMap(values, baseUnary(iteratee))
          }
          if (comparator) {
            includes = arrayIncludesWith
            isCommon = false
          } else if (values.length >= LARGE_ARRAY_SIZE) {
            includes = cacheHas
            isCommon = false
            values = new SetCache(values)
          }
          outer: while (++index < length) {
            var value = array[index],
              computed = iteratee ? iteratee(value) : value

            value = comparator || value !== 0 ? value : 0
            if (isCommon && computed === computed) {
              var valuesIndex = valuesLength
              while (valuesIndex--) {
                if (values[valuesIndex] === computed) {
                  continue outer
                }
              }
              result.push(value)
            } else if (!includes(values, computed, comparator)) {
              result.push(value)
            }
          }
          return result
        }

        module.exports = baseDifference
      },
      {
        './_SetCache': 72,
        './_arrayIncludes': 75,
        './_arrayIncludesWith': 76,
        './_arrayMap': 77,
        './_baseUnary': 90,
        './_cacheHas': 93,
      },
    ],
    83: [
      function (require, module, exports) {
        var arrayPush = require('./_arrayPush'),
          isFlattenable = require('./_isFlattenable')

        /**
         * The base implementation of `_.flatten` with support for restricting flattening.
         *
         * @private
         * @param {Array} array The array to flatten.
         * @param {number} depth The maximum recursion depth.
         * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
         * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
         * @param {Array} [result=[]] The initial result value.
         * @returns {Array} Returns the new flattened array.
         */
        function baseFlatten(array, depth, predicate, isStrict, result) {
          var index = -1,
            length = array.length

          predicate || (predicate = isFlattenable)
          result || (result = [])

          while (++index < length) {
            var value = array[index]
            if (depth > 0 && predicate(value)) {
              if (depth > 1) {
                // Recursively flatten arrays (susceptible to call stack limits).
                baseFlatten(value, depth - 1, predicate, isStrict, result)
              } else {
                arrayPush(result, value)
              }
            } else if (!isStrict) {
              result[result.length] = value
            }
          }
          return result
        }

        module.exports = baseFlatten
      },
      { './_arrayPush': 78, './_isFlattenable': 112 },
    ],
    84: [
      function (require, module, exports) {
        var indexOfNaN = require('./_indexOfNaN')

        /**
         * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
         *
         * @private
         * @param {Array} array The array to search.
         * @param {*} value The value to search for.
         * @param {number} fromIndex The index to search from.
         * @returns {number} Returns the index of the matched value, else `-1`.
         */
        function baseIndexOf(array, value, fromIndex) {
          if (value !== value) {
            return indexOfNaN(array, fromIndex)
          }
          var index = fromIndex - 1,
            length = array.length

          while (++index < length) {
            if (array[index] === value) {
              return index
            }
          }
          return -1
        }

        module.exports = baseIndexOf
      },
      { './_indexOfNaN': 111 },
    ],
    85: [
      function (require, module, exports) {
        var SetCache = require('./_SetCache'),
          arrayIncludes = require('./_arrayIncludes'),
          arrayIncludesWith = require('./_arrayIncludesWith'),
          arrayMap = require('./_arrayMap'),
          baseUnary = require('./_baseUnary'),
          cacheHas = require('./_cacheHas')

        /* Built-in method references for those with the same name as other `lodash` methods. */
        var nativeMin = Math.min

        /**
         * The base implementation of methods like `_.intersection`, without support
         * for iteratee shorthands, that accepts an array of arrays to inspect.
         *
         * @private
         * @param {Array} arrays The arrays to inspect.
         * @param {Function} [iteratee] The iteratee invoked per element.
         * @param {Function} [comparator] The comparator invoked per element.
         * @returns {Array} Returns the new array of shared values.
         */
        function baseIntersection(arrays, iteratee, comparator) {
          var includes = comparator ? arrayIncludesWith : arrayIncludes,
            length = arrays[0].length,
            othLength = arrays.length,
            othIndex = othLength,
            caches = Array(othLength),
            maxLength = Infinity,
            result = []

          while (othIndex--) {
            var array = arrays[othIndex]
            if (othIndex && iteratee) {
              array = arrayMap(array, baseUnary(iteratee))
            }
            maxLength = nativeMin(array.length, maxLength)
            caches[othIndex] =
              !comparator &&
              (iteratee || (length >= 120 && array.length >= 120))
                ? new SetCache(othIndex && array)
                : undefined
          }
          array = arrays[0]

          var index = -1,
            seen = caches[0]

          outer: while (++index < length && result.length < maxLength) {
            var value = array[index],
              computed = iteratee ? iteratee(value) : value

            value = comparator || value !== 0 ? value : 0
            if (
              !(seen
                ? cacheHas(seen, computed)
                : includes(result, computed, comparator))
            ) {
              othIndex = othLength
              while (--othIndex) {
                var cache = caches[othIndex]
                if (
                  !(cache
                    ? cacheHas(cache, computed)
                    : includes(arrays[othIndex], computed, comparator))
                ) {
                  continue outer
                }
              }
              if (seen) {
                seen.push(computed)
              }
              result.push(value)
            }
          }
          return result
        }

        module.exports = baseIntersection
      },
      {
        './_SetCache': 72,
        './_arrayIncludes': 75,
        './_arrayIncludesWith': 76,
        './_arrayMap': 77,
        './_baseUnary': 90,
        './_cacheHas': 93,
      },
    ],
    86: [
      function (require, module, exports) {
        var isFunction = require('./isFunction'),
          isHostObject = require('./_isHostObject'),
          isMasked = require('./_isMasked'),
          isObject = require('./isObject'),
          toSource = require('./_toSource')

        /**
         * Used to match `RegExp`
         * [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns).
         */
        var reRegExpChar = /[\\^$.*+?()[\]{}|]/g

        /** Used to detect host constructors (Safari). */
        var reIsHostCtor = /^\[object .+?Constructor\]$/

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to resolve the decompiled source of functions. */
        var funcToString = Function.prototype.toString

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /** Used to detect if a method is native. */
        var reIsNative = RegExp(
          '^' +
            funcToString
              .call(hasOwnProperty)
              .replace(reRegExpChar, '\\$&')
              .replace(
                /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                '$1.*?',
              ) +
            '$',
        )

        /**
         * The base implementation of `_.isNative` without bad shim checks.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a native function,
         *  else `false`.
         */
        function baseIsNative(value) {
          if (!isObject(value) || isMasked(value)) {
            return false
          }
          var pattern =
            isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor
          return pattern.test(toSource(value))
        }

        module.exports = baseIsNative
      },
      {
        './_isHostObject': 113,
        './_isMasked': 117,
        './_toSource': 135,
        './isFunction': 144,
        './isObject': 146,
      },
    ],
    87: [
      function (require, module, exports) {
        var Reflect = require('./_Reflect'),
          iteratorToArray = require('./_iteratorToArray')

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Built-in value references. */
        var enumerate = Reflect ? Reflect.enumerate : undefined,
          propertyIsEnumerable = objectProto.propertyIsEnumerable

        /**
         * The base implementation of `_.keysIn` which doesn't skip the constructor
         * property of prototypes or treat sparse arrays as dense.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {Array} Returns the array of property names.
         */
        function baseKeysIn(object) {
          object = object == null ? object : Object(object)

          var result = []
          for (var key in object) {
            result.push(key)
          }
          return result
        }

        // Fallback for IE < 9 with es6-shim.
        if (
          enumerate &&
          !propertyIsEnumerable.call({ valueOf: 1 }, 'valueOf')
        ) {
          baseKeysIn = function (object) {
            return iteratorToArray(enumerate(object))
          }
        }

        module.exports = baseKeysIn
      },
      { './_Reflect': 70, './_iteratorToArray': 119 },
    ],
    88: [
      function (require, module, exports) {
        /**
         * The base implementation of `_.property` without support for deep paths.
         *
         * @private
         * @param {string} key The key of the property to get.
         * @returns {Function} Returns the new accessor function.
         */
        function baseProperty(key) {
          return function (object) {
            return object == null ? undefined : object[key]
          }
        }

        module.exports = baseProperty
      },
      {},
    ],
    89: [
      function (require, module, exports) {
        /**
         * The base implementation of `_.times` without support for iteratee shorthands
         * or max array length checks.
         *
         * @private
         * @param {number} n The number of times to invoke `iteratee`.
         * @param {Function} iteratee The function invoked per iteration.
         * @returns {Array} Returns the array of results.
         */
        function baseTimes(n, iteratee) {
          var index = -1,
            result = Array(n)

          while (++index < n) {
            result[index] = iteratee(index)
          }
          return result
        }

        module.exports = baseTimes
      },
      {},
    ],
    90: [
      function (require, module, exports) {
        /**
         * The base implementation of `_.unary` without support for storing wrapper metadata.
         *
         * @private
         * @param {Function} func The function to cap arguments for.
         * @returns {Function} Returns the new capped function.
         */
        function baseUnary(func) {
          return function (value) {
            return func(value)
          }
        }

        module.exports = baseUnary
      },
      {},
    ],
    91: [
      function (require, module, exports) {
        var SetCache = require('./_SetCache'),
          arrayIncludes = require('./_arrayIncludes'),
          arrayIncludesWith = require('./_arrayIncludesWith'),
          cacheHas = require('./_cacheHas'),
          createSet = require('./_createSet'),
          setToArray = require('./_setToArray')

        /** Used as the size to enable large array optimizations. */
        var LARGE_ARRAY_SIZE = 200

        /**
         * The base implementation of `_.uniqBy` without support for iteratee shorthands.
         *
         * @private
         * @param {Array} array The array to inspect.
         * @param {Function} [iteratee] The iteratee invoked per element.
         * @param {Function} [comparator] The comparator invoked per element.
         * @returns {Array} Returns the new duplicate free array.
         */
        function baseUniq(array, iteratee, comparator) {
          var index = -1,
            includes = arrayIncludes,
            length = array.length,
            isCommon = true,
            result = [],
            seen = result

          if (comparator) {
            isCommon = false
            includes = arrayIncludesWith
          } else if (length >= LARGE_ARRAY_SIZE) {
            var set = iteratee ? null : createSet(array)
            if (set) {
              return setToArray(set)
            }
            isCommon = false
            includes = cacheHas
            seen = new SetCache()
          } else {
            seen = iteratee ? [] : result
          }
          outer: while (++index < length) {
            var value = array[index],
              computed = iteratee ? iteratee(value) : value

            value = comparator || value !== 0 ? value : 0
            if (isCommon && computed === computed) {
              var seenIndex = seen.length
              while (seenIndex--) {
                if (seen[seenIndex] === computed) {
                  continue outer
                }
              }
              if (iteratee) {
                seen.push(computed)
              }
              result.push(value)
            } else if (!includes(seen, computed, comparator)) {
              if (seen !== result) {
                seen.push(computed)
              }
              result.push(value)
            }
          }
          return result
        }

        module.exports = baseUniq
      },
      {
        './_SetCache': 72,
        './_arrayIncludes': 75,
        './_arrayIncludesWith': 76,
        './_cacheHas': 93,
        './_createSet': 99,
        './_setToArray': 134,
      },
    ],
    92: [
      function (require, module, exports) {
        var arrayPush = require('./_arrayPush'),
          baseDifference = require('./_baseDifference'),
          baseUniq = require('./_baseUniq')

        /**
         * The base implementation of methods like `_.xor`, without support for
         * iteratee shorthands, that accepts an array of arrays to inspect.
         *
         * @private
         * @param {Array} arrays The arrays to inspect.
         * @param {Function} [iteratee] The iteratee invoked per element.
         * @param {Function} [comparator] The comparator invoked per element.
         * @returns {Array} Returns the new array of values.
         */
        function baseXor(arrays, iteratee, comparator) {
          var index = -1,
            length = arrays.length

          while (++index < length) {
            var result = result
              ? arrayPush(
                  baseDifference(result, arrays[index], iteratee, comparator),
                  baseDifference(arrays[index], result, iteratee, comparator),
                )
              : arrays[index]
          }
          return result && result.length
            ? baseUniq(result, iteratee, comparator)
            : []
        }

        module.exports = baseXor
      },
      { './_arrayPush': 78, './_baseDifference': 82, './_baseUniq': 91 },
    ],
    93: [
      function (require, module, exports) {
        /**
         * Checks if a cache value for `key` exists.
         *
         * @private
         * @param {Object} cache The cache to query.
         * @param {string} key The key of the entry to check.
         * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
         */
        function cacheHas(cache, key) {
          return cache.has(key)
        }

        module.exports = cacheHas
      },
      {},
    ],
    94: [
      function (require, module, exports) {
        var isArrayLikeObject = require('./isArrayLikeObject')

        /**
         * Casts `value` to an empty array if it's not an array like object.
         *
         * @private
         * @param {*} value The value to inspect.
         * @returns {Array|Object} Returns the cast array-like object.
         */
        function castArrayLikeObject(value) {
          return isArrayLikeObject(value) ? value : []
        }

        module.exports = castArrayLikeObject
      },
      { './isArrayLikeObject': 143 },
    ],
    95: [
      function (require, module, exports) {
        /**
         * Checks if `value` is a global object.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {null|Object} Returns `value` if it's a global object, else `null`.
         */
        function checkGlobal(value) {
          return value && value.Object === Object ? value : null
        }

        module.exports = checkGlobal
      },
      {},
    ],
    96: [
      function (require, module, exports) {
        var assignValue = require('./_assignValue')

        /**
         * Copies properties of `source` to `object`.
         *
         * @private
         * @param {Object} source The object to copy properties from.
         * @param {Array} props The property identifiers to copy.
         * @param {Object} [object={}] The object to copy properties to.
         * @param {Function} [customizer] The function to customize copied values.
         * @returns {Object} Returns `object`.
         */
        function copyObject(source, props, object, customizer) {
          object || (object = {})

          var index = -1,
            length = props.length

          while (++index < length) {
            var key = props[index]

            var newValue = customizer
              ? customizer(object[key], source[key], key, object, source)
              : source[key]

            assignValue(object, key, newValue)
          }
          return object
        }

        module.exports = copyObject
      },
      { './_assignValue': 80 },
    ],
    97: [
      function (require, module, exports) {
        var root = require('./_root')

        /** Used to detect overreaching core-js shims. */
        var coreJsData = root['__core-js_shared__']

        module.exports = coreJsData
      },
      { './_root': 131 },
    ],
    98: [
      function (require, module, exports) {
        var isIterateeCall = require('./_isIterateeCall'),
          rest = require('./rest')

        /**
         * Creates a function like `_.assign`.
         *
         * @private
         * @param {Function} assigner The function to assign values.
         * @returns {Function} Returns the new assigner function.
         */
        function createAssigner(assigner) {
          return rest(function (object, sources) {
            var index = -1,
              length = sources.length,
              customizer = length > 1 ? sources[length - 1] : undefined,
              guard = length > 2 ? sources[2] : undefined

            customizer =
              assigner.length > 3 && typeof customizer == 'function'
                ? (length--, customizer)
                : undefined

            if (guard && isIterateeCall(sources[0], sources[1], guard)) {
              customizer = length < 3 ? undefined : customizer
              length = 1
            }
            object = Object(object)
            while (++index < length) {
              var source = sources[index]
              if (source) {
                assigner(object, source, index, customizer)
              }
            }
            return object
          })
        }

        module.exports = createAssigner
      },
      { './_isIterateeCall': 115, './rest': 154 },
    ],
    99: [
      function (require, module, exports) {
        var Set = require('./_Set'),
          noop = require('./noop'),
          setToArray = require('./_setToArray')

        /** Used as references for various `Number` constants. */
        var INFINITY = 1 / 0

        /**
         * Creates a set of `values`.
         *
         * @private
         * @param {Array} values The values to add to the set.
         * @returns {Object} Returns the new set.
         */
        var createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY)
          ? noop
          : function (values) {
              return new Set(values)
            }

        module.exports = createSet
      },
      { './_Set': 71, './_setToArray': 134, './noop': 153 },
    ],
    100: [
      function (require, module, exports) {
        var baseProperty = require('./_baseProperty')

        /**
         * Gets the "length" property value of `object`.
         *
         * **Note:** This function is used to avoid a
         * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects
         * Safari on at least iOS 8.1-8.3 ARM64.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {*} Returns the "length" value.
         */
        var getLength = baseProperty('length')

        module.exports = getLength
      },
      { './_baseProperty': 88 },
    ],
    101: [
      function (require, module, exports) {
        var isKeyable = require('./_isKeyable')

        /**
         * Gets the data for `map`.
         *
         * @private
         * @param {Object} map The map to query.
         * @param {string} key The reference key.
         * @returns {*} Returns the map data.
         */
        function getMapData(map, key) {
          var data = map.__data__
          return isKeyable(key)
            ? data[typeof key == 'string' ? 'string' : 'hash']
            : data.map
        }

        module.exports = getMapData
      },
      { './_isKeyable': 116 },
    ],
    102: [
      function (require, module, exports) {
        var baseIsNative = require('./_baseIsNative'),
          getValue = require('./_getValue')

        /**
         * Gets the native function at `key` of `object`.
         *
         * @private
         * @param {Object} object The object to query.
         * @param {string} key The key of the method to get.
         * @returns {*} Returns the function if it's native, else `undefined`.
         */
        function getNative(object, key) {
          var value = getValue(object, key)
          return baseIsNative(value) ? value : undefined
        }

        module.exports = getNative
      },
      { './_baseIsNative': 86, './_getValue': 104 },
    ],
    103: [
      function (require, module, exports) {
        /* Built-in method references for those with the same name as other `lodash` methods. */
        var nativeGetPrototype = Object.getPrototypeOf

        /**
         * Gets the `[[Prototype]]` of `value`.
         *
         * @private
         * @param {*} value The value to query.
         * @returns {null|Object} Returns the `[[Prototype]]`.
         */
        function getPrototype(value) {
          return nativeGetPrototype(Object(value))
        }

        module.exports = getPrototype
      },
      {},
    ],
    104: [
      function (require, module, exports) {
        /**
         * Gets the value at `key` of `object`.
         *
         * @private
         * @param {Object} [object] The object to query.
         * @param {string} key The key of the property to get.
         * @returns {*} Returns the property value.
         */
        function getValue(object, key) {
          return object == null ? undefined : object[key]
        }

        module.exports = getValue
      },
      {},
    ],
    105: [
      function (require, module, exports) {
        var nativeCreate = require('./_nativeCreate')

        /**
         * Removes all key-value entries from the hash.
         *
         * @private
         * @name clear
         * @memberOf Hash
         */
        function hashClear() {
          this.__data__ = nativeCreate ? nativeCreate(null) : {}
        }

        module.exports = hashClear
      },
      { './_nativeCreate': 130 },
    ],
    106: [
      function (require, module, exports) {
        /**
         * Removes `key` and its value from the hash.
         *
         * @private
         * @name delete
         * @memberOf Hash
         * @param {Object} hash The hash to modify.
         * @param {string} key The key of the value to remove.
         * @returns {boolean} Returns `true` if the entry was removed, else `false`.
         */
        function hashDelete(key) {
          return this.has(key) && delete this.__data__[key]
        }

        module.exports = hashDelete
      },
      {},
    ],
    107: [
      function (require, module, exports) {
        var nativeCreate = require('./_nativeCreate')

        /** Used to stand-in for `undefined` hash values. */
        var HASH_UNDEFINED = '__lodash_hash_undefined__'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Gets the hash value for `key`.
         *
         * @private
         * @name get
         * @memberOf Hash
         * @param {string} key The key of the value to get.
         * @returns {*} Returns the entry value.
         */
        function hashGet(key) {
          var data = this.__data__
          if (nativeCreate) {
            var result = data[key]
            return result === HASH_UNDEFINED ? undefined : result
          }
          return hasOwnProperty.call(data, key) ? data[key] : undefined
        }

        module.exports = hashGet
      },
      { './_nativeCreate': 130 },
    ],
    108: [
      function (require, module, exports) {
        var nativeCreate = require('./_nativeCreate')

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Checks if a hash value for `key` exists.
         *
         * @private
         * @name has
         * @memberOf Hash
         * @param {string} key The key of the entry to check.
         * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
         */
        function hashHas(key) {
          var data = this.__data__
          return nativeCreate
            ? data[key] !== undefined
            : hasOwnProperty.call(data, key)
        }

        module.exports = hashHas
      },
      { './_nativeCreate': 130 },
    ],
    109: [
      function (require, module, exports) {
        var nativeCreate = require('./_nativeCreate')

        /** Used to stand-in for `undefined` hash values. */
        var HASH_UNDEFINED = '__lodash_hash_undefined__'

        /**
         * Sets the hash `key` to `value`.
         *
         * @private
         * @name set
         * @memberOf Hash
         * @param {string} key The key of the value to set.
         * @param {*} value The value to set.
         * @returns {Object} Returns the hash instance.
         */
        function hashSet(key, value) {
          var data = this.__data__
          data[key] =
            nativeCreate && value === undefined ? HASH_UNDEFINED : value
          return this
        }

        module.exports = hashSet
      },
      { './_nativeCreate': 130 },
    ],
    110: [
      function (require, module, exports) {
        var baseTimes = require('./_baseTimes'),
          isArguments = require('./isArguments'),
          isArray = require('./isArray'),
          isLength = require('./isLength'),
          isString = require('./isString')

        /**
         * Creates an array of index keys for `object` values of arrays,
         * `arguments` objects, and strings, otherwise `null` is returned.
         *
         * @private
         * @param {Object} object The object to query.
         * @returns {Array|null} Returns index keys, else `null`.
         */
        function indexKeys(object) {
          var length = object ? object.length : undefined
          if (
            isLength(length) &&
            (isArray(object) || isString(object) || isArguments(object))
          ) {
            return baseTimes(length, String)
          }
          return null
        }

        module.exports = indexKeys
      },
      {
        './_baseTimes': 89,
        './isArguments': 140,
        './isArray': 141,
        './isLength': 145,
        './isString': 149,
      },
    ],
    111: [
      function (require, module, exports) {
        /**
         * Gets the index at which the first occurrence of `NaN` is found in `array`.
         *
         * @private
         * @param {Array} array The array to search.
         * @param {number} fromIndex The index to search from.
         * @param {boolean} [fromRight] Specify iterating from right to left.
         * @returns {number} Returns the index of the matched `NaN`, else `-1`.
         */
        function indexOfNaN(array, fromIndex, fromRight) {
          var length = array.length,
            index = fromIndex + (fromRight ? 1 : -1)

          while (fromRight ? index-- : ++index < length) {
            var other = array[index]
            if (other !== other) {
              return index
            }
          }
          return -1
        }

        module.exports = indexOfNaN
      },
      {},
    ],
    112: [
      function (require, module, exports) {
        var isArguments = require('./isArguments'),
          isArray = require('./isArray')

        /**
         * Checks if `value` is a flattenable `arguments` object or array.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
         */
        function isFlattenable(value) {
          return isArray(value) || isArguments(value)
        }

        module.exports = isFlattenable
      },
      { './isArguments': 140, './isArray': 141 },
    ],
    113: [
      function (require, module, exports) {
        /**
         * Checks if `value` is a host object in IE < 9.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
         */
        function isHostObject(value) {
          // Many host objects are `Object` objects that can coerce to strings
          // despite having improperly defined `toString` methods.
          var result = false
          if (value != null && typeof value.toString != 'function') {
            try {
              result = !!(value + '')
            } catch (e) {}
          }
          return result
        }

        module.exports = isHostObject
      },
      {},
    ],
    114: [
      function (require, module, exports) {
        /** Used as references for various `Number` constants. */
        var MAX_SAFE_INTEGER = 9007199254740991

        /** Used to detect unsigned integer values. */
        var reIsUint = /^(?:0|[1-9]\d*)$/

        /**
         * Checks if `value` is a valid array-like index.
         *
         * @private
         * @param {*} value The value to check.
         * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
         * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
         */
        function isIndex(value, length) {
          length = length == null ? MAX_SAFE_INTEGER : length
          return (
            !!length &&
            (typeof value == 'number' || reIsUint.test(value)) &&
            value > -1 &&
            value % 1 == 0 &&
            value < length
          )
        }

        module.exports = isIndex
      },
      {},
    ],
    115: [
      function (require, module, exports) {
        var eq = require('./eq'),
          isArrayLike = require('./isArrayLike'),
          isIndex = require('./_isIndex'),
          isObject = require('./isObject')

        /**
         * Checks if the given arguments are from an iteratee call.
         *
         * @private
         * @param {*} value The potential iteratee value argument.
         * @param {*} index The potential iteratee index or key argument.
         * @param {*} object The potential iteratee object argument.
         * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
         *  else `false`.
         */
        function isIterateeCall(value, index, object) {
          if (!isObject(object)) {
            return false
          }
          var type = typeof index
          if (
            type == 'number'
              ? isArrayLike(object) && isIndex(index, object.length)
              : type == 'string' && index in object
          ) {
            return eq(object[index], value)
          }
          return false
        }

        module.exports = isIterateeCall
      },
      {
        './_isIndex': 114,
        './eq': 138,
        './isArrayLike': 142,
        './isObject': 146,
      },
    ],
    116: [
      function (require, module, exports) {
        /**
         * Checks if `value` is suitable for use as unique object key.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
         */
        function isKeyable(value) {
          var type = typeof value
          return type == 'string' ||
            type == 'number' ||
            type == 'symbol' ||
            type == 'boolean'
            ? value !== '__proto__'
            : value === null
        }

        module.exports = isKeyable
      },
      {},
    ],
    117: [
      function (require, module, exports) {
        var coreJsData = require('./_coreJsData')

        /** Used to detect methods masquerading as native. */
        var maskSrcKey = (function () {
          var uid = /[^.]+$/.exec(
            (coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO) || '',
          )
          return uid ? 'Symbol(src)_1.' + uid : ''
        })()

        /**
         * Checks if `func` has its source masked.
         *
         * @private
         * @param {Function} func The function to check.
         * @returns {boolean} Returns `true` if `func` is masked, else `false`.
         */
        function isMasked(func) {
          return !!maskSrcKey && maskSrcKey in func
        }

        module.exports = isMasked
      },
      { './_coreJsData': 97 },
    ],
    118: [
      function (require, module, exports) {
        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /**
         * Checks if `value` is likely a prototype object.
         *
         * @private
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
         */
        function isPrototype(value) {
          var Ctor = value && value.constructor,
            proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto

          return value === proto
        }

        module.exports = isPrototype
      },
      {},
    ],
    119: [
      function (require, module, exports) {
        /**
         * Converts `iterator` to an array.
         *
         * @private
         * @param {Object} iterator The iterator to convert.
         * @returns {Array} Returns the converted array.
         */
        function iteratorToArray(iterator) {
          var data,
            result = []

          while (!(data = iterator.next()).done) {
            result.push(data.value)
          }
          return result
        }

        module.exports = iteratorToArray
      },
      {},
    ],
    120: [
      function (require, module, exports) {
        /**
         * Removes all key-value entries from the list cache.
         *
         * @private
         * @name clear
         * @memberOf ListCache
         */
        function listCacheClear() {
          this.__data__ = []
        }

        module.exports = listCacheClear
      },
      {},
    ],
    121: [
      function (require, module, exports) {
        var assocIndexOf = require('./_assocIndexOf')

        /** Used for built-in method references. */
        var arrayProto = Array.prototype

        /** Built-in value references. */
        var splice = arrayProto.splice

        /**
         * Removes `key` and its value from the list cache.
         *
         * @private
         * @name delete
         * @memberOf ListCache
         * @param {string} key The key of the value to remove.
         * @returns {boolean} Returns `true` if the entry was removed, else `false`.
         */
        function listCacheDelete(key) {
          var data = this.__data__,
            index = assocIndexOf(data, key)

          if (index < 0) {
            return false
          }
          var lastIndex = data.length - 1
          if (index == lastIndex) {
            data.pop()
          } else {
            splice.call(data, index, 1)
          }
          return true
        }

        module.exports = listCacheDelete
      },
      { './_assocIndexOf': 81 },
    ],
    122: [
      function (require, module, exports) {
        var assocIndexOf = require('./_assocIndexOf')

        /**
         * Gets the list cache value for `key`.
         *
         * @private
         * @name get
         * @memberOf ListCache
         * @param {string} key The key of the value to get.
         * @returns {*} Returns the entry value.
         */
        function listCacheGet(key) {
          var data = this.__data__,
            index = assocIndexOf(data, key)

          return index < 0 ? undefined : data[index][1]
        }

        module.exports = listCacheGet
      },
      { './_assocIndexOf': 81 },
    ],
    123: [
      function (require, module, exports) {
        var assocIndexOf = require('./_assocIndexOf')

        /**
         * Checks if a list cache value for `key` exists.
         *
         * @private
         * @name has
         * @memberOf ListCache
         * @param {string} key The key of the entry to check.
         * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
         */
        function listCacheHas(key) {
          return assocIndexOf(this.__data__, key) > -1
        }

        module.exports = listCacheHas
      },
      { './_assocIndexOf': 81 },
    ],
    124: [
      function (require, module, exports) {
        var assocIndexOf = require('./_assocIndexOf')

        /**
         * Sets the list cache `key` to `value`.
         *
         * @private
         * @name set
         * @memberOf ListCache
         * @param {string} key The key of the value to set.
         * @param {*} value The value to set.
         * @returns {Object} Returns the list cache instance.
         */
        function listCacheSet(key, value) {
          var data = this.__data__,
            index = assocIndexOf(data, key)

          if (index < 0) {
            data.push([key, value])
          } else {
            data[index][1] = value
          }
          return this
        }

        module.exports = listCacheSet
      },
      { './_assocIndexOf': 81 },
    ],
    125: [
      function (require, module, exports) {
        var Hash = require('./_Hash'),
          ListCache = require('./_ListCache'),
          Map = require('./_Map')

        /**
         * Removes all key-value entries from the map.
         *
         * @private
         * @name clear
         * @memberOf MapCache
         */
        function mapCacheClear() {
          this.__data__ = {
            hash: new Hash(),
            map: new (Map || ListCache)(),
            string: new Hash(),
          }
        }

        module.exports = mapCacheClear
      },
      { './_Hash': 66, './_ListCache': 67, './_Map': 68 },
    ],
    126: [
      function (require, module, exports) {
        var getMapData = require('./_getMapData')

        /**
         * Removes `key` and its value from the map.
         *
         * @private
         * @name delete
         * @memberOf MapCache
         * @param {string} key The key of the value to remove.
         * @returns {boolean} Returns `true` if the entry was removed, else `false`.
         */
        function mapCacheDelete(key) {
          return getMapData(this, key)['delete'](key)
        }

        module.exports = mapCacheDelete
      },
      { './_getMapData': 101 },
    ],
    127: [
      function (require, module, exports) {
        var getMapData = require('./_getMapData')

        /**
         * Gets the map value for `key`.
         *
         * @private
         * @name get
         * @memberOf MapCache
         * @param {string} key The key of the value to get.
         * @returns {*} Returns the entry value.
         */
        function mapCacheGet(key) {
          return getMapData(this, key).get(key)
        }

        module.exports = mapCacheGet
      },
      { './_getMapData': 101 },
    ],
    128: [
      function (require, module, exports) {
        var getMapData = require('./_getMapData')

        /**
         * Checks if a map value for `key` exists.
         *
         * @private
         * @name has
         * @memberOf MapCache
         * @param {string} key The key of the entry to check.
         * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
         */
        function mapCacheHas(key) {
          return getMapData(this, key).has(key)
        }

        module.exports = mapCacheHas
      },
      { './_getMapData': 101 },
    ],
    129: [
      function (require, module, exports) {
        var getMapData = require('./_getMapData')

        /**
         * Sets the map `key` to `value`.
         *
         * @private
         * @name set
         * @memberOf MapCache
         * @param {string} key The key of the value to set.
         * @param {*} value The value to set.
         * @returns {Object} Returns the map cache instance.
         */
        function mapCacheSet(key, value) {
          getMapData(this, key).set(key, value)
          return this
        }

        module.exports = mapCacheSet
      },
      { './_getMapData': 101 },
    ],
    130: [
      function (require, module, exports) {
        var getNative = require('./_getNative')

        /* Built-in method references that are verified to be native. */
        var nativeCreate = getNative(Object, 'create')

        module.exports = nativeCreate
      },
      { './_getNative': 102 },
    ],
    131: [
      function (require, module, exports) {
        ;(function (global) {
          var checkGlobal = require('./_checkGlobal')

          /** Detect free variable `global` from Node.js. */
          var freeGlobal = checkGlobal(typeof global == 'object' && global)

          /** Detect free variable `self`. */
          var freeSelf = checkGlobal(typeof self == 'object' && self)

          /** Detect `this` as the global object. */
          var thisGlobal = checkGlobal(typeof this == 'object' && this)

          /** Used as a reference to the global object. */
          var root =
            freeGlobal || freeSelf || thisGlobal || Function('return this')()

          module.exports = root
        }).call(
          this,
          typeof global !== 'undefined'
            ? global
            : typeof self !== 'undefined'
              ? self
              : typeof window !== 'undefined'
                ? window
                : {},
        )
      },
      { './_checkGlobal': 95 },
    ],
    132: [
      function (require, module, exports) {
        /** Used to stand-in for `undefined` hash values. */
        var HASH_UNDEFINED = '__lodash_hash_undefined__'

        /**
         * Adds `value` to the array cache.
         *
         * @private
         * @name add
         * @memberOf SetCache
         * @alias push
         * @param {*} value The value to cache.
         * @returns {Object} Returns the cache instance.
         */
        function setCacheAdd(value) {
          this.__data__.set(value, HASH_UNDEFINED)
          return this
        }

        module.exports = setCacheAdd
      },
      {},
    ],
    133: [
      function (require, module, exports) {
        /**
         * Checks if `value` is in the array cache.
         *
         * @private
         * @name has
         * @memberOf SetCache
         * @param {*} value The value to search for.
         * @returns {number} Returns `true` if `value` is found, else `false`.
         */
        function setCacheHas(value) {
          return this.__data__.has(value)
        }

        module.exports = setCacheHas
      },
      {},
    ],
    134: [
      function (require, module, exports) {
        /**
         * Converts `set` to an array of its values.
         *
         * @private
         * @param {Object} set The set to convert.
         * @returns {Array} Returns the values.
         */
        function setToArray(set) {
          var index = -1,
            result = Array(set.size)

          set.forEach(function (value) {
            result[++index] = value
          })
          return result
        }

        module.exports = setToArray
      },
      {},
    ],
    135: [
      function (require, module, exports) {
        /** Used to resolve the decompiled source of functions. */
        var funcToString = Function.prototype.toString

        /**
         * Converts `func` to its source code.
         *
         * @private
         * @param {Function} func The function to process.
         * @returns {string} Returns the source code.
         */
        function toSource(func) {
          if (func != null) {
            try {
              return funcToString.call(func)
            } catch (e) {}
            try {
              return func + ''
            } catch (e) {}
          }
          return ''
        }

        module.exports = toSource
      },
      {},
    ],
    136: [
      function (require, module, exports) {
        var copyObject = require('./_copyObject'),
          createAssigner = require('./_createAssigner'),
          keysIn = require('./keysIn')

        /**
         * This method is like `_.assignIn` except that it accepts `customizer`
         * which is invoked to produce the assigned values. If `customizer` returns
         * `undefined`, assignment is handled by the method instead. The `customizer`
         * is invoked with five arguments: (objValue, srcValue, key, object, source).
         *
         * **Note:** This method mutates `object`.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @alias extendWith
         * @category Object
         * @param {Object} object The destination object.
         * @param {...Object} sources The source objects.
         * @param {Function} [customizer] The function to customize assigned values.
         * @returns {Object} Returns `object`.
         * @see _.assignWith
         * @example
         *
         * function customizer(objValue, srcValue) {
         *   return _.isUndefined(objValue) ? srcValue : objValue;
         * }
         *
         * var defaults = _.partialRight(_.assignInWith, customizer);
         *
         * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
         * // => { 'a': 1, 'b': 2 }
         */
        var assignInWith = createAssigner(
          function (object, source, srcIndex, customizer) {
            copyObject(source, keysIn(source), object, customizer)
          },
        )

        module.exports = assignInWith
      },
      { './_copyObject': 96, './_createAssigner': 98, './keysIn': 151 },
    ],
    137: [
      function (require, module, exports) {
        var apply = require('./_apply'),
          assignInDefaults = require('./_assignInDefaults'),
          assignInWith = require('./assignInWith'),
          rest = require('./rest')

        /**
         * Assigns own and inherited enumerable string keyed properties of source
         * objects to the destination object for all destination properties that
         * resolve to `undefined`. Source objects are applied from left to right.
         * Once a property is set, additional values of the same property are ignored.
         *
         * **Note:** This method mutates `object`.
         *
         * @static
         * @since 0.1.0
         * @memberOf _
         * @category Object
         * @param {Object} object The destination object.
         * @param {...Object} [sources] The source objects.
         * @returns {Object} Returns `object`.
         * @see _.defaultsDeep
         * @example
         *
         * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });
         * // => { 'user': 'barney', 'age': 36 }
         */
        var defaults = rest(function (args) {
          args.push(undefined, assignInDefaults)
          return apply(assignInWith, undefined, args)
        })

        module.exports = defaults
      },
      {
        './_apply': 73,
        './_assignInDefaults': 79,
        './assignInWith': 136,
        './rest': 154,
      },
    ],
    138: [
      function (require, module, exports) {
        /**
         * Performs a
         * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)
         * comparison between two values to determine if they are equivalent.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to compare.
         * @param {*} other The other value to compare.
         * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
         * @example
         *
         * var object = { 'user': 'fred' };
         * var other = { 'user': 'fred' };
         *
         * _.eq(object, object);
         * // => true
         *
         * _.eq(object, other);
         * // => false
         *
         * _.eq('a', 'a');
         * // => true
         *
         * _.eq('a', Object('a'));
         * // => false
         *
         * _.eq(NaN, NaN);
         * // => true
         */
        function eq(value, other) {
          return value === other || (value !== value && other !== other)
        }

        module.exports = eq
      },
      {},
    ],
    139: [
      function (require, module, exports) {
        var arrayMap = require('./_arrayMap'),
          baseIntersection = require('./_baseIntersection'),
          castArrayLikeObject = require('./_castArrayLikeObject'),
          rest = require('./rest')

        /**
         * Creates an array of unique values that are included in all given arrays
         * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)
         * for equality comparisons. The order of result values is determined by the
         * order they occur in the first array.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Array
         * @param {...Array} [arrays] The arrays to inspect.
         * @returns {Array} Returns the new array of intersecting values.
         * @example
         *
         * _.intersection([2, 1], [2, 3]);
         * // => [2]
         */
        var intersection = rest(function (arrays) {
          var mapped = arrayMap(arrays, castArrayLikeObject)
          return mapped.length && mapped[0] === arrays[0]
            ? baseIntersection(mapped)
            : []
        })

        module.exports = intersection
      },
      {
        './_arrayMap': 77,
        './_baseIntersection': 85,
        './_castArrayLikeObject': 94,
        './rest': 154,
      },
    ],
    140: [
      function (require, module, exports) {
        var isArrayLikeObject = require('./isArrayLikeObject')

        /** `Object#toString` result references. */
        var argsTag = '[object Arguments]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /** Built-in value references. */
        var propertyIsEnumerable = objectProto.propertyIsEnumerable

        /**
         * Checks if `value` is likely an `arguments` object.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified,
         *  else `false`.
         * @example
         *
         * _.isArguments(function() { return arguments; }());
         * // => true
         *
         * _.isArguments([1, 2, 3]);
         * // => false
         */
        function isArguments(value) {
          // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.
          return (
            isArrayLikeObject(value) &&
            hasOwnProperty.call(value, 'callee') &&
            (!propertyIsEnumerable.call(value, 'callee') ||
              objectToString.call(value) == argsTag)
          )
        }

        module.exports = isArguments
      },
      { './isArrayLikeObject': 143 },
    ],
    141: [
      function (require, module, exports) {
        /**
         * Checks if `value` is classified as an `Array` object.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @type {Function}
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified,
         *  else `false`.
         * @example
         *
         * _.isArray([1, 2, 3]);
         * // => true
         *
         * _.isArray(document.body.children);
         * // => false
         *
         * _.isArray('abc');
         * // => false
         *
         * _.isArray(_.noop);
         * // => false
         */
        var isArray = Array.isArray

        module.exports = isArray
      },
      {},
    ],
    142: [
      function (require, module, exports) {
        var getLength = require('./_getLength'),
          isFunction = require('./isFunction'),
          isLength = require('./isLength')

        /**
         * Checks if `value` is array-like. A value is considered array-like if it's
         * not a function and has a `value.length` that's an integer greater than or
         * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
         * @example
         *
         * _.isArrayLike([1, 2, 3]);
         * // => true
         *
         * _.isArrayLike(document.body.children);
         * // => true
         *
         * _.isArrayLike('abc');
         * // => true
         *
         * _.isArrayLike(_.noop);
         * // => false
         */
        function isArrayLike(value) {
          return (
            value != null && isLength(getLength(value)) && !isFunction(value)
          )
        }

        module.exports = isArrayLike
      },
      { './_getLength': 100, './isFunction': 144, './isLength': 145 },
    ],
    143: [
      function (require, module, exports) {
        var isArrayLike = require('./isArrayLike'),
          isObjectLike = require('./isObjectLike')

        /**
         * This method is like `_.isArrayLike` except that it also checks if `value`
         * is an object.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an array-like object,
         *  else `false`.
         * @example
         *
         * _.isArrayLikeObject([1, 2, 3]);
         * // => true
         *
         * _.isArrayLikeObject(document.body.children);
         * // => true
         *
         * _.isArrayLikeObject('abc');
         * // => false
         *
         * _.isArrayLikeObject(_.noop);
         * // => false
         */
        function isArrayLikeObject(value) {
          return isObjectLike(value) && isArrayLike(value)
        }

        module.exports = isArrayLikeObject
      },
      { './isArrayLike': 142, './isObjectLike': 147 },
    ],
    144: [
      function (require, module, exports) {
        var isObject = require('./isObject')

        /** `Object#toString` result references. */
        var funcTag = '[object Function]',
          genTag = '[object GeneratorFunction]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /**
         * Checks if `value` is classified as a `Function` object.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified,
         *  else `false`.
         * @example
         *
         * _.isFunction(_);
         * // => true
         *
         * _.isFunction(/abc/);
         * // => false
         */
        function isFunction(value) {
          // The use of `Object#toString` avoids issues with the `typeof` operator
          // in Safari 8 which returns 'object' for typed array and weak map constructors,
          // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.
          var tag = isObject(value) ? objectToString.call(value) : ''
          return tag == funcTag || tag == genTag
        }

        module.exports = isFunction
      },
      { './isObject': 146 },
    ],
    145: [
      function (require, module, exports) {
        /** Used as references for various `Number` constants. */
        var MAX_SAFE_INTEGER = 9007199254740991

        /**
         * Checks if `value` is a valid array-like length.
         *
         * **Note:** This function is loosely based on
         * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a valid length,
         *  else `false`.
         * @example
         *
         * _.isLength(3);
         * // => true
         *
         * _.isLength(Number.MIN_VALUE);
         * // => false
         *
         * _.isLength(Infinity);
         * // => false
         *
         * _.isLength('3');
         * // => false
         */
        function isLength(value) {
          return (
            typeof value == 'number' &&
            value > -1 &&
            value % 1 == 0 &&
            value <= MAX_SAFE_INTEGER
          )
        }

        module.exports = isLength
      },
      {},
    ],
    146: [
      function (require, module, exports) {
        /**
         * Checks if `value` is the
         * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)
         * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is an object, else `false`.
         * @example
         *
         * _.isObject({});
         * // => true
         *
         * _.isObject([1, 2, 3]);
         * // => true
         *
         * _.isObject(_.noop);
         * // => true
         *
         * _.isObject(null);
         * // => false
         */
        function isObject(value) {
          var type = typeof value
          return !!value && (type == 'object' || type == 'function')
        }

        module.exports = isObject
      },
      {},
    ],
    147: [
      function (require, module, exports) {
        /**
         * Checks if `value` is object-like. A value is object-like if it's not `null`
         * and has a `typeof` result of "object".
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
         * @example
         *
         * _.isObjectLike({});
         * // => true
         *
         * _.isObjectLike([1, 2, 3]);
         * // => true
         *
         * _.isObjectLike(_.noop);
         * // => false
         *
         * _.isObjectLike(null);
         * // => false
         */
        function isObjectLike(value) {
          return !!value && typeof value == 'object'
        }

        module.exports = isObjectLike
      },
      {},
    ],
    148: [
      function (require, module, exports) {
        var getPrototype = require('./_getPrototype'),
          isHostObject = require('./_isHostObject'),
          isObjectLike = require('./isObjectLike')

        /** `Object#toString` result references. */
        var objectTag = '[object Object]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to resolve the decompiled source of functions. */
        var funcToString = Function.prototype.toString

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /** Used to infer the `Object` constructor. */
        var objectCtorString = funcToString.call(Object)

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /**
         * Checks if `value` is a plain object, that is, an object created by the
         * `Object` constructor or one with a `[[Prototype]]` of `null`.
         *
         * @static
         * @memberOf _
         * @since 0.8.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is a plain object,
         *  else `false`.
         * @example
         *
         * function Foo() {
         *   this.a = 1;
         * }
         *
         * _.isPlainObject(new Foo);
         * // => false
         *
         * _.isPlainObject([1, 2, 3]);
         * // => false
         *
         * _.isPlainObject({ 'x': 0, 'y': 0 });
         * // => true
         *
         * _.isPlainObject(Object.create(null));
         * // => true
         */
        function isPlainObject(value) {
          if (
            !isObjectLike(value) ||
            objectToString.call(value) != objectTag ||
            isHostObject(value)
          ) {
            return false
          }
          var proto = getPrototype(value)
          if (proto === null) {
            return true
          }
          var Ctor =
            hasOwnProperty.call(proto, 'constructor') && proto.constructor
          return (
            typeof Ctor == 'function' &&
            Ctor instanceof Ctor &&
            funcToString.call(Ctor) == objectCtorString
          )
        }

        module.exports = isPlainObject
      },
      { './_getPrototype': 103, './_isHostObject': 113, './isObjectLike': 147 },
    ],
    149: [
      function (require, module, exports) {
        var isArray = require('./isArray'),
          isObjectLike = require('./isObjectLike')

        /** `Object#toString` result references. */
        var stringTag = '[object String]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /**
         * Checks if `value` is classified as a `String` primitive or object.
         *
         * @static
         * @since 0.1.0
         * @memberOf _
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified,
         *  else `false`.
         * @example
         *
         * _.isString('abc');
         * // => true
         *
         * _.isString(1);
         * // => false
         */
        function isString(value) {
          return (
            typeof value == 'string' ||
            (!isArray(value) &&
              isObjectLike(value) &&
              objectToString.call(value) == stringTag)
          )
        }

        module.exports = isString
      },
      { './isArray': 141, './isObjectLike': 147 },
    ],
    150: [
      function (require, module, exports) {
        var isObjectLike = require('./isObjectLike')

        /** `Object#toString` result references. */
        var symbolTag = '[object Symbol]'

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /**
         * Used to resolve the
         * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
         * of values.
         */
        var objectToString = objectProto.toString

        /**
         * Checks if `value` is classified as a `Symbol` primitive or object.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to check.
         * @returns {boolean} Returns `true` if `value` is correctly classified,
         *  else `false`.
         * @example
         *
         * _.isSymbol(Symbol.iterator);
         * // => true
         *
         * _.isSymbol('abc');
         * // => false
         */
        function isSymbol(value) {
          return (
            typeof value == 'symbol' ||
            (isObjectLike(value) && objectToString.call(value) == symbolTag)
          )
        }

        module.exports = isSymbol
      },
      { './isObjectLike': 147 },
    ],
    151: [
      function (require, module, exports) {
        var baseKeysIn = require('./_baseKeysIn'),
          indexKeys = require('./_indexKeys'),
          isIndex = require('./_isIndex'),
          isPrototype = require('./_isPrototype')

        /** Used for built-in method references. */
        var objectProto = Object.prototype

        /** Used to check objects for own properties. */
        var hasOwnProperty = objectProto.hasOwnProperty

        /**
         * Creates an array of the own and inherited enumerable property names of `object`.
         *
         * **Note:** Non-object values are coerced to objects.
         *
         * @static
         * @memberOf _
         * @since 3.0.0
         * @category Object
         * @param {Object} object The object to query.
         * @returns {Array} Returns the array of property names.
         * @example
         *
         * function Foo() {
         *   this.a = 1;
         *   this.b = 2;
         * }
         *
         * Foo.prototype.c = 3;
         *
         * _.keysIn(new Foo);
         * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
         */
        function keysIn(object) {
          var index = -1,
            isProto = isPrototype(object),
            props = baseKeysIn(object),
            propsLength = props.length,
            indexes = indexKeys(object),
            skipIndexes = !!indexes,
            result = indexes || [],
            length = result.length

          while (++index < propsLength) {
            var key = props[index]
            if (
              !(skipIndexes && (key == 'length' || isIndex(key, length))) &&
              !(
                key == 'constructor' &&
                (isProto || !hasOwnProperty.call(object, key))
              )
            ) {
              result.push(key)
            }
          }
          return result
        }

        module.exports = keysIn
      },
      {
        './_baseKeysIn': 87,
        './_indexKeys': 110,
        './_isIndex': 114,
        './_isPrototype': 118,
      },
    ],
    152: [
      function (require, module, exports) {
        var MapCache = require('./_MapCache')

        /** Used as the `TypeError` message for "Functions" methods. */
        var FUNC_ERROR_TEXT = 'Expected a function'

        /**
         * Creates a function that memoizes the result of `func`. If `resolver` is
         * provided, it determines the cache key for storing the result based on the
         * arguments provided to the memoized function. By default, the first argument
         * provided to the memoized function is used as the map cache key. The `func`
         * is invoked with the `this` binding of the memoized function.
         *
         * **Note:** The cache is exposed as the `cache` property on the memoized
         * function. Its creation may be customized by replacing the `_.memoize.Cache`
         * constructor with one whose instances implement the
         * [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)
         * method interface of `delete`, `get`, `has`, and `set`.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Function
         * @param {Function} func The function to have its output memoized.
         * @param {Function} [resolver] The function to resolve the cache key.
         * @returns {Function} Returns the new memoized function.
         * @example
         *
         * var object = { 'a': 1, 'b': 2 };
         * var other = { 'c': 3, 'd': 4 };
         *
         * var values = _.memoize(_.values);
         * values(object);
         * // => [1, 2]
         *
         * values(other);
         * // => [3, 4]
         *
         * object.a = 2;
         * values(object);
         * // => [1, 2]
         *
         * // Modify the result cache.
         * values.cache.set(object, ['a', 'b']);
         * values(object);
         * // => ['a', 'b']
         *
         * // Replace `_.memoize.Cache`.
         * _.memoize.Cache = WeakMap;
         */
        function memoize(func, resolver) {
          if (
            typeof func != 'function' ||
            (resolver && typeof resolver != 'function')
          ) {
            throw new TypeError(FUNC_ERROR_TEXT)
          }
          var memoized = function () {
            var args = arguments,
              key = resolver ? resolver.apply(this, args) : args[0],
              cache = memoized.cache

            if (cache.has(key)) {
              return cache.get(key)
            }
            var result = func.apply(this, args)
            memoized.cache = cache.set(key, result)
            return result
          }
          memoized.cache = new (memoize.Cache || MapCache)()
          return memoized
        }

        // Assign cache to `_.memoize`.
        memoize.Cache = MapCache

        module.exports = memoize
      },
      { './_MapCache': 69 },
    ],
    153: [
      function (require, module, exports) {
        /**
         * A method that returns `undefined`.
         *
         * @static
         * @memberOf _
         * @since 2.3.0
         * @category Util
         * @example
         *
         * _.times(2, _.noop);
         * // => [undefined, undefined]
         */
        function noop() {
          // No operation performed.
        }

        module.exports = noop
      },
      {},
    ],
    154: [
      function (require, module, exports) {
        var apply = require('./_apply'),
          toInteger = require('./toInteger')

        /** Used as the `TypeError` message for "Functions" methods. */
        var FUNC_ERROR_TEXT = 'Expected a function'

        /* Built-in method references for those with the same name as other `lodash` methods. */
        var nativeMax = Math.max

        /**
         * Creates a function that invokes `func` with the `this` binding of the
         * created function and arguments from `start` and beyond provided as
         * an array.
         *
         * **Note:** This method is based on the
         * [rest parameter](https://mdn.io/rest_parameters).
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Function
         * @param {Function} func The function to apply a rest parameter to.
         * @param {number} [start=func.length-1] The start position of the rest parameter.
         * @returns {Function} Returns the new function.
         * @example
         *
         * var say = _.rest(function(what, names) {
         *   return what + ' ' + _.initial(names).join(', ') +
         *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);
         * });
         *
         * say('hello', 'fred', 'barney', 'pebbles');
         * // => 'hello fred, barney, & pebbles'
         */
        function rest(func, start) {
          if (typeof func != 'function') {
            throw new TypeError(FUNC_ERROR_TEXT)
          }
          start = nativeMax(
            start === undefined ? func.length - 1 : toInteger(start),
            0,
          )
          return function () {
            var args = arguments,
              index = -1,
              length = nativeMax(args.length - start, 0),
              array = Array(length)

            while (++index < length) {
              array[index] = args[start + index]
            }
            switch (start) {
              case 0:
                return func.call(this, array)
              case 1:
                return func.call(this, args[0], array)
              case 2:
                return func.call(this, args[0], args[1], array)
            }
            var otherArgs = Array(start + 1)
            index = -1
            while (++index < start) {
              otherArgs[index] = args[index]
            }
            otherArgs[start] = array
            return apply(func, this, otherArgs)
          }
        }

        module.exports = rest
      },
      { './_apply': 73, './toInteger': 156 },
    ],
    155: [
      function (require, module, exports) {
        var toNumber = require('./toNumber')

        /** Used as references for various `Number` constants. */
        var INFINITY = 1 / 0,
          MAX_INTEGER = 1.7976931348623157e308

        /**
         * Converts `value` to a finite number.
         *
         * @static
         * @memberOf _
         * @since 4.12.0
         * @category Lang
         * @param {*} value The value to convert.
         * @returns {number} Returns the converted number.
         * @example
         *
         * _.toFinite(3.2);
         * // => 3.2
         *
         * _.toFinite(Number.MIN_VALUE);
         * // => 5e-324
         *
         * _.toFinite(Infinity);
         * // => 1.7976931348623157e+308
         *
         * _.toFinite('3.2');
         * // => 3.2
         */
        function toFinite(value) {
          if (!value) {
            return value === 0 ? value : 0
          }
          value = toNumber(value)
          if (value === INFINITY || value === -INFINITY) {
            var sign = value < 0 ? -1 : 1
            return sign * MAX_INTEGER
          }
          return value === value ? value : 0
        }

        module.exports = toFinite
      },
      { './toNumber': 157 },
    ],
    156: [
      function (require, module, exports) {
        var toFinite = require('./toFinite')

        /**
         * Converts `value` to an integer.
         *
         * **Note:** This method is loosely based on
         * [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to convert.
         * @returns {number} Returns the converted integer.
         * @example
         *
         * _.toInteger(3.2);
         * // => 3
         *
         * _.toInteger(Number.MIN_VALUE);
         * // => 0
         *
         * _.toInteger(Infinity);
         * // => 1.7976931348623157e+308
         *
         * _.toInteger('3.2');
         * // => 3
         */
        function toInteger(value) {
          var result = toFinite(value),
            remainder = result % 1

          return result === result
            ? remainder
              ? result - remainder
              : result
            : 0
        }

        module.exports = toInteger
      },
      { './toFinite': 155 },
    ],
    157: [
      function (require, module, exports) {
        var isFunction = require('./isFunction'),
          isObject = require('./isObject'),
          isSymbol = require('./isSymbol')

        /** Used as references for various `Number` constants. */
        var NAN = 0 / 0

        /** Used to match leading and trailing whitespace. */
        var reTrim = /^\s+|\s+$/g

        /** Used to detect bad signed hexadecimal string values. */
        var reIsBadHex = /^[-+]0x[0-9a-f]+$/i

        /** Used to detect binary string values. */
        var reIsBinary = /^0b[01]+$/i

        /** Used to detect octal string values. */
        var reIsOctal = /^0o[0-7]+$/i

        /** Built-in method references without a dependency on `root`. */
        var freeParseInt = parseInt

        /**
         * Converts `value` to a number.
         *
         * @static
         * @memberOf _
         * @since 4.0.0
         * @category Lang
         * @param {*} value The value to process.
         * @returns {number} Returns the number.
         * @example
         *
         * _.toNumber(3.2);
         * // => 3.2
         *
         * _.toNumber(Number.MIN_VALUE);
         * // => 5e-324
         *
         * _.toNumber(Infinity);
         * // => Infinity
         *
         * _.toNumber('3.2');
         * // => 3.2
         */
        function toNumber(value) {
          if (typeof value == 'number') {
            return value
          }
          if (isSymbol(value)) {
            return NAN
          }
          if (isObject(value)) {
            var other = isFunction(value.valueOf) ? value.valueOf() : value
            value = isObject(other) ? other + '' : other
          }
          if (typeof value != 'string') {
            return value === 0 ? value : +value
          }
          value = value.replace(reTrim, '')
          var isBinary = reIsBinary.test(value)
          return isBinary || reIsOctal.test(value)
            ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
            : reIsBadHex.test(value)
              ? NAN
              : +value
        }

        module.exports = toNumber
      },
      { './isFunction': 144, './isObject': 146, './isSymbol': 150 },
    ],
    158: [
      function (require, module, exports) {
        var baseFlatten = require('./_baseFlatten'),
          baseUniq = require('./_baseUniq'),
          isArrayLikeObject = require('./isArrayLikeObject'),
          rest = require('./rest')

        /**
         * Creates an array of unique values, in order, from all given arrays using
         * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)
         * for equality comparisons.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Array
         * @param {...Array} [arrays] The arrays to inspect.
         * @returns {Array} Returns the new array of combined values.
         * @example
         *
         * _.union([2], [1, 2]);
         * // => [2, 1]
         */
        var union = rest(function (arrays) {
          return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true))
        })

        module.exports = union
      },
      {
        './_baseFlatten': 83,
        './_baseUniq': 91,
        './isArrayLikeObject': 143,
        './rest': 154,
      },
    ],
    159: [
      function (require, module, exports) {
        var baseDifference = require('./_baseDifference'),
          isArrayLikeObject = require('./isArrayLikeObject'),
          rest = require('./rest')

        /**
         * Creates an array excluding all given values using
         * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)
         * for equality comparisons.
         *
         * @static
         * @memberOf _
         * @since 0.1.0
         * @category Array
         * @param {Array} array The array to inspect.
         * @param {...*} [values] The values to exclude.
         * @returns {Array} Returns the new array of filtered values.
         * @see _.difference, _.xor
         * @example
         *
         * _.without([2, 1, 2, 3], 1, 2);
         * // => [3]
         */
        var without = rest(function (array, values) {
          return isArrayLikeObject(array) ? baseDifference(array, values) : []
        })

        module.exports = without
      },
      { './_baseDifference': 82, './isArrayLikeObject': 143, './rest': 154 },
    ],
    160: [
      function (require, module, exports) {
        var arrayFilter = require('./_arrayFilter'),
          baseXor = require('./_baseXor'),
          isArrayLikeObject = require('./isArrayLikeObject'),
          rest = require('./rest')

        /**
         * Creates an array of unique values that is the
         * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)
         * of the given arrays. The order of result values is determined by the order
         * they occur in the arrays.
         *
         * @static
         * @memberOf _
         * @since 2.4.0
         * @category Array
         * @param {...Array} [arrays] The arrays to inspect.
         * @returns {Array} Returns the new array of filtered values.
         * @see _.difference, _.without
         * @example
         *
         * _.xor([2, 1], [2, 3]);
         * // => [1, 3]
         */
        var xor = rest(function (arrays) {
          return baseXor(arrayFilter(arrays, isArrayLikeObject))
        })

        module.exports = xor
      },
      {
        './_arrayFilter': 74,
        './_baseXor': 92,
        './isArrayLikeObject': 143,
        './rest': 154,
      },
    ],
    161: [
      function (require, module, exports) {
        'use strict'
        /* eslint-disable no-unused-vars */
        var hasOwnProperty = Object.prototype.hasOwnProperty
        var propIsEnumerable = Object.prototype.propertyIsEnumerable

        function toObject(val) {
          if (val === null || val === undefined) {
            throw new TypeError(
              'Object.assign cannot be called with null or undefined',
            )
          }

          return Object(val)
        }

        function shouldUseNative() {
          try {
            if (!Object.assign) {
              return false
            }

            // Detect buggy property enumeration order in older V8 versions.

            // https://bugs.chromium.org/p/v8/issues/detail?id=4118
            var test1 = new String('abc') // eslint-disable-line
            test1[5] = 'de'
            if (Object.getOwnPropertyNames(test1)[0] === '5') {
              return false
            }

            // https://bugs.chromium.org/p/v8/issues/detail?id=3056
            var test2 = {}
            for (var i = 0; i < 10; i++) {
              test2['_' + String.fromCharCode(i)] = i
            }
            var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
              return test2[n]
            })
            if (order2.join('') !== '0123456789') {
              return false
            }

            // https://bugs.chromium.org/p/v8/issues/detail?id=3056
            var test3 = {}
            'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
              test3[letter] = letter
            })
            if (
              Object.keys(Object.assign({}, test3)).join('') !==
              'abcdefghijklmnopqrst'
            ) {
              return false
            }

            return true
          } catch (e) {
            // We don't expect any of the above to throw, but better to be safe.
            return false
          }
        }

        module.exports = shouldUseNative()
          ? Object.assign
          : function (target, source) {
              var from
              var to = toObject(target)
              var symbols

              for (var s = 1; s < arguments.length; s++) {
                from = Object(arguments[s])

                for (var key in from) {
                  if (hasOwnProperty.call(from, key)) {
                    to[key] = from[key]
                  }
                }

                if (Object.getOwnPropertySymbols) {
                  symbols = Object.getOwnPropertySymbols(from)
                  for (var i = 0; i < symbols.length; i++) {
                    if (propIsEnumerable.call(from, symbols[i])) {
                      to[symbols[i]] = from[symbols[i]]
                    }
                  }
                }
              }

              return to
            }
      },
      {},
    ],
    162: [
      function (require, module, exports) {
        // shim for using process in browser

        var process = (module.exports = {})

        // cached from whatever global is present so that test runners that stub it
        // don't break things.  But we need to wrap it in a try catch in case it is
        // wrapped in strict mode code which doesn't define any globals.  It's inside a
        // function because try/catches deoptimize in certain engines.

        var cachedSetTimeout
        var cachedClearTimeout

        ;(function () {
          try {
            cachedSetTimeout = setTimeout
          } catch (e) {
            cachedSetTimeout = function () {
              throw new Error('setTimeout is not defined')
            }
          }
          try {
            cachedClearTimeout = clearTimeout
          } catch (e) {
            cachedClearTimeout = function () {
              throw new Error('clearTimeout is not defined')
            }
          }
        })()
        var queue = []
        var draining = false
        var currentQueue
        var queueIndex = -1

        function cleanUpNextTick() {
          if (!draining || !currentQueue) {
            return
          }
          draining = false
          if (currentQueue.length) {
            queue = currentQueue.concat(queue)
          } else {
            queueIndex = -1
          }
          if (queue.length) {
            drainQueue()
          }
        }

        function drainQueue() {
          if (draining) {
            return
          }
          var timeout = cachedSetTimeout(cleanUpNextTick)
          draining = true

          var len = queue.length
          while (len) {
            currentQueue = queue
            queue = []
            while (++queueIndex < len) {
              if (currentQueue) {
                currentQueue[queueIndex].run()
              }
            }
            queueIndex = -1
            len = queue.length
          }
          currentQueue = null
          draining = false
          cachedClearTimeout(timeout)
        }

        process.nextTick = function (fun) {
          var args = new Array(arguments.length - 1)
          if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; i++) {
              args[i - 1] = arguments[i]
            }
          }
          queue.push(new Item(fun, args))
          if (queue.length === 1 && !draining) {
            cachedSetTimeout(drainQueue, 0)
          }
        }

        // v8 likes predictible objects
        function Item(fun, array) {
          this.fun = fun
          this.array = array
        }
        Item.prototype.run = function () {
          this.fun.apply(null, this.array)
        }
        process.title = 'browser'
        process.browser = true
        process.env = {}
        process.argv = []
        process.version = '' // empty string to avoid regexp issues
        process.versions = {}

        function noop() {}

        process.on = noop
        process.addListener = noop
        process.once = noop
        process.off = noop
        process.removeListener = noop
        process.removeAllListeners = noop
        process.emit = noop

        process.binding = function (name) {
          throw new Error('process.binding is not supported')
        }

        process.cwd = function () {
          return '/'
        }
        process.chdir = function (dir) {
          throw new Error('process.chdir is not supported')
        }
        process.umask = function () {
          return 0
        }
      },
      {},
    ],
    163: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.isSafari = exports.isFirefox = undefined

        var _memoize = require('lodash/memoize')

        var _memoize2 = _interopRequireDefault(_memoize)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var isFirefox = (exports.isFirefox = (0, _memoize2.default)(
          function () {
            return /firefox/i.test(navigator.userAgent)
          },
        ))
        var isSafari = (exports.isSafari = (0, _memoize2.default)(function () {
          return Boolean(window.safari)
        }))
      },
      { 'lodash/memoize': 152 },
    ],
    164: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _union = require('lodash/union')

        var _union2 = _interopRequireDefault(_union)

        var _without = require('lodash/without')

        var _without2 = _interopRequireDefault(_without)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var EnterLeaveCounter = (function () {
          function EnterLeaveCounter() {
            _classCallCheck(this, EnterLeaveCounter)

            this.entered = []
          }

          _createClass(EnterLeaveCounter, [
            {
              key: 'enter',
              value: function enter(enteringNode) {
                var previousLength = this.entered.length

                var isNodeEntered = function isNodeEntered(node) {
                  return (
                    document.documentElement.contains(node) &&
                    (!node.contains || node.contains(enteringNode))
                  )
                }

                this.entered = (0, _union2.default)(
                  this.entered.filter(isNodeEntered),
                  [enteringNode],
                )

                return previousLength === 0 && this.entered.length > 0
              },
            },
            {
              key: 'leave',
              value: function leave(leavingNode) {
                var previousLength = this.entered.length

                this.entered = (0, _without2.default)(
                  this.entered.filter(function (node) {
                    return document.documentElement.contains(node)
                  }),
                  leavingNode,
                )

                return previousLength > 0 && this.entered.length === 0
              },
            },
            {
              key: 'reset',
              value: function reset() {
                this.entered = []
              },
            },
          ])

          return EnterLeaveCounter
        })()

        exports.default = EnterLeaveCounter
      },
      { 'lodash/union': 158, 'lodash/without': 159 },
    ],
    165: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _defaults = require('lodash/defaults')

        var _defaults2 = _interopRequireDefault(_defaults)

        var _shallowEqual = require('./shallowEqual')

        var _shallowEqual2 = _interopRequireDefault(_shallowEqual)

        var _EnterLeaveCounter = require('./EnterLeaveCounter')

        var _EnterLeaveCounter2 = _interopRequireDefault(_EnterLeaveCounter)

        var _BrowserDetector = require('./BrowserDetector')

        var _OffsetUtils = require('./OffsetUtils')

        var _NativeDragSources = require('./NativeDragSources')

        var _NativeTypes = require('./NativeTypes')

        var NativeTypes = _interopRequireWildcard(_NativeTypes)

        function _interopRequireWildcard(obj) {
          if (obj && obj.__esModule) {
            return obj
          } else {
            var newObj = {}
            if (obj != null) {
              for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key))
                  newObj[key] = obj[key]
              }
            }
            newObj.default = obj
            return newObj
          }
        }

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var HTML5Backend = (function () {
          function HTML5Backend(manager) {
            _classCallCheck(this, HTML5Backend)

            this.actions = manager.getActions()
            this.monitor = manager.getMonitor()
            this.registry = manager.getRegistry()
            this.context = manager.getContext()

            this.sourcePreviewNodes = {}
            this.sourcePreviewNodeOptions = {}
            this.sourceNodes = {}
            this.sourceNodeOptions = {}
            this.enterLeaveCounter = new _EnterLeaveCounter2.default()

            this.getSourceClientOffset = this.getSourceClientOffset.bind(this)
            this.handleTopDragStart = this.handleTopDragStart.bind(this)
            this.handleTopDragStartCapture =
              this.handleTopDragStartCapture.bind(this)
            this.handleTopDragEndCapture =
              this.handleTopDragEndCapture.bind(this)
            this.handleTopDragEnter = this.handleTopDragEnter.bind(this)
            this.handleTopDragEnterCapture =
              this.handleTopDragEnterCapture.bind(this)
            this.handleTopDragLeaveCapture =
              this.handleTopDragLeaveCapture.bind(this)
            this.handleTopDragOver = this.handleTopDragOver.bind(this)
            this.handleTopDragOverCapture =
              this.handleTopDragOverCapture.bind(this)
            this.handleTopDrop = this.handleTopDrop.bind(this)
            this.handleTopDropCapture = this.handleTopDropCapture.bind(this)
            this.handleSelectStart = this.handleSelectStart.bind(this)
            this.endDragIfSourceWasRemovedFromDOM =
              this.endDragIfSourceWasRemovedFromDOM.bind(this)
            this.endDragNativeItem = this.endDragNativeItem.bind(this)
          }

          _createClass(HTML5Backend, [
            {
              key: 'setup',
              value: function setup() {
                if (typeof this.window === 'undefined') {
                  return
                }

                if (this.window.__isReactDndBackendSetUp) {
                  // eslint-disable-line no-underscore-dangle
                  throw new Error(
                    'Cannot have two HTML5 backends at the same time.',
                  )
                }
                this.window.__isReactDndBackendSetUp = true // eslint-disable-line no-underscore-dangle
                this.addEventListeners(this.window)
              },
            },
            {
              key: 'teardown',
              value: function teardown() {
                if (typeof this.window === 'undefined') {
                  return
                }

                this.window.__isReactDndBackendSetUp = false // eslint-disable-line no-underscore-dangle
                this.removeEventListeners(this.window)
                this.clearCurrentDragSourceNode()
              },
            },
            {
              key: 'addEventListeners',
              value: function addEventListeners(target) {
                target.addEventListener('dragstart', this.handleTopDragStart)
                target.addEventListener(
                  'dragstart',
                  this.handleTopDragStartCapture,
                  true,
                )
                target.addEventListener(
                  'dragend',
                  this.handleTopDragEndCapture,
                  true,
                )
                target.addEventListener('dragenter', this.handleTopDragEnter)
                target.addEventListener(
                  'dragenter',
                  this.handleTopDragEnterCapture,
                  true,
                )
                target.addEventListener(
                  'dragleave',
                  this.handleTopDragLeaveCapture,
                  true,
                )
                target.addEventListener('dragover', this.handleTopDragOver)
                target.addEventListener(
                  'dragover',
                  this.handleTopDragOverCapture,
                  true,
                )
                target.addEventListener('drop', this.handleTopDrop)
                target.addEventListener('drop', this.handleTopDropCapture, true)
              },
            },
            {
              key: 'removeEventListeners',
              value: function removeEventListeners(target) {
                target.removeEventListener('dragstart', this.handleTopDragStart)
                target.removeEventListener(
                  'dragstart',
                  this.handleTopDragStartCapture,
                  true,
                )
                target.removeEventListener(
                  'dragend',
                  this.handleTopDragEndCapture,
                  true,
                )
                target.removeEventListener('dragenter', this.handleTopDragEnter)
                target.removeEventListener(
                  'dragenter',
                  this.handleTopDragEnterCapture,
                  true,
                )
                target.removeEventListener(
                  'dragleave',
                  this.handleTopDragLeaveCapture,
                  true,
                )
                target.removeEventListener('dragover', this.handleTopDragOver)
                target.removeEventListener(
                  'dragover',
                  this.handleTopDragOverCapture,
                  true,
                )
                target.removeEventListener('drop', this.handleTopDrop)
                target.removeEventListener(
                  'drop',
                  this.handleTopDropCapture,
                  true,
                )
              },
            },
            {
              key: 'connectDragPreview',
              value: function connectDragPreview(sourceId, node, options) {
                var _this = this

                this.sourcePreviewNodeOptions[sourceId] = options
                this.sourcePreviewNodes[sourceId] = node

                return function () {
                  delete _this.sourcePreviewNodes[sourceId]
                  delete _this.sourcePreviewNodeOptions[sourceId]
                }
              },
            },
            {
              key: 'connectDragSource',
              value: function connectDragSource(sourceId, node, options) {
                var _this2 = this

                this.sourceNodes[sourceId] = node
                this.sourceNodeOptions[sourceId] = options

                var handleDragStart = function handleDragStart(e) {
                  return _this2.handleDragStart(e, sourceId)
                }
                var handleSelectStart = function handleSelectStart(e) {
                  return _this2.handleSelectStart(e, sourceId)
                }

                node.setAttribute('draggable', true)
                node.addEventListener('dragstart', handleDragStart)
                node.addEventListener('selectstart', handleSelectStart)

                return function () {
                  delete _this2.sourceNodes[sourceId]
                  delete _this2.sourceNodeOptions[sourceId]

                  node.removeEventListener('dragstart', handleDragStart)
                  node.removeEventListener('selectstart', handleSelectStart)
                  node.setAttribute('draggable', false)
                }
              },
            },
            {
              key: 'connectDropTarget',
              value: function connectDropTarget(targetId, node) {
                var _this3 = this

                var handleDragEnter = function handleDragEnter(e) {
                  return _this3.handleDragEnter(e, targetId)
                }
                var handleDragOver = function handleDragOver(e) {
                  return _this3.handleDragOver(e, targetId)
                }
                var handleDrop = function handleDrop(e) {
                  return _this3.handleDrop(e, targetId)
                }

                node.addEventListener('dragenter', handleDragEnter)
                node.addEventListener('dragover', handleDragOver)
                node.addEventListener('drop', handleDrop)

                return function () {
                  node.removeEventListener('dragenter', handleDragEnter)
                  node.removeEventListener('dragover', handleDragOver)
                  node.removeEventListener('drop', handleDrop)
                }
              },
            },
            {
              key: 'getCurrentSourceNodeOptions',
              value: function getCurrentSourceNodeOptions() {
                var sourceId = this.monitor.getSourceId()
                var sourceNodeOptions = this.sourceNodeOptions[sourceId]

                return (0, _defaults2.default)(sourceNodeOptions || {}, {
                  dropEffect: 'move',
                })
              },
            },
            {
              key: 'getCurrentDropEffect',
              value: function getCurrentDropEffect() {
                if (this.isDraggingNativeItem()) {
                  // It makes more sense to default to 'copy' for native resources
                  return 'copy'
                }

                return this.getCurrentSourceNodeOptions().dropEffect
              },
            },
            {
              key: 'getCurrentSourcePreviewNodeOptions',
              value: function getCurrentSourcePreviewNodeOptions() {
                var sourceId = this.monitor.getSourceId()
                var sourcePreviewNodeOptions =
                  this.sourcePreviewNodeOptions[sourceId]

                return (0, _defaults2.default)(sourcePreviewNodeOptions || {}, {
                  anchorX: 0.5,
                  anchorY: 0.5,
                  captureDraggingState: false,
                })
              },
            },
            {
              key: 'getSourceClientOffset',
              value: function getSourceClientOffset(sourceId) {
                return (0, _OffsetUtils.getNodeClientOffset)(
                  this.sourceNodes[sourceId],
                )
              },
            },
            {
              key: 'isDraggingNativeItem',
              value: function isDraggingNativeItem() {
                var itemType = this.monitor.getItemType()
                return Object.keys(NativeTypes).some(function (key) {
                  return NativeTypes[key] === itemType
                })
              },
            },
            {
              key: 'beginDragNativeItem',
              value: function beginDragNativeItem(type) {
                this.clearCurrentDragSourceNode()

                var SourceType = (0, _NativeDragSources.createNativeDragSource)(
                  type,
                )
                this.currentNativeSource = new SourceType()
                this.currentNativeHandle = this.registry.addSource(
                  type,
                  this.currentNativeSource,
                )
                this.actions.beginDrag([this.currentNativeHandle])

                // On Firefox, if mousemove fires, the drag is over but browser failed to tell us.
                // This is not true for other browsers.
                if ((0, _BrowserDetector.isFirefox)()) {
                  this.window.addEventListener(
                    'mousemove',
                    this.endDragNativeItem,
                    true,
                  )
                }
              },
            },
            {
              key: 'endDragNativeItem',
              value: function endDragNativeItem() {
                if (!this.isDraggingNativeItem()) {
                  return
                }

                if ((0, _BrowserDetector.isFirefox)()) {
                  this.window.removeEventListener(
                    'mousemove',
                    this.endDragNativeItem,
                    true,
                  )
                }

                this.actions.endDrag()
                this.registry.removeSource(this.currentNativeHandle)
                this.currentNativeHandle = null
                this.currentNativeSource = null
              },
            },
            {
              key: 'endDragIfSourceWasRemovedFromDOM',
              value: function endDragIfSourceWasRemovedFromDOM() {
                var node = this.currentDragSourceNode
                if (document.body.contains(node)) {
                  return
                }

                if (this.clearCurrentDragSourceNode()) {
                  this.actions.endDrag()
                }
              },
            },
            {
              key: 'setCurrentDragSourceNode',
              value: function setCurrentDragSourceNode(node) {
                this.clearCurrentDragSourceNode()
                this.currentDragSourceNode = node
                this.currentDragSourceNodeOffset = (0,
                _OffsetUtils.getNodeClientOffset)(node)
                this.currentDragSourceNodeOffsetChanged = false

                // Receiving a mouse event in the middle of a dragging operation
                // means it has ended and the drag source node disappeared from DOM,
                // so the browser didn't dispatch the dragend event.
                this.window.addEventListener(
                  'mousemove',
                  this.endDragIfSourceWasRemovedFromDOM,
                  true,
                )
              },
            },
            {
              key: 'clearCurrentDragSourceNode',
              value: function clearCurrentDragSourceNode() {
                if (this.currentDragSourceNode) {
                  this.currentDragSourceNode = null
                  this.currentDragSourceNodeOffset = null
                  this.currentDragSourceNodeOffsetChanged = false
                  this.window.removeEventListener(
                    'mousemove',
                    this.endDragIfSourceWasRemovedFromDOM,
                    true,
                  )
                  return true
                }

                return false
              },
            },
            {
              key: 'checkIfCurrentDragSourceRectChanged',
              value: function checkIfCurrentDragSourceRectChanged() {
                var node = this.currentDragSourceNode
                if (!node) {
                  return false
                }

                if (this.currentDragSourceNodeOffsetChanged) {
                  return true
                }

                this.currentDragSourceNodeOffsetChanged = !(0,
                _shallowEqual2.default)(
                  (0, _OffsetUtils.getNodeClientOffset)(node),
                  this.currentDragSourceNodeOffset,
                )

                return this.currentDragSourceNodeOffsetChanged
              },
            },
            {
              key: 'handleTopDragStartCapture',
              value: function handleTopDragStartCapture() {
                this.clearCurrentDragSourceNode()
                this.dragStartSourceIds = []
              },
            },
            {
              key: 'handleDragStart',
              value: function handleDragStart(e, sourceId) {
                this.dragStartSourceIds.unshift(sourceId)
              },
            },
            {
              key: 'handleTopDragStart',
              value: function handleTopDragStart(e) {
                var _this4 = this

                var dragStartSourceIds = this.dragStartSourceIds

                this.dragStartSourceIds = null

                var clientOffset = (0, _OffsetUtils.getEventClientOffset)(e)

                // Don't publish the source just yet (see why below)
                this.actions.beginDrag(dragStartSourceIds, {
                  publishSource: false,
                  getSourceClientOffset: this.getSourceClientOffset,
                  clientOffset: clientOffset,
                })

                var dataTransfer = e.dataTransfer

                var nativeType = (0, _NativeDragSources.matchNativeItemType)(
                  dataTransfer,
                )

                if (this.monitor.isDragging()) {
                  if (typeof dataTransfer.setDragImage === 'function') {
                    // Use custom drag image if user specifies it.
                    // If child drag source refuses drag but parent agrees,
                    // use parent's node as drag image. Neither works in IE though.
                    var sourceId = this.monitor.getSourceId()
                    var sourceNode = this.sourceNodes[sourceId]
                    var dragPreview =
                      this.sourcePreviewNodes[sourceId] || sourceNode

                    var _getCurrentSourcePrev =
                        this.getCurrentSourcePreviewNodeOptions(),
                      anchorX = _getCurrentSourcePrev.anchorX,
                      anchorY = _getCurrentSourcePrev.anchorY

                    var anchorPoint = { anchorX: anchorX, anchorY: anchorY }
                    var dragPreviewOffset = (0,
                    _OffsetUtils.getDragPreviewOffset)(
                      sourceNode,
                      dragPreview,
                      clientOffset,
                      anchorPoint,
                    )
                    dataTransfer.setDragImage(
                      dragPreview,
                      dragPreviewOffset.x,
                      dragPreviewOffset.y,
                    )
                  }

                  try {
                    // Firefox won't drag without setting data
                    dataTransfer.setData('application/json', {})
                  } catch (err) {}
                  // IE doesn't support MIME types in setData

                  // Store drag source node so we can check whether
                  // it is removed from DOM and trigger endDrag manually.
                  this.setCurrentDragSourceNode(e.target)

                  // Now we are ready to publish the drag source.. or are we not?

                  var _getCurrentSourcePrev2 =
                      this.getCurrentSourcePreviewNodeOptions(),
                    captureDraggingState =
                      _getCurrentSourcePrev2.captureDraggingState

                  if (!captureDraggingState) {
                    // Usually we want to publish it in the next tick so that browser
                    // is able to screenshot the current (not yet dragging) state.
                    //
                    // It also neatly avoids a situation where render() returns null
                    // in the same tick for the source element, and browser freaks out.
                    setTimeout(function () {
                      return _this4.actions.publishDragSource()
                    })
                  } else {
                    // In some cases the user may want to override this behavior, e.g.
                    // to work around IE not supporting custom drag previews.
                    //
                    // When using a custom drag layer, the only way to prevent
                    // the default drag preview from drawing in IE is to screenshot
                    // the dragging state in which the node itself has zero opacity
                    // and height. In this case, though, returning null from render()
                    // will abruptly end the dragging, which is not obvious.
                    //
                    // This is the reason such behavior is strictly opt-in.
                    this.actions.publishDragSource()
                  }
                } else if (nativeType) {
                  // A native item (such as URL) dragged from inside the document
                  this.beginDragNativeItem(nativeType)
                } else if (
                  !dataTransfer.types &&
                  (!e.target.hasAttribute ||
                    !e.target.hasAttribute('draggable'))
                ) {
                  // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.
                  // Just let it drag. It's a native type (URL or text) and will be picked up in
                  // dragenter handler.
                  return // eslint-disable-line no-useless-return
                } else {
                  // If by this time no drag source reacted, tell browser not to drag.
                  e.preventDefault()
                }
              },
            },
            {
              key: 'handleTopDragEndCapture',
              value: function handleTopDragEndCapture() {
                if (this.clearCurrentDragSourceNode()) {
                  // Firefox can dispatch this event in an infinite loop
                  // if dragend handler does something like showing an alert.
                  // Only proceed if we have not handled it already.
                  this.actions.endDrag()
                }
              },
            },
            {
              key: 'handleTopDragEnterCapture',
              value: function handleTopDragEnterCapture(e) {
                this.dragEnterTargetIds = []

                var isFirstEnter = this.enterLeaveCounter.enter(e.target)
                if (!isFirstEnter || this.monitor.isDragging()) {
                  return
                }

                var dataTransfer = e.dataTransfer

                var nativeType = (0, _NativeDragSources.matchNativeItemType)(
                  dataTransfer,
                )

                if (nativeType) {
                  // A native item (such as file or URL) dragged from outside the document
                  this.beginDragNativeItem(nativeType)
                }
              },
            },
            {
              key: 'handleDragEnter',
              value: function handleDragEnter(e, targetId) {
                this.dragEnterTargetIds.unshift(targetId)
              },
            },
            {
              key: 'handleTopDragEnter',
              value: function handleTopDragEnter(e) {
                var _this5 = this

                var dragEnterTargetIds = this.dragEnterTargetIds

                this.dragEnterTargetIds = []

                if (!this.monitor.isDragging()) {
                  // This is probably a native item type we don't understand.
                  return
                }

                if (!(0, _BrowserDetector.isFirefox)()) {
                  // Don't emit hover in `dragenter` on Firefox due to an edge case.
                  // If the target changes position as the result of `dragenter`, Firefox
                  // will still happily dispatch `dragover` despite target being no longer
                  // there. The easy solution is to only fire `hover` in `dragover` on FF.
                  this.actions.hover(dragEnterTargetIds, {
                    clientOffset: (0, _OffsetUtils.getEventClientOffset)(e),
                  })
                }

                var canDrop = dragEnterTargetIds.some(function (targetId) {
                  return _this5.monitor.canDropOnTarget(targetId)
                })

                if (canDrop) {
                  // IE requires this to fire dragover events
                  e.preventDefault()
                  e.dataTransfer.dropEffect = this.getCurrentDropEffect()
                }
              },
            },
            {
              key: 'handleTopDragOverCapture',
              value: function handleTopDragOverCapture() {
                this.dragOverTargetIds = []
              },
            },
            {
              key: 'handleDragOver',
              value: function handleDragOver(e, targetId) {
                this.dragOverTargetIds.unshift(targetId)
              },
            },
            {
              key: 'handleTopDragOver',
              value: function handleTopDragOver(e) {
                var _this6 = this

                var dragOverTargetIds = this.dragOverTargetIds

                this.dragOverTargetIds = []

                if (!this.monitor.isDragging()) {
                  // This is probably a native item type we don't understand.
                  // Prevent default "drop and blow away the whole document" action.
                  e.preventDefault()
                  e.dataTransfer.dropEffect = 'none'
                  return
                }

                this.actions.hover(dragOverTargetIds, {
                  clientOffset: (0, _OffsetUtils.getEventClientOffset)(e),
                })

                var canDrop = dragOverTargetIds.some(function (targetId) {
                  return _this6.monitor.canDropOnTarget(targetId)
                })

                if (canDrop) {
                  // Show user-specified drop effect.
                  e.preventDefault()
                  e.dataTransfer.dropEffect = this.getCurrentDropEffect()
                } else if (this.isDraggingNativeItem()) {
                  // Don't show a nice cursor but still prevent default
                  // "drop and blow away the whole document" action.
                  e.preventDefault()
                  e.dataTransfer.dropEffect = 'none'
                } else if (this.checkIfCurrentDragSourceRectChanged()) {
                  // Prevent animating to incorrect position.
                  // Drop effect must be other than 'none' to prevent animation.
                  e.preventDefault()
                  e.dataTransfer.dropEffect = 'move'
                }
              },
            },
            {
              key: 'handleTopDragLeaveCapture',
              value: function handleTopDragLeaveCapture(e) {
                if (this.isDraggingNativeItem()) {
                  e.preventDefault()
                }

                var isLastLeave = this.enterLeaveCounter.leave(e.target)
                if (!isLastLeave) {
                  return
                }

                if (this.isDraggingNativeItem()) {
                  this.endDragNativeItem()
                }
              },
            },
            {
              key: 'handleTopDropCapture',
              value: function handleTopDropCapture(e) {
                this.dropTargetIds = []
                e.preventDefault()

                if (this.isDraggingNativeItem()) {
                  this.currentNativeSource.mutateItemByReadingDataTransfer(
                    e.dataTransfer,
                  )
                }

                this.enterLeaveCounter.reset()
              },
            },
            {
              key: 'handleDrop',
              value: function handleDrop(e, targetId) {
                this.dropTargetIds.unshift(targetId)
              },
            },
            {
              key: 'handleTopDrop',
              value: function handleTopDrop(e) {
                var dropTargetIds = this.dropTargetIds

                this.dropTargetIds = []

                this.actions.hover(dropTargetIds, {
                  clientOffset: (0, _OffsetUtils.getEventClientOffset)(e),
                })
                this.actions.drop()

                if (this.isDraggingNativeItem()) {
                  this.endDragNativeItem()
                } else {
                  this.endDragIfSourceWasRemovedFromDOM()
                }
              },
            },
            {
              key: 'handleSelectStart',
              value: function handleSelectStart(e) {
                var target = e.target

                // Only IE requires us to explicitly say
                // we want drag drop operation to start

                if (typeof target.dragDrop !== 'function') {
                  return
                }

                // Inputs and textareas should be selectable
                if (
                  target.tagName === 'INPUT' ||
                  target.tagName === 'SELECT' ||
                  target.tagName === 'TEXTAREA' ||
                  target.isContentEditable
                ) {
                  return
                }

                // For other targets, ask IE
                // to enable drag and drop
                e.preventDefault()
                target.dragDrop()
              },
            },
            {
              key: 'window',
              get: function get() {
                return (this.context && this.context.window) || window
              },
            },
          ])

          return HTML5Backend
        })()

        exports.default = HTML5Backend
      },
      {
        './BrowserDetector': 163,
        './EnterLeaveCounter': 164,
        './NativeDragSources': 167,
        './NativeTypes': 168,
        './OffsetUtils': 169,
        './shallowEqual': 172,
        'lodash/defaults': 137,
      },
    ],
    166: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        /* eslint
   no-plusplus: off,
   no-mixed-operators: off
*/
        var MonotonicInterpolant = (function () {
          function MonotonicInterpolant(xs, ys) {
            _classCallCheck(this, MonotonicInterpolant)

            var length = xs.length

            // Rearrange xs and ys so that xs is sorted
            var indexes = []
            for (var i = 0; i < length; i++) {
              indexes.push(i)
            }
            indexes.sort(function (a, b) {
              return xs[a] < xs[b] ? -1 : 1
            })

            // Get consecutive differences and slopes
            var dys = []
            var dxs = []
            var ms = []
            var dx = void 0
            var dy = void 0
            for (var _i = 0; _i < length - 1; _i++) {
              dx = xs[_i + 1] - xs[_i]
              dy = ys[_i + 1] - ys[_i]
              dxs.push(dx)
              dys.push(dy)
              ms.push(dy / dx)
            }

            // Get degree-1 coefficients
            var c1s = [ms[0]]
            for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {
              var _m = ms[_i2]
              var mNext = ms[_i2 + 1]
              if (_m * mNext <= 0) {
                c1s.push(0)
              } else {
                dx = dxs[_i2]
                var dxNext = dxs[_i2 + 1]
                var common = dx + dxNext
                c1s.push(
                  (3 * common) /
                    ((common + dxNext) / _m + (common + dx) / mNext),
                )
              }
            }
            c1s.push(ms[ms.length - 1])

            // Get degree-2 and degree-3 coefficients
            var c2s = []
            var c3s = []
            var m = void 0
            for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {
              m = ms[_i3]
              var c1 = c1s[_i3]
              var invDx = 1 / dxs[_i3]
              var _common = c1 + c1s[_i3 + 1] - m - m
              c2s.push((m - c1 - _common) * invDx)
              c3s.push(_common * invDx * invDx)
            }

            this.xs = xs
            this.ys = ys
            this.c1s = c1s
            this.c2s = c2s
            this.c3s = c3s
          }

          _createClass(MonotonicInterpolant, [
            {
              key: 'interpolate',
              value: function interpolate(x) {
                var xs = this.xs,
                  ys = this.ys,
                  c1s = this.c1s,
                  c2s = this.c2s,
                  c3s = this.c3s

                // The rightmost point in the dataset should give an exact result

                var i = xs.length - 1
                if (x === xs[i]) {
                  return ys[i]
                }

                // Search for the interval x is in, returning the corresponding y if x is one of the original xs
                var low = 0
                var high = c3s.length - 1
                var mid = void 0
                while (low <= high) {
                  mid = Math.floor(0.5 * (low + high))
                  var xHere = xs[mid]
                  if (xHere < x) {
                    low = mid + 1
                  } else if (xHere > x) {
                    high = mid - 1
                  } else {
                    return ys[mid]
                  }
                }
                i = Math.max(0, high)

                // Interpolate
                var diff = x - xs[i]
                var diffSq = diff * diff
                return (
                  ys[i] +
                  c1s[i] * diff +
                  c2s[i] * diffSq +
                  c3s[i] * diff * diffSq
                )
              },
            },
          ])

          return MonotonicInterpolant
        })()

        exports.default = MonotonicInterpolant
      },
      {},
    ],
    167: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _nativeTypesConfig

        exports.createNativeDragSource = createNativeDragSource
        exports.matchNativeItemType = matchNativeItemType

        var _NativeTypes = require('./NativeTypes')

        var NativeTypes = _interopRequireWildcard(_NativeTypes)

        function _interopRequireWildcard(obj) {
          if (obj && obj.__esModule) {
            return obj
          } else {
            var newObj = {}
            if (obj != null) {
              for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key))
                  newObj[key] = obj[key]
              }
            }
            newObj.default = obj
            return newObj
          }
        }

        function _defineEnumerableProperties(obj, descs) {
          for (var key in descs) {
            var desc = descs[key]
            desc.configurable = desc.enumerable = true
            if ('value' in desc) desc.writable = true
            Object.defineProperty(obj, key, desc)
          }
          return obj
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _defineProperty(obj, key, value) {
          if (key in obj) {
            Object.defineProperty(obj, key, {
              value: value,
              enumerable: true,
              configurable: true,
              writable: true,
            })
          } else {
            obj[key] = value
          }
          return obj
        }

        function getDataFromDataTransfer(
          dataTransfer,
          typesToTry,
          defaultValue,
        ) {
          var result = typesToTry.reduce(function (resultSoFar, typeToTry) {
            return resultSoFar || dataTransfer.getData(typeToTry)
          }, null)

          return result != null // eslint-disable-line eqeqeq
            ? result
            : defaultValue
        }

        var nativeTypesConfig =
          ((_nativeTypesConfig = {}),
          _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {
            exposeProperty: 'files',
            matchesTypes: ['Files'],
            getData: function getData(dataTransfer) {
              return Array.prototype.slice.call(dataTransfer.files)
            },
          }),
          _defineProperty(_nativeTypesConfig, NativeTypes.URL, {
            exposeProperty: 'urls',
            matchesTypes: ['Url', 'text/uri-list'],
            getData: function getData(dataTransfer, matchesTypes) {
              return getDataFromDataTransfer(
                dataTransfer,
                matchesTypes,
                '',
              ).split('\n')
            },
          }),
          _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {
            exposeProperty: 'text',
            matchesTypes: ['Text', 'text/plain'],
            getData: function getData(dataTransfer, matchesTypes) {
              return getDataFromDataTransfer(dataTransfer, matchesTypes, '')
            },
          }),
          _nativeTypesConfig)

        function createNativeDragSource(type) {
          var _nativeTypesConfig$ty = nativeTypesConfig[type],
            exposeProperty = _nativeTypesConfig$ty.exposeProperty,
            matchesTypes = _nativeTypesConfig$ty.matchesTypes,
            getData = _nativeTypesConfig$ty.getData

          return (function () {
            function NativeDragSource() {
              var _item, _mutatorMap

              _classCallCheck(this, NativeDragSource)

              this.item =
                ((_item = {}),
                (_mutatorMap = {}),
                (_mutatorMap[exposeProperty] =
                  _mutatorMap[exposeProperty] || {}),
                (_mutatorMap[exposeProperty].get = function () {
                  console.warn(
                    // eslint-disable-line no-console
                    'Browser doesn\'t allow reading "' +
                      exposeProperty +
                      '" until the drop event.',
                  )
                  return null
                }),
                _defineEnumerableProperties(_item, _mutatorMap),
                _item)
            }

            _createClass(NativeDragSource, [
              {
                key: 'mutateItemByReadingDataTransfer',
                value: function mutateItemByReadingDataTransfer(dataTransfer) {
                  delete this.item[exposeProperty]
                  this.item[exposeProperty] = getData(
                    dataTransfer,
                    matchesTypes,
                  )
                },
              },
              {
                key: 'canDrag',
                value: function canDrag() {
                  return true
                },
              },
              {
                key: 'beginDrag',
                value: function beginDrag() {
                  return this.item
                },
              },
              {
                key: 'isDragging',
                value: function isDragging(monitor, handle) {
                  return handle === monitor.getSourceId()
                },
              },
              {
                key: 'endDrag',
                value: function endDrag() {},
              },
            ])

            return NativeDragSource
          })()
        }

        function matchNativeItemType(dataTransfer) {
          var dataTransferTypes = Array.prototype.slice.call(
            dataTransfer.types || [],
          )

          return (
            Object.keys(nativeTypesConfig).filter(function (nativeItemType) {
              var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes

              return matchesTypes.some(function (t) {
                return dataTransferTypes.indexOf(t) > -1
              })
            })[0] || null
          )
        }
      },
      { './NativeTypes': 168 },
    ],
    168: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        var FILE = (exports.FILE = '__NATIVE_FILE__')
        var URL = (exports.URL = '__NATIVE_URL__')
        var TEXT = (exports.TEXT = '__NATIVE_TEXT__')
      },
      {},
    ],
    169: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.getNodeClientOffset = getNodeClientOffset
        exports.getEventClientOffset = getEventClientOffset
        exports.getDragPreviewOffset = getDragPreviewOffset

        var _BrowserDetector = require('./BrowserDetector')

        var _MonotonicInterpolant = require('./MonotonicInterpolant')

        var _MonotonicInterpolant2 = _interopRequireDefault(
          _MonotonicInterpolant,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /* eslint
   no-mixed-operators: off
*/
        var ELEMENT_NODE = 1

        function getNodeClientOffset(node) {
          var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement

          if (!el) {
            return null
          }

          var _el$getBoundingClient = el.getBoundingClientRect(),
            top = _el$getBoundingClient.top,
            left = _el$getBoundingClient.left

          return { x: left, y: top }
        }

        function getEventClientOffset(e) {
          return {
            x: e.clientX,
            y: e.clientY,
          }
        }

        function getDragPreviewOffset(
          sourceNode,
          dragPreview,
          clientOffset,
          anchorPoint,
        ) {
          // The browsers will use the image intrinsic size under different conditions.
          // Firefox only cares if it's an image, but WebKit also wants it to be detached.
          var isImage =
            dragPreview.nodeName === 'IMG' &&
            ((0, _BrowserDetector.isFirefox)() ||
              !document.documentElement.contains(dragPreview))
          var dragPreviewNode = isImage ? sourceNode : dragPreview

          var dragPreviewNodeOffsetFromClient =
            getNodeClientOffset(dragPreviewNode)
          var offsetFromDragPreview = {
            x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,
            y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,
          }

          var sourceWidth = sourceNode.offsetWidth,
            sourceHeight = sourceNode.offsetHeight
          var anchorX = anchorPoint.anchorX,
            anchorY = anchorPoint.anchorY

          var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth
          var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight

          // Work around @2x coordinate discrepancies in browsers
          if ((0, _BrowserDetector.isSafari)() && isImage) {
            dragPreviewHeight /= window.devicePixelRatio
            dragPreviewWidth /= window.devicePixelRatio
          } else if ((0, _BrowserDetector.isFirefox)() && !isImage) {
            dragPreviewHeight *= window.devicePixelRatio
            dragPreviewWidth *= window.devicePixelRatio
          }

          // Interpolate coordinates depending on anchor point
          // If you know a simpler way to do this, let me know
          var interpolantX = new _MonotonicInterpolant2.default(
            [0, 0.5, 1],
            [
              // Dock to the left
              offsetFromDragPreview.x,
              // Align at the center
              (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,
              // Dock to the right
              offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,
            ],
          )
          var interpolantY = new _MonotonicInterpolant2.default(
            [0, 0.5, 1],
            [
              // Dock to the top
              offsetFromDragPreview.y,
              // Align at the center
              (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,
              // Dock to the bottom
              offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,
            ],
          )
          var x = interpolantX.interpolate(anchorX)
          var y = interpolantY.interpolate(anchorY)

          // Work around Safari 8 positioning bug
          if ((0, _BrowserDetector.isSafari)() && isImage) {
            // We'll have to wait for @3x to see if this is entirely correct
            y += (window.devicePixelRatio - 1) * dragPreviewHeight
          }

          return { x: x, y: y }
        }
      },
      { './BrowserDetector': 163, './MonotonicInterpolant': 166 },
    ],
    170: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = getEmptyImage
        var emptyImage = void 0
        function getEmptyImage() {
          if (!emptyImage) {
            emptyImage = new Image()
            emptyImage.src =
              'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='
          }

          return emptyImage
        }
      },
      {},
    ],
    171: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.getEmptyImage = exports.NativeTypes = undefined
        exports.default = createHTML5Backend

        var _HTML5Backend = require('./HTML5Backend')

        var _HTML5Backend2 = _interopRequireDefault(_HTML5Backend)

        var _getEmptyImage = require('./getEmptyImage')

        var _getEmptyImage2 = _interopRequireDefault(_getEmptyImage)

        var _NativeTypes = require('./NativeTypes')

        var NativeTypes = _interopRequireWildcard(_NativeTypes)

        function _interopRequireWildcard(obj) {
          if (obj && obj.__esModule) {
            return obj
          } else {
            var newObj = {}
            if (obj != null) {
              for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key))
                  newObj[key] = obj[key]
              }
            }
            newObj.default = obj
            return newObj
          }
        }

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        exports.NativeTypes = NativeTypes
        exports.getEmptyImage = _getEmptyImage2.default
        function createHTML5Backend(manager) {
          return new _HTML5Backend2.default(manager)
        }
      },
      { './HTML5Backend': 165, './NativeTypes': 168, './getEmptyImage': 170 },
    ],
    172: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = shallowEqual
        function shallowEqual(objA, objB) {
          if (objA === objB) {
            return true
          }

          var keysA = Object.keys(objA)
          var keysB = Object.keys(objB)

          if (keysA.length !== keysB.length) {
            return false
          }

          // Test for A's keys different from B.
          var hasOwn = Object.prototype.hasOwnProperty
          for (var i = 0; i < keysA.length; i += 1) {
            if (
              !hasOwn.call(objB, keysA[i]) ||
              objA[keysA[i]] !== objB[keysA[i]]
            ) {
              return false
            }

            var valA = objA[keysA[i]]
            var valB = objB[keysA[i]]

            if (valA !== valB) {
              return false
            }
          }

          return true
        }
      },
      {},
    ],
    173: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.unpackBackendForEs5Users =
          exports.createChildContext =
          exports.CHILD_CONTEXT_TYPES =
            undefined

        var _extends =
          Object.assign ||
          function (target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]
              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }
            return target
          }

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol &&
                  obj !== Symbol.prototype
                  ? 'symbol'
                  : typeof obj
              }

        exports.default = DragDropContext

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _dndCore = require('dnd-core')

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _hoistNonReactStatics = require('hoist-non-react-statics')

        var _hoistNonReactStatics2 = _interopRequireDefault(
          _hoistNonReactStatics,
        )

        var _checkDecoratorArguments = require('./utils/checkDecoratorArguments')

        var _checkDecoratorArguments2 = _interopRequireDefault(
          _checkDecoratorArguments,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        var CHILD_CONTEXT_TYPES = (exports.CHILD_CONTEXT_TYPES = {
          dragDropManager: _react.PropTypes.object.isRequired,
        })

        var createChildContext = (exports.createChildContext =
          function createChildContext(backend, context) {
            return {
              dragDropManager: new _dndCore.DragDropManager(backend, context),
            }
          })

        var unpackBackendForEs5Users = (exports.unpackBackendForEs5Users =
          function unpackBackendForEs5Users(backendOrModule) {
            // Auto-detect ES6 default export for people still using ES5
            var backend = backendOrModule
            if (
              (typeof backend === 'undefined'
                ? 'undefined'
                : _typeof(backend)) === 'object' &&
              typeof backend.default === 'function'
            ) {
              backend = backend.default
            }
            ;(0, _invariant2.default)(
              typeof backend === 'function',
              'Expected the backend to be a function or an ES6 module exporting a default function. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html',
            )
            return backend
          })

        function DragDropContext(backendOrModule) {
          _checkDecoratorArguments2.default.apply(
            undefined,
            ['DragDropContext', 'backend'].concat(
              Array.prototype.slice.call(arguments),
            ),
          ) // eslint-disable-line prefer-rest-params

          var backend = unpackBackendForEs5Users(backendOrModule)
          var childContext = createChildContext(backend)

          return function decorateContext(DecoratedComponent) {
            var _class, _temp

            var displayName =
              DecoratedComponent.displayName ||
              DecoratedComponent.name ||
              'Component'

            var DragDropContextContainer =
              ((_temp = _class =
                (function (_Component) {
                  _inherits(DragDropContextContainer, _Component)

                  function DragDropContextContainer() {
                    _classCallCheck(this, DragDropContextContainer)

                    return _possibleConstructorReturn(
                      this,
                      (
                        DragDropContextContainer.__proto__ ||
                        Object.getPrototypeOf(DragDropContextContainer)
                      ).apply(this, arguments),
                    )
                  }

                  _createClass(DragDropContextContainer, [
                    {
                      key: 'getDecoratedComponentInstance',
                      value: function getDecoratedComponentInstance() {
                        ;(0, _invariant2.default)(
                          this.child,
                          'In order to access an instance of the decorated component it can ' +
                            'not be a stateless component.',
                        )
                        return this.child
                      },
                    },
                    {
                      key: 'getManager',
                      value: function getManager() {
                        return childContext.dragDropManager
                      },
                    },
                    {
                      key: 'getChildContext',
                      value: function getChildContext() {
                        return childContext
                      },
                    },
                    {
                      key: 'render',
                      value: function render() {
                        var _this2 = this

                        return _react2.default.createElement(
                          DecoratedComponent,
                          _extends({}, this.props, {
                            ref: function ref(child) {
                              return (_this2.child = child)
                            },
                          }),
                        )
                      },
                    },
                  ])

                  return DragDropContextContainer
                })(_react.Component)),
              (_class.DecoratedComponent = DecoratedComponent),
              (_class.displayName = 'DragDropContext(' + displayName + ')'),
              (_class.childContextTypes = CHILD_CONTEXT_TYPES),
              _temp)

            return (0, _hoistNonReactStatics2.default)(
              DragDropContextContainer,
              DecoratedComponent,
            )
          }
        }
      },
      {
        './utils/checkDecoratorArguments': 189,
        'dnd-core': 14,
        'hoist-non-react-statics': 53,
        invariant: 54,
        react: 341,
      },
    ],
    174: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = undefined

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _class, _temp

        var _react = require('react')

        var _DragDropContext = require('./DragDropContext')

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * This class is a React-Component based version of the DragDropContext.
         * This is an alternative to decorating an application component with an ES7 decorator.
         */
        var DragDropContextProvider =
          ((_temp = _class =
            (function (_Component) {
              _inherits(DragDropContextProvider, _Component)

              function DragDropContextProvider(props, context) {
                _classCallCheck(this, DragDropContextProvider)

                var _this = _possibleConstructorReturn(
                  this,
                  (
                    DragDropContextProvider.__proto__ ||
                    Object.getPrototypeOf(DragDropContextProvider)
                  ).call(this, props, context),
                )

                _this.backend = (0, _DragDropContext.unpackBackendForEs5Users)(
                  props.backend,
                )
                return _this
              }

              _createClass(DragDropContextProvider, [
                {
                  key: 'getChildContext',
                  value: function getChildContext() {
                    var _this2 = this

                    /**
                     * This property determines which window global to use for creating the DragDropManager.
                     * If a window has been injected explicitly via props, that is used first. If it is available
                     * as a context value, then use that, otherwise use the browser global.
                     */
                    var getWindow = function getWindow() {
                      if (_this2.props && _this2.props.window) {
                        return _this2.props.window
                      } else if (_this2.context && _this2.context.window) {
                        return _this2.context.window
                      }
                      return window
                    }

                    return (0, _DragDropContext.createChildContext)(
                      this.backend,
                      { window: getWindow() },
                    )
                  },
                },
                {
                  key: 'render',
                  value: function render() {
                    return _react.Children.only(this.props.children)
                  },
                },
              ])

              return DragDropContextProvider
            })(_react.Component)),
          (_class.propTypes = {
            backend: _react.PropTypes.oneOfType([
              _react.PropTypes.func,
              _react.PropTypes.object,
            ]).isRequired,
            children: _react.PropTypes.element.isRequired,
            window: _react.PropTypes.object,
          }),
          (_class.defaultProps = {
            window: undefined,
          }),
          (_class.childContextTypes = _DragDropContext.CHILD_CONTEXT_TYPES),
          (_class.displayName = 'DragDropContextProvider'),
          (_class.contextTypes = {
            window: _react.PropTypes.object,
          }),
          _temp)
        exports.default = DragDropContextProvider
      },
      { './DragDropContext': 173, react: 341 },
    ],
    175: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _extends =
          Object.assign ||
          function (target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]
              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }
            return target
          }

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol &&
                  obj !== Symbol.prototype
                  ? 'symbol'
                  : typeof obj
              }

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        exports.default = DragLayer

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _hoistNonReactStatics = require('hoist-non-react-statics')

        var _hoistNonReactStatics2 = _interopRequireDefault(
          _hoistNonReactStatics,
        )

        var _isPlainObject = require('lodash/isPlainObject')

        var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _shallowEqual = require('./utils/shallowEqual')

        var _shallowEqual2 = _interopRequireDefault(_shallowEqual)

        var _shallowEqualScalar = require('./utils/shallowEqualScalar')

        var _shallowEqualScalar2 = _interopRequireDefault(_shallowEqualScalar)

        var _checkDecoratorArguments = require('./utils/checkDecoratorArguments')

        var _checkDecoratorArguments2 = _interopRequireDefault(
          _checkDecoratorArguments,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        function DragLayer(collect) {
          var options =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : {}

          _checkDecoratorArguments2.default.apply(
            undefined,
            ['DragLayer', 'collect[, options]'].concat(
              Array.prototype.slice.call(arguments),
            ),
          ) // eslint-disable-line prefer-rest-params
          ;(0, _invariant2.default)(
            typeof collect === 'function',
            'Expected "collect" provided as the first argument to DragLayer ' +
              'to be a function that collects props to inject into the component. ',
            'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',
            collect,
          )
          ;(0, _invariant2.default)(
            (0, _isPlainObject2.default)(options),
            'Expected "options" provided as the second argument to DragLayer to be ' +
              'a plain object when specified. ' +
              'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',
            options,
          )

          return function decorateLayer(DecoratedComponent) {
            var _class, _temp

            var _options$arePropsEqua = options.arePropsEqual,
              arePropsEqual =
                _options$arePropsEqua === undefined
                  ? _shallowEqualScalar2.default
                  : _options$arePropsEqua

            var displayName =
              DecoratedComponent.displayName ||
              DecoratedComponent.name ||
              'Component'

            var DragLayerContainer =
              ((_temp = _class =
                (function (_Component) {
                  _inherits(DragLayerContainer, _Component)

                  _createClass(DragLayerContainer, [
                    {
                      key: 'getDecoratedComponentInstance',
                      value: function getDecoratedComponentInstance() {
                        ;(0, _invariant2.default)(
                          this.child,
                          'In order to access an instance of the decorated component it can ' +
                            'not be a stateless component.',
                        )
                        return this.child
                      },
                    },
                    {
                      key: 'shouldComponentUpdate',
                      value: function shouldComponentUpdate(
                        nextProps,
                        nextState,
                      ) {
                        return (
                          !arePropsEqual(nextProps, this.props) ||
                          !(0, _shallowEqual2.default)(nextState, this.state)
                        )
                      },
                    },
                  ])

                  function DragLayerContainer(props, context) {
                    _classCallCheck(this, DragLayerContainer)

                    var _this = _possibleConstructorReturn(
                      this,
                      (
                        DragLayerContainer.__proto__ ||
                        Object.getPrototypeOf(DragLayerContainer)
                      ).call(this, props),
                    )

                    _this.handleChange = _this.handleChange.bind(_this)

                    _this.manager = context.dragDropManager
                    ;(0, _invariant2.default)(
                      _typeof(_this.manager) === 'object',
                      'Could not find the drag and drop manager in the context of %s. ' +
                        'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                        'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context',
                      displayName,
                      displayName,
                    )

                    _this.state = _this.getCurrentState()
                    return _this
                  }

                  _createClass(DragLayerContainer, [
                    {
                      key: 'componentDidMount',
                      value: function componentDidMount() {
                        this.isCurrentlyMounted = true

                        var monitor = this.manager.getMonitor()
                        this.unsubscribeFromOffsetChange =
                          monitor.subscribeToOffsetChange(this.handleChange)
                        this.unsubscribeFromStateChange =
                          monitor.subscribeToStateChange(this.handleChange)

                        this.handleChange()
                      },
                    },
                    {
                      key: 'componentWillUnmount',
                      value: function componentWillUnmount() {
                        this.isCurrentlyMounted = false

                        this.unsubscribeFromOffsetChange()
                        this.unsubscribeFromStateChange()
                      },
                    },
                    {
                      key: 'handleChange',
                      value: function handleChange() {
                        if (!this.isCurrentlyMounted) {
                          return
                        }

                        var nextState = this.getCurrentState()
                        if (
                          !(0, _shallowEqual2.default)(nextState, this.state)
                        ) {
                          this.setState(nextState)
                        }
                      },
                    },
                    {
                      key: 'getCurrentState',
                      value: function getCurrentState() {
                        var monitor = this.manager.getMonitor()
                        return collect(monitor)
                      },
                    },
                    {
                      key: 'render',
                      value: function render() {
                        var _this2 = this

                        return _react2.default.createElement(
                          DecoratedComponent,
                          _extends({}, this.props, this.state, {
                            ref: function ref(child) {
                              return (_this2.child = child)
                            },
                          }),
                        )
                      },
                    },
                  ])

                  return DragLayerContainer
                })(_react.Component)),
              (_class.DecoratedComponent = DecoratedComponent),
              (_class.displayName = 'DragLayer(' + displayName + ')'),
              (_class.contextTypes = {
                dragDropManager: _react.PropTypes.object.isRequired,
              }),
              _temp)

            return (0, _hoistNonReactStatics2.default)(
              DragLayerContainer,
              DecoratedComponent,
            )
          }
        }
      },
      {
        './utils/checkDecoratorArguments': 189,
        './utils/shallowEqual': 192,
        './utils/shallowEqualScalar': 193,
        'hoist-non-react-statics': 53,
        invariant: 54,
        'lodash/isPlainObject': 148,
        react: 341,
      },
    ],
    176: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = DragSource

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _isPlainObject = require('lodash/isPlainObject')

        var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

        var _checkDecoratorArguments = require('./utils/checkDecoratorArguments')

        var _checkDecoratorArguments2 = _interopRequireDefault(
          _checkDecoratorArguments,
        )

        var _decorateHandler = require('./decorateHandler')

        var _decorateHandler2 = _interopRequireDefault(_decorateHandler)

        var _registerSource = require('./registerSource')

        var _registerSource2 = _interopRequireDefault(_registerSource)

        var _createSourceFactory = require('./createSourceFactory')

        var _createSourceFactory2 = _interopRequireDefault(_createSourceFactory)

        var _createSourceMonitor = require('./createSourceMonitor')

        var _createSourceMonitor2 = _interopRequireDefault(_createSourceMonitor)

        var _createSourceConnector = require('./createSourceConnector')

        var _createSourceConnector2 = _interopRequireDefault(
          _createSourceConnector,
        )

        var _isValidType = require('./utils/isValidType')

        var _isValidType2 = _interopRequireDefault(_isValidType)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function DragSource(type, spec, collect) {
          var options =
            arguments.length > 3 && arguments[3] !== undefined
              ? arguments[3]
              : {}

          _checkDecoratorArguments2.default.apply(
            undefined,
            ['DragSource', 'type, spec, collect[, options]'].concat(
              Array.prototype.slice.call(arguments),
            ),
          ) // eslint-disable-line prefer-rest-params
          var getType = type
          if (typeof type !== 'function') {
            ;(0, _invariant2.default)(
              (0, _isValidType2.default)(type),
              'Expected "type" provided as the first argument to DragSource to be ' +
                'a string, or a function that returns a string given the current props. ' +
                'Instead, received %s. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
              type,
            )
            getType = function getType() {
              return type
            }
          }
          ;(0, _invariant2.default)(
            (0, _isPlainObject2.default)(spec),
            'Expected "spec" provided as the second argument to DragSource to be ' +
              'a plain object. Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
            spec,
          )
          var createSource = (0, _createSourceFactory2.default)(spec)
          ;(0, _invariant2.default)(
            typeof collect === 'function',
            'Expected "collect" provided as the third argument to DragSource to be ' +
              'a function that returns a plain object of props to inject. ' +
              'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
            collect,
          )
          ;(0, _invariant2.default)(
            (0, _isPlainObject2.default)(options),
            'Expected "options" provided as the fourth argument to DragSource to be ' +
              'a plain object when specified. ' +
              'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
            collect,
          )

          return function decorateSource(DecoratedComponent) {
            return (0, _decorateHandler2.default)({
              connectBackend: function connectBackend(backend, sourceId) {
                return backend.connectDragSource(sourceId)
              },
              containerDisplayName: 'DragSource',
              createHandler: createSource,
              registerHandler: _registerSource2.default,
              createMonitor: _createSourceMonitor2.default,
              createConnector: _createSourceConnector2.default,
              DecoratedComponent: DecoratedComponent,
              getType: getType,
              collect: collect,
              options: options,
            })
          }
        }
      },
      {
        './createSourceConnector': 179,
        './createSourceFactory': 180,
        './createSourceMonitor': 181,
        './decorateHandler': 185,
        './registerSource': 187,
        './utils/checkDecoratorArguments': 189,
        './utils/isValidType': 191,
        invariant: 54,
        'lodash/isPlainObject': 148,
      },
    ],
    177: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = DropTarget

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _isPlainObject = require('lodash/isPlainObject')

        var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

        var _checkDecoratorArguments = require('./utils/checkDecoratorArguments')

        var _checkDecoratorArguments2 = _interopRequireDefault(
          _checkDecoratorArguments,
        )

        var _decorateHandler = require('./decorateHandler')

        var _decorateHandler2 = _interopRequireDefault(_decorateHandler)

        var _registerTarget = require('./registerTarget')

        var _registerTarget2 = _interopRequireDefault(_registerTarget)

        var _createTargetFactory = require('./createTargetFactory')

        var _createTargetFactory2 = _interopRequireDefault(_createTargetFactory)

        var _createTargetMonitor = require('./createTargetMonitor')

        var _createTargetMonitor2 = _interopRequireDefault(_createTargetMonitor)

        var _createTargetConnector = require('./createTargetConnector')

        var _createTargetConnector2 = _interopRequireDefault(
          _createTargetConnector,
        )

        var _isValidType = require('./utils/isValidType')

        var _isValidType2 = _interopRequireDefault(_isValidType)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function DropTarget(type, spec, collect) {
          var options =
            arguments.length > 3 && arguments[3] !== undefined
              ? arguments[3]
              : {}

          _checkDecoratorArguments2.default.apply(
            undefined,
            ['DropTarget', 'type, spec, collect[, options]'].concat(
              Array.prototype.slice.call(arguments),
            ),
          ) // eslint-disable-line prefer-rest-params
          var getType = type
          if (typeof type !== 'function') {
            ;(0, _invariant2.default)(
              (0, _isValidType2.default)(type, true),
              'Expected "type" provided as the first argument to DropTarget to be ' +
                'a string, an array of strings, or a function that returns either given ' +
                'the current props. Instead, received %s. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
              type,
            )
            getType = function getType() {
              return type
            }
          }
          ;(0, _invariant2.default)(
            (0, _isPlainObject2.default)(spec),
            'Expected "spec" provided as the second argument to DropTarget to be ' +
              'a plain object. Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
            spec,
          )
          var createTarget = (0, _createTargetFactory2.default)(spec)
          ;(0, _invariant2.default)(
            typeof collect === 'function',
            'Expected "collect" provided as the third argument to DropTarget to be ' +
              'a function that returns a plain object of props to inject. ' +
              'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
            collect,
          )
          ;(0, _invariant2.default)(
            (0, _isPlainObject2.default)(options),
            'Expected "options" provided as the fourth argument to DropTarget to be ' +
              'a plain object when specified. ' +
              'Instead, received %s. ' +
              'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
            collect,
          )

          return function decorateTarget(DecoratedComponent) {
            return (0, _decorateHandler2.default)({
              connectBackend: function connectBackend(backend, targetId) {
                return backend.connectDropTarget(targetId)
              },
              containerDisplayName: 'DropTarget',
              createHandler: createTarget,
              registerHandler: _registerTarget2.default,
              createMonitor: _createTargetMonitor2.default,
              createConnector: _createTargetConnector2.default,
              DecoratedComponent: DecoratedComponent,
              getType: getType,
              collect: collect,
              options: options,
            })
          }
        }
      },
      {
        './createTargetConnector': 182,
        './createTargetFactory': 183,
        './createTargetMonitor': 184,
        './decorateHandler': 185,
        './registerTarget': 188,
        './utils/checkDecoratorArguments': 189,
        './utils/isValidType': 191,
        invariant: 54,
        'lodash/isPlainObject': 148,
      },
    ],
    178: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = areOptionsEqual

        var _shallowEqual = require('./utils/shallowEqual')

        var _shallowEqual2 = _interopRequireDefault(_shallowEqual)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function areOptionsEqual(nextOptions, currentOptions) {
          if (currentOptions === nextOptions) {
            return true
          }

          return (
            currentOptions !== null &&
            nextOptions !== null &&
            (0, _shallowEqual2.default)(currentOptions, nextOptions)
          )
        }
      },
      { './utils/shallowEqual': 192 },
    ],
    179: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = createSourceConnector

        var _wrapConnectorHooks = require('./wrapConnectorHooks')

        var _wrapConnectorHooks2 = _interopRequireDefault(_wrapConnectorHooks)

        var _areOptionsEqual = require('./areOptionsEqual')

        var _areOptionsEqual2 = _interopRequireDefault(_areOptionsEqual)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function createSourceConnector(backend) {
          var currentHandlerId = void 0

          var currentDragSourceNode = void 0
          var currentDragSourceOptions = void 0
          var disconnectCurrentDragSource = void 0

          var currentDragPreviewNode = void 0
          var currentDragPreviewOptions = void 0
          var disconnectCurrentDragPreview = void 0

          function reconnectDragSource() {
            if (disconnectCurrentDragSource) {
              disconnectCurrentDragSource()
              disconnectCurrentDragSource = null
            }

            if (currentHandlerId && currentDragSourceNode) {
              disconnectCurrentDragSource = backend.connectDragSource(
                currentHandlerId,
                currentDragSourceNode,
                currentDragSourceOptions,
              )
            }
          }

          function reconnectDragPreview() {
            if (disconnectCurrentDragPreview) {
              disconnectCurrentDragPreview()
              disconnectCurrentDragPreview = null
            }

            if (currentHandlerId && currentDragPreviewNode) {
              disconnectCurrentDragPreview = backend.connectDragPreview(
                currentHandlerId,
                currentDragPreviewNode,
                currentDragPreviewOptions,
              )
            }
          }

          function receiveHandlerId(handlerId) {
            if (handlerId === currentHandlerId) {
              return
            }

            currentHandlerId = handlerId
            reconnectDragSource()
            reconnectDragPreview()
          }

          var hooks = (0, _wrapConnectorHooks2.default)({
            dragSource: function connectDragSource(node, options) {
              if (
                node === currentDragSourceNode &&
                (0, _areOptionsEqual2.default)(
                  options,
                  currentDragSourceOptions,
                )
              ) {
                return
              }

              currentDragSourceNode = node
              currentDragSourceOptions = options

              reconnectDragSource()
            },

            dragPreview: function connectDragPreview(node, options) {
              if (
                node === currentDragPreviewNode &&
                (0, _areOptionsEqual2.default)(
                  options,
                  currentDragPreviewOptions,
                )
              ) {
                return
              }

              currentDragPreviewNode = node
              currentDragPreviewOptions = options

              reconnectDragPreview()
            },
          })

          return {
            receiveHandlerId: receiveHandlerId,
            hooks: hooks,
          }
        }
      },
      { './areOptionsEqual': 178, './wrapConnectorHooks': 194 },
    ],
    180: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          Object.defineProperty(exports, '__esModule', {
            value: true,
          })

          var _createClass = (function () {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i]
                descriptor.enumerable = descriptor.enumerable || false
                descriptor.configurable = true
                if ('value' in descriptor) descriptor.writable = true
                Object.defineProperty(target, descriptor.key, descriptor)
              }
            }
            return function (Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps)
              if (staticProps) defineProperties(Constructor, staticProps)
              return Constructor
            }
          })()

          exports.default = createSourceFactory

          var _invariant = require('invariant')

          var _invariant2 = _interopRequireDefault(_invariant)

          var _isPlainObject = require('lodash/isPlainObject')

          var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj }
          }

          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError('Cannot call a class as a function')
            }
          }

          var ALLOWED_SPEC_METHODS = [
            'canDrag',
            'beginDrag',
            'isDragging',
            'endDrag',
          ]
          var REQUIRED_SPEC_METHODS = ['beginDrag']

          function createSourceFactory(spec) {
            Object.keys(spec).forEach(function (key) {
              ;(0, _invariant2.default)(
                ALLOWED_SPEC_METHODS.indexOf(key) > -1,
                'Expected the drag source specification to only have ' +
                  'some of the following keys: %s. ' +
                  'Instead received a specification with an unexpected "%s" key. ' +
                  'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
                ALLOWED_SPEC_METHODS.join(', '),
                key,
              )
              ;(0, _invariant2.default)(
                typeof spec[key] === 'function',
                'Expected %s in the drag source specification to be a function. ' +
                  'Instead received a specification with %s: %s. ' +
                  'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
                key,
                key,
                spec[key],
              )
            })
            REQUIRED_SPEC_METHODS.forEach(function (key) {
              ;(0, _invariant2.default)(
                typeof spec[key] === 'function',
                'Expected %s in the drag source specification to be a function. ' +
                  'Instead received a specification with %s: %s. ' +
                  'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
                key,
                key,
                spec[key],
              )
            })

            var Source = (function () {
              function Source(monitor) {
                _classCallCheck(this, Source)

                this.monitor = monitor
                this.props = null
                this.component = null
              }

              _createClass(Source, [
                {
                  key: 'receiveProps',
                  value: function receiveProps(props) {
                    this.props = props
                  },
                },
                {
                  key: 'receiveComponent',
                  value: function receiveComponent(component) {
                    this.component = component
                  },
                },
                {
                  key: 'canDrag',
                  value: function canDrag() {
                    if (!spec.canDrag) {
                      return true
                    }

                    return spec.canDrag(this.props, this.monitor)
                  },
                },
                {
                  key: 'isDragging',
                  value: function isDragging(globalMonitor, sourceId) {
                    if (!spec.isDragging) {
                      return sourceId === globalMonitor.getSourceId()
                    }

                    return spec.isDragging(this.props, this.monitor)
                  },
                },
                {
                  key: 'beginDrag',
                  value: function beginDrag() {
                    var item = spec.beginDrag(
                      this.props,
                      this.monitor,
                      this.component,
                    )
                    if (process.env.NODE_ENV !== 'production') {
                      ;(0, _invariant2.default)(
                        (0, _isPlainObject2.default)(item),
                        'beginDrag() must return a plain object that represents the dragged item. ' +
                          'Instead received %s. ' +
                          'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',
                        item,
                      )
                    }
                    return item
                  },
                },
                {
                  key: 'endDrag',
                  value: function endDrag() {
                    if (!spec.endDrag) {
                      return
                    }

                    spec.endDrag(this.props, this.monitor, this.component)
                  },
                },
              ])

              return Source
            })()

            return function createSource(monitor) {
              return new Source(monitor)
            }
          }
        }).call(this, require('_process'))
      },
      { _process: 162, invariant: 54, 'lodash/isPlainObject': 148 },
    ],
    181: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        exports.default = createSourceMonitor

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var isCallingCanDrag = false
        var isCallingIsDragging = false

        var SourceMonitor = (function () {
          function SourceMonitor(manager) {
            _classCallCheck(this, SourceMonitor)

            this.internalMonitor = manager.getMonitor()
          }

          _createClass(SourceMonitor, [
            {
              key: 'receiveHandlerId',
              value: function receiveHandlerId(sourceId) {
                this.sourceId = sourceId
              },
            },
            {
              key: 'canDrag',
              value: function canDrag() {
                ;(0, _invariant2.default)(
                  !isCallingCanDrag,
                  'You may not call monitor.canDrag() inside your canDrag() implementation. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html',
                )

                try {
                  isCallingCanDrag = true
                  return this.internalMonitor.canDragSource(this.sourceId)
                } finally {
                  isCallingCanDrag = false
                }
              },
            },
            {
              key: 'isDragging',
              value: function isDragging() {
                ;(0, _invariant2.default)(
                  !isCallingIsDragging,
                  'You may not call monitor.isDragging() inside your isDragging() implementation. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html',
                )

                try {
                  isCallingIsDragging = true
                  return this.internalMonitor.isDraggingSource(this.sourceId)
                } finally {
                  isCallingIsDragging = false
                }
              },
            },
            {
              key: 'getItemType',
              value: function getItemType() {
                return this.internalMonitor.getItemType()
              },
            },
            {
              key: 'getItem',
              value: function getItem() {
                return this.internalMonitor.getItem()
              },
            },
            {
              key: 'getDropResult',
              value: function getDropResult() {
                return this.internalMonitor.getDropResult()
              },
            },
            {
              key: 'didDrop',
              value: function didDrop() {
                return this.internalMonitor.didDrop()
              },
            },
            {
              key: 'getInitialClientOffset',
              value: function getInitialClientOffset() {
                return this.internalMonitor.getInitialClientOffset()
              },
            },
            {
              key: 'getInitialSourceClientOffset',
              value: function getInitialSourceClientOffset() {
                return this.internalMonitor.getInitialSourceClientOffset()
              },
            },
            {
              key: 'getSourceClientOffset',
              value: function getSourceClientOffset() {
                return this.internalMonitor.getSourceClientOffset()
              },
            },
            {
              key: 'getClientOffset',
              value: function getClientOffset() {
                return this.internalMonitor.getClientOffset()
              },
            },
            {
              key: 'getDifferenceFromInitialOffset',
              value: function getDifferenceFromInitialOffset() {
                return this.internalMonitor.getDifferenceFromInitialOffset()
              },
            },
          ])

          return SourceMonitor
        })()

        function createSourceMonitor(manager) {
          return new SourceMonitor(manager)
        }
      },
      { invariant: 54 },
    ],
    182: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = createTargetConnector

        var _wrapConnectorHooks = require('./wrapConnectorHooks')

        var _wrapConnectorHooks2 = _interopRequireDefault(_wrapConnectorHooks)

        var _areOptionsEqual = require('./areOptionsEqual')

        var _areOptionsEqual2 = _interopRequireDefault(_areOptionsEqual)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function createTargetConnector(backend) {
          var currentHandlerId = void 0

          var currentDropTargetNode = void 0
          var currentDropTargetOptions = void 0
          var disconnectCurrentDropTarget = void 0

          function reconnectDropTarget() {
            if (disconnectCurrentDropTarget) {
              disconnectCurrentDropTarget()
              disconnectCurrentDropTarget = null
            }

            if (currentHandlerId && currentDropTargetNode) {
              disconnectCurrentDropTarget = backend.connectDropTarget(
                currentHandlerId,
                currentDropTargetNode,
                currentDropTargetOptions,
              )
            }
          }

          function receiveHandlerId(handlerId) {
            if (handlerId === currentHandlerId) {
              return
            }

            currentHandlerId = handlerId
            reconnectDropTarget()
          }

          var hooks = (0, _wrapConnectorHooks2.default)({
            dropTarget: function connectDropTarget(node, options) {
              if (
                node === currentDropTargetNode &&
                (0, _areOptionsEqual2.default)(
                  options,
                  currentDropTargetOptions,
                )
              ) {
                return
              }

              currentDropTargetNode = node
              currentDropTargetOptions = options

              reconnectDropTarget()
            },
          })

          return {
            receiveHandlerId: receiveHandlerId,
            hooks: hooks,
          }
        }
      },
      { './areOptionsEqual': 178, './wrapConnectorHooks': 194 },
    ],
    183: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          Object.defineProperty(exports, '__esModule', {
            value: true,
          })

          var _createClass = (function () {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i]
                descriptor.enumerable = descriptor.enumerable || false
                descriptor.configurable = true
                if ('value' in descriptor) descriptor.writable = true
                Object.defineProperty(target, descriptor.key, descriptor)
              }
            }
            return function (Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps)
              if (staticProps) defineProperties(Constructor, staticProps)
              return Constructor
            }
          })()

          exports.default = createTargetFactory

          var _invariant = require('invariant')

          var _invariant2 = _interopRequireDefault(_invariant)

          var _isPlainObject = require('lodash/isPlainObject')

          var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj }
          }

          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError('Cannot call a class as a function')
            }
          }

          var ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop']

          function createTargetFactory(spec) {
            Object.keys(spec).forEach(function (key) {
              ;(0, _invariant2.default)(
                ALLOWED_SPEC_METHODS.indexOf(key) > -1,
                'Expected the drop target specification to only have ' +
                  'some of the following keys: %s. ' +
                  'Instead received a specification with an unexpected "%s" key. ' +
                  'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
                ALLOWED_SPEC_METHODS.join(', '),
                key,
              )
              ;(0, _invariant2.default)(
                typeof spec[key] === 'function',
                'Expected %s in the drop target specification to be a function. ' +
                  'Instead received a specification with %s: %s. ' +
                  'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
                key,
                key,
                spec[key],
              )
            })

            var Target = (function () {
              function Target(monitor) {
                _classCallCheck(this, Target)

                this.monitor = monitor
                this.props = null
                this.component = null
              }

              _createClass(Target, [
                {
                  key: 'receiveProps',
                  value: function receiveProps(props) {
                    this.props = props
                  },
                },
                {
                  key: 'receiveMonitor',
                  value: function receiveMonitor(monitor) {
                    this.monitor = monitor
                  },
                },
                {
                  key: 'receiveComponent',
                  value: function receiveComponent(component) {
                    this.component = component
                  },
                },
                {
                  key: 'canDrop',
                  value: function canDrop() {
                    if (!spec.canDrop) {
                      return true
                    }

                    return spec.canDrop(this.props, this.monitor)
                  },
                },
                {
                  key: 'hover',
                  value: function hover() {
                    if (!spec.hover) {
                      return
                    }

                    spec.hover(this.props, this.monitor, this.component)
                  },
                },
                {
                  key: 'drop',
                  value: function drop() {
                    if (!spec.drop) {
                      return undefined
                    }

                    var dropResult = spec.drop(
                      this.props,
                      this.monitor,
                      this.component,
                    )
                    if (process.env.NODE_ENV !== 'production') {
                      ;(0, _invariant2.default)(
                        typeof dropResult === 'undefined' ||
                          (0, _isPlainObject2.default)(dropResult),
                        'drop() must either return undefined, or an object that represents the drop result. ' +
                          'Instead received %s. ' +
                          'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',
                        dropResult,
                      )
                    }
                    return dropResult
                  },
                },
              ])

              return Target
            })()

            return function createTarget(monitor) {
              return new Target(monitor)
            }
          }
        }).call(this, require('_process'))
      },
      { _process: 162, invariant: 54, 'lodash/isPlainObject': 148 },
    ],
    184: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        exports.default = createTargetMonitor

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        var isCallingCanDrop = false

        var TargetMonitor = (function () {
          function TargetMonitor(manager) {
            _classCallCheck(this, TargetMonitor)

            this.internalMonitor = manager.getMonitor()
          }

          _createClass(TargetMonitor, [
            {
              key: 'receiveHandlerId',
              value: function receiveHandlerId(targetId) {
                this.targetId = targetId
              },
            },
            {
              key: 'canDrop',
              value: function canDrop() {
                ;(0, _invariant2.default)(
                  !isCallingCanDrop,
                  'You may not call monitor.canDrop() inside your canDrop() implementation. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html',
                )

                try {
                  isCallingCanDrop = true
                  return this.internalMonitor.canDropOnTarget(this.targetId)
                } finally {
                  isCallingCanDrop = false
                }
              },
            },
            {
              key: 'isOver',
              value: function isOver(options) {
                return this.internalMonitor.isOverTarget(this.targetId, options)
              },
            },
            {
              key: 'getItemType',
              value: function getItemType() {
                return this.internalMonitor.getItemType()
              },
            },
            {
              key: 'getItem',
              value: function getItem() {
                return this.internalMonitor.getItem()
              },
            },
            {
              key: 'getDropResult',
              value: function getDropResult() {
                return this.internalMonitor.getDropResult()
              },
            },
            {
              key: 'didDrop',
              value: function didDrop() {
                return this.internalMonitor.didDrop()
              },
            },
            {
              key: 'getInitialClientOffset',
              value: function getInitialClientOffset() {
                return this.internalMonitor.getInitialClientOffset()
              },
            },
            {
              key: 'getInitialSourceClientOffset',
              value: function getInitialSourceClientOffset() {
                return this.internalMonitor.getInitialSourceClientOffset()
              },
            },
            {
              key: 'getSourceClientOffset',
              value: function getSourceClientOffset() {
                return this.internalMonitor.getSourceClientOffset()
              },
            },
            {
              key: 'getClientOffset',
              value: function getClientOffset() {
                return this.internalMonitor.getClientOffset()
              },
            },
            {
              key: 'getDifferenceFromInitialOffset',
              value: function getDifferenceFromInitialOffset() {
                return this.internalMonitor.getDifferenceFromInitialOffset()
              },
            },
          ])

          return TargetMonitor
        })()

        function createTargetMonitor(manager) {
          return new TargetMonitor(manager)
        }
      },
      { invariant: 54 },
    ],
    185: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          Object.defineProperty(exports, '__esModule', {
            value: true,
          })

          var _extends =
            Object.assign ||
            function (target) {
              for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i]
                for (var key in source) {
                  if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key]
                  }
                }
              }
              return target
            }

          var _typeof =
            typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
              ? function (obj) {
                  return typeof obj
                }
              : function (obj) {
                  return obj &&
                    typeof Symbol === 'function' &&
                    obj.constructor === Symbol &&
                    obj !== Symbol.prototype
                    ? 'symbol'
                    : typeof obj
                }

          var _createClass = (function () {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i]
                descriptor.enumerable = descriptor.enumerable || false
                descriptor.configurable = true
                if ('value' in descriptor) descriptor.writable = true
                Object.defineProperty(target, descriptor.key, descriptor)
              }
            }
            return function (Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps)
              if (staticProps) defineProperties(Constructor, staticProps)
              return Constructor
            }
          })()

          exports.default = decorateHandler

          var _react = require('react')

          var _react2 = _interopRequireDefault(_react)

          var _disposables = require('disposables')

          var _isPlainObject = require('lodash/isPlainObject')

          var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

          var _invariant = require('invariant')

          var _invariant2 = _interopRequireDefault(_invariant)

          var _hoistNonReactStatics = require('hoist-non-react-statics')

          var _hoistNonReactStatics2 = _interopRequireDefault(
            _hoistNonReactStatics,
          )

          var _shallowEqual = require('./utils/shallowEqual')

          var _shallowEqual2 = _interopRequireDefault(_shallowEqual)

          var _shallowEqualScalar = require('./utils/shallowEqualScalar')

          var _shallowEqualScalar2 = _interopRequireDefault(_shallowEqualScalar)

          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj }
          }

          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError('Cannot call a class as a function')
            }
          }

          function _possibleConstructorReturn(self, call) {
            if (!self) {
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called",
              )
            }
            return call &&
              (typeof call === 'object' || typeof call === 'function')
              ? call
              : self
          }

          function _inherits(subClass, superClass) {
            if (typeof superClass !== 'function' && superClass !== null) {
              throw new TypeError(
                'Super expression must either be null or a function, not ' +
                  typeof superClass,
              )
            }
            subClass.prototype = Object.create(
              superClass && superClass.prototype,
              {
                constructor: {
                  value: subClass,
                  enumerable: false,
                  writable: true,
                  configurable: true,
                },
              },
            )
            if (superClass)
              Object.setPrototypeOf
                ? Object.setPrototypeOf(subClass, superClass)
                : (subClass.__proto__ = superClass)
          }

          function decorateHandler(_ref) {
            var _class, _temp

            var DecoratedComponent = _ref.DecoratedComponent,
              createHandler = _ref.createHandler,
              createMonitor = _ref.createMonitor,
              createConnector = _ref.createConnector,
              registerHandler = _ref.registerHandler,
              containerDisplayName = _ref.containerDisplayName,
              getType = _ref.getType,
              collect = _ref.collect,
              options = _ref.options
            var _options$arePropsEqua = options.arePropsEqual,
              arePropsEqual =
                _options$arePropsEqua === undefined
                  ? _shallowEqualScalar2.default
                  : _options$arePropsEqua

            var displayName =
              DecoratedComponent.displayName ||
              DecoratedComponent.name ||
              'Component'

            var DragDropContainer =
              ((_temp = _class =
                (function (_Component) {
                  _inherits(DragDropContainer, _Component)

                  _createClass(DragDropContainer, [
                    {
                      key: 'getHandlerId',
                      value: function getHandlerId() {
                        return this.handlerId
                      },
                    },
                    {
                      key: 'getDecoratedComponentInstance',
                      value: function getDecoratedComponentInstance() {
                        return this.decoratedComponentInstance
                      },
                    },
                    {
                      key: 'shouldComponentUpdate',
                      value: function shouldComponentUpdate(
                        nextProps,
                        nextState,
                      ) {
                        return (
                          !arePropsEqual(nextProps, this.props) ||
                          !(0, _shallowEqual2.default)(nextState, this.state)
                        )
                      },
                    },
                  ])

                  function DragDropContainer(props, context) {
                    _classCallCheck(this, DragDropContainer)

                    var _this = _possibleConstructorReturn(
                      this,
                      (
                        DragDropContainer.__proto__ ||
                        Object.getPrototypeOf(DragDropContainer)
                      ).call(this, props, context),
                    )

                    _this.handleChange = _this.handleChange.bind(_this)
                    _this.handleChildRef = _this.handleChildRef.bind(_this)

                    ;(0, _invariant2.default)(
                      _typeof(_this.context.dragDropManager) === 'object',
                      'Could not find the drag and drop manager in the context of %s. ' +
                        'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                        'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context',
                      displayName,
                      displayName,
                    )

                    _this.manager = _this.context.dragDropManager
                    _this.handlerMonitor = createMonitor(_this.manager)
                    _this.handlerConnector = createConnector(
                      _this.manager.getBackend(),
                    )
                    _this.handler = createHandler(_this.handlerMonitor)

                    _this.disposable = new _disposables.SerialDisposable()
                    _this.receiveProps(props)
                    _this.state = _this.getCurrentState()
                    _this.dispose()
                    return _this
                  }

                  _createClass(DragDropContainer, [
                    {
                      key: 'componentDidMount',
                      value: function componentDidMount() {
                        this.isCurrentlyMounted = true
                        this.disposable = new _disposables.SerialDisposable()
                        this.currentType = null
                        this.receiveProps(this.props)
                        this.handleChange()
                      },
                    },
                    {
                      key: 'componentWillReceiveProps',
                      value: function componentWillReceiveProps(nextProps) {
                        if (!arePropsEqual(nextProps, this.props)) {
                          this.receiveProps(nextProps)
                          this.handleChange()
                        }
                      },
                    },
                    {
                      key: 'componentWillUnmount',
                      value: function componentWillUnmount() {
                        this.dispose()
                        this.isCurrentlyMounted = false
                      },
                    },
                    {
                      key: 'receiveProps',
                      value: function receiveProps(props) {
                        this.handler.receiveProps(props)
                        this.receiveType(getType(props))
                      },
                    },
                    {
                      key: 'receiveType',
                      value: function receiveType(type) {
                        if (type === this.currentType) {
                          return
                        }

                        this.currentType = type

                        var _registerHandler = registerHandler(
                            type,
                            this.handler,
                            this.manager,
                          ),
                          handlerId = _registerHandler.handlerId,
                          unregister = _registerHandler.unregister

                        this.handlerId = handlerId
                        this.handlerMonitor.receiveHandlerId(handlerId)
                        this.handlerConnector.receiveHandlerId(handlerId)

                        var globalMonitor = this.manager.getMonitor()
                        var unsubscribe = globalMonitor.subscribeToStateChange(
                          this.handleChange,
                          { handlerIds: [handlerId] },
                        )

                        this.disposable.setDisposable(
                          new _disposables.CompositeDisposable(
                            new _disposables.Disposable(unsubscribe),
                            new _disposables.Disposable(unregister),
                          ),
                        )
                      },
                    },
                    {
                      key: 'handleChange',
                      value: function handleChange() {
                        if (!this.isCurrentlyMounted) {
                          return
                        }

                        var nextState = this.getCurrentState()
                        if (
                          !(0, _shallowEqual2.default)(nextState, this.state)
                        ) {
                          this.setState(nextState)
                        }
                      },
                    },
                    {
                      key: 'dispose',
                      value: function dispose() {
                        this.disposable.dispose()
                        this.handlerConnector.receiveHandlerId(null)
                      },
                    },
                    {
                      key: 'handleChildRef',
                      value: function handleChildRef(component) {
                        this.decoratedComponentInstance = component
                        this.handler.receiveComponent(component)
                      },
                    },
                    {
                      key: 'getCurrentState',
                      value: function getCurrentState() {
                        var nextState = collect(
                          this.handlerConnector.hooks,
                          this.handlerMonitor,
                        )

                        if (process.env.NODE_ENV !== 'production') {
                          ;(0, _invariant2.default)(
                            (0, _isPlainObject2.default)(nextState),
                            'Expected `collect` specified as the second argument to ' +
                              '%s for %s to return a plain object of props to inject. ' +
                              'Instead, received %s.',
                            containerDisplayName,
                            displayName,
                            nextState,
                          )
                        }

                        return nextState
                      },
                    },
                    {
                      key: 'render',
                      value: function render() {
                        return _react2.default.createElement(
                          DecoratedComponent,
                          _extends({}, this.props, this.state, {
                            ref: this.handleChildRef,
                          }),
                        )
                      },
                    },
                  ])

                  return DragDropContainer
                })(_react.Component)),
              (_class.DecoratedComponent = DecoratedComponent),
              (_class.displayName =
                containerDisplayName + '(' + displayName + ')'),
              (_class.contextTypes = {
                dragDropManager: _react.PropTypes.object.isRequired,
              }),
              _temp)

            return (0, _hoistNonReactStatics2.default)(
              DragDropContainer,
              DecoratedComponent,
            )
          }
        }).call(this, require('_process'))
      },
      {
        './utils/shallowEqual': 192,
        './utils/shallowEqualScalar': 193,
        _process: 162,
        disposables: 4,
        'hoist-non-react-statics': 53,
        invariant: 54,
        'lodash/isPlainObject': 148,
        react: 341,
      },
    ],
    186: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _DragDropContext = require('./DragDropContext')

        Object.defineProperty(exports, 'DragDropContext', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragDropContext).default
          },
        })

        var _DragDropContextProvider = require('./DragDropContextProvider')

        Object.defineProperty(exports, 'DragDropContextProvider', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragDropContextProvider).default
          },
        })

        var _DragLayer = require('./DragLayer')

        Object.defineProperty(exports, 'DragLayer', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragLayer).default
          },
        })

        var _DragSource = require('./DragSource')

        Object.defineProperty(exports, 'DragSource', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DragSource).default
          },
        })

        var _DropTarget = require('./DropTarget')

        Object.defineProperty(exports, 'DropTarget', {
          enumerable: true,
          get: function get() {
            return _interopRequireDefault(_DropTarget).default
          },
        })

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }
      },
      {
        './DragDropContext': 173,
        './DragDropContextProvider': 174,
        './DragLayer': 175,
        './DragSource': 176,
        './DropTarget': 177,
      },
    ],
    187: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = registerSource
        function registerSource(type, source, manager) {
          var registry = manager.getRegistry()
          var sourceId = registry.addSource(type, source)

          function unregisterSource() {
            registry.removeSource(sourceId)
          }

          return {
            handlerId: sourceId,
            unregister: unregisterSource,
          }
        }
      },
      {},
    ],
    188: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = registerTarget
        function registerTarget(type, target, manager) {
          var registry = manager.getRegistry()
          var targetId = registry.addTarget(type, target)

          function unregisterTarget() {
            registry.removeTarget(targetId)
          }

          return {
            handlerId: targetId,
            unregister: unregisterTarget,
          }
        }
      },
      {},
    ],
    189: [
      function (require, module, exports) {
        ;(function (process) {
          'use strict'

          Object.defineProperty(exports, '__esModule', {
            value: true,
          })
          exports.default = checkDecoratorArguments
          function checkDecoratorArguments(functionName, signature) {
            if (process.env.NODE_ENV !== 'production') {
              for (
                var i = 0;
                i < (arguments.length <= 2 ? 0 : arguments.length - 2);
                i += 1
              ) {
                var arg =
                  arguments.length <= i + 2 ? undefined : arguments[i + 2]
                if (arg && arg.prototype && arg.prototype.render) {
                  console.error(
                    // eslint-disable-line no-console
                    'You seem to be applying the arguments in the wrong order. ' +
                      ('It should be ' +
                        functionName +
                        '(' +
                        signature +
                        ')(Component), not the other way around. ') +
                      'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order',
                  )
                  return
                }
              }
            }
          }
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    190: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = cloneWithRef

        var _invariant = require('invariant')

        var _invariant2 = _interopRequireDefault(_invariant)

        var _react = require('react')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function cloneWithRef(element, newRef) {
          var previousRef = element.ref
          ;(0, _invariant2.default)(
            typeof previousRef !== 'string',
            'Cannot connect React DnD to an element with an existing string ref. ' +
              'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +
              'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute',
          )

          if (!previousRef) {
            // When there is no ref on the element, use the new ref directly
            return (0, _react.cloneElement)(element, {
              ref: newRef,
            })
          }

          return (0, _react.cloneElement)(element, {
            ref: function ref(node) {
              newRef(node)

              if (previousRef) {
                previousRef(node)
              }
            },
          })
        }
      },
      { invariant: 54, react: 341 },
    ],
    191: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol &&
                  obj !== Symbol.prototype
                  ? 'symbol'
                  : typeof obj
              }

        exports.default = isValidType

        var _isArray = require('lodash/isArray')

        var _isArray2 = _interopRequireDefault(_isArray)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function isValidType(type, allowArray) {
          return (
            typeof type === 'string' ||
            (typeof type === 'undefined' ? 'undefined' : _typeof(type)) ===
              'symbol' ||
            (allowArray &&
              (0, _isArray2.default)(type) &&
              type.every(function (t) {
                return isValidType(t, false)
              }))
          )
        }
      },
      { 'lodash/isArray': 141 },
    ],
    192: [
      function (require, module, exports) {
        arguments[4][172][0].apply(exports, arguments)
      },
      { dup: 172 },
    ],
    193: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol &&
                  obj !== Symbol.prototype
                  ? 'symbol'
                  : typeof obj
              }

        exports.default = shallowEqualScalar
        function shallowEqualScalar(objA, objB) {
          if (objA === objB) {
            return true
          }

          if (
            (typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !==
              'object' ||
            objA === null ||
            (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !==
              'object' ||
            objB === null
          ) {
            return false
          }

          var keysA = Object.keys(objA)
          var keysB = Object.keys(objB)

          if (keysA.length !== keysB.length) {
            return false
          }

          // Test for A's keys different from B.
          var hasOwn = Object.prototype.hasOwnProperty
          for (var i = 0; i < keysA.length; i += 1) {
            if (!hasOwn.call(objB, keysA[i])) {
              return false
            }

            var valA = objA[keysA[i]]
            var valB = objB[keysA[i]]

            if (
              valA !== valB ||
              (typeof valA === 'undefined' ? 'undefined' : _typeof(valA)) ===
                'object' ||
              (typeof valB === 'undefined' ? 'undefined' : _typeof(valB)) ===
                'object'
            ) {
              return false
            }
          }

          return true
        }
      },
      {},
    ],
    194: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = wrapConnectorHooks

        var _react = require('react')

        var _cloneWithRef = require('./utils/cloneWithRef')

        var _cloneWithRef2 = _interopRequireDefault(_cloneWithRef)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function throwIfCompositeComponentElement(element) {
          // Custom components can no longer be wrapped directly in React DnD 2.0
          // so that we don't need to depend on findDOMNode() from react-dom.
          if (typeof element.type === 'string') {
            return
          }

          var displayName =
            element.type.displayName || element.type.name || 'the component'

          throw new Error(
            'Only native element nodes can now be passed to React DnD connectors.' +
              ('You can either wrap ' +
                displayName +
                ' into a <div>, or turn it into a ') +
              'drag source or a drop target itself.',
          )
        }

        function wrapHookToRecognizeElement(hook) {
          return function () {
            var elementOrNode =
              arguments.length > 0 && arguments[0] !== undefined
                ? arguments[0]
                : null
            var options =
              arguments.length > 1 && arguments[1] !== undefined
                ? arguments[1]
                : null

            // When passed a node, call the hook straight away.
            if (!(0, _react.isValidElement)(elementOrNode)) {
              var node = elementOrNode
              hook(node, options)
              return undefined
            }

            // If passed a ReactElement, clone it and attach this function as a ref.
            // This helps us achieve a neat API where user doesn't even know that refs
            // are being used under the hood.
            var element = elementOrNode
            throwIfCompositeComponentElement(element)

            // When no options are passed, use the hook directly
            var ref = options
              ? function (node) {
                  return hook(node, options)
                }
              : hook

            return (0, _cloneWithRef2.default)(element, ref)
          }
        }

        function wrapConnectorHooks(hooks) {
          var wrappedHooks = {}

          Object.keys(hooks).forEach(function (key) {
            var hook = hooks[key]
            var wrappedHook = wrapHookToRecognizeElement(hook)
            wrappedHooks[key] = function () {
              return wrappedHook
            }
          })

          return wrappedHooks
        }
      },
      { './utils/cloneWithRef': 190, react: 341 },
    ],
    195: [
      function (require, module, exports) {
        'use strict'

        module.exports = require('react/lib/ReactDOM')
      },
      { 'react/lib/ReactDOM': 240 },
    ],
    196: [
      function (require, module, exports) {
        ;(function webpackUniversalModuleDefinition(root, factory) {
          if (typeof exports === 'object' && typeof module === 'object')
            module.exports = factory(require('react'), require('react-dom'))
          else if (typeof define === 'function' && define.amd)
            define(['react', 'react-dom'], factory)
          else if (typeof exports === 'object')
            exports['ReactDraggable'] = factory(
              require('react'),
              require('react-dom'),
            )
          else root['ReactDraggable'] = factory(root['React'], root['ReactDOM'])
        })(
          this,
          function (
            __WEBPACK_EXTERNAL_MODULE_2__,
            __WEBPACK_EXTERNAL_MODULE_3__,
          ) {
            return /******/ (function (modules) {
              // webpackBootstrap
              /******/ // The module cache
              /******/ var installedModules = {}
              /******/
              /******/ // The require function
              /******/ function __webpack_require__(moduleId) {
                /******/
                /******/ // Check if module is in cache
                /******/ if (installedModules[moduleId])
                  /******/ return installedModules[moduleId].exports
                /******/
                /******/ // Create a new module (and put it into the cache)
                /******/ var module = (installedModules[moduleId] = {
                  /******/ exports: {},
                  /******/ id: moduleId,
                  /******/ loaded: false,
                  /******/
                })
                /******/
                /******/ // Execute the module function
                /******/ modules[moduleId].call(
                  module.exports,
                  module,
                  module.exports,
                  __webpack_require__,
                )
                /******/
                /******/ // Flag the module as loaded
                /******/ module.loaded = true
                /******/
                /******/ // Return the exports of the module
                /******/ return module.exports
                /******/
              }
              /******/
              /******/
              /******/ // expose the modules object (__webpack_modules__)
              /******/ __webpack_require__.m = modules
              /******/
              /******/ // expose the module cache
              /******/ __webpack_require__.c = installedModules
              /******/
              /******/ // __webpack_public_path__
              /******/ __webpack_require__.p = ''
              /******/
              /******/ // Load entry module and return exports
              /******/ return __webpack_require__(0)
              /******/
            })(
              /************************************************************************/
              /******/ [
                /* 0 */
                /***/ function (module, exports, __webpack_require__) {
                  'use strict'

                  module.exports = __webpack_require__(1).default
                  module.exports.DraggableCore = __webpack_require__(9).default

                  /***/
                },
                /* 1 */
                /***/ function (module, exports, __webpack_require__) {
                  /* WEBPACK VAR INJECTION */ ;(function (global) {
                    'use strict'

                    Object.defineProperty(exports, '__esModule', {
                      value: true,
                    })

                    var _extends =
                      Object.assign ||
                      function (target) {
                        for (var i = 1; i < arguments.length; i++) {
                          var source = arguments[i]
                          for (var key in source) {
                            if (
                              Object.prototype.hasOwnProperty.call(source, key)
                            ) {
                              target[key] = source[key]
                            }
                          }
                        }
                        return target
                      }

                    var _slicedToArray = (function () {
                      function sliceIterator(arr, i) {
                        var _arr = []
                        var _n = true
                        var _d = false
                        var _e = undefined
                        try {
                          for (
                            var _i = arr[Symbol.iterator](), _s;
                            !(_n = (_s = _i.next()).done);
                            _n = true
                          ) {
                            _arr.push(_s.value)
                            if (i && _arr.length === i) break
                          }
                        } catch (err) {
                          _d = true
                          _e = err
                        } finally {
                          try {
                            if (!_n && _i['return']) _i['return']()
                          } finally {
                            if (_d) throw _e
                          }
                        }
                        return _arr
                      }
                      return function (arr, i) {
                        if (Array.isArray(arr)) {
                          return arr
                        } else if (Symbol.iterator in Object(arr)) {
                          return sliceIterator(arr, i)
                        } else {
                          throw new TypeError(
                            'Invalid attempt to destructure non-iterable instance',
                          )
                        }
                      }
                    })()

                    var _createClass = (function () {
                      function defineProperties(target, props) {
                        for (var i = 0; i < props.length; i++) {
                          var descriptor = props[i]
                          descriptor.enumerable = descriptor.enumerable || false
                          descriptor.configurable = true
                          if ('value' in descriptor) descriptor.writable = true
                          Object.defineProperty(
                            target,
                            descriptor.key,
                            descriptor,
                          )
                        }
                      }
                      return function (Constructor, protoProps, staticProps) {
                        if (protoProps)
                          defineProperties(Constructor.prototype, protoProps)
                        if (staticProps)
                          defineProperties(Constructor, staticProps)
                        return Constructor
                      }
                    })()

                    var _react = __webpack_require__(2)

                    var _react2 = _interopRequireDefault(_react)

                    var _reactDom = __webpack_require__(3)

                    var _reactDom2 = _interopRequireDefault(_reactDom)

                    var _classnames = __webpack_require__(4)

                    var _classnames2 = _interopRequireDefault(_classnames)

                    var _domFns = __webpack_require__(5)

                    var _positionFns = __webpack_require__(8)

                    var _shims = __webpack_require__(6)

                    var _DraggableCore = __webpack_require__(9)

                    var _DraggableCore2 = _interopRequireDefault(_DraggableCore)

                    var _log = __webpack_require__(10)

                    var _log2 = _interopRequireDefault(_log)

                    function _interopRequireDefault(obj) {
                      return obj && obj.__esModule ? obj : { default: obj }
                    }

                    function _classCallCheck(instance, Constructor) {
                      if (!(instance instanceof Constructor)) {
                        throw new TypeError('Cannot call a class as a function')
                      }
                    }

                    function _possibleConstructorReturn(self, call) {
                      if (!self) {
                        throw new ReferenceError(
                          "this hasn't been initialised - super() hasn't been called",
                        )
                      }
                      return call &&
                        (typeof call === 'object' || typeof call === 'function')
                        ? call
                        : self
                    }

                    function _inherits(subClass, superClass) {
                      if (
                        typeof superClass !== 'function' &&
                        superClass !== null
                      ) {
                        throw new TypeError(
                          'Super expression must either be null or a function, not ' +
                            typeof superClass,
                        )
                      }
                      subClass.prototype = Object.create(
                        superClass && superClass.prototype,
                        {
                          constructor: {
                            value: subClass,
                            enumerable: false,
                            writable: true,
                            configurable: true,
                          },
                        },
                      )
                      if (superClass)
                        Object.setPrototypeOf
                          ? Object.setPrototypeOf(subClass, superClass)
                          : (subClass.__proto__ = superClass)
                    }
                    // $FlowIgnore

                    /*:: import type {DraggableEventHandler} from './utils/types';*/
                    /*:: type DraggableState = {
	  dragging: boolean,
	  dragged: boolean,
	  x: number, y: number,
	  slackX: number, slackY: number,
	  isElementSVG: boolean
	};*/

                    //
                    // Define <Draggable>
                    //

                    /*:: type ConstructorProps = {
	  position: { x: number, y: number },
	  defaultPosition: { x: number, y: number }
	}*/

                    var Draggable = (function (_React$Component) {
                      _inherits(Draggable, _React$Component)

                      function Draggable(props /*: ConstructorProps*/) {
                        _classCallCheck(this, Draggable)

                        var _this = _possibleConstructorReturn(
                          this,
                          Object.getPrototypeOf(Draggable).call(this, props),
                        )

                        _this.onDragStart = function (e, coreData) {
                          ;(0, _log2.default)(
                            'Draggable: onDragStart: %j',
                            coreData,
                          )

                          // Short-circuit if user's callback killed it.
                          var shouldStart = _this.props.onStart(
                            e,
                            (0, _positionFns.createDraggableData)(
                              _this,
                              coreData,
                            ),
                          )
                          // Kills start event on core as well, so move handlers are never bound.
                          if (shouldStart === false) return false

                          _this.setState({ dragging: true, dragged: true })
                        }

                        _this.onDrag = function (e, coreData) {
                          if (!_this.state.dragging) return false
                          ;(0, _log2.default)('Draggable: onDrag: %j', coreData)

                          var uiData = (0, _positionFns.createDraggableData)(
                            _this,
                            coreData,
                          )

                          var newState /*: $Shape<DraggableState>*/ = {
                            x: uiData.x,
                            y: uiData.y,
                          }

                          // Keep within bounds.
                          if (_this.props.bounds) {
                            // Save original x and y.
                            var _x = newState.x
                            var _y = newState.y

                            // Add slack to the values used to calculate bound position. This will ensure that if
                            // we start removing slack, the element won't react to it right away until it's been
                            // completely removed.

                            newState.x += _this.state.slackX
                            newState.y += _this.state.slackY

                            // Get bound position. This will ceil/floor the x and y within the boundaries.
                            // $FlowBug

                            // Recalculate slack by noting how much was shaved by the boundPosition handler.

                            var _getBoundPosition = (0,
                            _positionFns.getBoundPosition)(
                              _this,
                              newState.x,
                              newState.y,
                            )

                            var _getBoundPosition2 = _slicedToArray(
                              _getBoundPosition,
                              2,
                            )

                            newState.x = _getBoundPosition2[0]
                            newState.y = _getBoundPosition2[1]
                            newState.slackX =
                              _this.state.slackX + (_x - newState.x)
                            newState.slackY =
                              _this.state.slackY + (_y - newState.y)

                            // Update the event we fire to reflect what really happened after bounds took effect.
                            uiData.x = _x
                            uiData.y = _y
                            uiData.deltaX = newState.x - _this.state.x
                            uiData.deltaY = newState.y - _this.state.y
                          }

                          // Short-circuit if user's callback killed it.
                          var shouldUpdate = _this.props.onDrag(e, uiData)
                          if (shouldUpdate === false) return false

                          _this.setState(newState)
                        }

                        _this.onDragStop = function (e, coreData) {
                          if (!_this.state.dragging) return false

                          // Short-circuit if user's callback killed it.
                          var shouldStop = _this.props.onStop(
                            e,
                            (0, _positionFns.createDraggableData)(
                              _this,
                              coreData,
                            ),
                          )
                          if (shouldStop === false) return false

                          ;(0, _log2.default)(
                            'Draggable: onDragStop: %j',
                            coreData,
                          )

                          var newState /*: $Shape<DraggableState>*/ = {
                            dragging: false,
                            slackX: 0,
                            slackY: 0,
                          }

                          // If this is a controlled component, the result of this operation will be to
                          // revert back to the old position. We expect a handler on `onDragStop`, at the least.
                          var controlled = Boolean(_this.props.position)
                          if (controlled) {
                            var _this$props$position = _this.props.position
                            var _x2 = _this$props$position.x
                            var _y2 = _this$props$position.y

                            newState.x = _x2
                            newState.y = _y2
                          }

                          _this.setState(newState)
                        }

                        _this.state = {
                          // Whether or not we are currently dragging.
                          dragging: false,

                          // Whether or not we have been dragged before.
                          dragged: false,

                          // Current transform x and y.
                          x: props.position
                            ? props.position.x
                            : props.defaultPosition.x,
                          y: props.position
                            ? props.position.y
                            : props.defaultPosition.y,

                          // Used for compensating for out-of-bounds drags
                          slackX: 0,
                          slackY: 0,

                          // Can only determine if SVG after mounting
                          isElementSVG: false,
                        }
                        return _this
                      }

                      _createClass(Draggable, [
                        {
                          key: 'componentWillMount',
                          value: function componentWillMount() {
                            if (
                              this.props.position &&
                              !(this.props.onDrag || this.props.onStop)
                            ) {
                              // eslint-disable-next-line
                              console.warn(
                                'A `position` was applied to this <Draggable>, without drag handlers. This will make this ' +
                                  'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' +
                                  '`position` of this element.',
                              )
                            }
                          },
                        },
                        {
                          key: 'componentDidMount',
                          value: function componentDidMount() {
                            // Check to see if the element passed is an instanceof SVGElement
                            if (
                              typeof global.SVGElement !== 'undefined' &&
                              _reactDom2.default.findDOMNode(this) instanceof
                                global.SVGElement
                            ) {
                              this.setState({ isElementSVG: true })
                            }
                          },
                        },
                        {
                          key: 'componentWillReceiveProps',
                          value: function componentWillReceiveProps(
                            nextProps /*: Object*/,
                          ) {
                            // Set x/y if position has changed
                            if (
                              nextProps.position &&
                              (!this.props.position ||
                                nextProps.position.x !==
                                  this.props.position.x ||
                                nextProps.position.y !== this.props.position.y)
                            ) {
                              this.setState({
                                x: nextProps.position.x,
                                y: nextProps.position.y,
                              })
                            }
                          },
                        },
                        {
                          key: 'componentWillUnmount',
                          value: function componentWillUnmount() {
                            this.setState({ dragging: false }) // prevents invariant if unmounted while dragging
                          },
                        },
                        {
                          key: 'render',
                          value: function render() {
                            var style = {},
                              svgTransform = null

                            // If this is controlled, we don't want to move it - unless it's dragging.
                            var controlled = Boolean(this.props.position)
                            var draggable = !controlled || this.state.dragging

                            var position =
                              this.props.position || this.props.defaultPosition
                            var transformOpts = {
                              // Set left if horizontal drag is enabled
                              x:
                                (0, _positionFns.canDragX)(this) && draggable
                                  ? this.state.x
                                  : position.x,

                              // Set top if vertical drag is enabled
                              y:
                                (0, _positionFns.canDragY)(this) && draggable
                                  ? this.state.y
                                  : position.y,
                            }

                            // If this element was SVG, we use the `transform` attribute.
                            if (this.state.isElementSVG) {
                              svgTransform = (0, _domFns.createSVGTransform)(
                                transformOpts,
                              )
                            } else {
                              // Add a CSS transform to move the element around. This allows us to move the element around
                              // without worrying about whether or not it is relatively or absolutely positioned.
                              // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>
                              // has a clean slate.
                              style = (0, _domFns.createCSSTransform)(
                                transformOpts,
                              )
                            }

                            // Mark with class while dragging
                            var className = (0, _classnames2.default)(
                              this.props.children.props.className || '',
                              'react-draggable',
                              {
                                'react-draggable-dragging': this.state.dragging,
                                'react-draggable-dragged': this.state.dragged,
                              },
                            )

                            // Reuse the child provided
                            // This makes it flexible to use whatever element is wanted (div, ul, etc)
                            return _react2.default.createElement(
                              _DraggableCore2.default,
                              _extends({}, this.props, {
                                onStart: this.onDragStart,
                                onDrag: this.onDrag,
                                onStop: this.onDragStop,
                              }),
                              _react2.default.cloneElement(
                                _react2.default.Children.only(
                                  this.props.children,
                                ),
                                {
                                  className: className,
                                  style: _extends(
                                    {},
                                    this.props.children.props.style,
                                    style,
                                  ),
                                  transform: svgTransform,
                                },
                              ),
                            )
                          },
                        },
                      ])

                      return Draggable
                    })(_react2.default.Component)

                    Draggable.displayName = 'Draggable'
                    Draggable.propTypes = _extends(
                      {},
                      _DraggableCore2.default.propTypes,
                      {
                        /**
                         * `axis` determines which axis the draggable can move.
                         *
                         *  Note that all callbacks will still return data as normal. This only
                         *  controls flushing to the DOM.
                         *
                         * 'both' allows movement horizontally and vertically.
                         * 'x' limits movement to horizontal axis.
                         * 'y' limits movement to vertical axis.
                         * 'none' limits all movement.
                         *
                         * Defaults to 'both'.
                         */
                        axis: _react.PropTypes.oneOf([
                          'both',
                          'x',
                          'y',
                          'none',
                        ]),

                        /**
                         * `bounds` determines the range of movement available to the element.
                         * Available values are:
                         *
                         * 'parent' restricts movement within the Draggable's parent node.
                         *
                         * Alternatively, pass an object with the following properties, all of which are optional:
                         *
                         * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}
                         *
                         * All values are in px.
                         *
                         * Example:
                         *
                         * ```jsx
                         *   let App = React.createClass({
                         *       render: function () {
                         *         return (
                         *            <Draggable bounds={{right: 300, bottom: 300}}>
                         *              <div>Content</div>
                         *           </Draggable>
                         *         );
                         *       }
                         *   });
                         * ```
                         */
                        bounds: _react.PropTypes.oneOfType([
                          _react.PropTypes.shape({
                            left: _react.PropTypes.number,
                            right: _react.PropTypes.number,
                            top: _react.PropTypes.number,
                            bottom: _react.PropTypes.number,
                          }),
                          _react.PropTypes.string,
                          _react.PropTypes.oneOf([false]),
                        ]),

                        /**
                         * `defaultPosition` specifies the x and y that the dragged item should start at
                         *
                         * Example:
                         *
                         * ```jsx
                         *      let App = React.createClass({
                         *          render: function () {
                         *              return (
                         *                  <Draggable defaultPosition={{x: 25, y: 25}}>
                         *                      <div>I start with transformX: 25px and transformY: 25px;</div>
                         *                  </Draggable>
                         *              );
                         *          }
                         *      });
                         * ```
                         */
                        defaultPosition: _react.PropTypes.shape({
                          x: _react.PropTypes.number,
                          y: _react.PropTypes.number,
                        }),

                        /**
                         * `position`, if present, defines the current position of the element.
                         *
                         *  This is similar to how form elements in React work - if no `position` is supplied, the component
                         *  is uncontrolled.
                         *
                         * Example:
                         *
                         * ```jsx
                         *      let App = React.createClass({
                         *          render: function () {
                         *              return (
                         *                  <Draggable defaultPosition={{x: 25, y: 25}}>
                         *                      <div>I start with transformX: 25px and transformY: 25px;</div>
                         *                  </Draggable>
                         *              );
                         *          }
                         *      });
                         * ```
                         */
                        position: _react.PropTypes.shape({
                          x: _react.PropTypes.number,
                          y: _react.PropTypes.number,
                        }),

                        /**
                         * These properties should be defined on the child, not here.
                         */
                        className: _shims.dontSetMe,
                        style: _shims.dontSetMe,
                        transform: _shims.dontSetMe,
                      },
                    )
                    Draggable.defaultProps = _extends(
                      {},
                      _DraggableCore2.default.defaultProps,
                      {
                        axis: 'both',
                        bounds: false,
                        defaultPosition: { x: 0, y: 0 },
                        position: null,
                      },
                    )
                    exports.default = Draggable
                    /* WEBPACK VAR INJECTION */
                  }).call(
                    exports,
                    (function () {
                      return this
                    })(),
                  )

                  /***/
                },
                /* 2 */
                /***/ function (module, exports) {
                  module.exports = __WEBPACK_EXTERNAL_MODULE_2__

                  /***/
                },
                /* 3 */
                /***/ function (module, exports) {
                  module.exports = __WEBPACK_EXTERNAL_MODULE_3__

                  /***/
                },
                /* 4 */
                /***/ function (module, exports, __webpack_require__) {
                  var __WEBPACK_AMD_DEFINE_ARRAY__,
                    __WEBPACK_AMD_DEFINE_RESULT__ /*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
                  /* global define */

                  ;(function () {
                    'use strict'

                    var hasOwn = {}.hasOwnProperty

                    function classNames() {
                      var classes = []

                      for (var i = 0; i < arguments.length; i++) {
                        var arg = arguments[i]
                        if (!arg) continue

                        var argType = typeof arg

                        if (argType === 'string' || argType === 'number') {
                          classes.push(arg)
                        } else if (Array.isArray(arg)) {
                          classes.push(classNames.apply(null, arg))
                        } else if (argType === 'object') {
                          for (var key in arg) {
                            if (hasOwn.call(arg, key) && arg[key]) {
                              classes.push(key)
                            }
                          }
                        }
                      }

                      return classes.join(' ')
                    }

                    if (typeof module !== 'undefined' && module.exports) {
                      module.exports = classNames
                    } else if (true) {
                      // register as 'classnames', consistent with npm package name
                      !((__WEBPACK_AMD_DEFINE_ARRAY__ = []),
                      (__WEBPACK_AMD_DEFINE_RESULT__ = function () {
                        return classNames
                      }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)),
                      __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &&
                        (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))
                    } else {
                      window.classNames = classNames
                    }
                  })()

                  /***/
                },
                /* 5 */
                /***/ function (module, exports, __webpack_require__) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })

                  var _extends =
                    Object.assign ||
                    function (target) {
                      for (var i = 1; i < arguments.length; i++) {
                        var source = arguments[i]
                        for (var key in source) {
                          if (
                            Object.prototype.hasOwnProperty.call(source, key)
                          ) {
                            target[key] = source[key]
                          }
                        }
                      }
                      return target
                    }

                  exports.matchesSelector = matchesSelector
                  exports.matchesSelectorAndParentsTo =
                    matchesSelectorAndParentsTo
                  exports.addEvent = addEvent
                  exports.removeEvent = removeEvent
                  exports.outerHeight = outerHeight
                  exports.outerWidth = outerWidth
                  exports.innerHeight = innerHeight
                  exports.innerWidth = innerWidth
                  exports.offsetXYFromParentOf = offsetXYFromParentOf
                  exports.createCSSTransform = createCSSTransform
                  exports.createSVGTransform = createSVGTransform
                  exports.getTouch = getTouch
                  exports.getTouchIdentifier = getTouchIdentifier
                  exports.addUserSelectStyles = addUserSelectStyles
                  exports.removeUserSelectStyles = removeUserSelectStyles
                  exports.styleHacks = styleHacks

                  var _shims = __webpack_require__(6)

                  var _getPrefix = __webpack_require__(7)

                  var _getPrefix2 = _interopRequireDefault(_getPrefix)

                  function _interopRequireDefault(obj) {
                    return obj && obj.__esModule ? obj : { default: obj }
                  }

                  function _defineProperty(obj, key, value) {
                    if (key in obj) {
                      Object.defineProperty(obj, key, {
                        value: value,
                        enumerable: true,
                        configurable: true,
                        writable: true,
                      })
                    } else {
                      obj[key] = value
                    }
                    return obj
                  }

                  /*:: import type {ControlPosition} from './types';*/

                  var matchesSelectorFunc = ''
                  function matchesSelector(
                    el /*: Node*/,
                    selector /*: string*/,
                  ) /*: boolean*/ {
                    if (!matchesSelectorFunc) {
                      matchesSelectorFunc = (0, _shims.findInArray)(
                        [
                          'matches',
                          'webkitMatchesSelector',
                          'mozMatchesSelector',
                          'msMatchesSelector',
                          'oMatchesSelector',
                        ],
                        function (method) {
                          // $FlowIgnore: Doesn't think elements are indexable
                          return (0, _shims.isFunction)(el[method])
                        },
                      )
                    }

                    // $FlowIgnore: Doesn't think elements are indexable
                    return el[matchesSelectorFunc].call(el, selector)
                  }

                  // Works up the tree to the draggable itself attempting to match selector.
                  function matchesSelectorAndParentsTo(
                    el /*: Node*/,
                    selector /*: string*/,
                    baseNode /*: Node*/,
                  ) /*: boolean*/ {
                    var node = el
                    do {
                      if (matchesSelector(node, selector)) return true
                      if (node === baseNode) return false
                      node = node.parentNode
                    } while (node)

                    return false
                  }

                  function addEvent(
                    el /*: ?Node*/,
                    event /*: string*/,
                    handler /*: Function*/,
                  ) /*: void*/ {
                    if (!el) {
                      return
                    }
                    if (el.attachEvent) {
                      el.attachEvent('on' + event, handler)
                    } else if (el.addEventListener) {
                      el.addEventListener(event, handler, true)
                    } else {
                      // $FlowIgnore: Doesn't think elements are indexable
                      el['on' + event] = handler
                    }
                  }

                  function removeEvent(
                    el /*: ?Node*/,
                    event /*: string*/,
                    handler /*: Function*/,
                  ) /*: void*/ {
                    if (!el) {
                      return
                    }
                    if (el.detachEvent) {
                      el.detachEvent('on' + event, handler)
                    } else if (el.removeEventListener) {
                      el.removeEventListener(event, handler, true)
                    } else {
                      // $FlowIgnore: Doesn't think elements are indexable
                      el['on' + event] = null
                    }
                  }

                  function outerHeight(node /*: HTMLElement*/) /*: number*/ {
                    // This is deliberately excluding margin for our calculations, since we are using
                    // offsetTop which is including margin. See getBoundPosition
                    var height = node.clientHeight
                    var computedStyle = window.getComputedStyle(node)
                    height += (0, _shims.int)(computedStyle.borderTopWidth)
                    height += (0, _shims.int)(computedStyle.borderBottomWidth)
                    return height
                  }

                  function outerWidth(node /*: HTMLElement*/) /*: number*/ {
                    // This is deliberately excluding margin for our calculations, since we are using
                    // offsetLeft which is including margin. See getBoundPosition
                    var width = node.clientWidth
                    var computedStyle = window.getComputedStyle(node)
                    width += (0, _shims.int)(computedStyle.borderLeftWidth)
                    width += (0, _shims.int)(computedStyle.borderRightWidth)
                    return width
                  }
                  function innerHeight(node /*: HTMLElement*/) /*: number*/ {
                    var height = node.clientHeight
                    var computedStyle = window.getComputedStyle(node)
                    height -= (0, _shims.int)(computedStyle.paddingTop)
                    height -= (0, _shims.int)(computedStyle.paddingBottom)
                    return height
                  }

                  function innerWidth(node /*: HTMLElement*/) /*: number*/ {
                    var width = node.clientWidth
                    var computedStyle = window.getComputedStyle(node)
                    width -= (0, _shims.int)(computedStyle.paddingLeft)
                    width -= (0, _shims.int)(computedStyle.paddingRight)
                    return width
                  }

                  // Get from offsetParent
                  function offsetXYFromParentOf(
                    evt /*: {clientX: number, clientY: number}*/,
                    node /*: HTMLElement & {offsetParent: HTMLElement}*/,
                  ) /*: ControlPosition*/ {
                    var offsetParent = node.offsetParent || document.body
                    var offsetParentRect =
                      node.offsetParent === document.body
                        ? { left: 0, top: 0 }
                        : offsetParent.getBoundingClientRect()

                    var x =
                      evt.clientX +
                      offsetParent.scrollLeft -
                      offsetParentRect.left
                    var y =
                      evt.clientY +
                      offsetParent.scrollTop -
                      offsetParentRect.top

                    return { x: x, y: y }
                  }

                  function createCSSTransform(_ref) /*: Object*/ {
                    var x = _ref.x
                    var y = _ref.y

                    // Replace unitless items with px
                    return _defineProperty(
                      {},
                      (0, _getPrefix.browserPrefixToKey)(
                        'transform',
                        _getPrefix2.default,
                      ),
                      'translate(' + x + 'px,' + y + 'px)',
                    )
                  }

                  function createSVGTransform(_ref3) /*: string*/ {
                    var x = _ref3.x
                    var y = _ref3.y

                    return 'translate(' + x + ',' + y + ')'
                  }

                  function getTouch(
                    e /*: MouseEvent*/,
                    identifier /*: number*/,
                  ) /*: ?{clientX: number, clientY: number}*/ {
                    return (
                      (e.targetTouches &&
                        (0, _shims.findInArray)(e.targetTouches, function (t) {
                          return identifier === t.identifier
                        })) ||
                      (e.changedTouches &&
                        (0, _shims.findInArray)(e.changedTouches, function (t) {
                          return identifier === t.identifier
                        }))
                    )
                  }

                  function getTouchIdentifier(
                    e /*: MouseEvent*/,
                  ) /*: ?number*/ {
                    if (e.targetTouches && e.targetTouches[0])
                      return e.targetTouches[0].identifier
                    if (e.changedTouches && e.changedTouches[0])
                      return e.changedTouches[0].identifier
                  }

                  // User-select Hacks:
                  //
                  // Useful for preventing blue highlights all over everything when dragging.
                  var userSelectPrefix = (0, _getPrefix.getPrefix)(
                    'user-select',
                  )
                  var userSelect = (0, _getPrefix.browserPrefixToStyle)(
                    'user-select',
                    userSelectPrefix,
                  )
                  var userSelectStyle = ';' + userSelect + ': none;'

                  function addUserSelectStyles() {
                    var style = document.body.getAttribute('style') || ''
                    document.body.setAttribute('style', style + userSelectStyle)
                  }

                  function removeUserSelectStyles() {
                    var style = document.body.getAttribute('style') || ''
                    document.body.setAttribute(
                      'style',
                      style.replace(userSelectStyle, ''),
                    )
                  }

                  function styleHacks() /*: Object*/ {
                    var childStyle /*: Object*/ =
                      arguments.length <= 0 || arguments[0] === undefined
                        ? {}
                        : arguments[0]

                    // Workaround IE pointer events; see #51
                    // https://github.com/mzabriskie/react-draggable/issues/51#issuecomment-103488278
                    return _extends(
                      {
                        touchAction: 'none',
                      },
                      childStyle,
                    )
                  }

                  /***/
                },
                /* 6 */
                /***/ function (module, exports) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })
                  exports.findInArray = findInArray
                  exports.isFunction = isFunction
                  exports.isNum = isNum
                  exports.int = int
                  exports.dontSetMe = dontSetMe

                  // @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc
                  function findInArray(
                    array /*: Array<any>*/,
                    callback /*: Function*/,
                  ) /*: any*/ {
                    for (var i = 0, length = array.length; i < length; i++) {
                      if (callback.apply(callback, [array[i], i, array]))
                        return array[i]
                    }
                  }

                  function isFunction(func /*: any*/) /*: boolean*/ {
                    return (
                      typeof func === 'function' ||
                      Object.prototype.toString.call(func) ===
                        '[object Function]'
                    )
                  }

                  function isNum(num /*: any*/) /*: boolean*/ {
                    return typeof num === 'number' && !isNaN(num)
                  }

                  function int(a /*: string*/) /*: number*/ {
                    return parseInt(a, 10)
                  }

                  function dontSetMe(
                    props /*: Object*/,
                    propName /*: string*/,
                    componentName /*: string*/,
                  ) {
                    if (props[propName]) {
                      return new Error(
                        'Invalid prop ' +
                          propName +
                          ' passed to ' +
                          componentName +
                          ' - do not set this, set it on the child.',
                      )
                    }
                  }

                  /***/
                },
                /* 7 */
                /***/ function (module, exports) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })
                  exports.getPrefix = getPrefix
                  exports.browserPrefixToKey = browserPrefixToKey
                  exports.browserPrefixToStyle = browserPrefixToStyle

                  var prefixes = ['Moz', 'Webkit', 'O', 'ms']
                  function getPrefix() /*: string*/ {
                    var prop /*: string*/ =
                      arguments.length <= 0 || arguments[0] === undefined
                        ? 'transform'
                        : arguments[0]

                    // Checking specifically for 'window.document' is for pseudo-browser server-side
                    // environments that define 'window' as the global context.
                    // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)
                    if (
                      typeof window === 'undefined' ||
                      typeof window.document === 'undefined'
                    )
                      return ''

                    var style = window.document.documentElement.style

                    if (prop in style) return ''

                    for (var i = 0; i < prefixes.length; i++) {
                      if (browserPrefixToKey(prop, prefixes[i]) in style)
                        return prefixes[i]
                    }

                    return ''
                  }

                  function browserPrefixToKey(
                    prop /*: string*/,
                    prefix /*: string*/,
                  ) /*: string*/ {
                    return prefix ? '' + prefix + kebabToTitleCase(prop) : prop
                  }

                  function browserPrefixToStyle(
                    prop /*: string*/,
                    prefix /*: string*/,
                  ) /*: string*/ {
                    return prefix
                      ? '-' + prefix.toLowerCase() + '-' + prop
                      : prop
                  }

                  function kebabToTitleCase(str /*: string*/) /*: string*/ {
                    var out = ''
                    var shouldCapitalize = true
                    for (var i = 0; i < str.length; i++) {
                      if (shouldCapitalize) {
                        out += str[i].toUpperCase()
                        shouldCapitalize = false
                      } else if (str[i] === '-') {
                        shouldCapitalize = true
                      } else {
                        out += str[i]
                      }
                    }
                    return out
                  }

                  // Default export is the prefix itself, like 'Moz', 'Webkit', etc
                  // Note that you may have to re-test for certain things; for instance, Chrome 50
                  // can handle unprefixed `transform`, but not unprefixed `user-select`
                  exports.default = getPrefix()

                  /***/
                },
                /* 8 */
                /***/ function (module, exports, __webpack_require__) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })
                  exports.getBoundPosition = getBoundPosition
                  exports.snapToGrid = snapToGrid
                  exports.canDragX = canDragX
                  exports.canDragY = canDragY
                  exports.getControlPosition = getControlPosition
                  exports.createCoreData = createCoreData
                  exports.createDraggableData = createDraggableData

                  var _shims = __webpack_require__(6)

                  var _reactDom = __webpack_require__(3)

                  var _reactDom2 = _interopRequireDefault(_reactDom)

                  var _domFns = __webpack_require__(5)

                  function _interopRequireDefault(obj) {
                    return obj && obj.__esModule ? obj : { default: obj }
                  }

                  /*:: import type Draggable from '../Draggable';*/
                  /*:: import type {Bounds, ControlPosition, DraggableData} from './types';*/
                  /*:: import type DraggableCore from '../DraggableCore';*/
                  function getBoundPosition(
                    draggable /*: Draggable*/,
                    x /*: number*/,
                    y /*: number*/,
                  ) /*: [number, number]*/ {
                    // If no bounds, short-circuit and move on
                    if (!draggable.props.bounds) return [x, y]

                    // Clone new bounds
                    var bounds = draggable.props.bounds

                    bounds =
                      typeof bounds === 'string' ? bounds : cloneBounds(bounds)
                    var node = _reactDom2.default.findDOMNode(draggable)

                    if (typeof bounds === 'string') {
                      var boundNode = void 0
                      if (bounds === 'parent') {
                        boundNode = node.parentNode
                      } else {
                        boundNode = document.querySelector(bounds)
                        if (!boundNode)
                          throw new Error(
                            'Bounds selector "' +
                              bounds +
                              '" could not find an element.',
                          )
                      }
                      var nodeStyle = window.getComputedStyle(node)
                      var boundNodeStyle = window.getComputedStyle(boundNode)
                      // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.
                      bounds = {
                        left:
                          -node.offsetLeft +
                          (0, _shims.int)(boundNodeStyle.paddingLeft) +
                          (0, _shims.int)(nodeStyle.borderLeftWidth) +
                          (0, _shims.int)(nodeStyle.marginLeft),
                        top:
                          -node.offsetTop +
                          (0, _shims.int)(boundNodeStyle.paddingTop) +
                          (0, _shims.int)(nodeStyle.borderTopWidth) +
                          (0, _shims.int)(nodeStyle.marginTop),
                        right:
                          (0, _domFns.innerWidth)(boundNode) -
                          (0, _domFns.outerWidth)(node) -
                          node.offsetLeft,
                        bottom:
                          (0, _domFns.innerHeight)(boundNode) -
                          (0, _domFns.outerHeight)(node) -
                          node.offsetTop,
                      }
                    }

                    // Keep x and y below right and bottom limits...
                    if ((0, _shims.isNum)(bounds.right))
                      x = Math.min(x, bounds.right)
                    if ((0, _shims.isNum)(bounds.bottom))
                      y = Math.min(y, bounds.bottom)

                    // But above left and top limits.
                    if ((0, _shims.isNum)(bounds.left))
                      x = Math.max(x, bounds.left)
                    if ((0, _shims.isNum)(bounds.top))
                      y = Math.max(y, bounds.top)

                    return [x, y]
                  }

                  function snapToGrid(
                    grid /*: [number, number]*/,
                    pendingX /*: number*/,
                    pendingY /*: number*/,
                  ) /*: [number, number]*/ {
                    var x = Math.round(pendingX / grid[0]) * grid[0]
                    var y = Math.round(pendingY / grid[1]) * grid[1]
                    return [x, y]
                  }

                  function canDragX(draggable /*: Draggable*/) /*: boolean*/ {
                    return (
                      draggable.props.axis === 'both' ||
                      draggable.props.axis === 'x'
                    )
                  }

                  function canDragY(draggable /*: Draggable*/) /*: boolean*/ {
                    return (
                      draggable.props.axis === 'both' ||
                      draggable.props.axis === 'y'
                    )
                  }

                  // Get {x, y} positions from event.
                  function getControlPosition(
                    e /*: MouseEvent*/,
                    touchIdentifier /*: ?number*/,
                    draggableCore /*: DraggableCore*/,
                  ) /*: ?ControlPosition*/ {
                    var touchObj =
                      typeof touchIdentifier === 'number'
                        ? (0, _domFns.getTouch)(e, touchIdentifier)
                        : null
                    if (typeof touchIdentifier === 'number' && !touchObj)
                      return null // not the right touch
                    return (0, _domFns.offsetXYFromParentOf)(
                      touchObj || e,
                      _reactDom2.default.findDOMNode(draggableCore),
                    )
                  }

                  // Create an data object exposed by <DraggableCore>'s events
                  function createCoreData(
                    draggable /*: DraggableCore*/,
                    x /*: number*/,
                    y /*: number*/,
                  ) /*: DraggableData*/ {
                    // State changes are often (but not always!) async. We want the latest value.
                    var state = draggable._pendingState || draggable.state
                    var isStart = !(0, _shims.isNum)(state.lastX)

                    if (isStart) {
                      // If this is our first move, use the x and y as last coords.
                      return {
                        node: _reactDom2.default.findDOMNode(draggable),
                        deltaX: 0,
                        deltaY: 0,
                        lastX: x,
                        lastY: y,
                        x: x,
                        y: y,
                      }
                    } else {
                      // Otherwise calculate proper values.
                      return {
                        node: _reactDom2.default.findDOMNode(draggable),
                        deltaX: x - state.lastX,
                        deltaY: y - state.lastY,
                        lastX: state.lastX,
                        lastY: state.lastY,
                        x: x,
                        y: y,
                      }
                    }
                  }

                  // Create an data exposed by <Draggable>'s events
                  function createDraggableData(
                    draggable /*: Draggable*/,
                    coreData /*: DraggableData*/,
                  ) /*: DraggableData*/ {
                    return {
                      node: coreData.node,
                      x: draggable.state.x + coreData.deltaX,
                      y: draggable.state.y + coreData.deltaY,
                      deltaX: coreData.deltaX,
                      deltaY: coreData.deltaY,
                      lastX: draggable.state.x,
                      lastY: draggable.state.y,
                    }
                  }

                  // A lot faster than stringify/parse
                  function cloneBounds(bounds /*: Bounds*/) /*: Bounds*/ {
                    return {
                      left: bounds.left,
                      top: bounds.top,
                      right: bounds.right,
                      bottom: bounds.bottom,
                    }
                  }

                  /***/
                },
                /* 9 */
                /***/ function (module, exports, __webpack_require__) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })

                  var _slicedToArray = (function () {
                    function sliceIterator(arr, i) {
                      var _arr = []
                      var _n = true
                      var _d = false
                      var _e = undefined
                      try {
                        for (
                          var _i = arr[Symbol.iterator](), _s;
                          !(_n = (_s = _i.next()).done);
                          _n = true
                        ) {
                          _arr.push(_s.value)
                          if (i && _arr.length === i) break
                        }
                      } catch (err) {
                        _d = true
                        _e = err
                      } finally {
                        try {
                          if (!_n && _i['return']) _i['return']()
                        } finally {
                          if (_d) throw _e
                        }
                      }
                      return _arr
                    }
                    return function (arr, i) {
                      if (Array.isArray(arr)) {
                        return arr
                      } else if (Symbol.iterator in Object(arr)) {
                        return sliceIterator(arr, i)
                      } else {
                        throw new TypeError(
                          'Invalid attempt to destructure non-iterable instance',
                        )
                      }
                    }
                  })()

                  var _createClass = (function () {
                    function defineProperties(target, props) {
                      for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i]
                        descriptor.enumerable = descriptor.enumerable || false
                        descriptor.configurable = true
                        if ('value' in descriptor) descriptor.writable = true
                        Object.defineProperty(
                          target,
                          descriptor.key,
                          descriptor,
                        )
                      }
                    }
                    return function (Constructor, protoProps, staticProps) {
                      if (protoProps)
                        defineProperties(Constructor.prototype, protoProps)
                      if (staticProps)
                        defineProperties(Constructor, staticProps)
                      return Constructor
                    }
                  })()

                  var _react = __webpack_require__(2)

                  var _react2 = _interopRequireDefault(_react)

                  var _reactDom = __webpack_require__(3)

                  var _reactDom2 = _interopRequireDefault(_reactDom)

                  var _domFns = __webpack_require__(5)

                  var _positionFns = __webpack_require__(8)

                  var _shims = __webpack_require__(6)

                  var _log = __webpack_require__(10)

                  var _log2 = _interopRequireDefault(_log)

                  function _interopRequireDefault(obj) {
                    return obj && obj.__esModule ? obj : { default: obj }
                  }

                  function _classCallCheck(instance, Constructor) {
                    if (!(instance instanceof Constructor)) {
                      throw new TypeError('Cannot call a class as a function')
                    }
                  }

                  function _possibleConstructorReturn(self, call) {
                    if (!self) {
                      throw new ReferenceError(
                        "this hasn't been initialised - super() hasn't been called",
                      )
                    }
                    return call &&
                      (typeof call === 'object' || typeof call === 'function')
                      ? call
                      : self
                  }

                  function _inherits(subClass, superClass) {
                    if (
                      typeof superClass !== 'function' &&
                      superClass !== null
                    ) {
                      throw new TypeError(
                        'Super expression must either be null or a function, not ' +
                          typeof superClass,
                      )
                    }
                    subClass.prototype = Object.create(
                      superClass && superClass.prototype,
                      {
                        constructor: {
                          value: subClass,
                          enumerable: false,
                          writable: true,
                          configurable: true,
                        },
                      },
                    )
                    if (superClass)
                      Object.setPrototypeOf
                        ? Object.setPrototypeOf(subClass, superClass)
                        : (subClass.__proto__ = superClass)
                  }

                  // Simple abstraction for dragging events names.
                  /*:: import type {EventHandler} from './utils/types';*/
                  var eventsFor = {
                    touch: {
                      start: 'touchstart',
                      move: 'touchmove',
                      stop: 'touchend',
                    },
                    mouse: {
                      start: 'mousedown',
                      move: 'mousemove',
                      stop: 'mouseup',
                    },
                  }

                  // Default to mouse events.
                  var dragEventFor = eventsFor.mouse

                  //
                  // Define <DraggableCore>.
                  //
                  // <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can
                  // work well with libraries that require more control over the element.
                  //

                  /*:: type CoreState = {
	  dragging: boolean,
	  lastX: number,
	  lastY: number,
	  touchIdentifier: ?number
	};*/

                  var DraggableCore = (function (_React$Component) {
                    _inherits(DraggableCore, _React$Component)

                    function DraggableCore() {
                      var _Object$getPrototypeO

                      var _temp, _this, _ret

                      _classCallCheck(this, DraggableCore)

                      for (
                        var _len = arguments.length,
                          args = Array(_len),
                          _key = 0;
                        _key < _len;
                        _key++
                      ) {
                        args[_key] = arguments[_key]
                      }

                      return (
                        (_ret =
                          ((_temp =
                            ((_this = _possibleConstructorReturn(
                              this,
                              (_Object$getPrototypeO =
                                Object.getPrototypeOf(
                                  DraggableCore,
                                )).call.apply(
                                _Object$getPrototypeO,
                                [this].concat(args),
                              ),
                            )),
                            _this)),
                          (_this.state = {
                            dragging: false,
                            // Used while dragging to determine deltas.
                            lastX: NaN,
                            lastY: NaN,
                            touchIdentifier: null,
                          }),
                          (_this.handleDragStart = function (e) {
                            // Make it possible to attach event handlers on top of this one.
                            _this.props.onMouseDown(e)

                            // Only accept left-clicks.
                            if (
                              !_this.props.allowAnyClick &&
                              typeof e.button === 'number' &&
                              e.button !== 0
                            )
                              return false

                            // Short circuit if handle or cancel prop was provided and selector doesn't match.
                            if (
                              _this.props.disabled ||
                              !(e.target instanceof Node) ||
                              (_this.props.handle &&
                                !(0, _domFns.matchesSelectorAndParentsTo)(
                                  e.target,
                                  _this.props.handle,
                                  _reactDom2.default.findDOMNode(_this),
                                )) ||
                              (_this.props.cancel &&
                                (0, _domFns.matchesSelectorAndParentsTo)(
                                  e.target,
                                  _this.props.cancel,
                                  _reactDom2.default.findDOMNode(_this),
                                ))
                            ) {
                              return
                            }

                            // Set touch identifier in component state if this is a touch event. This allows us to
                            // distinguish between individual touches on multitouch screens by identifying which
                            // touchpoint was set to this element.
                            var touchIdentifier = (0,
                            _domFns.getTouchIdentifier)(e)
                            _this.setState({ touchIdentifier: touchIdentifier })

                            // Get the current drag point from the event. This is used as the offset.
                            var position = (0, _positionFns.getControlPosition)(
                              e,
                              touchIdentifier,
                              _this,
                            )
                            if (position == null) return // not possible but satisfies flow
                            var x = position.x
                            var y = position.y

                            // Create an event object with all the data parents need to make a decision here.

                            var coreEvent = (0, _positionFns.createCoreData)(
                              _this,
                              x,
                              y,
                            )

                            ;(0, _log2.default)(
                              'DraggableCore: handleDragStart: %j',
                              coreEvent,
                            )

                            // Call event handler. If it returns explicit false, cancel.
                            ;(0, _log2.default)('calling', _this.props.onStart)
                            var shouldUpdate = _this.props.onStart(e, coreEvent)
                            if (shouldUpdate === false) return

                            // Add a style to the body to disable user-select. This prevents text from
                            // being selected all over the page.
                            if (_this.props.enableUserSelectHack)
                              (0, _domFns.addUserSelectStyles)()

                            // Initiate dragging. Set the current x and y as offsets
                            // so we know how much we've moved during the drag. This allows us
                            // to drag elements around even if they have been moved, without issue.
                            _this.setState({
                              dragging: true,

                              lastX: x,
                              lastY: y,
                            })

                            // Add events to the document directly so we catch when the user's mouse/touch moves outside of
                            // this element. We use different events depending on whether or not we have detected that this
                            // is a touch-capable device.
                            ;(0, _domFns.addEvent)(
                              document,
                              dragEventFor.move,
                              _this.handleDrag,
                            )
                            ;(0, _domFns.addEvent)(
                              document,
                              dragEventFor.stop,
                              _this.handleDragStop,
                            )
                          }),
                          (_this.handleDrag = function (e) {
                            // Get the current drag point from the event. This is used as the offset.
                            var position = (0, _positionFns.getControlPosition)(
                              e,
                              _this.state.touchIdentifier,
                              _this,
                            )
                            if (position == null) return
                            var x = position.x
                            var y = position.y

                            // Snap to grid if prop has been provided

                            if (x !== x) debugger

                            if (Array.isArray(_this.props.grid)) {
                              var deltaX = x - _this.state.lastX,
                                deltaY = y - _this.state.lastY

                              var _snapToGrid = (0, _positionFns.snapToGrid)(
                                _this.props.grid,
                                deltaX,
                                deltaY,
                              )

                              var _snapToGrid2 = _slicedToArray(_snapToGrid, 2)

                              deltaX = _snapToGrid2[0]
                              deltaY = _snapToGrid2[1]

                              if (!deltaX && !deltaY) return // skip useless drag
                              ;(x = _this.state.lastX + deltaX),
                                (y = _this.state.lastY + deltaY)
                            }

                            var coreEvent = (0, _positionFns.createCoreData)(
                              _this,
                              x,
                              y,
                            )

                            ;(0, _log2.default)(
                              'DraggableCore: handleDrag: %j',
                              coreEvent,
                            )

                            // Call event handler. If it returns explicit false, trigger end.
                            var shouldUpdate = _this.props.onDrag(e, coreEvent)
                            if (shouldUpdate === false) {
                              try {
                                _this.handleDragStop(new MouseEvent('mouseup'))
                              } catch (err) {
                                // Old browsers
                                var event = document.createEvent('MouseEvents')
                                // I see why this insanity was deprecated
                                // $FlowIgnore
                                event.initMouseEvent(
                                  'mouseup',
                                  true,
                                  true,
                                  window,
                                  0,
                                  0,
                                  0,
                                  0,
                                  0,
                                  false,
                                  false,
                                  false,
                                  false,
                                  0,
                                  null,
                                )
                                // $FlowIgnore
                                _this.handleDragStop(event)
                              }
                              return
                            }

                            _this.setState({
                              lastX: x,
                              lastY: y,
                            })
                          }),
                          (_this.handleDragStop = function (e) {
                            if (!_this.state.dragging) return

                            var position = (0, _positionFns.getControlPosition)(
                              e,
                              _this.state.touchIdentifier,
                              _this,
                            )
                            if (position == null) return
                            var x = position.x
                            var y = position.y

                            var coreEvent = (0, _positionFns.createCoreData)(
                              _this,
                              x,
                              y,
                            )

                            // Remove user-select hack
                            if (_this.props.enableUserSelectHack)
                              (0, _domFns.removeUserSelectStyles)()

                            ;(0, _log2.default)(
                              'DraggableCore: handleDragStop: %j',
                              coreEvent,
                            )

                            // Reset the el.
                            _this.setState({
                              dragging: false,
                              lastX: NaN,
                              lastY: NaN,
                            })

                            // Call event handler
                            _this.props.onStop(e, coreEvent)

                            // Remove event handlers
                            ;(0, _log2.default)(
                              'DraggableCore: Removing handlers',
                            )
                            ;(0, _domFns.removeEvent)(
                              document,
                              dragEventFor.move,
                              _this.handleDrag,
                            )
                            ;(0, _domFns.removeEvent)(
                              document,
                              dragEventFor.stop,
                              _this.handleDragStop,
                            )
                          }),
                          (_this.onMouseDown = function (e) {
                            dragEventFor = eventsFor.mouse // on touchscreen laptops we could switch back to mouse

                            return _this.handleDragStart(e)
                          }),
                          (_this.onMouseUp = function (e) {
                            dragEventFor = eventsFor.mouse

                            return _this.handleDragStop(e)
                          }),
                          (_this.onTouchStart = function (e) {
                            // We're on a touch device now, so change the event handlers
                            dragEventFor = eventsFor.touch

                            return _this.handleDragStart(e)
                          }),
                          (_this.onTouchEnd = function (e) {
                            // We're on a touch device now, so change the event handlers
                            dragEventFor = eventsFor.touch

                            return _this.handleDragStop(e)
                          }),
                          _temp)),
                        _possibleConstructorReturn(_this, _ret)
                      )
                    }

                    _createClass(DraggableCore, [
                      {
                        key: 'componentWillUnmount',
                        value: function componentWillUnmount() {
                          // Remove any leftover event handlers. Remove both touch and mouse handlers in case
                          // some browser quirk caused a touch event to fire during a mouse move, or vice versa.
                          ;(0, _domFns.removeEvent)(
                            document,
                            eventsFor.mouse.move,
                            this.handleDrag,
                          )
                          ;(0, _domFns.removeEvent)(
                            document,
                            eventsFor.touch.move,
                            this.handleDrag,
                          )
                          ;(0, _domFns.removeEvent)(
                            document,
                            eventsFor.mouse.stop,
                            this.handleDragStop,
                          )
                          ;(0, _domFns.removeEvent)(
                            document,
                            eventsFor.touch.stop,
                            this.handleDragStop,
                          )
                          if (this.props.enableUserSelectHack)
                            (0, _domFns.removeUserSelectStyles)()
                        },

                        // Same as onMouseDown (start drag), but now consider this a touch device.
                      },
                      {
                        key: 'render',
                        value: function render() {
                          // Reuse the child provided
                          // This makes it flexible to use whatever element is wanted (div, ul, etc)
                          return _react2.default.cloneElement(
                            _react2.default.Children.only(this.props.children),
                            {
                              style: (0, _domFns.styleHacks)(
                                this.props.children.props.style,
                              ),

                              // Note: mouseMove handler is attached to document so it will still function
                              // when the user drags quickly and leaves the bounds of the element.
                              onMouseDown: this.onMouseDown,
                              onTouchStart: this.onTouchStart,
                              onMouseUp: this.onMouseUp,
                              onTouchEnd: this.onTouchEnd,
                            },
                          )
                        },
                      },
                    ])

                    return DraggableCore
                  })(_react2.default.Component)

                  DraggableCore.displayName = 'DraggableCore'
                  DraggableCore.propTypes = {
                    /**
                     * `allowAnyClick` allows dragging using any mouse button.
                     * By default, we only accept the left button.
                     *
                     * Defaults to `false`.
                     */
                    allowAnyClick: _react.PropTypes.bool,

                    /**
                     * `disabled`, if true, stops the <Draggable> from dragging. All handlers,
                     * with the exception of `onMouseDown`, will not fire.
                     */
                    disabled: _react.PropTypes.bool,

                    /**
                     * By default, we add 'user-select:none' attributes to the document body
                     * to prevent ugly text selection during drag. If this is causing problems
                     * for your app, set this to `false`.
                     */
                    enableUserSelectHack: _react.PropTypes.bool,

                    /**
                     * `grid` specifies the x and y that dragging should snap to.
                     */
                    grid: _react.PropTypes.arrayOf(_react.PropTypes.number),

                    /**
                     * `handle` specifies a selector to be used as the handle that initiates drag.
                     *
                     * Example:
                     *
                     * ```jsx
                     *   let App = React.createClass({
                     *       render: function () {
                     *         return (
                     *            <Draggable handle=".handle">
                     *              <div>
                     *                  <div className="handle">Click me to drag</div>
                     *                  <div>This is some other content</div>
                     *              </div>
                     *           </Draggable>
                     *         );
                     *       }
                     *   });
                     * ```
                     */
                    handle: _react.PropTypes.string,

                    /**
                     * `cancel` specifies a selector to be used to prevent drag initialization.
                     *
                     * Example:
                     *
                     * ```jsx
                     *   let App = React.createClass({
                     *       render: function () {
                     *           return(
                     *               <Draggable cancel=".cancel">
                     *                   <div>
                     *                     <div className="cancel">You can't drag from here</div>
                     *                     <div>Dragging here works fine</div>
                     *                   </div>
                     *               </Draggable>
                     *           );
                     *       }
                     *   });
                     * ```
                     */
                    cancel: _react.PropTypes.string,

                    /**
                     * Called when dragging starts.
                     * If this function returns the boolean false, dragging will be canceled.
                     */
                    onStart: _react.PropTypes.func,

                    /**
                     * Called while dragging.
                     * If this function returns the boolean false, dragging will be canceled.
                     */
                    onDrag: _react.PropTypes.func,

                    /**
                     * Called when dragging stops.
                     * If this function returns the boolean false, the drag will remain active.
                     */
                    onStop: _react.PropTypes.func,

                    /**
                     * A workaround option which can be passed if onMouseDown needs to be accessed,
                     * since it'll always be blocked (as there is internal use of onMouseDown)
                     */
                    onMouseDown: _react.PropTypes.func,

                    /**
                     * These properties should be defined on the child, not here.
                     */
                    className: _shims.dontSetMe,
                    style: _shims.dontSetMe,
                    transform: _shims.dontSetMe,
                  }
                  DraggableCore.defaultProps = {
                    allowAnyClick: false, // by default only accept left click
                    cancel: null,
                    disabled: false,
                    enableUserSelectHack: true,
                    handle: null,
                    grid: null,
                    transform: null,
                    onStart: function onStart() {},
                    onDrag: function onDrag() {},
                    onStop: function onStop() {},
                    onMouseDown: function onMouseDown() {},
                  }
                  exports.default = DraggableCore

                  /***/
                },
                /* 10 */
                /***/ function (module, exports, __webpack_require__) {
                  'use strict'

                  Object.defineProperty(exports, '__esModule', {
                    value: true,
                  })
                  exports.default = log

                  /*eslint no-console:0*/
                  function log() {
                    var _console

                    if (undefined)
                      (_console = console).log.apply(_console, arguments)
                  }

                  /***/
                },
                /******/
              ],
            )
          },
        )
      },
      { react: 341, 'react-dom': 195 },
    ],
    197: [
      function (require, module, exports) {
        ;(function (process) {
          var React = require('react')
          var ReactDOM = require('react-dom')
          var ExecutionEnvironment = require('exenv')
          var ModalPortal = React.createFactory(require('./ModalPortal'))
          var ariaAppHider = require('../helpers/ariaAppHider')
          var elementClass = require('element-class')
          var renderSubtreeIntoContainer =
            require('react-dom').unstable_renderSubtreeIntoContainer
          var Assign = require('lodash.assign')

          var SafeHTMLElement = ExecutionEnvironment.canUseDOM
            ? window.HTMLElement
            : {}
          var AppElement = ExecutionEnvironment.canUseDOM
            ? document.body
            : { appendChild: function () {} }

          var Modal = React.createClass({
            displayName: 'Modal',
            statics: {
              setAppElement: function (element) {
                AppElement = ariaAppHider.setElement(element)
              },
              injectCSS: function () {
                'production' !== process.env.NODE_ENV &&
                  console.warn(
                    'React-Modal: injectCSS has been deprecated ' +
                      'and no longer has any effect. It will be removed in a later version',
                  )
              },
            },

            propTypes: {
              isOpen: React.PropTypes.bool.isRequired,
              style: React.PropTypes.shape({
                content: React.PropTypes.object,
                overlay: React.PropTypes.object,
              }),
              portalClassName: React.PropTypes.string,
              appElement: React.PropTypes.instanceOf(SafeHTMLElement),
              onAfterOpen: React.PropTypes.func,
              onRequestClose: React.PropTypes.func,
              closeTimeoutMS: React.PropTypes.number,
              ariaHideApp: React.PropTypes.bool,
              shouldCloseOnOverlayClick: React.PropTypes.bool,
              role: React.PropTypes.string,
            },

            getDefaultProps: function () {
              return {
                isOpen: false,
                portalClassName: 'ReactModalPortal',
                ariaHideApp: true,
                closeTimeoutMS: 0,
                shouldCloseOnOverlayClick: true,
              }
            },

            componentDidMount: function () {
              this.node = document.createElement('div')
              this.node.className = this.props.portalClassName
              document.body.appendChild(this.node)
              this.renderPortal(this.props)
            },

            componentWillReceiveProps: function (newProps) {
              this.renderPortal(newProps)
            },

            componentWillUnmount: function () {
              ReactDOM.unmountComponentAtNode(this.node)
              document.body.removeChild(this.node)
              elementClass(document.body).remove('ReactModal__Body--open')
            },

            renderPortal: function (props) {
              if (props.isOpen) {
                elementClass(document.body).add('ReactModal__Body--open')
              } else {
                elementClass(document.body).remove('ReactModal__Body--open')
              }

              if (props.ariaHideApp) {
                ariaAppHider.toggle(props.isOpen, props.appElement)
              }

              this.portal = renderSubtreeIntoContainer(
                this,
                ModalPortal(
                  Assign({}, props, { defaultStyles: Modal.defaultStyles }),
                ),
                this.node,
              )
            },

            render: function () {
              return React.DOM.noscript()
            },
          })

          Modal.defaultStyles = {
            overlay: {
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(255, 255, 255, 0.75)',
            },
            content: {
              position: 'absolute',
              top: '40px',
              left: '40px',
              right: '40px',
              bottom: '40px',
              border: '1px solid #ccc',
              background: '#fff',
              overflow: 'auto',
              WebkitOverflowScrolling: 'touch',
              borderRadius: '4px',
              outline: 'none',
              padding: '20px',
            },
          }

          module.exports = Modal
        }).call(this, require('_process'))
      },
      {
        '../helpers/ariaAppHider': 199,
        './ModalPortal': 198,
        _process: 162,
        'element-class': 25,
        exenv: 26,
        'lodash.assign': 61,
        react: 341,
        'react-dom': 195,
      },
    ],
    198: [
      function (require, module, exports) {
        var React = require('react')
        var div = React.DOM.div
        var focusManager = require('../helpers/focusManager')
        var scopeTab = require('../helpers/scopeTab')
        var Assign = require('lodash.assign')

        // so that our CSS is statically analyzable
        var CLASS_NAMES = {
          overlay: {
            base: 'ReactModal__Overlay',
            afterOpen: 'ReactModal__Overlay--after-open',
            beforeClose: 'ReactModal__Overlay--before-close',
          },
          content: {
            base: 'ReactModal__Content',
            afterOpen: 'ReactModal__Content--after-open',
            beforeClose: 'ReactModal__Content--before-close',
          },
        }

        var ModalPortal = (module.exports = React.createClass({
          displayName: 'ModalPortal',
          shouldClose: null,

          getDefaultProps: function () {
            return {
              style: {
                overlay: {},
                content: {},
              },
            }
          },

          getInitialState: function () {
            return {
              afterOpen: false,
              beforeClose: false,
            }
          },

          componentDidMount: function () {
            // Focus needs to be set when mounting and already open
            if (this.props.isOpen) {
              this.setFocusAfterRender(true)
              this.open()
            }
          },

          componentWillUnmount: function () {
            clearTimeout(this.closeTimer)
          },

          componentWillReceiveProps: function (newProps) {
            // Focus only needs to be set once when the modal is being opened
            if (!this.props.isOpen && newProps.isOpen) {
              this.setFocusAfterRender(true)
              this.open()
            } else if (this.props.isOpen && !newProps.isOpen) {
              this.close()
            }
          },

          componentDidUpdate: function () {
            if (this.focusAfterRender) {
              this.focusContent()
              this.setFocusAfterRender(false)
            }
          },

          setFocusAfterRender: function (focus) {
            this.focusAfterRender = focus
          },

          open: function () {
            if (this.state.afterOpen && this.state.beforeClose) {
              clearTimeout(this.closeTimer)
              this.setState({ beforeClose: false })
            } else {
              focusManager.setupScopedFocus(this.node)
              focusManager.markForFocusLater()
              this.setState(
                { isOpen: true },
                function () {
                  this.setState({ afterOpen: true })

                  if (this.props.isOpen && this.props.onAfterOpen) {
                    this.props.onAfterOpen()
                  }
                }.bind(this),
              )
            }
          },

          close: function () {
            if (!this.ownerHandlesClose()) return
            if (this.props.closeTimeoutMS > 0) this.closeWithTimeout()
            else this.closeWithoutTimeout()
          },

          focusContent: function () {
            // Don't steal focus from inner elements
            if (!this.contentHasFocus()) {
              this.refs.content.focus()
            }
          },

          closeWithTimeout: function () {
            this.setState(
              { beforeClose: true },
              function () {
                this.closeTimer = setTimeout(
                  this.closeWithoutTimeout,
                  this.props.closeTimeoutMS,
                )
              }.bind(this),
            )
          },

          closeWithoutTimeout: function () {
            this.setState(
              {
                beforeClose: false,
                isOpen: false,
                afterOpen: false,
              },
              this.afterClose,
            )
          },

          afterClose: function () {
            focusManager.returnFocus()
            focusManager.teardownScopedFocus()
          },

          handleKeyDown: function (event) {
            if (event.keyCode == 9 /*tab*/) scopeTab(this.refs.content, event)
            if (event.keyCode == 27 /*esc*/) {
              event.preventDefault()
              this.requestClose(event)
            }
          },

          handleOverlayMouseDown: function (event) {
            if (this.shouldClose === null) {
              this.shouldClose = true
            }
          },

          handleOverlayMouseUp: function (event) {
            if (this.shouldClose && this.props.shouldCloseOnOverlayClick) {
              if (this.ownerHandlesClose()) this.requestClose(event)
              else this.focusContent()
            }
            this.shouldClose = null
          },

          handleContentMouseDown: function (event) {
            this.shouldClose = false
          },

          handleContentMouseUp: function (event) {
            this.shouldClose = false
          },

          requestClose: function (event) {
            if (this.ownerHandlesClose()) this.props.onRequestClose(event)
          },

          ownerHandlesClose: function () {
            return this.props.onRequestClose
          },

          shouldBeClosed: function () {
            return !this.props.isOpen && !this.state.beforeClose
          },

          contentHasFocus: function () {
            return (
              document.activeElement === this.refs.content ||
              this.refs.content.contains(document.activeElement)
            )
          },

          buildClassName: function (which, additional) {
            var className = CLASS_NAMES[which].base
            if (this.state.afterOpen)
              className += ' ' + CLASS_NAMES[which].afterOpen
            if (this.state.beforeClose)
              className += ' ' + CLASS_NAMES[which].beforeClose
            return additional ? className + ' ' + additional : className
          },

          render: function () {
            var contentStyles = this.props.className
              ? {}
              : this.props.defaultStyles.content
            var overlayStyles = this.props.overlayClassName
              ? {}
              : this.props.defaultStyles.overlay

            return this.shouldBeClosed()
              ? div()
              : div(
                  {
                    ref: 'overlay',
                    className: this.buildClassName(
                      'overlay',
                      this.props.overlayClassName,
                    ),
                    style: Assign(
                      {},
                      overlayStyles,
                      this.props.style.overlay || {},
                    ),
                    onMouseDown: this.handleOverlayMouseDown,
                    onMouseUp: this.handleOverlayMouseUp,
                  },
                  div(
                    {
                      ref: 'content',
                      style: Assign(
                        {},
                        contentStyles,
                        this.props.style.content || {},
                      ),
                      className: this.buildClassName(
                        'content',
                        this.props.className,
                      ),
                      tabIndex: '-1',
                      onKeyDown: this.handleKeyDown,
                      onMouseDown: this.handleContentMouseDown,
                      onMouseUp: this.handleContentMouseUp,
                      role: this.props.role,
                    },
                    this.props.children,
                  ),
                )
          },
        }))
      },
      {
        '../helpers/focusManager': 200,
        '../helpers/scopeTab': 201,
        'lodash.assign': 61,
        react: 341,
      },
    ],
    199: [
      function (require, module, exports) {
        var _element = typeof document !== 'undefined' ? document.body : null

        function setElement(element) {
          if (typeof element === 'string') {
            var el = document.querySelectorAll(element)
            element = 'length' in el ? el[0] : el
          }
          _element = element || _element
          return _element
        }

        function hide(appElement) {
          validateElement(appElement)
          ;(appElement || _element).setAttribute('aria-hidden', 'true')
        }

        function show(appElement) {
          validateElement(appElement)
          ;(appElement || _element).removeAttribute('aria-hidden')
        }

        function toggle(shouldHide, appElement) {
          if (shouldHide) hide(appElement)
          else show(appElement)
        }

        function validateElement(appElement) {
          if (!appElement && !_element)
            throw new Error(
              'react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible',
            )
        }

        function resetForTesting() {
          _element = document.body
        }

        exports.toggle = toggle
        exports.setElement = setElement
        exports.show = show
        exports.hide = hide
        exports.resetForTesting = resetForTesting
      },
      {},
    ],
    200: [
      function (require, module, exports) {
        var findTabbable = require('../helpers/tabbable')
        var modalElement = null
        var focusLaterElement = null
        var needToFocus = false

        function handleBlur(event) {
          needToFocus = true
        }

        function handleFocus(event) {
          if (needToFocus) {
            needToFocus = false
            if (!modalElement) {
              return
            }
            // need to see how jQuery shims document.on('focusin') so we don't need the
            // setTimeout, firefox doesn't support focusin, if it did, we could focus
            // the element outside of a setTimeout. Side-effect of this implementation
            // is that the document.body gets focus, and then we focus our element right
            // after, seems fine.
            setTimeout(function () {
              if (modalElement.contains(document.activeElement)) return
              var el = findTabbable(modalElement)[0] || modalElement
              el.focus()
            }, 0)
          }
        }

        exports.markForFocusLater = function () {
          focusLaterElement = document.activeElement
        }

        exports.returnFocus = function () {
          try {
            focusLaterElement.focus()
          } catch (e) {
            console.warn(
              'You tried to return focus to ' +
                focusLaterElement +
                ' but it is not in the DOM anymore',
            )
          }
          focusLaterElement = null
        }

        exports.setupScopedFocus = function (element) {
          modalElement = element

          if (window.addEventListener) {
            window.addEventListener('blur', handleBlur, false)
            document.addEventListener('focus', handleFocus, true)
          } else {
            window.attachEvent('onBlur', handleBlur)
            document.attachEvent('onFocus', handleFocus)
          }
        }

        exports.teardownScopedFocus = function () {
          modalElement = null

          if (window.addEventListener) {
            window.removeEventListener('blur', handleBlur)
            document.removeEventListener('focus', handleFocus)
          } else {
            window.detachEvent('onBlur', handleBlur)
            document.detachEvent('onFocus', handleFocus)
          }
        }
      },
      { '../helpers/tabbable': 202 },
    ],
    201: [
      function (require, module, exports) {
        var findTabbable = require('../helpers/tabbable')

        module.exports = function (node, event) {
          var tabbable = findTabbable(node)
          if (!tabbable.length) {
            event.preventDefault()
            return
          }
          var finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1]
          var leavingFinalTabbable =
            finalTabbable === document.activeElement ||
            // handle immediate shift+tab after opening with mouse
            node === document.activeElement
          if (!leavingFinalTabbable) return
          event.preventDefault()
          var target = tabbable[event.shiftKey ? tabbable.length - 1 : 0]
          target.focus()
        }
      },
      { '../helpers/tabbable': 202 },
    ],
    202: [
      function (require, module, exports) {
        /*!
         * Adapted from jQuery UI core
         *
         * http://jqueryui.com
         *
         * Copyright 2014 jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         *
         * http://api.jqueryui.com/category/ui-core/
         */

        function focusable(element, isTabIndexNotNaN) {
          var nodeName = element.nodeName.toLowerCase()
          return (
            (/input|select|textarea|button|object/.test(nodeName)
              ? !element.disabled
              : 'a' === nodeName
                ? element.href || isTabIndexNotNaN
                : isTabIndexNotNaN) && visible(element)
          )
        }

        function hidden(el) {
          return (
            (el.offsetWidth <= 0 && el.offsetHeight <= 0) ||
            el.style.display === 'none'
          )
        }

        function visible(element) {
          while (element) {
            if (element === document.body) break
            if (hidden(element)) return false
            element = element.parentNode
          }
          return true
        }

        function tabbable(element) {
          var tabIndex = element.getAttribute('tabindex')
          if (tabIndex === null) tabIndex = undefined
          var isTabIndexNaN = isNaN(tabIndex)
          return (
            (isTabIndexNaN || tabIndex >= 0) &&
            focusable(element, !isTabIndexNaN)
          )
        }

        function findTabbableDescendants(element) {
          return [].slice
            .call(element.querySelectorAll('*'), 0)
            .filter(function (el) {
              return tabbable(el)
            })
        }

        module.exports = findTabbableDescendants
      },
      {},
    ],
    203: [
      function (require, module, exports) {
        module.exports = require('./components/Modal')
      },
      { './components/Modal': 197 },
    ],
    204: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule AutoFocusUtils
         */

        'use strict'

        var ReactDOMComponentTree = require('./ReactDOMComponentTree')

        var focusNode = require('fbjs/lib/focusNode')

        var AutoFocusUtils = {
          focusDOMComponent: function () {
            focusNode(ReactDOMComponentTree.getNodeFromInstance(this))
          },
        }

        module.exports = AutoFocusUtils
      },
      { './ReactDOMComponentTree': 244, 'fbjs/lib/focusNode': 36 },
    ],
    205: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule BeforeInputEventPlugin
         */

        'use strict'

        var EventConstants = require('./EventConstants')
        var EventPropagators = require('./EventPropagators')
        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
        var FallbackCompositionState = require('./FallbackCompositionState')
        var SyntheticCompositionEvent = require('./SyntheticCompositionEvent')
        var SyntheticInputEvent = require('./SyntheticInputEvent')

        var keyOf = require('fbjs/lib/keyOf')

        var END_KEYCODES = [9, 13, 27, 32] // Tab, Return, Esc, Space
        var START_KEYCODE = 229

        var canUseCompositionEvent =
          ExecutionEnvironment.canUseDOM && 'CompositionEvent' in window

        var documentMode = null
        if (ExecutionEnvironment.canUseDOM && 'documentMode' in document) {
          documentMode = document.documentMode
        }

        // Webkit offers a very useful `textInput` event that can be used to
        // directly represent `beforeInput`. The IE `textinput` event is not as
        // useful, so we don't use it.
        var canUseTextInputEvent =
          ExecutionEnvironment.canUseDOM &&
          'TextEvent' in window &&
          !documentMode &&
          !isPresto()

        // In IE9+, we have access to composition events, but the data supplied
        // by the native compositionend event may be incorrect. Japanese ideographic
        // spaces, for instance (\u3000) are not recorded correctly.
        var useFallbackCompositionData =
          ExecutionEnvironment.canUseDOM &&
          (!canUseCompositionEvent ||
            (documentMode && documentMode > 8 && documentMode <= 11))

        /**
         * Opera <= 12 includes TextEvent in window, but does not fire
         * text input events. Rely on keypress instead.
         */
        function isPresto() {
          var opera = window.opera
          return (
            typeof opera === 'object' &&
            typeof opera.version === 'function' &&
            parseInt(opera.version(), 10) <= 12
          )
        }

        var SPACEBAR_CODE = 32
        var SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE)

        var topLevelTypes = EventConstants.topLevelTypes

        // Events and their corresponding property names.
        var eventTypes = {
          beforeInput: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onBeforeInput: null }),
              captured: keyOf({ onBeforeInputCapture: null }),
            },
            dependencies: [
              topLevelTypes.topCompositionEnd,
              topLevelTypes.topKeyPress,
              topLevelTypes.topTextInput,
              topLevelTypes.topPaste,
            ],
          },
          compositionEnd: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onCompositionEnd: null }),
              captured: keyOf({ onCompositionEndCapture: null }),
            },
            dependencies: [
              topLevelTypes.topBlur,
              topLevelTypes.topCompositionEnd,
              topLevelTypes.topKeyDown,
              topLevelTypes.topKeyPress,
              topLevelTypes.topKeyUp,
              topLevelTypes.topMouseDown,
            ],
          },
          compositionStart: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onCompositionStart: null }),
              captured: keyOf({ onCompositionStartCapture: null }),
            },
            dependencies: [
              topLevelTypes.topBlur,
              topLevelTypes.topCompositionStart,
              topLevelTypes.topKeyDown,
              topLevelTypes.topKeyPress,
              topLevelTypes.topKeyUp,
              topLevelTypes.topMouseDown,
            ],
          },
          compositionUpdate: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onCompositionUpdate: null }),
              captured: keyOf({ onCompositionUpdateCapture: null }),
            },
            dependencies: [
              topLevelTypes.topBlur,
              topLevelTypes.topCompositionUpdate,
              topLevelTypes.topKeyDown,
              topLevelTypes.topKeyPress,
              topLevelTypes.topKeyUp,
              topLevelTypes.topMouseDown,
            ],
          },
        }

        // Track whether we've ever handled a keypress on the space key.
        var hasSpaceKeypress = false

        /**
         * Return whether a native keypress event is assumed to be a command.
         * This is required because Firefox fires `keypress` events for key commands
         * (cut, copy, select-all, etc.) even though no character is inserted.
         */
        function isKeypressCommand(nativeEvent) {
          return (
            (nativeEvent.ctrlKey ||
              nativeEvent.altKey ||
              nativeEvent.metaKey) &&
            // ctrlKey && altKey is equivalent to AltGr, and is not a command.
            !(nativeEvent.ctrlKey && nativeEvent.altKey)
          )
        }

        /**
         * Translate native top level events into event types.
         *
         * @param {string} topLevelType
         * @return {object}
         */
        function getCompositionEventType(topLevelType) {
          switch (topLevelType) {
            case topLevelTypes.topCompositionStart:
              return eventTypes.compositionStart
            case topLevelTypes.topCompositionEnd:
              return eventTypes.compositionEnd
            case topLevelTypes.topCompositionUpdate:
              return eventTypes.compositionUpdate
          }
        }

        /**
         * Does our fallback best-guess model think this event signifies that
         * composition has begun?
         *
         * @param {string} topLevelType
         * @param {object} nativeEvent
         * @return {boolean}
         */
        function isFallbackCompositionStart(topLevelType, nativeEvent) {
          return (
            topLevelType === topLevelTypes.topKeyDown &&
            nativeEvent.keyCode === START_KEYCODE
          )
        }

        /**
         * Does our fallback mode think that this event is the end of composition?
         *
         * @param {string} topLevelType
         * @param {object} nativeEvent
         * @return {boolean}
         */
        function isFallbackCompositionEnd(topLevelType, nativeEvent) {
          switch (topLevelType) {
            case topLevelTypes.topKeyUp:
              // Command keys insert or clear IME input.
              return END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1
            case topLevelTypes.topKeyDown:
              // Expect IME keyCode on each keydown. If we get any other
              // code we must have exited earlier.
              return nativeEvent.keyCode !== START_KEYCODE
            case topLevelTypes.topKeyPress:
            case topLevelTypes.topMouseDown:
            case topLevelTypes.topBlur:
              // Events are not possible without cancelling IME.
              return true
            default:
              return false
          }
        }

        /**
         * Google Input Tools provides composition data via a CustomEvent,
         * with the `data` property populated in the `detail` object. If this
         * is available on the event object, use it. If not, this is a plain
         * composition event and we have nothing special to extract.
         *
         * @param {object} nativeEvent
         * @return {?string}
         */
        function getDataFromCustomEvent(nativeEvent) {
          var detail = nativeEvent.detail
          if (typeof detail === 'object' && 'data' in detail) {
            return detail.data
          }
          return null
        }

        // Track the current IME composition fallback object, if any.
        var currentComposition = null

        /**
         * @return {?object} A SyntheticCompositionEvent.
         */
        function extractCompositionEvent(
          topLevelType,
          targetInst,
          nativeEvent,
          nativeEventTarget,
        ) {
          var eventType
          var fallbackData

          if (canUseCompositionEvent) {
            eventType = getCompositionEventType(topLevelType)
          } else if (!currentComposition) {
            if (isFallbackCompositionStart(topLevelType, nativeEvent)) {
              eventType = eventTypes.compositionStart
            }
          } else if (isFallbackCompositionEnd(topLevelType, nativeEvent)) {
            eventType = eventTypes.compositionEnd
          }

          if (!eventType) {
            return null
          }

          if (useFallbackCompositionData) {
            // The current composition is stored statically and must not be
            // overwritten while composition continues.
            if (
              !currentComposition &&
              eventType === eventTypes.compositionStart
            ) {
              currentComposition =
                FallbackCompositionState.getPooled(nativeEventTarget)
            } else if (eventType === eventTypes.compositionEnd) {
              if (currentComposition) {
                fallbackData = currentComposition.getData()
              }
            }
          }

          var event = SyntheticCompositionEvent.getPooled(
            eventType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          )

          if (fallbackData) {
            // Inject data generated from fallback path into the synthetic event.
            // This matches the property of native CompositionEventInterface.
            event.data = fallbackData
          } else {
            var customData = getDataFromCustomEvent(nativeEvent)
            if (customData !== null) {
              event.data = customData
            }
          }

          EventPropagators.accumulateTwoPhaseDispatches(event)
          return event
        }

        /**
         * @param {string} topLevelType Record from `EventConstants`.
         * @param {object} nativeEvent Native browser event.
         * @return {?string} The string corresponding to this `beforeInput` event.
         */
        function getNativeBeforeInputChars(topLevelType, nativeEvent) {
          switch (topLevelType) {
            case topLevelTypes.topCompositionEnd:
              return getDataFromCustomEvent(nativeEvent)
            case topLevelTypes.topKeyPress:
              /**
               * If native `textInput` events are available, our goal is to make
               * use of them. However, there is a special case: the spacebar key.
               * In Webkit, preventing default on a spacebar `textInput` event
               * cancels character insertion, but it *also* causes the browser
               * to fall back to its default spacebar behavior of scrolling the
               * page.
               *
               * Tracking at:
               * https://code.google.com/p/chromium/issues/detail?id=355103
               *
               * To avoid this issue, use the keypress event as if no `textInput`
               * event is available.
               */
              var which = nativeEvent.which
              if (which !== SPACEBAR_CODE) {
                return null
              }

              hasSpaceKeypress = true
              return SPACEBAR_CHAR

            case topLevelTypes.topTextInput:
              // Record the characters to be added to the DOM.
              var chars = nativeEvent.data

              // If it's a spacebar character, assume that we have already handled
              // it at the keypress level and bail immediately. Android Chrome
              // doesn't give us keycodes, so we need to blacklist it.
              if (chars === SPACEBAR_CHAR && hasSpaceKeypress) {
                return null
              }

              return chars

            default:
              // For other native event types, do nothing.
              return null
          }
        }

        /**
         * For browsers that do not provide the `textInput` event, extract the
         * appropriate string to use for SyntheticInputEvent.
         *
         * @param {string} topLevelType Record from `EventConstants`.
         * @param {object} nativeEvent Native browser event.
         * @return {?string} The fallback string for this `beforeInput` event.
         */
        function getFallbackBeforeInputChars(topLevelType, nativeEvent) {
          // If we are currently composing (IME) and using a fallback to do so,
          // try to extract the composed characters from the fallback object.
          if (currentComposition) {
            if (
              topLevelType === topLevelTypes.topCompositionEnd ||
              isFallbackCompositionEnd(topLevelType, nativeEvent)
            ) {
              var chars = currentComposition.getData()
              FallbackCompositionState.release(currentComposition)
              currentComposition = null
              return chars
            }
            return null
          }

          switch (topLevelType) {
            case topLevelTypes.topPaste:
              // If a paste event occurs after a keypress, throw out the input
              // chars. Paste events should not lead to BeforeInput events.
              return null
            case topLevelTypes.topKeyPress:
              /**
               * As of v27, Firefox may fire keypress events even when no character
               * will be inserted. A few possibilities:
               *
               * - `which` is `0`. Arrow keys, Esc key, etc.
               *
               * - `which` is the pressed key code, but no char is available.
               *   Ex: 'AltGr + d` in Polish. There is no modified character for
               *   this key combination and no character is inserted into the
               *   document, but FF fires the keypress for char code `100` anyway.
               *   No `input` event will occur.
               *
               * - `which` is the pressed key code, but a command combination is
               *   being used. Ex: `Cmd+C`. No character is inserted, and no
               *   `input` event will occur.
               */
              if (nativeEvent.which && !isKeypressCommand(nativeEvent)) {
                return String.fromCharCode(nativeEvent.which)
              }
              return null
            case topLevelTypes.topCompositionEnd:
              return useFallbackCompositionData ? null : nativeEvent.data
            default:
              return null
          }
        }

        /**
         * Extract a SyntheticInputEvent for `beforeInput`, based on either native
         * `textInput` or fallback behavior.
         *
         * @return {?object} A SyntheticInputEvent.
         */
        function extractBeforeInputEvent(
          topLevelType,
          targetInst,
          nativeEvent,
          nativeEventTarget,
        ) {
          var chars

          if (canUseTextInputEvent) {
            chars = getNativeBeforeInputChars(topLevelType, nativeEvent)
          } else {
            chars = getFallbackBeforeInputChars(topLevelType, nativeEvent)
          }

          // If no characters are being inserted, no BeforeInput event should
          // be fired.
          if (!chars) {
            return null
          }

          var event = SyntheticInputEvent.getPooled(
            eventTypes.beforeInput,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          )

          event.data = chars
          EventPropagators.accumulateTwoPhaseDispatches(event)
          return event
        }

        /**
         * Create an `onBeforeInput` event to match
         * http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105/#events-inputevents.
         *
         * This event plugin is based on the native `textInput` event
         * available in Chrome, Safari, Opera, and IE. This event fires after
         * `onKeyPress` and `onCompositionEnd`, but before `onInput`.
         *
         * `beforeInput` is spec'd but not implemented in any browsers, and
         * the `input` event does not provide any useful information about what has
         * actually been added, contrary to the spec. Thus, `textInput` is the best
         * available event to identify the characters that have actually been inserted
         * into the target node.
         *
         * This plugin is also responsible for emitting `composition` events, thus
         * allowing us to share composition fallback code for both `beforeInput` and
         * `composition` event types.
         */
        var BeforeInputEventPlugin = {
          eventTypes: eventTypes,

          extractEvents: function (
            topLevelType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            return [
              extractCompositionEvent(
                topLevelType,
                targetInst,
                nativeEvent,
                nativeEventTarget,
              ),
              extractBeforeInputEvent(
                topLevelType,
                targetInst,
                nativeEvent,
                nativeEventTarget,
              ),
            ]
          },
        }

        module.exports = BeforeInputEventPlugin
      },
      {
        './EventConstants': 219,
        './EventPropagators': 223,
        './FallbackCompositionState': 224,
        './SyntheticCompositionEvent': 299,
        './SyntheticInputEvent': 303,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/keyOf': 46,
      },
    ],
    206: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule CSSProperty
         */

        'use strict'

        /**
         * CSS properties which accept numbers but are not in units of "px".
         */

        var isUnitlessNumber = {
          animationIterationCount: true,
          borderImageOutset: true,
          borderImageSlice: true,
          borderImageWidth: true,
          boxFlex: true,
          boxFlexGroup: true,
          boxOrdinalGroup: true,
          columnCount: true,
          flex: true,
          flexGrow: true,
          flexPositive: true,
          flexShrink: true,
          flexNegative: true,
          flexOrder: true,
          gridRow: true,
          gridColumn: true,
          fontWeight: true,
          lineClamp: true,
          lineHeight: true,
          opacity: true,
          order: true,
          orphans: true,
          tabSize: true,
          widows: true,
          zIndex: true,
          zoom: true,

          // SVG-related properties
          fillOpacity: true,
          floodOpacity: true,
          stopOpacity: true,
          strokeDasharray: true,
          strokeDashoffset: true,
          strokeMiterlimit: true,
          strokeOpacity: true,
          strokeWidth: true,
        }

        /**
         * @param {string} prefix vendor-specific prefix, eg: Webkit
         * @param {string} key style name, eg: transitionDuration
         * @return {string} style name prefixed with `prefix`, properly camelCased, eg:
         * WebkitTransitionDuration
         */
        function prefixKey(prefix, key) {
          return prefix + key.charAt(0).toUpperCase() + key.substring(1)
        }

        /**
         * Support style names that may come passed in prefixed by adding permutations
         * of vendor prefixes.
         */
        var prefixes = ['Webkit', 'ms', 'Moz', 'O']

        // Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an
        // infinite loop, because it iterates over the newly added props too.
        Object.keys(isUnitlessNumber).forEach(function (prop) {
          prefixes.forEach(function (prefix) {
            isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop]
          })
        })

        /**
         * Most style properties can be unset by doing .style[prop] = '' but IE8
         * doesn't like doing that with shorthand properties so for the properties that
         * IE8 breaks on, which are listed here, we instead unset each of the
         * individual properties. See http://bugs.jquery.com/ticket/12385.
         * The 4-value 'clock' properties like margin, padding, border-width seem to
         * behave without any problems. Curiously, list-style works too without any
         * special prodding.
         */
        var shorthandPropertyExpansions = {
          background: {
            backgroundAttachment: true,
            backgroundColor: true,
            backgroundImage: true,
            backgroundPositionX: true,
            backgroundPositionY: true,
            backgroundRepeat: true,
          },
          backgroundPosition: {
            backgroundPositionX: true,
            backgroundPositionY: true,
          },
          border: {
            borderWidth: true,
            borderStyle: true,
            borderColor: true,
          },
          borderBottom: {
            borderBottomWidth: true,
            borderBottomStyle: true,
            borderBottomColor: true,
          },
          borderLeft: {
            borderLeftWidth: true,
            borderLeftStyle: true,
            borderLeftColor: true,
          },
          borderRight: {
            borderRightWidth: true,
            borderRightStyle: true,
            borderRightColor: true,
          },
          borderTop: {
            borderTopWidth: true,
            borderTopStyle: true,
            borderTopColor: true,
          },
          font: {
            fontStyle: true,
            fontVariant: true,
            fontWeight: true,
            fontSize: true,
            lineHeight: true,
            fontFamily: true,
          },
          outline: {
            outlineWidth: true,
            outlineStyle: true,
            outlineColor: true,
          },
        }

        var CSSProperty = {
          isUnitlessNumber: isUnitlessNumber,
          shorthandPropertyExpansions: shorthandPropertyExpansions,
        }

        module.exports = CSSProperty
      },
      {},
    ],
    207: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule CSSPropertyOperations
           */

          'use strict'

          var CSSProperty = require('./CSSProperty')
          var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var camelizeStyleName = require('fbjs/lib/camelizeStyleName')
          var dangerousStyleValue = require('./dangerousStyleValue')
          var hyphenateStyleName = require('fbjs/lib/hyphenateStyleName')
          var memoizeStringOnly = require('fbjs/lib/memoizeStringOnly')
          var warning = require('fbjs/lib/warning')

          var processStyleName = memoizeStringOnly(function (styleName) {
            return hyphenateStyleName(styleName)
          })

          var hasShorthandPropertyBug = false
          var styleFloatAccessor = 'cssFloat'
          if (ExecutionEnvironment.canUseDOM) {
            var tempStyle = document.createElement('div').style
            try {
              // IE8 throws "Invalid argument." if resetting shorthand style properties.
              tempStyle.font = ''
            } catch (e) {
              hasShorthandPropertyBug = true
            }
            // IE8 only supports accessing cssFloat (standard) as styleFloat
            if (document.documentElement.style.cssFloat === undefined) {
              styleFloatAccessor = 'styleFloat'
            }
          }

          if (process.env.NODE_ENV !== 'production') {
            // 'msTransform' is correct, but the other prefixes should be capitalized
            var badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/

            // style values shouldn't contain a semicolon
            var badStyleValueWithSemicolonPattern = /;\s*$/

            var warnedStyleNames = {}
            var warnedStyleValues = {}
            var warnedForNaNValue = false

            var warnHyphenatedStyleName = function (name, owner) {
              if (
                warnedStyleNames.hasOwnProperty(name) &&
                warnedStyleNames[name]
              ) {
                return
              }

              warnedStyleNames[name] = true
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    'Unsupported style property %s. Did you mean %s?%s',
                    name,
                    camelizeStyleName(name),
                    checkRenderMessage(owner),
                  )
                : void 0
            }

            var warnBadVendoredStyleName = function (name, owner) {
              if (
                warnedStyleNames.hasOwnProperty(name) &&
                warnedStyleNames[name]
              ) {
                return
              }

              warnedStyleNames[name] = true
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    'Unsupported vendor-prefixed style property %s. Did you mean %s?%s',
                    name,
                    name.charAt(0).toUpperCase() + name.slice(1),
                    checkRenderMessage(owner),
                  )
                : void 0
            }

            var warnStyleValueWithSemicolon = function (name, value, owner) {
              if (
                warnedStyleValues.hasOwnProperty(value) &&
                warnedStyleValues[value]
              ) {
                return
              }

              warnedStyleValues[value] = true
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    "Style property values shouldn't contain a semicolon.%s " +
                      'Try "%s: %s" instead.',
                    checkRenderMessage(owner),
                    name,
                    value.replace(badStyleValueWithSemicolonPattern, ''),
                  )
                : void 0
            }

            var warnStyleValueIsNaN = function (name, value, owner) {
              if (warnedForNaNValue) {
                return
              }

              warnedForNaNValue = true
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '`NaN` is an invalid value for the `%s` css style property.%s',
                    name,
                    checkRenderMessage(owner),
                  )
                : void 0
            }

            var checkRenderMessage = function (owner) {
              if (owner) {
                var name = owner.getName()
                if (name) {
                  return ' Check the render method of `' + name + '`.'
                }
              }
              return ''
            }

            /**
             * @param {string} name
             * @param {*} value
             * @param {ReactDOMComponent} component
             */
            var warnValidStyle = function (name, value, component) {
              var owner
              if (component) {
                owner = component._currentElement._owner
              }
              if (name.indexOf('-') > -1) {
                warnHyphenatedStyleName(name, owner)
              } else if (badVendoredStyleNamePattern.test(name)) {
                warnBadVendoredStyleName(name, owner)
              } else if (badStyleValueWithSemicolonPattern.test(value)) {
                warnStyleValueWithSemicolon(name, value, owner)
              }

              if (typeof value === 'number' && isNaN(value)) {
                warnStyleValueIsNaN(name, value, owner)
              }
            }
          }

          /**
           * Operations for dealing with CSS properties.
           */
          var CSSPropertyOperations = {
            /**
             * Serializes a mapping of style properties for use as inline styles:
             *
             *   > createMarkupForStyles({width: '200px', height: 0})
             *   "width:200px;height:0;"
             *
             * Undefined values are ignored so that declarative programming is easier.
             * The result should be HTML-escaped before insertion into the DOM.
             *
             * @param {object} styles
             * @param {ReactDOMComponent} component
             * @return {?string}
             */
            createMarkupForStyles: function (styles, component) {
              var serialized = ''
              for (var styleName in styles) {
                if (!styles.hasOwnProperty(styleName)) {
                  continue
                }
                var styleValue = styles[styleName]
                if (process.env.NODE_ENV !== 'production') {
                  warnValidStyle(styleName, styleValue, component)
                }
                if (styleValue != null) {
                  serialized += processStyleName(styleName) + ':'
                  serialized +=
                    dangerousStyleValue(styleName, styleValue, component) + ';'
                }
              }
              return serialized || null
            },

            /**
             * Sets the value for multiple styles on a node.  If a value is specified as
             * '' (empty string), the corresponding style property will be unset.
             *
             * @param {DOMElement} node
             * @param {object} styles
             * @param {ReactDOMComponent} component
             */
            setValueForStyles: function (node, styles, component) {
              if (process.env.NODE_ENV !== 'production') {
                ReactInstrumentation.debugTool.onNativeOperation(
                  component._debugID,
                  'update styles',
                  styles,
                )
              }

              var style = node.style
              for (var styleName in styles) {
                if (!styles.hasOwnProperty(styleName)) {
                  continue
                }
                if (process.env.NODE_ENV !== 'production') {
                  warnValidStyle(styleName, styles[styleName], component)
                }
                var styleValue = dangerousStyleValue(
                  styleName,
                  styles[styleName],
                  component,
                )
                if (styleName === 'float' || styleName === 'cssFloat') {
                  styleName = styleFloatAccessor
                }
                if (styleValue) {
                  style[styleName] = styleValue
                } else {
                  var expansion =
                    hasShorthandPropertyBug &&
                    CSSProperty.shorthandPropertyExpansions[styleName]
                  if (expansion) {
                    // Shorthand property that IE8 won't like unsetting, so unset each
                    // component to placate it
                    for (var individualStyleName in expansion) {
                      style[individualStyleName] = ''
                    }
                  } else {
                    style[styleName] = ''
                  }
                }
              }
            },
          }

          module.exports = CSSPropertyOperations
        }).call(this, require('_process'))
      },
      {
        './CSSProperty': 206,
        './ReactInstrumentation': 273,
        './dangerousStyleValue': 316,
        _process: 162,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/camelizeStyleName': 30,
        'fbjs/lib/hyphenateStyleName': 41,
        'fbjs/lib/memoizeStringOnly': 48,
        'fbjs/lib/warning': 52,
      },
    ],
    208: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule CallbackQueue
           */

          'use strict'

          var _assign = require('object-assign')

          var PooledClass = require('./PooledClass')

          var invariant = require('fbjs/lib/invariant')

          /**
           * A specialized pseudo-event module to help keep track of components waiting to
           * be notified when their DOM representations are available for use.
           *
           * This implements `PooledClass`, so you should never need to instantiate this.
           * Instead, use `CallbackQueue.getPooled()`.
           *
           * @class ReactMountReady
           * @implements PooledClass
           * @internal
           */
          function CallbackQueue() {
            this._callbacks = null
            this._contexts = null
          }

          _assign(CallbackQueue.prototype, {
            /**
             * Enqueues a callback to be invoked when `notifyAll` is invoked.
             *
             * @param {function} callback Invoked when `notifyAll` is invoked.
             * @param {?object} context Context to call `callback` with.
             * @internal
             */
            enqueue: function (callback, context) {
              this._callbacks = this._callbacks || []
              this._contexts = this._contexts || []
              this._callbacks.push(callback)
              this._contexts.push(context)
            },

            /**
             * Invokes all enqueued callbacks and clears the queue. This is invoked after
             * the DOM representation of a component has been created or updated.
             *
             * @internal
             */
            notifyAll: function () {
              var callbacks = this._callbacks
              var contexts = this._contexts
              if (callbacks) {
                !(callbacks.length === contexts.length)
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'Mismatched list of contexts in callback queue',
                      )
                    : invariant(false)
                  : void 0
                this._callbacks = null
                this._contexts = null
                for (var i = 0; i < callbacks.length; i++) {
                  callbacks[i].call(contexts[i])
                }
                callbacks.length = 0
                contexts.length = 0
              }
            },

            checkpoint: function () {
              return this._callbacks ? this._callbacks.length : 0
            },

            rollback: function (len) {
              if (this._callbacks) {
                this._callbacks.length = len
                this._contexts.length = len
              }
            },

            /**
             * Resets the internal queue.
             *
             * @internal
             */
            reset: function () {
              this._callbacks = null
              this._contexts = null
            },

            /**
             * `PooledClass` looks for this.
             */
            destructor: function () {
              this.reset()
            },
          })

          PooledClass.addPoolingTo(CallbackQueue)

          module.exports = CallbackQueue
        }).call(this, require('_process'))
      },
      {
        './PooledClass': 228,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'object-assign': 161,
      },
    ],
    209: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ChangeEventPlugin
         */

        'use strict'

        var EventConstants = require('./EventConstants')
        var EventPluginHub = require('./EventPluginHub')
        var EventPropagators = require('./EventPropagators')
        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')
        var ReactUpdates = require('./ReactUpdates')
        var SyntheticEvent = require('./SyntheticEvent')

        var getEventTarget = require('./getEventTarget')
        var isEventSupported = require('./isEventSupported')
        var isTextInputElement = require('./isTextInputElement')
        var keyOf = require('fbjs/lib/keyOf')

        var topLevelTypes = EventConstants.topLevelTypes

        var eventTypes = {
          change: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onChange: null }),
              captured: keyOf({ onChangeCapture: null }),
            },
            dependencies: [
              topLevelTypes.topBlur,
              topLevelTypes.topChange,
              topLevelTypes.topClick,
              topLevelTypes.topFocus,
              topLevelTypes.topInput,
              topLevelTypes.topKeyDown,
              topLevelTypes.topKeyUp,
              topLevelTypes.topSelectionChange,
            ],
          },
        }

        /**
         * For IE shims
         */
        var activeElement = null
        var activeElementInst = null
        var activeElementValue = null
        var activeElementValueProp = null

        /**
         * SECTION: handle `change` event
         */
        function shouldUseChangeEvent(elem) {
          var nodeName = elem.nodeName && elem.nodeName.toLowerCase()
          return (
            nodeName === 'select' ||
            (nodeName === 'input' && elem.type === 'file')
          )
        }

        var doesChangeEventBubble = false
        if (ExecutionEnvironment.canUseDOM) {
          // See `handleChange` comment below
          doesChangeEventBubble =
            isEventSupported('change') &&
            (!('documentMode' in document) || document.documentMode > 8)
        }

        function manualDispatchChangeEvent(nativeEvent) {
          var event = SyntheticEvent.getPooled(
            eventTypes.change,
            activeElementInst,
            nativeEvent,
            getEventTarget(nativeEvent),
          )
          EventPropagators.accumulateTwoPhaseDispatches(event)

          // If change and propertychange bubbled, we'd just bind to it like all the
          // other events and have it go through ReactBrowserEventEmitter. Since it
          // doesn't, we manually listen for the events and so we have to enqueue and
          // process the abstract event manually.
          //
          // Batching is necessary here in order to ensure that all event handlers run
          // before the next rerender (including event handlers attached to ancestor
          // elements instead of directly on the input). Without this, controlled
          // components don't work properly in conjunction with event bubbling because
          // the component is rerendered and the value reverted before all the event
          // handlers can run. See https://github.com/facebook/react/issues/708.
          ReactUpdates.batchedUpdates(runEventInBatch, event)
        }

        function runEventInBatch(event) {
          EventPluginHub.enqueueEvents(event)
          EventPluginHub.processEventQueue(false)
        }

        function startWatchingForChangeEventIE8(target, targetInst) {
          activeElement = target
          activeElementInst = targetInst
          activeElement.attachEvent('onchange', manualDispatchChangeEvent)
        }

        function stopWatchingForChangeEventIE8() {
          if (!activeElement) {
            return
          }
          activeElement.detachEvent('onchange', manualDispatchChangeEvent)
          activeElement = null
          activeElementInst = null
        }

        function getTargetInstForChangeEvent(topLevelType, targetInst) {
          if (topLevelType === topLevelTypes.topChange) {
            return targetInst
          }
        }
        function handleEventsForChangeEventIE8(
          topLevelType,
          target,
          targetInst,
        ) {
          if (topLevelType === topLevelTypes.topFocus) {
            // stopWatching() should be a noop here but we call it just in case we
            // missed a blur event somehow.
            stopWatchingForChangeEventIE8()
            startWatchingForChangeEventIE8(target, targetInst)
          } else if (topLevelType === topLevelTypes.topBlur) {
            stopWatchingForChangeEventIE8()
          }
        }

        /**
         * SECTION: handle `input` event
         */
        var isInputEventSupported = false
        if (ExecutionEnvironment.canUseDOM) {
          // IE9 claims to support the input event but fails to trigger it when
          // deleting text, so we ignore its input events.
          // IE10+ fire input events to often, such when a placeholder
          // changes or when an input with a placeholder is focused.
          isInputEventSupported =
            isEventSupported('input') &&
            (!('documentMode' in document) || document.documentMode > 11)
        }

        /**
         * (For IE <=11) Replacement getter/setter for the `value` property that gets
         * set on the active element.
         */
        var newValueProp = {
          get: function () {
            return activeElementValueProp.get.call(this)
          },
          set: function (val) {
            // Cast to a string so we can do equality checks.
            activeElementValue = '' + val
            activeElementValueProp.set.call(this, val)
          },
        }

        /**
         * (For IE <=11) Starts tracking propertychange events on the passed-in element
         * and override the value property so that we can distinguish user events from
         * value changes in JS.
         */
        function startWatchingForValueChange(target, targetInst) {
          activeElement = target
          activeElementInst = targetInst
          activeElementValue = target.value
          activeElementValueProp = Object.getOwnPropertyDescriptor(
            target.constructor.prototype,
            'value',
          )

          // Not guarded in a canDefineProperty check: IE8 supports defineProperty only
          // on DOM elements
          Object.defineProperty(activeElement, 'value', newValueProp)
          if (activeElement.attachEvent) {
            activeElement.attachEvent('onpropertychange', handlePropertyChange)
          } else {
            activeElement.addEventListener(
              'propertychange',
              handlePropertyChange,
              false,
            )
          }
        }

        /**
         * (For IE <=11) Removes the event listeners from the currently-tracked element,
         * if any exists.
         */
        function stopWatchingForValueChange() {
          if (!activeElement) {
            return
          }

          // delete restores the original property definition
          delete activeElement.value

          if (activeElement.detachEvent) {
            activeElement.detachEvent('onpropertychange', handlePropertyChange)
          } else {
            activeElement.removeEventListener(
              'propertychange',
              handlePropertyChange,
              false,
            )
          }

          activeElement = null
          activeElementInst = null
          activeElementValue = null
          activeElementValueProp = null
        }

        /**
         * (For IE <=11) Handles a propertychange event, sending a `change` event if
         * the value of the active element has changed.
         */
        function handlePropertyChange(nativeEvent) {
          if (nativeEvent.propertyName !== 'value') {
            return
          }
          var value = nativeEvent.srcElement.value
          if (value === activeElementValue) {
            return
          }
          activeElementValue = value

          manualDispatchChangeEvent(nativeEvent)
        }

        /**
         * If a `change` event should be fired, returns the target's ID.
         */
        function getTargetInstForInputEvent(topLevelType, targetInst) {
          if (topLevelType === topLevelTypes.topInput) {
            // In modern browsers (i.e., not IE8 or IE9), the input event is exactly
            // what we want so fall through here and trigger an abstract event
            return targetInst
          }
        }

        function handleEventsForInputEventIE(topLevelType, target, targetInst) {
          if (topLevelType === topLevelTypes.topFocus) {
            // In IE8, we can capture almost all .value changes by adding a
            // propertychange handler and looking for events with propertyName
            // equal to 'value'
            // In IE9-11, propertychange fires for most input events but is buggy and
            // doesn't fire when text is deleted, but conveniently, selectionchange
            // appears to fire in all of the remaining cases so we catch those and
            // forward the event if the value has changed
            // In either case, we don't want to call the event handler if the value
            // is changed from JS so we redefine a setter for `.value` that updates
            // our activeElementValue variable, allowing us to ignore those changes
            //
            // stopWatching() should be a noop here but we call it just in case we
            // missed a blur event somehow.
            stopWatchingForValueChange()
            startWatchingForValueChange(target, targetInst)
          } else if (topLevelType === topLevelTypes.topBlur) {
            stopWatchingForValueChange()
          }
        }

        // For IE8 and IE9.
        function getTargetInstForInputEventIE(topLevelType, targetInst) {
          if (
            topLevelType === topLevelTypes.topSelectionChange ||
            topLevelType === topLevelTypes.topKeyUp ||
            topLevelType === topLevelTypes.topKeyDown
          ) {
            // On the selectionchange event, the target is just document which isn't
            // helpful for us so just check activeElement instead.
            //
            // 99% of the time, keydown and keyup aren't necessary. IE8 fails to fire
            // propertychange on the first input event after setting `value` from a
            // script and fires only keydown, keypress, keyup. Catching keyup usually
            // gets it and catching keydown lets us fire an event for the first
            // keystroke if user does a key repeat (it'll be a little delayed: right
            // before the second keystroke). Other input methods (e.g., paste) seem to
            // fire selectionchange normally.
            if (activeElement && activeElement.value !== activeElementValue) {
              activeElementValue = activeElement.value
              return activeElementInst
            }
          }
        }

        /**
         * SECTION: handle `click` event
         */
        function shouldUseClickEvent(elem) {
          // Use the `click` event to detect changes to checkbox and radio inputs.
          // This approach works across all browsers, whereas `change` does not fire
          // until `blur` in IE8.
          return (
            elem.nodeName &&
            elem.nodeName.toLowerCase() === 'input' &&
            (elem.type === 'checkbox' || elem.type === 'radio')
          )
        }

        function getTargetInstForClickEvent(topLevelType, targetInst) {
          if (topLevelType === topLevelTypes.topClick) {
            return targetInst
          }
        }

        /**
         * This plugin creates an `onChange` event that normalizes change events
         * across form elements. This event fires at a time when it's possible to
         * change the element's value without seeing a flicker.
         *
         * Supported elements are:
         * - input (see `isTextInputElement`)
         * - textarea
         * - select
         */
        var ChangeEventPlugin = {
          eventTypes: eventTypes,

          extractEvents: function (
            topLevelType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            var targetNode = targetInst
              ? ReactDOMComponentTree.getNodeFromInstance(targetInst)
              : window

            var getTargetInstFunc, handleEventFunc
            if (shouldUseChangeEvent(targetNode)) {
              if (doesChangeEventBubble) {
                getTargetInstFunc = getTargetInstForChangeEvent
              } else {
                handleEventFunc = handleEventsForChangeEventIE8
              }
            } else if (isTextInputElement(targetNode)) {
              if (isInputEventSupported) {
                getTargetInstFunc = getTargetInstForInputEvent
              } else {
                getTargetInstFunc = getTargetInstForInputEventIE
                handleEventFunc = handleEventsForInputEventIE
              }
            } else if (shouldUseClickEvent(targetNode)) {
              getTargetInstFunc = getTargetInstForClickEvent
            }

            if (getTargetInstFunc) {
              var inst = getTargetInstFunc(topLevelType, targetInst)
              if (inst) {
                var event = SyntheticEvent.getPooled(
                  eventTypes.change,
                  inst,
                  nativeEvent,
                  nativeEventTarget,
                )
                event.type = 'change'
                EventPropagators.accumulateTwoPhaseDispatches(event)
                return event
              }
            }

            if (handleEventFunc) {
              handleEventFunc(topLevelType, targetNode, targetInst)
            }
          },
        }

        module.exports = ChangeEventPlugin
      },
      {
        './EventConstants': 219,
        './EventPluginHub': 220,
        './EventPropagators': 223,
        './ReactDOMComponentTree': 244,
        './ReactUpdates': 292,
        './SyntheticEvent': 301,
        './getEventTarget': 324,
        './isEventSupported': 331,
        './isTextInputElement': 332,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/keyOf': 46,
      },
    ],
    210: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule DOMChildrenOperations
           */

          'use strict'

          var DOMLazyTree = require('./DOMLazyTree')
          var Danger = require('./Danger')
          var ReactMultiChildUpdateTypes = require('./ReactMultiChildUpdateTypes')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction')
          var setInnerHTML = require('./setInnerHTML')
          var setTextContent = require('./setTextContent')

          function getNodeAfter(parentNode, node) {
            // Special case for text components, which return [open, close] comments
            // from getNativeNode.
            if (Array.isArray(node)) {
              node = node[1]
            }
            return node ? node.nextSibling : parentNode.firstChild
          }

          /**
           * Inserts `childNode` as a child of `parentNode` at the `index`.
           *
           * @param {DOMElement} parentNode Parent node in which to insert.
           * @param {DOMElement} childNode Child node to insert.
           * @param {number} index Index at which to insert the child.
           * @internal
           */
          var insertChildAt = createMicrosoftUnsafeLocalFunction(
            function (parentNode, childNode, referenceNode) {
              // We rely exclusively on `insertBefore(node, null)` instead of also using
              // `appendChild(node)`. (Using `undefined` is not allowed by all browsers so
              // we are careful to use `null`.)
              parentNode.insertBefore(childNode, referenceNode)
            },
          )

          function insertLazyTreeChildAt(parentNode, childTree, referenceNode) {
            DOMLazyTree.insertTreeBefore(parentNode, childTree, referenceNode)
          }

          function moveChild(parentNode, childNode, referenceNode) {
            if (Array.isArray(childNode)) {
              moveDelimitedText(
                parentNode,
                childNode[0],
                childNode[1],
                referenceNode,
              )
            } else {
              insertChildAt(parentNode, childNode, referenceNode)
            }
          }

          function removeChild(parentNode, childNode) {
            if (Array.isArray(childNode)) {
              var closingComment = childNode[1]
              childNode = childNode[0]
              removeDelimitedText(parentNode, childNode, closingComment)
              parentNode.removeChild(closingComment)
            }
            parentNode.removeChild(childNode)
          }

          function moveDelimitedText(
            parentNode,
            openingComment,
            closingComment,
            referenceNode,
          ) {
            var node = openingComment
            while (true) {
              var nextNode = node.nextSibling
              insertChildAt(parentNode, node, referenceNode)
              if (node === closingComment) {
                break
              }
              node = nextNode
            }
          }

          function removeDelimitedText(parentNode, startNode, closingComment) {
            while (true) {
              var node = startNode.nextSibling
              if (node === closingComment) {
                // The closing comment is removed by ReactMultiChild.
                break
              } else {
                parentNode.removeChild(node)
              }
            }
          }

          function replaceDelimitedText(
            openingComment,
            closingComment,
            stringText,
          ) {
            var parentNode = openingComment.parentNode
            var nodeAfterComment = openingComment.nextSibling
            if (nodeAfterComment === closingComment) {
              // There are no text nodes between the opening and closing comments; insert
              // a new one if stringText isn't empty.
              if (stringText) {
                insertChildAt(
                  parentNode,
                  document.createTextNode(stringText),
                  nodeAfterComment,
                )
              }
            } else {
              if (stringText) {
                // Set the text content of the first node after the opening comment, and
                // remove all following nodes up until the closing comment.
                setTextContent(nodeAfterComment, stringText)
                removeDelimitedText(
                  parentNode,
                  nodeAfterComment,
                  closingComment,
                )
              } else {
                removeDelimitedText(parentNode, openingComment, closingComment)
              }
            }

            if (process.env.NODE_ENV !== 'production') {
              ReactInstrumentation.debugTool.onNativeOperation(
                ReactDOMComponentTree.getInstanceFromNode(openingComment)
                  ._debugID,
                'replace text',
                stringText,
              )
            }
          }

          var dangerouslyReplaceNodeWithMarkup =
            Danger.dangerouslyReplaceNodeWithMarkup
          if (process.env.NODE_ENV !== 'production') {
            dangerouslyReplaceNodeWithMarkup = function (
              oldChild,
              markup,
              prevInstance,
            ) {
              Danger.dangerouslyReplaceNodeWithMarkup(oldChild, markup)
              if (prevInstance._debugID !== 0) {
                ReactInstrumentation.debugTool.onNativeOperation(
                  prevInstance._debugID,
                  'replace with',
                  markup.toString(),
                )
              } else {
                var nextInstance = ReactDOMComponentTree.getInstanceFromNode(
                  markup.node,
                )
                if (nextInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onNativeOperation(
                    nextInstance._debugID,
                    'mount',
                    markup.toString(),
                  )
                }
              }
            }
          }

          /**
           * Operations for updating with DOM children.
           */
          var DOMChildrenOperations = {
            dangerouslyReplaceNodeWithMarkup: dangerouslyReplaceNodeWithMarkup,

            replaceDelimitedText: replaceDelimitedText,

            /**
             * Updates a component's children by processing a series of updates. The
             * update configurations are each expected to have a `parentNode` property.
             *
             * @param {array<object>} updates List of update configurations.
             * @internal
             */
            processUpdates: function (parentNode, updates) {
              if (process.env.NODE_ENV !== 'production') {
                var parentNodeDebugID =
                  ReactDOMComponentTree.getInstanceFromNode(parentNode)._debugID
              }

              for (var k = 0; k < updates.length; k++) {
                var update = updates[k]
                switch (update.type) {
                  case ReactMultiChildUpdateTypes.INSERT_MARKUP:
                    insertLazyTreeChildAt(
                      parentNode,
                      update.content,
                      getNodeAfter(parentNode, update.afterNode),
                    )
                    if (process.env.NODE_ENV !== 'production') {
                      ReactInstrumentation.debugTool.onNativeOperation(
                        parentNodeDebugID,
                        'insert child',
                        {
                          toIndex: update.toIndex,
                          content: update.content.toString(),
                        },
                      )
                    }
                    break
                  case ReactMultiChildUpdateTypes.MOVE_EXISTING:
                    moveChild(
                      parentNode,
                      update.fromNode,
                      getNodeAfter(parentNode, update.afterNode),
                    )
                    if (process.env.NODE_ENV !== 'production') {
                      ReactInstrumentation.debugTool.onNativeOperation(
                        parentNodeDebugID,
                        'move child',
                        {
                          fromIndex: update.fromIndex,
                          toIndex: update.toIndex,
                        },
                      )
                    }
                    break
                  case ReactMultiChildUpdateTypes.SET_MARKUP:
                    setInnerHTML(parentNode, update.content)
                    if (process.env.NODE_ENV !== 'production') {
                      ReactInstrumentation.debugTool.onNativeOperation(
                        parentNodeDebugID,
                        'replace children',
                        update.content.toString(),
                      )
                    }
                    break
                  case ReactMultiChildUpdateTypes.TEXT_CONTENT:
                    setTextContent(parentNode, update.content)
                    if (process.env.NODE_ENV !== 'production') {
                      ReactInstrumentation.debugTool.onNativeOperation(
                        parentNodeDebugID,
                        'replace text',
                        update.content.toString(),
                      )
                    }
                    break
                  case ReactMultiChildUpdateTypes.REMOVE_NODE:
                    removeChild(parentNode, update.fromNode)
                    if (process.env.NODE_ENV !== 'production') {
                      ReactInstrumentation.debugTool.onNativeOperation(
                        parentNodeDebugID,
                        'remove child',
                        { fromIndex: update.fromIndex },
                      )
                    }
                    break
                }
              }
            },
          }

          module.exports = DOMChildrenOperations
        }).call(this, require('_process'))
      },
      {
        './DOMLazyTree': 211,
        './Danger': 215,
        './ReactDOMComponentTree': 244,
        './ReactInstrumentation': 273,
        './ReactMultiChildUpdateTypes': 278,
        './createMicrosoftUnsafeLocalFunction': 315,
        './setInnerHTML': 336,
        './setTextContent': 337,
        _process: 162,
      },
    ],
    211: [
      function (require, module, exports) {
        /**
         * Copyright 2015-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule DOMLazyTree
         */

        'use strict'

        var DOMNamespaces = require('./DOMNamespaces')

        var createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction')
        var setTextContent = require('./setTextContent')

        var ELEMENT_NODE_TYPE = 1
        var DOCUMENT_FRAGMENT_NODE_TYPE = 11

        /**
         * In IE (8-11) and Edge, appending nodes with no children is dramatically
         * faster than appending a full subtree, so we essentially queue up the
         * .appendChild calls here and apply them so each node is added to its parent
         * before any children are added.
         *
         * In other browsers, doing so is slower or neutral compared to the other order
         * (in Firefox, twice as slow) so we only do this inversion in IE.
         *
         * See https://github.com/spicyj/innerhtml-vs-createelement-vs-clonenode.
         */
        var enableLazy =
          (typeof document !== 'undefined' &&
            typeof document.documentMode === 'number') ||
          (typeof navigator !== 'undefined' &&
            typeof navigator.userAgent === 'string' &&
            /\bEdge\/\d/.test(navigator.userAgent))

        function insertTreeChildren(tree) {
          if (!enableLazy) {
            return
          }
          var node = tree.node
          var children = tree.children
          if (children.length) {
            for (var i = 0; i < children.length; i++) {
              insertTreeBefore(node, children[i], null)
            }
          } else if (tree.html != null) {
            node.innerHTML = tree.html
          } else if (tree.text != null) {
            setTextContent(node, tree.text)
          }
        }

        var insertTreeBefore = createMicrosoftUnsafeLocalFunction(
          function (parentNode, tree, referenceNode) {
            // DocumentFragments aren't actually part of the DOM after insertion so
            // appending children won't update the DOM. We need to ensure the fragment
            // is properly populated first, breaking out of our lazy approach for just
            // this level. Also, some <object> plugins (like Flash Player) will read
            // <param> nodes immediately upon insertion into the DOM, so <object>
            // must also be populated prior to insertion into the DOM.
            if (
              tree.node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE ||
              (tree.node.nodeType === ELEMENT_NODE_TYPE &&
                tree.node.nodeName.toLowerCase() === 'object' &&
                (tree.node.namespaceURI == null ||
                  tree.node.namespaceURI === DOMNamespaces.html))
            ) {
              insertTreeChildren(tree)
              parentNode.insertBefore(tree.node, referenceNode)
            } else {
              parentNode.insertBefore(tree.node, referenceNode)
              insertTreeChildren(tree)
            }
          },
        )

        function replaceChildWithTree(oldNode, newTree) {
          oldNode.parentNode.replaceChild(newTree.node, oldNode)
          insertTreeChildren(newTree)
        }

        function queueChild(parentTree, childTree) {
          if (enableLazy) {
            parentTree.children.push(childTree)
          } else {
            parentTree.node.appendChild(childTree.node)
          }
        }

        function queueHTML(tree, html) {
          if (enableLazy) {
            tree.html = html
          } else {
            tree.node.innerHTML = html
          }
        }

        function queueText(tree, text) {
          if (enableLazy) {
            tree.text = text
          } else {
            setTextContent(tree.node, text)
          }
        }

        function toString() {
          return this.node.nodeName
        }

        function DOMLazyTree(node) {
          return {
            node: node,
            children: [],
            html: null,
            text: null,
            toString: toString,
          }
        }

        DOMLazyTree.insertTreeBefore = insertTreeBefore
        DOMLazyTree.replaceChildWithTree = replaceChildWithTree
        DOMLazyTree.queueChild = queueChild
        DOMLazyTree.queueHTML = queueHTML
        DOMLazyTree.queueText = queueText

        module.exports = DOMLazyTree
      },
      {
        './DOMNamespaces': 212,
        './createMicrosoftUnsafeLocalFunction': 315,
        './setTextContent': 337,
      },
    ],
    212: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule DOMNamespaces
         */

        'use strict'

        var DOMNamespaces = {
          html: 'http://www.w3.org/1999/xhtml',
          mathml: 'http://www.w3.org/1998/Math/MathML',
          svg: 'http://www.w3.org/2000/svg',
        }

        module.exports = DOMNamespaces
      },
      {},
    ],
    213: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule DOMProperty
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          function checkMask(value, bitmask) {
            return (value & bitmask) === bitmask
          }

          var DOMPropertyInjection = {
            /**
             * Mapping from normalized, camelcased property names to a configuration that
             * specifies how the associated DOM property should be accessed or rendered.
             */
            MUST_USE_PROPERTY: 0x1,
            HAS_SIDE_EFFECTS: 0x2,
            HAS_BOOLEAN_VALUE: 0x4,
            HAS_NUMERIC_VALUE: 0x8,
            HAS_POSITIVE_NUMERIC_VALUE: 0x10 | 0x8,
            HAS_OVERLOADED_BOOLEAN_VALUE: 0x20,

            /**
             * Inject some specialized knowledge about the DOM. This takes a config object
             * with the following properties:
             *
             * isCustomAttribute: function that given an attribute name will return true
             * if it can be inserted into the DOM verbatim. Useful for data-* or aria-*
             * attributes where it's impossible to enumerate all of the possible
             * attribute names,
             *
             * Properties: object mapping DOM property name to one of the
             * DOMPropertyInjection constants or null. If your attribute isn't in here,
             * it won't get written to the DOM.
             *
             * DOMAttributeNames: object mapping React attribute name to the DOM
             * attribute name. Attribute names not specified use the **lowercase**
             * normalized name.
             *
             * DOMAttributeNamespaces: object mapping React attribute name to the DOM
             * attribute namespace URL. (Attribute names not specified use no namespace.)
             *
             * DOMPropertyNames: similar to DOMAttributeNames but for DOM properties.
             * Property names not specified use the normalized name.
             *
             * DOMMutationMethods: Properties that require special mutation methods. If
             * `value` is undefined, the mutation method should unset the property.
             *
             * @param {object} domPropertyConfig the config as described above.
             */
            injectDOMPropertyConfig: function (domPropertyConfig) {
              var Injection = DOMPropertyInjection
              var Properties = domPropertyConfig.Properties || {}
              var DOMAttributeNamespaces =
                domPropertyConfig.DOMAttributeNamespaces || {}
              var DOMAttributeNames = domPropertyConfig.DOMAttributeNames || {}
              var DOMPropertyNames = domPropertyConfig.DOMPropertyNames || {}
              var DOMMutationMethods =
                domPropertyConfig.DOMMutationMethods || {}

              if (domPropertyConfig.isCustomAttribute) {
                DOMProperty._isCustomAttributeFunctions.push(
                  domPropertyConfig.isCustomAttribute,
                )
              }

              for (var propName in Properties) {
                !!DOMProperty.properties.hasOwnProperty(propName)
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        "injectDOMPropertyConfig(...): You're trying to inject DOM property " +
                          "'%s' which has already been injected. You may be accidentally " +
                          'injecting the same DOM property config twice, or you may be ' +
                          'injecting two configs that have conflicting property names.',
                        propName,
                      )
                    : invariant(false)
                  : void 0

                var lowerCased = propName.toLowerCase()
                var propConfig = Properties[propName]

                var propertyInfo = {
                  attributeName: lowerCased,
                  attributeNamespace: null,
                  propertyName: propName,
                  mutationMethod: null,

                  mustUseProperty: checkMask(
                    propConfig,
                    Injection.MUST_USE_PROPERTY,
                  ),
                  hasSideEffects: checkMask(
                    propConfig,
                    Injection.HAS_SIDE_EFFECTS,
                  ),
                  hasBooleanValue: checkMask(
                    propConfig,
                    Injection.HAS_BOOLEAN_VALUE,
                  ),
                  hasNumericValue: checkMask(
                    propConfig,
                    Injection.HAS_NUMERIC_VALUE,
                  ),
                  hasPositiveNumericValue: checkMask(
                    propConfig,
                    Injection.HAS_POSITIVE_NUMERIC_VALUE,
                  ),
                  hasOverloadedBooleanValue: checkMask(
                    propConfig,
                    Injection.HAS_OVERLOADED_BOOLEAN_VALUE,
                  ),
                }

                !(propertyInfo.mustUseProperty || !propertyInfo.hasSideEffects)
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'DOMProperty: Properties that have side effects must use property: %s',
                        propName,
                      )
                    : invariant(false)
                  : void 0
                !(
                  propertyInfo.hasBooleanValue +
                    propertyInfo.hasNumericValue +
                    propertyInfo.hasOverloadedBooleanValue <=
                  1
                )
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'DOMProperty: Value can be one of boolean, overloaded boolean, or ' +
                          'numeric value, but not a combination: %s',
                        propName,
                      )
                    : invariant(false)
                  : void 0

                if (process.env.NODE_ENV !== 'production') {
                  DOMProperty.getPossibleStandardName[lowerCased] = propName
                }

                if (DOMAttributeNames.hasOwnProperty(propName)) {
                  var attributeName = DOMAttributeNames[propName]
                  propertyInfo.attributeName = attributeName
                  if (process.env.NODE_ENV !== 'production') {
                    DOMProperty.getPossibleStandardName[attributeName] =
                      propName
                  }
                }

                if (DOMAttributeNamespaces.hasOwnProperty(propName)) {
                  propertyInfo.attributeNamespace =
                    DOMAttributeNamespaces[propName]
                }

                if (DOMPropertyNames.hasOwnProperty(propName)) {
                  propertyInfo.propertyName = DOMPropertyNames[propName]
                }

                if (DOMMutationMethods.hasOwnProperty(propName)) {
                  propertyInfo.mutationMethod = DOMMutationMethods[propName]
                }

                DOMProperty.properties[propName] = propertyInfo
              }
            },
          }

          /* eslint-disable max-len */
          var ATTRIBUTE_NAME_START_CHAR =
            ':A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD'
          /* eslint-enable max-len */

          /**
           * DOMProperty exports lookup objects that can be used like functions:
           *
           *   > DOMProperty.isValid['id']
           *   true
           *   > DOMProperty.isValid['foobar']
           *   undefined
           *
           * Although this may be confusing, it performs better in general.
           *
           * @see http://jsperf.com/key-exists
           * @see http://jsperf.com/key-missing
           */
          var DOMProperty = {
            ID_ATTRIBUTE_NAME: 'data-reactid',
            ROOT_ATTRIBUTE_NAME: 'data-reactroot',

            ATTRIBUTE_NAME_START_CHAR: ATTRIBUTE_NAME_START_CHAR,
            ATTRIBUTE_NAME_CHAR:
              ATTRIBUTE_NAME_START_CHAR +
              '\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040',

            /**
             * Map from property "standard name" to an object with info about how to set
             * the property in the DOM. Each object contains:
             *
             * attributeName:
             *   Used when rendering markup or with `*Attribute()`.
             * attributeNamespace
             * propertyName:
             *   Used on DOM node instances. (This includes properties that mutate due to
             *   external factors.)
             * mutationMethod:
             *   If non-null, used instead of the property or `setAttribute()` after
             *   initial render.
             * mustUseProperty:
             *   Whether the property must be accessed and mutated as an object property.
             * hasSideEffects:
             *   Whether or not setting a value causes side effects such as triggering
             *   resources to be loaded or text selection changes. If true, we read from
             *   the DOM before updating to ensure that the value is only set if it has
             *   changed.
             * hasBooleanValue:
             *   Whether the property should be removed when set to a falsey value.
             * hasNumericValue:
             *   Whether the property must be numeric or parse as a numeric and should be
             *   removed when set to a falsey value.
             * hasPositiveNumericValue:
             *   Whether the property must be positive numeric or parse as a positive
             *   numeric and should be removed when set to a falsey value.
             * hasOverloadedBooleanValue:
             *   Whether the property can be used as a flag as well as with a value.
             *   Removed when strictly equal to false; present without a value when
             *   strictly equal to true; present with a value otherwise.
             */
            properties: {},

            /**
             * Mapping from lowercase property names to the properly cased version, used
             * to warn in the case of missing properties. Available only in __DEV__.
             * @type {Object}
             */
            getPossibleStandardName:
              process.env.NODE_ENV !== 'production' ? {} : null,

            /**
             * All of the isCustomAttribute() functions that have been injected.
             */
            _isCustomAttributeFunctions: [],

            /**
             * Checks whether a property name is a custom attribute.
             * @method
             */
            isCustomAttribute: function (attributeName) {
              for (
                var i = 0;
                i < DOMProperty._isCustomAttributeFunctions.length;
                i++
              ) {
                var isCustomAttributeFn =
                  DOMProperty._isCustomAttributeFunctions[i]
                if (isCustomAttributeFn(attributeName)) {
                  return true
                }
              }
              return false
            },

            injection: DOMPropertyInjection,
          }

          module.exports = DOMProperty
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    214: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule DOMPropertyOperations
           */

          'use strict'

          var DOMProperty = require('./DOMProperty')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactDOMInstrumentation = require('./ReactDOMInstrumentation')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var quoteAttributeValueForBrowser = require('./quoteAttributeValueForBrowser')
          var warning = require('fbjs/lib/warning')

          var VALID_ATTRIBUTE_NAME_REGEX = new RegExp(
            '^[' +
              DOMProperty.ATTRIBUTE_NAME_START_CHAR +
              '][' +
              DOMProperty.ATTRIBUTE_NAME_CHAR +
              ']*$',
          )
          var illegalAttributeNameCache = {}
          var validatedAttributeNameCache = {}

          function isAttributeNameSafe(attributeName) {
            if (validatedAttributeNameCache.hasOwnProperty(attributeName)) {
              return true
            }
            if (illegalAttributeNameCache.hasOwnProperty(attributeName)) {
              return false
            }
            if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {
              validatedAttributeNameCache[attributeName] = true
              return true
            }
            illegalAttributeNameCache[attributeName] = true
            process.env.NODE_ENV !== 'production'
              ? warning(false, 'Invalid attribute name: `%s`', attributeName)
              : void 0
            return false
          }

          function shouldIgnoreValue(propertyInfo, value) {
            return (
              value == null ||
              (propertyInfo.hasBooleanValue && !value) ||
              (propertyInfo.hasNumericValue && isNaN(value)) ||
              (propertyInfo.hasPositiveNumericValue && value < 1) ||
              (propertyInfo.hasOverloadedBooleanValue && value === false)
            )
          }

          /**
           * Operations for dealing with DOM properties.
           */
          var DOMPropertyOperations = {
            /**
             * Creates markup for the ID property.
             *
             * @param {string} id Unescaped ID.
             * @return {string} Markup string.
             */
            createMarkupForID: function (id) {
              return (
                DOMProperty.ID_ATTRIBUTE_NAME +
                '=' +
                quoteAttributeValueForBrowser(id)
              )
            },

            setAttributeForID: function (node, id) {
              node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME, id)
            },

            createMarkupForRoot: function () {
              return DOMProperty.ROOT_ATTRIBUTE_NAME + '=""'
            },

            setAttributeForRoot: function (node) {
              node.setAttribute(DOMProperty.ROOT_ATTRIBUTE_NAME, '')
            },

            /**
             * Creates markup for a property.
             *
             * @param {string} name
             * @param {*} value
             * @return {?string} Markup string, or null if the property was invalid.
             */
            createMarkupForProperty: function (name, value) {
              if (process.env.NODE_ENV !== 'production') {
                ReactDOMInstrumentation.debugTool.onCreateMarkupForProperty(
                  name,
                  value,
                )
              }
              var propertyInfo = DOMProperty.properties.hasOwnProperty(name)
                ? DOMProperty.properties[name]
                : null
              if (propertyInfo) {
                if (shouldIgnoreValue(propertyInfo, value)) {
                  return ''
                }
                var attributeName = propertyInfo.attributeName
                if (
                  propertyInfo.hasBooleanValue ||
                  (propertyInfo.hasOverloadedBooleanValue && value === true)
                ) {
                  return attributeName + '=""'
                }
                return (
                  attributeName + '=' + quoteAttributeValueForBrowser(value)
                )
              } else if (DOMProperty.isCustomAttribute(name)) {
                if (value == null) {
                  return ''
                }
                return name + '=' + quoteAttributeValueForBrowser(value)
              }
              return null
            },

            /**
             * Creates markup for a custom property.
             *
             * @param {string} name
             * @param {*} value
             * @return {string} Markup string, or empty string if the property was invalid.
             */
            createMarkupForCustomAttribute: function (name, value) {
              if (!isAttributeNameSafe(name) || value == null) {
                return ''
              }
              return name + '=' + quoteAttributeValueForBrowser(value)
            },

            /**
             * Sets the value for a property on a node.
             *
             * @param {DOMElement} node
             * @param {string} name
             * @param {*} value
             */
            setValueForProperty: function (node, name, value) {
              var propertyInfo = DOMProperty.properties.hasOwnProperty(name)
                ? DOMProperty.properties[name]
                : null
              if (propertyInfo) {
                var mutationMethod = propertyInfo.mutationMethod
                if (mutationMethod) {
                  mutationMethod(node, value)
                } else if (shouldIgnoreValue(propertyInfo, value)) {
                  this.deleteValueForProperty(node, name)
                  return
                } else if (propertyInfo.mustUseProperty) {
                  var propName = propertyInfo.propertyName
                  // Must explicitly cast values for HAS_SIDE_EFFECTS-properties to the
                  // property type before comparing; only `value` does and is string.
                  if (
                    !propertyInfo.hasSideEffects ||
                    '' + node[propName] !== '' + value
                  ) {
                    // Contrary to `setAttribute`, object properties are properly
                    // `toString`ed by IE8/9.
                    node[propName] = value
                  }
                } else {
                  var attributeName = propertyInfo.attributeName
                  var namespace = propertyInfo.attributeNamespace
                  // `setAttribute` with objects becomes only `[object]` in IE8/9,
                  // ('' + value) makes it output the correct toString()-value.
                  if (namespace) {
                    node.setAttributeNS(namespace, attributeName, '' + value)
                  } else if (
                    propertyInfo.hasBooleanValue ||
                    (propertyInfo.hasOverloadedBooleanValue && value === true)
                  ) {
                    node.setAttribute(attributeName, '')
                  } else {
                    node.setAttribute(attributeName, '' + value)
                  }
                }
              } else if (DOMProperty.isCustomAttribute(name)) {
                DOMPropertyOperations.setValueForAttribute(node, name, value)
                return
              }

              if (process.env.NODE_ENV !== 'production') {
                ReactDOMInstrumentation.debugTool.onSetValueForProperty(
                  node,
                  name,
                  value,
                )
                var payload = {}
                payload[name] = value
                ReactInstrumentation.debugTool.onNativeOperation(
                  ReactDOMComponentTree.getInstanceFromNode(node)._debugID,
                  'update attribute',
                  payload,
                )
              }
            },

            setValueForAttribute: function (node, name, value) {
              if (!isAttributeNameSafe(name)) {
                return
              }
              if (value == null) {
                node.removeAttribute(name)
              } else {
                node.setAttribute(name, '' + value)
              }

              if (process.env.NODE_ENV !== 'production') {
                var payload = {}
                payload[name] = value
                ReactInstrumentation.debugTool.onNativeOperation(
                  ReactDOMComponentTree.getInstanceFromNode(node)._debugID,
                  'update attribute',
                  payload,
                )
              }
            },

            /**
             * Deletes the value for a property on a node.
             *
             * @param {DOMElement} node
             * @param {string} name
             */
            deleteValueForProperty: function (node, name) {
              var propertyInfo = DOMProperty.properties.hasOwnProperty(name)
                ? DOMProperty.properties[name]
                : null
              if (propertyInfo) {
                var mutationMethod = propertyInfo.mutationMethod
                if (mutationMethod) {
                  mutationMethod(node, undefined)
                } else if (propertyInfo.mustUseProperty) {
                  var propName = propertyInfo.propertyName
                  if (propertyInfo.hasBooleanValue) {
                    // No HAS_SIDE_EFFECTS logic here, only `value` has it and is string.
                    node[propName] = false
                  } else {
                    if (
                      !propertyInfo.hasSideEffects ||
                      '' + node[propName] !== ''
                    ) {
                      node[propName] = ''
                    }
                  }
                } else {
                  node.removeAttribute(propertyInfo.attributeName)
                }
              } else if (DOMProperty.isCustomAttribute(name)) {
                node.removeAttribute(name)
              }

              if (process.env.NODE_ENV !== 'production') {
                ReactDOMInstrumentation.debugTool.onDeleteValueForProperty(
                  node,
                  name,
                )
                ReactInstrumentation.debugTool.onNativeOperation(
                  ReactDOMComponentTree.getInstanceFromNode(node)._debugID,
                  'remove attribute',
                  name,
                )
              }
            },
          }

          module.exports = DOMPropertyOperations
        }).call(this, require('_process'))
      },
      {
        './DOMProperty': 213,
        './ReactDOMComponentTree': 244,
        './ReactDOMInstrumentation': 252,
        './ReactInstrumentation': 273,
        './quoteAttributeValueForBrowser': 334,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    215: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule Danger
           */

          'use strict'

          var DOMLazyTree = require('./DOMLazyTree')
          var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

          var createNodesFromMarkup = require('fbjs/lib/createNodesFromMarkup')
          var emptyFunction = require('fbjs/lib/emptyFunction')
          var getMarkupWrap = require('fbjs/lib/getMarkupWrap')
          var invariant = require('fbjs/lib/invariant')

          var OPEN_TAG_NAME_EXP = /^(<[^ \/>]+)/
          var RESULT_INDEX_ATTR = 'data-danger-index'

          /**
           * Extracts the `nodeName` from a string of markup.
           *
           * NOTE: Extracting the `nodeName` does not require a regular expression match
           * because we make assumptions about React-generated markup (i.e. there are no
           * spaces surrounding the opening tag and there is at least one attribute).
           *
           * @param {string} markup String of markup.
           * @return {string} Node name of the supplied markup.
           * @see http://jsperf.com/extract-nodename
           */
          function getNodeName(markup) {
            return markup.substring(1, markup.indexOf(' '))
          }

          var Danger = {
            /**
             * Renders markup into an array of nodes. The markup is expected to render
             * into a list of root nodes. Also, the length of `resultList` and
             * `markupList` should be the same.
             *
             * @param {array<string>} markupList List of markup strings to render.
             * @return {array<DOMElement>} List of rendered nodes.
             * @internal
             */
            dangerouslyRenderMarkup: function (markupList) {
              !ExecutionEnvironment.canUseDOM
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'dangerouslyRenderMarkup(...): Cannot render markup in a worker ' +
                        'thread. Make sure `window` and `document` are available globally ' +
                        'before requiring React when unit testing or use ' +
                        'ReactDOMServer.renderToString for server rendering.',
                    )
                  : invariant(false)
                : void 0
              var nodeName
              var markupByNodeName = {}
              // Group markup by `nodeName` if a wrap is necessary, else by '*'.
              for (var i = 0; i < markupList.length; i++) {
                !markupList[i]
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'dangerouslyRenderMarkup(...): Missing markup.',
                      )
                    : invariant(false)
                  : void 0
                nodeName = getNodeName(markupList[i])
                nodeName = getMarkupWrap(nodeName) ? nodeName : '*'
                markupByNodeName[nodeName] = markupByNodeName[nodeName] || []
                markupByNodeName[nodeName][i] = markupList[i]
              }
              var resultList = []
              var resultListAssignmentCount = 0
              for (nodeName in markupByNodeName) {
                if (!markupByNodeName.hasOwnProperty(nodeName)) {
                  continue
                }
                var markupListByNodeName = markupByNodeName[nodeName]

                // This for-in loop skips the holes of the sparse array. The order of
                // iteration should follow the order of assignment, which happens to match
                // numerical index order, but we don't rely on that.
                var resultIndex
                for (resultIndex in markupListByNodeName) {
                  if (markupListByNodeName.hasOwnProperty(resultIndex)) {
                    var markup = markupListByNodeName[resultIndex]

                    // Push the requested markup with an additional RESULT_INDEX_ATTR
                    // attribute.  If the markup does not start with a < character, it
                    // will be discarded below (with an appropriate console.error).
                    markupListByNodeName[resultIndex] = markup.replace(
                      OPEN_TAG_NAME_EXP,
                      // This index will be parsed back out below.
                      '$1 ' + RESULT_INDEX_ATTR + '="' + resultIndex + '" ',
                    )
                  }
                }

                // Render each group of markup with similar wrapping `nodeName`.
                var renderNodes = createNodesFromMarkup(
                  markupListByNodeName.join(''),
                  emptyFunction, // Do nothing special with <script> tags.
                )

                for (var j = 0; j < renderNodes.length; ++j) {
                  var renderNode = renderNodes[j]
                  if (
                    renderNode.hasAttribute &&
                    renderNode.hasAttribute(RESULT_INDEX_ATTR)
                  ) {
                    resultIndex = +renderNode.getAttribute(RESULT_INDEX_ATTR)
                    renderNode.removeAttribute(RESULT_INDEX_ATTR)

                    !!resultList.hasOwnProperty(resultIndex)
                      ? process.env.NODE_ENV !== 'production'
                        ? invariant(
                            false,
                            'Danger: Assigning to an already-occupied result index.',
                          )
                        : invariant(false)
                      : void 0

                    resultList[resultIndex] = renderNode

                    // This should match resultList.length and markupList.length when
                    // we're done.
                    resultListAssignmentCount += 1
                  } else if (process.env.NODE_ENV !== 'production') {
                    console.error(
                      'Danger: Discarding unexpected node:',
                      renderNode,
                    )
                  }
                }
              }

              // Although resultList was populated out of order, it should now be a dense
              // array.
              !(resultListAssignmentCount === resultList.length)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Danger: Did not assign to every index of resultList.',
                    )
                  : invariant(false)
                : void 0

              !(resultList.length === markupList.length)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Danger: Expected markup to render %s nodes, but rendered %s.',
                      markupList.length,
                      resultList.length,
                    )
                  : invariant(false)
                : void 0

              return resultList
            },

            /**
             * Replaces a node with a string of markup at its current position within its
             * parent. The markup must render into a single root node.
             *
             * @param {DOMElement} oldChild Child node to replace.
             * @param {string} markup Markup to render in place of the child node.
             * @internal
             */
            dangerouslyReplaceNodeWithMarkup: function (oldChild, markup) {
              !ExecutionEnvironment.canUseDOM
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a ' +
                        'worker thread. Make sure `window` and `document` are available ' +
                        'globally before requiring React when unit testing or use ' +
                        'ReactDOMServer.renderToString() for server rendering.',
                    )
                  : invariant(false)
                : void 0
              !markup
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'dangerouslyReplaceNodeWithMarkup(...): Missing markup.',
                    )
                  : invariant(false)
                : void 0
              !(oldChild.nodeName !== 'HTML')
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the ' +
                        '<html> node. This is because browser quirks make this unreliable ' +
                        'and/or slow. If you want to render to the root you must use ' +
                        'server rendering. See ReactDOMServer.renderToString().',
                    )
                  : invariant(false)
                : void 0

              if (typeof markup === 'string') {
                var newChild = createNodesFromMarkup(markup, emptyFunction)[0]
                oldChild.parentNode.replaceChild(newChild, oldChild)
              } else {
                DOMLazyTree.replaceChildWithTree(oldChild, markup)
              }
            },
          }

          module.exports = Danger
        }).call(this, require('_process'))
      },
      {
        './DOMLazyTree': 211,
        _process: 162,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/createNodesFromMarkup': 33,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/getMarkupWrap': 38,
        'fbjs/lib/invariant': 42,
      },
    ],
    216: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule DefaultEventPluginOrder
         */

        'use strict'

        var keyOf = require('fbjs/lib/keyOf')

        /**
         * Module that is injectable into `EventPluginHub`, that specifies a
         * deterministic ordering of `EventPlugin`s. A convenient way to reason about
         * plugins, without having to package every one of them. This is better than
         * having plugins be ordered in the same order that they are injected because
         * that ordering would be influenced by the packaging order.
         * `ResponderEventPlugin` must occur before `SimpleEventPlugin` so that
         * preventing default on events is convenient in `SimpleEventPlugin` handlers.
         */
        var DefaultEventPluginOrder = [
          keyOf({ ResponderEventPlugin: null }),
          keyOf({ SimpleEventPlugin: null }),
          keyOf({ TapEventPlugin: null }),
          keyOf({ EnterLeaveEventPlugin: null }),
          keyOf({ ChangeEventPlugin: null }),
          keyOf({ SelectEventPlugin: null }),
          keyOf({ BeforeInputEventPlugin: null }),
        ]

        module.exports = DefaultEventPluginOrder
      },
      { 'fbjs/lib/keyOf': 46 },
    ],
    217: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule DisabledInputUtils
         */

        'use strict'

        var disableableMouseListenerNames = {
          onClick: true,
          onDoubleClick: true,
          onMouseDown: true,
          onMouseMove: true,
          onMouseUp: true,

          onClickCapture: true,
          onDoubleClickCapture: true,
          onMouseDownCapture: true,
          onMouseMoveCapture: true,
          onMouseUpCapture: true,
        }

        /**
         * Implements a native component that does not receive mouse events
         * when `disabled` is set.
         */
        var DisabledInputUtils = {
          getNativeProps: function (inst, props) {
            if (!props.disabled) {
              return props
            }

            // Copy the props, except the mouse listeners
            var nativeProps = {}
            for (var key in props) {
              if (
                !disableableMouseListenerNames[key] &&
                props.hasOwnProperty(key)
              ) {
                nativeProps[key] = props[key]
              }
            }

            return nativeProps
          },
        }

        module.exports = DisabledInputUtils
      },
      {},
    ],
    218: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule EnterLeaveEventPlugin
         */

        'use strict'

        var EventConstants = require('./EventConstants')
        var EventPropagators = require('./EventPropagators')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')
        var SyntheticMouseEvent = require('./SyntheticMouseEvent')

        var keyOf = require('fbjs/lib/keyOf')

        var topLevelTypes = EventConstants.topLevelTypes

        var eventTypes = {
          mouseEnter: {
            registrationName: keyOf({ onMouseEnter: null }),
            dependencies: [
              topLevelTypes.topMouseOut,
              topLevelTypes.topMouseOver,
            ],
          },
          mouseLeave: {
            registrationName: keyOf({ onMouseLeave: null }),
            dependencies: [
              topLevelTypes.topMouseOut,
              topLevelTypes.topMouseOver,
            ],
          },
        }

        var EnterLeaveEventPlugin = {
          eventTypes: eventTypes,

          /**
           * For almost every interaction we care about, there will be both a top-level
           * `mouseover` and `mouseout` event that occurs. Only use `mouseout` so that
           * we do not extract duplicate events. However, moving the mouse into the
           * browser from outside will not fire a `mouseout` event. In this case, we use
           * the `mouseover` top-level event.
           */
          extractEvents: function (
            topLevelType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            if (
              topLevelType === topLevelTypes.topMouseOver &&
              (nativeEvent.relatedTarget || nativeEvent.fromElement)
            ) {
              return null
            }
            if (
              topLevelType !== topLevelTypes.topMouseOut &&
              topLevelType !== topLevelTypes.topMouseOver
            ) {
              // Must not be a mouse in or mouse out - ignoring.
              return null
            }

            var win
            if (nativeEventTarget.window === nativeEventTarget) {
              // `nativeEventTarget` is probably a window object.
              win = nativeEventTarget
            } else {
              // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.
              var doc = nativeEventTarget.ownerDocument
              if (doc) {
                win = doc.defaultView || doc.parentWindow
              } else {
                win = window
              }
            }

            var from
            var to
            if (topLevelType === topLevelTypes.topMouseOut) {
              from = targetInst
              var related = nativeEvent.relatedTarget || nativeEvent.toElement
              to = related
                ? ReactDOMComponentTree.getClosestInstanceFromNode(related)
                : null
            } else {
              // Moving to a node from outside the window.
              from = null
              to = targetInst
            }

            if (from === to) {
              // Nothing pertains to our managed components.
              return null
            }

            var fromNode =
              from == null
                ? win
                : ReactDOMComponentTree.getNodeFromInstance(from)
            var toNode =
              to == null ? win : ReactDOMComponentTree.getNodeFromInstance(to)

            var leave = SyntheticMouseEvent.getPooled(
              eventTypes.mouseLeave,
              from,
              nativeEvent,
              nativeEventTarget,
            )
            leave.type = 'mouseleave'
            leave.target = fromNode
            leave.relatedTarget = toNode

            var enter = SyntheticMouseEvent.getPooled(
              eventTypes.mouseEnter,
              to,
              nativeEvent,
              nativeEventTarget,
            )
            enter.type = 'mouseenter'
            enter.target = toNode
            enter.relatedTarget = fromNode

            EventPropagators.accumulateEnterLeaveDispatches(
              leave,
              enter,
              from,
              to,
            )

            return [leave, enter]
          },
        }

        module.exports = EnterLeaveEventPlugin
      },
      {
        './EventConstants': 219,
        './EventPropagators': 223,
        './ReactDOMComponentTree': 244,
        './SyntheticMouseEvent': 305,
        'fbjs/lib/keyOf': 46,
      },
    ],
    219: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule EventConstants
         */

        'use strict'

        var keyMirror = require('fbjs/lib/keyMirror')

        var PropagationPhases = keyMirror({ bubbled: null, captured: null })

        /**
         * Types of raw signals from the browser caught at the top level.
         */
        var topLevelTypes = keyMirror({
          topAbort: null,
          topAnimationEnd: null,
          topAnimationIteration: null,
          topAnimationStart: null,
          topBlur: null,
          topCanPlay: null,
          topCanPlayThrough: null,
          topChange: null,
          topClick: null,
          topCompositionEnd: null,
          topCompositionStart: null,
          topCompositionUpdate: null,
          topContextMenu: null,
          topCopy: null,
          topCut: null,
          topDoubleClick: null,
          topDrag: null,
          topDragEnd: null,
          topDragEnter: null,
          topDragExit: null,
          topDragLeave: null,
          topDragOver: null,
          topDragStart: null,
          topDrop: null,
          topDurationChange: null,
          topEmptied: null,
          topEncrypted: null,
          topEnded: null,
          topError: null,
          topFocus: null,
          topInput: null,
          topInvalid: null,
          topKeyDown: null,
          topKeyPress: null,
          topKeyUp: null,
          topLoad: null,
          topLoadedData: null,
          topLoadedMetadata: null,
          topLoadStart: null,
          topMouseDown: null,
          topMouseMove: null,
          topMouseOut: null,
          topMouseOver: null,
          topMouseUp: null,
          topPaste: null,
          topPause: null,
          topPlay: null,
          topPlaying: null,
          topProgress: null,
          topRateChange: null,
          topReset: null,
          topScroll: null,
          topSeeked: null,
          topSeeking: null,
          topSelectionChange: null,
          topStalled: null,
          topSubmit: null,
          topSuspend: null,
          topTextInput: null,
          topTimeUpdate: null,
          topTouchCancel: null,
          topTouchEnd: null,
          topTouchMove: null,
          topTouchStart: null,
          topTransitionEnd: null,
          topVolumeChange: null,
          topWaiting: null,
          topWheel: null,
        })

        var EventConstants = {
          topLevelTypes: topLevelTypes,
          PropagationPhases: PropagationPhases,
        }

        module.exports = EventConstants
      },
      { 'fbjs/lib/keyMirror': 45 },
    ],
    220: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule EventPluginHub
           */

          'use strict'

          var EventPluginRegistry = require('./EventPluginRegistry')
          var EventPluginUtils = require('./EventPluginUtils')
          var ReactErrorUtils = require('./ReactErrorUtils')

          var accumulateInto = require('./accumulateInto')
          var forEachAccumulated = require('./forEachAccumulated')
          var invariant = require('fbjs/lib/invariant')

          /**
           * Internal store for event listeners
           */
          var listenerBank = {}

          /**
           * Internal queue of events that have accumulated their dispatches and are
           * waiting to have their dispatches executed.
           */
          var eventQueue = null

          /**
           * Dispatches an event and releases it back into the pool, unless persistent.
           *
           * @param {?object} event Synthetic event to be dispatched.
           * @param {boolean} simulated If the event is simulated (changes exn behavior)
           * @private
           */
          var executeDispatchesAndRelease = function (event, simulated) {
            if (event) {
              EventPluginUtils.executeDispatchesInOrder(event, simulated)

              if (!event.isPersistent()) {
                event.constructor.release(event)
              }
            }
          }
          var executeDispatchesAndReleaseSimulated = function (e) {
            return executeDispatchesAndRelease(e, true)
          }
          var executeDispatchesAndReleaseTopLevel = function (e) {
            return executeDispatchesAndRelease(e, false)
          }

          /**
           * This is a unified interface for event plugins to be installed and configured.
           *
           * Event plugins can implement the following properties:
           *
           *   `extractEvents` {function(string, DOMEventTarget, string, object): *}
           *     Required. When a top-level event is fired, this method is expected to
           *     extract synthetic events that will in turn be queued and dispatched.
           *
           *   `eventTypes` {object}
           *     Optional, plugins that fire events must publish a mapping of registration
           *     names that are used to register listeners. Values of this mapping must
           *     be objects that contain `registrationName` or `phasedRegistrationNames`.
           *
           *   `executeDispatch` {function(object, function, string)}
           *     Optional, allows plugins to override how an event gets dispatched. By
           *     default, the listener is simply invoked.
           *
           * Each plugin that is injected into `EventsPluginHub` is immediately operable.
           *
           * @public
           */
          var EventPluginHub = {
            /**
             * Methods for injecting dependencies.
             */
            injection: {
              /**
               * @param {array} InjectedEventPluginOrder
               * @public
               */
              injectEventPluginOrder:
                EventPluginRegistry.injectEventPluginOrder,

              /**
               * @param {object} injectedNamesToPlugins Map from names to plugin modules.
               */
              injectEventPluginsByName:
                EventPluginRegistry.injectEventPluginsByName,
            },

            /**
             * Stores `listener` at `listenerBank[registrationName][id]`. Is idempotent.
             *
             * @param {object} inst The instance, which is the source of events.
             * @param {string} registrationName Name of listener (e.g. `onClick`).
             * @param {function} listener The callback to store.
             */
            putListener: function (inst, registrationName, listener) {
              !(typeof listener === 'function')
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Expected %s listener to be a function, instead got type %s',
                      registrationName,
                      typeof listener,
                    )
                  : invariant(false)
                : void 0

              var bankForRegistrationName =
                listenerBank[registrationName] ||
                (listenerBank[registrationName] = {})
              bankForRegistrationName[inst._rootNodeID] = listener

              var PluginModule =
                EventPluginRegistry.registrationNameModules[registrationName]
              if (PluginModule && PluginModule.didPutListener) {
                PluginModule.didPutListener(inst, registrationName, listener)
              }
            },

            /**
             * @param {object} inst The instance, which is the source of events.
             * @param {string} registrationName Name of listener (e.g. `onClick`).
             * @return {?function} The stored callback.
             */
            getListener: function (inst, registrationName) {
              var bankForRegistrationName = listenerBank[registrationName]
              return (
                bankForRegistrationName &&
                bankForRegistrationName[inst._rootNodeID]
              )
            },

            /**
             * Deletes a listener from the registration bank.
             *
             * @param {object} inst The instance, which is the source of events.
             * @param {string} registrationName Name of listener (e.g. `onClick`).
             */
            deleteListener: function (inst, registrationName) {
              var PluginModule =
                EventPluginRegistry.registrationNameModules[registrationName]
              if (PluginModule && PluginModule.willDeleteListener) {
                PluginModule.willDeleteListener(inst, registrationName)
              }

              var bankForRegistrationName = listenerBank[registrationName]
              // TODO: This should never be null -- when is it?
              if (bankForRegistrationName) {
                delete bankForRegistrationName[inst._rootNodeID]
              }
            },

            /**
             * Deletes all listeners for the DOM element with the supplied ID.
             *
             * @param {object} inst The instance, which is the source of events.
             */
            deleteAllListeners: function (inst) {
              for (var registrationName in listenerBank) {
                if (!listenerBank[registrationName][inst._rootNodeID]) {
                  continue
                }

                var PluginModule =
                  EventPluginRegistry.registrationNameModules[registrationName]
                if (PluginModule && PluginModule.willDeleteListener) {
                  PluginModule.willDeleteListener(inst, registrationName)
                }

                delete listenerBank[registrationName][inst._rootNodeID]
              }
            },

            /**
             * Allows registered plugins an opportunity to extract events from top-level
             * native browser events.
             *
             * @return {*} An accumulation of synthetic events.
             * @internal
             */
            extractEvents: function (
              topLevelType,
              targetInst,
              nativeEvent,
              nativeEventTarget,
            ) {
              var events
              var plugins = EventPluginRegistry.plugins
              for (var i = 0; i < plugins.length; i++) {
                // Not every plugin in the ordering may be loaded at runtime.
                var possiblePlugin = plugins[i]
                if (possiblePlugin) {
                  var extractedEvents = possiblePlugin.extractEvents(
                    topLevelType,
                    targetInst,
                    nativeEvent,
                    nativeEventTarget,
                  )
                  if (extractedEvents) {
                    events = accumulateInto(events, extractedEvents)
                  }
                }
              }
              return events
            },

            /**
             * Enqueues a synthetic event that should be dispatched when
             * `processEventQueue` is invoked.
             *
             * @param {*} events An accumulation of synthetic events.
             * @internal
             */
            enqueueEvents: function (events) {
              if (events) {
                eventQueue = accumulateInto(eventQueue, events)
              }
            },

            /**
             * Dispatches all synthetic events on the event queue.
             *
             * @internal
             */
            processEventQueue: function (simulated) {
              // Set `eventQueue` to null before processing it so that we can tell if more
              // events get enqueued while processing.
              var processingEventQueue = eventQueue
              eventQueue = null
              if (simulated) {
                forEachAccumulated(
                  processingEventQueue,
                  executeDispatchesAndReleaseSimulated,
                )
              } else {
                forEachAccumulated(
                  processingEventQueue,
                  executeDispatchesAndReleaseTopLevel,
                )
              }
              !!eventQueue
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'processEventQueue(): Additional events were enqueued while processing ' +
                        'an event queue. Support for this has not yet been implemented.',
                    )
                  : invariant(false)
                : void 0
              // This would be a good time to rethrow if any of the event handlers threw.
              ReactErrorUtils.rethrowCaughtError()
            },

            /**
             * These are needed for tests only. Do not use!
             */
            __purge: function () {
              listenerBank = {}
            },

            __getListenerBank: function () {
              return listenerBank
            },
          }

          module.exports = EventPluginHub
        }).call(this, require('_process'))
      },
      {
        './EventPluginRegistry': 221,
        './EventPluginUtils': 222,
        './ReactErrorUtils': 266,
        './accumulateInto': 312,
        './forEachAccumulated': 320,
        _process: 162,
        'fbjs/lib/invariant': 42,
      },
    ],
    221: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule EventPluginRegistry
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           * Injectable ordering of event plugins.
           */
          var EventPluginOrder = null

          /**
           * Injectable mapping from names to event plugin modules.
           */
          var namesToPlugins = {}

          /**
           * Recomputes the plugin list using the injected plugins and plugin ordering.
           *
           * @private
           */
          function recomputePluginOrdering() {
            if (!EventPluginOrder) {
              // Wait until an `EventPluginOrder` is injected.
              return
            }
            for (var pluginName in namesToPlugins) {
              var PluginModule = namesToPlugins[pluginName]
              var pluginIndex = EventPluginOrder.indexOf(pluginName)
              !(pluginIndex > -1)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'EventPluginRegistry: Cannot inject event plugins that do not exist in ' +
                        'the plugin ordering, `%s`.',
                      pluginName,
                    )
                  : invariant(false)
                : void 0
              if (EventPluginRegistry.plugins[pluginIndex]) {
                continue
              }
              !PluginModule.extractEvents
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'EventPluginRegistry: Event plugins must implement an `extractEvents` ' +
                        'method, but `%s` does not.',
                      pluginName,
                    )
                  : invariant(false)
                : void 0
              EventPluginRegistry.plugins[pluginIndex] = PluginModule
              var publishedEvents = PluginModule.eventTypes
              for (var eventName in publishedEvents) {
                !publishEventForPlugin(
                  publishedEvents[eventName],
                  PluginModule,
                  eventName,
                )
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',
                        eventName,
                        pluginName,
                      )
                    : invariant(false)
                  : void 0
              }
            }
          }

          /**
           * Publishes an event so that it can be dispatched by the supplied plugin.
           *
           * @param {object} dispatchConfig Dispatch configuration for the event.
           * @param {object} PluginModule Plugin publishing the event.
           * @return {boolean} True if the event was successfully published.
           * @private
           */
          function publishEventForPlugin(
            dispatchConfig,
            PluginModule,
            eventName,
          ) {
            !!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(
              eventName,
            )
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'EventPluginHub: More than one plugin attempted to publish the same ' +
                      'event name, `%s`.',
                    eventName,
                  )
                : invariant(false)
              : void 0
            EventPluginRegistry.eventNameDispatchConfigs[eventName] =
              dispatchConfig

            var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames
            if (phasedRegistrationNames) {
              for (var phaseName in phasedRegistrationNames) {
                if (phasedRegistrationNames.hasOwnProperty(phaseName)) {
                  var phasedRegistrationName =
                    phasedRegistrationNames[phaseName]
                  publishRegistrationName(
                    phasedRegistrationName,
                    PluginModule,
                    eventName,
                  )
                }
              }
              return true
            } else if (dispatchConfig.registrationName) {
              publishRegistrationName(
                dispatchConfig.registrationName,
                PluginModule,
                eventName,
              )
              return true
            }
            return false
          }

          /**
           * Publishes a registration name that is used to identify dispatched events and
           * can be used with `EventPluginHub.putListener` to register listeners.
           *
           * @param {string} registrationName Registration name to add.
           * @param {object} PluginModule Plugin publishing the event.
           * @private
           */
          function publishRegistrationName(
            registrationName,
            PluginModule,
            eventName,
          ) {
            !!EventPluginRegistry.registrationNameModules[registrationName]
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'EventPluginHub: More than one plugin attempted to publish the same ' +
                      'registration name, `%s`.',
                    registrationName,
                  )
                : invariant(false)
              : void 0
            EventPluginRegistry.registrationNameModules[registrationName] =
              PluginModule
            EventPluginRegistry.registrationNameDependencies[registrationName] =
              PluginModule.eventTypes[eventName].dependencies

            if (process.env.NODE_ENV !== 'production') {
              var lowerCasedName = registrationName.toLowerCase()
              EventPluginRegistry.possibleRegistrationNames[lowerCasedName] =
                registrationName
            }
          }

          /**
           * Registers plugins so that they can extract and dispatch events.
           *
           * @see {EventPluginHub}
           */
          var EventPluginRegistry = {
            /**
             * Ordered list of injected plugins.
             */
            plugins: [],

            /**
             * Mapping from event name to dispatch config
             */
            eventNameDispatchConfigs: {},

            /**
             * Mapping from registration name to plugin module
             */
            registrationNameModules: {},

            /**
             * Mapping from registration name to event name
             */
            registrationNameDependencies: {},

            /**
             * Mapping from lowercase registration names to the properly cased version,
             * used to warn in the case of missing event handlers. Available
             * only in __DEV__.
             * @type {Object}
             */
            possibleRegistrationNames:
              process.env.NODE_ENV !== 'production' ? {} : null,

            /**
             * Injects an ordering of plugins (by plugin name). This allows the ordering
             * to be decoupled from injection of the actual plugins so that ordering is
             * always deterministic regardless of packaging, on-the-fly injection, etc.
             *
             * @param {array} InjectedEventPluginOrder
             * @internal
             * @see {EventPluginHub.injection.injectEventPluginOrder}
             */
            injectEventPluginOrder: function (InjectedEventPluginOrder) {
              !!EventPluginOrder
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'EventPluginRegistry: Cannot inject event plugin ordering more than ' +
                        'once. You are likely trying to load more than one copy of React.',
                    )
                  : invariant(false)
                : void 0
              // Clone the ordering so it cannot be dynamically mutated.
              EventPluginOrder = Array.prototype.slice.call(
                InjectedEventPluginOrder,
              )
              recomputePluginOrdering()
            },

            /**
             * Injects plugins to be used by `EventPluginHub`. The plugin names must be
             * in the ordering injected by `injectEventPluginOrder`.
             *
             * Plugins can be injected as part of page initialization or on-the-fly.
             *
             * @param {object} injectedNamesToPlugins Map from names to plugin modules.
             * @internal
             * @see {EventPluginHub.injection.injectEventPluginsByName}
             */
            injectEventPluginsByName: function (injectedNamesToPlugins) {
              var isOrderingDirty = false
              for (var pluginName in injectedNamesToPlugins) {
                if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {
                  continue
                }
                var PluginModule = injectedNamesToPlugins[pluginName]
                if (
                  !namesToPlugins.hasOwnProperty(pluginName) ||
                  namesToPlugins[pluginName] !== PluginModule
                ) {
                  !!namesToPlugins[pluginName]
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'EventPluginRegistry: Cannot inject two different event plugins ' +
                            'using the same name, `%s`.',
                          pluginName,
                        )
                      : invariant(false)
                    : void 0
                  namesToPlugins[pluginName] = PluginModule
                  isOrderingDirty = true
                }
              }
              if (isOrderingDirty) {
                recomputePluginOrdering()
              }
            },

            /**
             * Looks up the plugin for the supplied event.
             *
             * @param {object} event A synthetic event.
             * @return {?object} The plugin that created the supplied event.
             * @internal
             */
            getPluginModuleForEvent: function (event) {
              var dispatchConfig = event.dispatchConfig
              if (dispatchConfig.registrationName) {
                return (
                  EventPluginRegistry.registrationNameModules[
                    dispatchConfig.registrationName
                  ] || null
                )
              }
              for (var phase in dispatchConfig.phasedRegistrationNames) {
                if (
                  !dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)
                ) {
                  continue
                }
                var PluginModule =
                  EventPluginRegistry.registrationNameModules[
                    dispatchConfig.phasedRegistrationNames[phase]
                  ]
                if (PluginModule) {
                  return PluginModule
                }
              }
              return null
            },

            /**
             * Exposed for unit testing.
             * @private
             */
            _resetEventPlugins: function () {
              EventPluginOrder = null
              for (var pluginName in namesToPlugins) {
                if (namesToPlugins.hasOwnProperty(pluginName)) {
                  delete namesToPlugins[pluginName]
                }
              }
              EventPluginRegistry.plugins.length = 0

              var eventNameDispatchConfigs =
                EventPluginRegistry.eventNameDispatchConfigs
              for (var eventName in eventNameDispatchConfigs) {
                if (eventNameDispatchConfigs.hasOwnProperty(eventName)) {
                  delete eventNameDispatchConfigs[eventName]
                }
              }

              var registrationNameModules =
                EventPluginRegistry.registrationNameModules
              for (var registrationName in registrationNameModules) {
                if (registrationNameModules.hasOwnProperty(registrationName)) {
                  delete registrationNameModules[registrationName]
                }
              }

              if (process.env.NODE_ENV !== 'production') {
                var possibleRegistrationNames =
                  EventPluginRegistry.possibleRegistrationNames
                for (var lowerCasedName in possibleRegistrationNames) {
                  if (
                    possibleRegistrationNames.hasOwnProperty(lowerCasedName)
                  ) {
                    delete possibleRegistrationNames[lowerCasedName]
                  }
                }
              }
            },
          }

          module.exports = EventPluginRegistry
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    222: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule EventPluginUtils
           */

          'use strict'

          var EventConstants = require('./EventConstants')
          var ReactErrorUtils = require('./ReactErrorUtils')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          /**
           * Injected dependencies:
           */

          /**
           * - `ComponentTree`: [required] Module that can convert between React instances
           *   and actual node references.
           */
          var ComponentTree
          var TreeTraversal
          var injection = {
            injectComponentTree: function (Injected) {
              ComponentTree = Injected
              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      Injected &&
                        Injected.getNodeFromInstance &&
                        Injected.getInstanceFromNode,
                      'EventPluginUtils.injection.injectComponentTree(...): Injected ' +
                        'module is missing getNodeFromInstance or getInstanceFromNode.',
                    )
                  : void 0
              }
            },
            injectTreeTraversal: function (Injected) {
              TreeTraversal = Injected
              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      Injected &&
                        Injected.isAncestor &&
                        Injected.getLowestCommonAncestor,
                      'EventPluginUtils.injection.injectTreeTraversal(...): Injected ' +
                        'module is missing isAncestor or getLowestCommonAncestor.',
                    )
                  : void 0
              }
            },
          }

          var topLevelTypes = EventConstants.topLevelTypes

          function isEndish(topLevelType) {
            return (
              topLevelType === topLevelTypes.topMouseUp ||
              topLevelType === topLevelTypes.topTouchEnd ||
              topLevelType === topLevelTypes.topTouchCancel
            )
          }

          function isMoveish(topLevelType) {
            return (
              topLevelType === topLevelTypes.topMouseMove ||
              topLevelType === topLevelTypes.topTouchMove
            )
          }
          function isStartish(topLevelType) {
            return (
              topLevelType === topLevelTypes.topMouseDown ||
              topLevelType === topLevelTypes.topTouchStart
            )
          }

          var validateEventDispatches
          if (process.env.NODE_ENV !== 'production') {
            validateEventDispatches = function (event) {
              var dispatchListeners = event._dispatchListeners
              var dispatchInstances = event._dispatchInstances

              var listenersIsArr = Array.isArray(dispatchListeners)
              var listenersLen = listenersIsArr
                ? dispatchListeners.length
                : dispatchListeners
                  ? 1
                  : 0

              var instancesIsArr = Array.isArray(dispatchInstances)
              var instancesLen = instancesIsArr
                ? dispatchInstances.length
                : dispatchInstances
                  ? 1
                  : 0

              process.env.NODE_ENV !== 'production'
                ? warning(
                    instancesIsArr === listenersIsArr &&
                      instancesLen === listenersLen,
                    'EventPluginUtils: Invalid `event`.',
                  )
                : void 0
            }
          }

          /**
           * Dispatch the event to the listener.
           * @param {SyntheticEvent} event SyntheticEvent to handle
           * @param {boolean} simulated If the event is simulated (changes exn behavior)
           * @param {function} listener Application-level callback
           * @param {*} inst Internal component instance
           */
          function executeDispatch(event, simulated, listener, inst) {
            var type = event.type || 'unknown-event'
            event.currentTarget = EventPluginUtils.getNodeFromInstance(inst)
            if (simulated) {
              ReactErrorUtils.invokeGuardedCallbackWithCatch(
                type,
                listener,
                event,
              )
            } else {
              ReactErrorUtils.invokeGuardedCallback(type, listener, event)
            }
            event.currentTarget = null
          }

          /**
           * Standard/simple iteration through an event's collected dispatches.
           */
          function executeDispatchesInOrder(event, simulated) {
            var dispatchListeners = event._dispatchListeners
            var dispatchInstances = event._dispatchInstances
            if (process.env.NODE_ENV !== 'production') {
              validateEventDispatches(event)
            }
            if (Array.isArray(dispatchListeners)) {
              for (var i = 0; i < dispatchListeners.length; i++) {
                if (event.isPropagationStopped()) {
                  break
                }
                // Listeners and Instances are two parallel arrays that are always in sync.
                executeDispatch(
                  event,
                  simulated,
                  dispatchListeners[i],
                  dispatchInstances[i],
                )
              }
            } else if (dispatchListeners) {
              executeDispatch(
                event,
                simulated,
                dispatchListeners,
                dispatchInstances,
              )
            }
            event._dispatchListeners = null
            event._dispatchInstances = null
          }

          /**
           * Standard/simple iteration through an event's collected dispatches, but stops
           * at the first dispatch execution returning true, and returns that id.
           *
           * @return {?string} id of the first dispatch execution who's listener returns
           * true, or null if no listener returned true.
           */
          function executeDispatchesInOrderStopAtTrueImpl(event) {
            var dispatchListeners = event._dispatchListeners
            var dispatchInstances = event._dispatchInstances
            if (process.env.NODE_ENV !== 'production') {
              validateEventDispatches(event)
            }
            if (Array.isArray(dispatchListeners)) {
              for (var i = 0; i < dispatchListeners.length; i++) {
                if (event.isPropagationStopped()) {
                  break
                }
                // Listeners and Instances are two parallel arrays that are always in sync.
                if (dispatchListeners[i](event, dispatchInstances[i])) {
                  return dispatchInstances[i]
                }
              }
            } else if (dispatchListeners) {
              if (dispatchListeners(event, dispatchInstances)) {
                return dispatchInstances
              }
            }
            return null
          }

          /**
           * @see executeDispatchesInOrderStopAtTrueImpl
           */
          function executeDispatchesInOrderStopAtTrue(event) {
            var ret = executeDispatchesInOrderStopAtTrueImpl(event)
            event._dispatchInstances = null
            event._dispatchListeners = null
            return ret
          }

          /**
           * Execution of a "direct" dispatch - there must be at most one dispatch
           * accumulated on the event or it is considered an error. It doesn't really make
           * sense for an event with multiple dispatches (bubbled) to keep track of the
           * return values at each dispatch execution, but it does tend to make sense when
           * dealing with "direct" dispatches.
           *
           * @return {*} The return value of executing the single dispatch.
           */
          function executeDirectDispatch(event) {
            if (process.env.NODE_ENV !== 'production') {
              validateEventDispatches(event)
            }
            var dispatchListener = event._dispatchListeners
            var dispatchInstance = event._dispatchInstances
            !!Array.isArray(dispatchListener)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'executeDirectDispatch(...): Invalid `event`.',
                  )
                : invariant(false)
              : void 0
            event.currentTarget = dispatchListener
              ? EventPluginUtils.getNodeFromInstance(dispatchInstance)
              : null
            var res = dispatchListener ? dispatchListener(event) : null
            event.currentTarget = null
            event._dispatchListeners = null
            event._dispatchInstances = null
            return res
          }

          /**
           * @param {SyntheticEvent} event
           * @return {boolean} True iff number of dispatches accumulated is greater than 0.
           */
          function hasDispatches(event) {
            return !!event._dispatchListeners
          }

          /**
           * General utilities that are useful in creating custom Event Plugins.
           */
          var EventPluginUtils = {
            isEndish: isEndish,
            isMoveish: isMoveish,
            isStartish: isStartish,

            executeDirectDispatch: executeDirectDispatch,
            executeDispatchesInOrder: executeDispatchesInOrder,
            executeDispatchesInOrderStopAtTrue:
              executeDispatchesInOrderStopAtTrue,
            hasDispatches: hasDispatches,

            getInstanceFromNode: function (node) {
              return ComponentTree.getInstanceFromNode(node)
            },
            getNodeFromInstance: function (node) {
              return ComponentTree.getNodeFromInstance(node)
            },
            isAncestor: function (a, b) {
              return TreeTraversal.isAncestor(a, b)
            },
            getLowestCommonAncestor: function (a, b) {
              return TreeTraversal.getLowestCommonAncestor(a, b)
            },
            getParentInstance: function (inst) {
              return TreeTraversal.getParentInstance(inst)
            },
            traverseTwoPhase: function (target, fn, arg) {
              return TreeTraversal.traverseTwoPhase(target, fn, arg)
            },
            traverseEnterLeave: function (from, to, fn, argFrom, argTo) {
              return TreeTraversal.traverseEnterLeave(
                from,
                to,
                fn,
                argFrom,
                argTo,
              )
            },

            injection: injection,
          }

          module.exports = EventPluginUtils
        }).call(this, require('_process'))
      },
      {
        './EventConstants': 219,
        './ReactErrorUtils': 266,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    223: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule EventPropagators
           */

          'use strict'

          var EventConstants = require('./EventConstants')
          var EventPluginHub = require('./EventPluginHub')
          var EventPluginUtils = require('./EventPluginUtils')

          var accumulateInto = require('./accumulateInto')
          var forEachAccumulated = require('./forEachAccumulated')
          var warning = require('fbjs/lib/warning')

          var PropagationPhases = EventConstants.PropagationPhases
          var getListener = EventPluginHub.getListener

          /**
           * Some event types have a notion of different registration names for different
           * "phases" of propagation. This finds listeners by a given phase.
           */
          function listenerAtPhase(inst, event, propagationPhase) {
            var registrationName =
              event.dispatchConfig.phasedRegistrationNames[propagationPhase]
            return getListener(inst, registrationName)
          }

          /**
           * Tags a `SyntheticEvent` with dispatched listeners. Creating this function
           * here, allows us to not have to bind or create functions for each event.
           * Mutating the event's members allows us to not have to create a wrapping
           * "dispatch" object that pairs the event with the listener.
           */
          function accumulateDirectionalDispatches(inst, upwards, event) {
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(inst, 'Dispatching inst must not be null')
                : void 0
            }
            var phase = upwards
              ? PropagationPhases.bubbled
              : PropagationPhases.captured
            var listener = listenerAtPhase(inst, event, phase)
            if (listener) {
              event._dispatchListeners = accumulateInto(
                event._dispatchListeners,
                listener,
              )
              event._dispatchInstances = accumulateInto(
                event._dispatchInstances,
                inst,
              )
            }
          }

          /**
           * Collect dispatches (must be entirely collected before dispatching - see unit
           * tests). Lazily allocate the array to conserve memory.  We must loop through
           * each event and perform the traversal for each one. We cannot perform a
           * single traversal for the entire collection of events because each event may
           * have a different target.
           */
          function accumulateTwoPhaseDispatchesSingle(event) {
            if (event && event.dispatchConfig.phasedRegistrationNames) {
              EventPluginUtils.traverseTwoPhase(
                event._targetInst,
                accumulateDirectionalDispatches,
                event,
              )
            }
          }

          /**
           * Same as `accumulateTwoPhaseDispatchesSingle`, but skips over the targetID.
           */
          function accumulateTwoPhaseDispatchesSingleSkipTarget(event) {
            if (event && event.dispatchConfig.phasedRegistrationNames) {
              var targetInst = event._targetInst
              var parentInst = targetInst
                ? EventPluginUtils.getParentInstance(targetInst)
                : null
              EventPluginUtils.traverseTwoPhase(
                parentInst,
                accumulateDirectionalDispatches,
                event,
              )
            }
          }

          /**
           * Accumulates without regard to direction, does not look for phased
           * registration names. Same as `accumulateDirectDispatchesSingle` but without
           * requiring that the `dispatchMarker` be the same as the dispatched ID.
           */
          function accumulateDispatches(inst, ignoredDirection, event) {
            if (event && event.dispatchConfig.registrationName) {
              var registrationName = event.dispatchConfig.registrationName
              var listener = getListener(inst, registrationName)
              if (listener) {
                event._dispatchListeners = accumulateInto(
                  event._dispatchListeners,
                  listener,
                )
                event._dispatchInstances = accumulateInto(
                  event._dispatchInstances,
                  inst,
                )
              }
            }
          }

          /**
           * Accumulates dispatches on an `SyntheticEvent`, but only for the
           * `dispatchMarker`.
           * @param {SyntheticEvent} event
           */
          function accumulateDirectDispatchesSingle(event) {
            if (event && event.dispatchConfig.registrationName) {
              accumulateDispatches(event._targetInst, null, event)
            }
          }

          function accumulateTwoPhaseDispatches(events) {
            forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle)
          }

          function accumulateTwoPhaseDispatchesSkipTarget(events) {
            forEachAccumulated(
              events,
              accumulateTwoPhaseDispatchesSingleSkipTarget,
            )
          }

          function accumulateEnterLeaveDispatches(leave, enter, from, to) {
            EventPluginUtils.traverseEnterLeave(
              from,
              to,
              accumulateDispatches,
              leave,
              enter,
            )
          }

          function accumulateDirectDispatches(events) {
            forEachAccumulated(events, accumulateDirectDispatchesSingle)
          }

          /**
           * A small set of propagation patterns, each of which will accept a small amount
           * of information, and generate a set of "dispatch ready event objects" - which
           * are sets of events that have already been annotated with a set of dispatched
           * listener functions/ids. The API is designed this way to discourage these
           * propagation strategies from actually executing the dispatches, since we
           * always want to collect the entire set of dispatches before executing event a
           * single one.
           *
           * @constructor EventPropagators
           */
          var EventPropagators = {
            accumulateTwoPhaseDispatches: accumulateTwoPhaseDispatches,
            accumulateTwoPhaseDispatchesSkipTarget:
              accumulateTwoPhaseDispatchesSkipTarget,
            accumulateDirectDispatches: accumulateDirectDispatches,
            accumulateEnterLeaveDispatches: accumulateEnterLeaveDispatches,
          }

          module.exports = EventPropagators
        }).call(this, require('_process'))
      },
      {
        './EventConstants': 219,
        './EventPluginHub': 220,
        './EventPluginUtils': 222,
        './accumulateInto': 312,
        './forEachAccumulated': 320,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    224: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule FallbackCompositionState
         */

        'use strict'

        var _assign = require('object-assign')

        var PooledClass = require('./PooledClass')

        var getTextContentAccessor = require('./getTextContentAccessor')

        /**
         * This helper class stores information about text content of a target node,
         * allowing comparison of content before and after a given event.
         *
         * Identify the node where selection currently begins, then observe
         * both its text content and its current position in the DOM. Since the
         * browser may natively replace the target node during composition, we can
         * use its position to find its replacement.
         *
         * @param {DOMEventTarget} root
         */
        function FallbackCompositionState(root) {
          this._root = root
          this._startText = this.getText()
          this._fallbackText = null
        }

        _assign(FallbackCompositionState.prototype, {
          destructor: function () {
            this._root = null
            this._startText = null
            this._fallbackText = null
          },

          /**
           * Get current text of input.
           *
           * @return {string}
           */
          getText: function () {
            if ('value' in this._root) {
              return this._root.value
            }
            return this._root[getTextContentAccessor()]
          },

          /**
           * Determine the differing substring between the initially stored
           * text content and the current content.
           *
           * @return {string}
           */
          getData: function () {
            if (this._fallbackText) {
              return this._fallbackText
            }

            var start
            var startValue = this._startText
            var startLength = startValue.length
            var end
            var endValue = this.getText()
            var endLength = endValue.length

            for (start = 0; start < startLength; start++) {
              if (startValue[start] !== endValue[start]) {
                break
              }
            }

            var minEnd = startLength - start
            for (end = 1; end <= minEnd; end++) {
              if (startValue[startLength - end] !== endValue[endLength - end]) {
                break
              }
            }

            var sliceTail = end > 1 ? 1 - end : undefined
            this._fallbackText = endValue.slice(start, sliceTail)
            return this._fallbackText
          },
        })

        PooledClass.addPoolingTo(FallbackCompositionState)

        module.exports = FallbackCompositionState
      },
      {
        './PooledClass': 228,
        './getTextContentAccessor': 328,
        'object-assign': 161,
      },
    ],
    225: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule HTMLDOMPropertyConfig
         */

        'use strict'

        var DOMProperty = require('./DOMProperty')

        var MUST_USE_PROPERTY = DOMProperty.injection.MUST_USE_PROPERTY
        var HAS_BOOLEAN_VALUE = DOMProperty.injection.HAS_BOOLEAN_VALUE
        var HAS_SIDE_EFFECTS = DOMProperty.injection.HAS_SIDE_EFFECTS
        var HAS_NUMERIC_VALUE = DOMProperty.injection.HAS_NUMERIC_VALUE
        var HAS_POSITIVE_NUMERIC_VALUE =
          DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE
        var HAS_OVERLOADED_BOOLEAN_VALUE =
          DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE

        var HTMLDOMPropertyConfig = {
          isCustomAttribute: RegExp.prototype.test.bind(
            new RegExp(
              '^(data|aria)-[' + DOMProperty.ATTRIBUTE_NAME_CHAR + ']*$',
            ),
          ),
          Properties: {
            /**
             * Standard Properties
             */
            accept: 0,
            acceptCharset: 0,
            accessKey: 0,
            action: 0,
            allowFullScreen: HAS_BOOLEAN_VALUE,
            allowTransparency: 0,
            alt: 0,
            async: HAS_BOOLEAN_VALUE,
            autoComplete: 0,
            // autoFocus is polyfilled/normalized by AutoFocusUtils
            // autoFocus: HAS_BOOLEAN_VALUE,
            autoPlay: HAS_BOOLEAN_VALUE,
            capture: HAS_BOOLEAN_VALUE,
            cellPadding: 0,
            cellSpacing: 0,
            charSet: 0,
            challenge: 0,
            checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
            cite: 0,
            classID: 0,
            className: 0,
            cols: HAS_POSITIVE_NUMERIC_VALUE,
            colSpan: 0,
            content: 0,
            contentEditable: 0,
            contextMenu: 0,
            controls: HAS_BOOLEAN_VALUE,
            coords: 0,
            crossOrigin: 0,
            data: 0, // For `<object />` acts as `src`.
            dateTime: 0,
            default: HAS_BOOLEAN_VALUE,
            defer: HAS_BOOLEAN_VALUE,
            dir: 0,
            disabled: HAS_BOOLEAN_VALUE,
            download: HAS_OVERLOADED_BOOLEAN_VALUE,
            draggable: 0,
            encType: 0,
            form: 0,
            formAction: 0,
            formEncType: 0,
            formMethod: 0,
            formNoValidate: HAS_BOOLEAN_VALUE,
            formTarget: 0,
            frameBorder: 0,
            headers: 0,
            height: 0,
            hidden: HAS_BOOLEAN_VALUE,
            high: 0,
            href: 0,
            hrefLang: 0,
            htmlFor: 0,
            httpEquiv: 0,
            icon: 0,
            id: 0,
            inputMode: 0,
            integrity: 0,
            is: 0,
            keyParams: 0,
            keyType: 0,
            kind: 0,
            label: 0,
            lang: 0,
            list: 0,
            loop: HAS_BOOLEAN_VALUE,
            low: 0,
            manifest: 0,
            marginHeight: 0,
            marginWidth: 0,
            max: 0,
            maxLength: 0,
            media: 0,
            mediaGroup: 0,
            method: 0,
            min: 0,
            minLength: 0,
            // Caution; `option.selected` is not updated if `select.multiple` is
            // disabled with `removeAttribute`.
            multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
            muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
            name: 0,
            nonce: 0,
            noValidate: HAS_BOOLEAN_VALUE,
            open: HAS_BOOLEAN_VALUE,
            optimum: 0,
            pattern: 0,
            placeholder: 0,
            poster: 0,
            preload: 0,
            profile: 0,
            radioGroup: 0,
            readOnly: HAS_BOOLEAN_VALUE,
            rel: 0,
            required: HAS_BOOLEAN_VALUE,
            reversed: HAS_BOOLEAN_VALUE,
            role: 0,
            rows: HAS_POSITIVE_NUMERIC_VALUE,
            rowSpan: HAS_NUMERIC_VALUE,
            sandbox: 0,
            scope: 0,
            scoped: HAS_BOOLEAN_VALUE,
            scrolling: 0,
            seamless: HAS_BOOLEAN_VALUE,
            selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
            shape: 0,
            size: HAS_POSITIVE_NUMERIC_VALUE,
            sizes: 0,
            span: HAS_POSITIVE_NUMERIC_VALUE,
            spellCheck: 0,
            src: 0,
            srcDoc: 0,
            srcLang: 0,
            srcSet: 0,
            start: HAS_NUMERIC_VALUE,
            step: 0,
            style: 0,
            summary: 0,
            tabIndex: 0,
            target: 0,
            title: 0,
            // Setting .type throws on non-<input> tags
            type: 0,
            useMap: 0,
            value: MUST_USE_PROPERTY | HAS_SIDE_EFFECTS,
            width: 0,
            wmode: 0,
            wrap: 0,

            /**
             * RDFa Properties
             */
            about: 0,
            datatype: 0,
            inlist: 0,
            prefix: 0,
            // property is also supported for OpenGraph in meta tags.
            property: 0,
            resource: 0,
            typeof: 0,
            vocab: 0,

            /**
             * Non-standard Properties
             */
            // autoCapitalize and autoCorrect are supported in Mobile Safari for
            // keyboard hints.
            autoCapitalize: 0,
            autoCorrect: 0,
            // autoSave allows WebKit/Blink to persist values of input fields on page reloads
            autoSave: 0,
            // color is for Safari mask-icon link
            color: 0,
            // itemProp, itemScope, itemType are for
            // Microdata support. See http://schema.org/docs/gs.html
            itemProp: 0,
            itemScope: HAS_BOOLEAN_VALUE,
            itemType: 0,
            // itemID and itemRef are for Microdata support as well but
            // only specified in the WHATWG spec document. See
            // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api
            itemID: 0,
            itemRef: 0,
            // results show looking glass icon and recent searches on input
            // search fields in WebKit/Blink
            results: 0,
            // IE-only attribute that specifies security restrictions on an iframe
            // as an alternative to the sandbox attribute on IE<10
            security: 0,
            // IE-only attribute that controls focus behavior
            unselectable: 0,
          },
          DOMAttributeNames: {
            acceptCharset: 'accept-charset',
            className: 'class',
            htmlFor: 'for',
            httpEquiv: 'http-equiv',
          },
          DOMPropertyNames: {},
        }

        module.exports = HTMLDOMPropertyConfig
      },
      { './DOMProperty': 213 },
    ],
    226: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule KeyEscapeUtils
         */

        'use strict'

        /**
         * Escape and wrap key so it is safe to use as a reactid
         *
         * @param {*} key to be escaped.
         * @return {string} the escaped key.
         */

        function escape(key) {
          var escapeRegex = /[=:]/g
          var escaperLookup = {
            '=': '=0',
            ':': '=2',
          }
          var escapedString = ('' + key).replace(escapeRegex, function (match) {
            return escaperLookup[match]
          })

          return '$' + escapedString
        }

        /**
         * Unescape and unwrap key for human-readable display
         *
         * @param {string} key to unescape.
         * @return {string} the unescaped key.
         */
        function unescape(key) {
          var unescapeRegex = /(=0|=2)/g
          var unescaperLookup = {
            '=0': '=',
            '=2': ':',
          }
          var keySubstring =
            key[0] === '.' && key[1] === '$'
              ? key.substring(2)
              : key.substring(1)

          return ('' + keySubstring).replace(unescapeRegex, function (match) {
            return unescaperLookup[match]
          })
        }

        var KeyEscapeUtils = {
          escape: escape,
          unescape: unescape,
        }

        module.exports = KeyEscapeUtils
      },
      {},
    ],
    227: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule LinkedValueUtils
           */

          'use strict'

          var ReactPropTypes = require('./ReactPropTypes')
          var ReactPropTypeLocations = require('./ReactPropTypeLocations')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          var hasReadOnlyValue = {
            button: true,
            checkbox: true,
            image: true,
            hidden: true,
            radio: true,
            reset: true,
            submit: true,
          }

          function _assertSingleLink(inputProps) {
            !(inputProps.checkedLink == null || inputProps.valueLink == null)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'Cannot provide a checkedLink and a valueLink. If you want to use ' +
                      "checkedLink, you probably don't want to use valueLink and vice versa.",
                  )
                : invariant(false)
              : void 0
          }
          function _assertValueLink(inputProps) {
            _assertSingleLink(inputProps)
            !(inputProps.value == null && inputProps.onChange == null)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'Cannot provide a valueLink and a value or onChange event. If you want ' +
                      "to use value or onChange, you probably don't want to use valueLink.",
                  )
                : invariant(false)
              : void 0
          }

          function _assertCheckedLink(inputProps) {
            _assertSingleLink(inputProps)
            !(inputProps.checked == null && inputProps.onChange == null)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'Cannot provide a checkedLink and a checked property or onChange event. ' +
                      "If you want to use checked or onChange, you probably don't want to " +
                      'use checkedLink',
                  )
                : invariant(false)
              : void 0
          }

          var propTypes = {
            value: function (props, propName, componentName) {
              if (
                !props[propName] ||
                hasReadOnlyValue[props.type] ||
                props.onChange ||
                props.readOnly ||
                props.disabled
              ) {
                return null
              }
              return new Error(
                'You provided a `value` prop to a form field without an ' +
                  '`onChange` handler. This will render a read-only field. If ' +
                  'the field should be mutable use `defaultValue`. Otherwise, ' +
                  'set either `onChange` or `readOnly`.',
              )
            },
            checked: function (props, propName, componentName) {
              if (
                !props[propName] ||
                props.onChange ||
                props.readOnly ||
                props.disabled
              ) {
                return null
              }
              return new Error(
                'You provided a `checked` prop to a form field without an ' +
                  '`onChange` handler. This will render a read-only field. If ' +
                  'the field should be mutable use `defaultChecked`. Otherwise, ' +
                  'set either `onChange` or `readOnly`.',
              )
            },
            onChange: ReactPropTypes.func,
          }

          var loggedTypeFailures = {}
          function getDeclarationErrorAddendum(owner) {
            if (owner) {
              var name = owner.getName()
              if (name) {
                return ' Check the render method of `' + name + '`.'
              }
            }
            return ''
          }

          /**
           * Provide a linked `value` attribute for controlled forms. You should not use
           * this outside of the ReactDOM controlled form components.
           */
          var LinkedValueUtils = {
            checkPropTypes: function (tagName, props, owner) {
              for (var propName in propTypes) {
                if (propTypes.hasOwnProperty(propName)) {
                  var error = propTypes[propName](
                    props,
                    propName,
                    tagName,
                    ReactPropTypeLocations.prop,
                  )
                }
                if (
                  error instanceof Error &&
                  !(error.message in loggedTypeFailures)
                ) {
                  // Only monitor this failure once because there tends to be a lot of the
                  // same error.
                  loggedTypeFailures[error.message] = true

                  var addendum = getDeclarationErrorAddendum(owner)
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'Failed form propType: %s%s',
                        error.message,
                        addendum,
                      )
                    : void 0
                }
              }
            },

            /**
             * @param {object} inputProps Props for form component
             * @return {*} current value of the input either from value prop or link.
             */
            getValue: function (inputProps) {
              if (inputProps.valueLink) {
                _assertValueLink(inputProps)
                return inputProps.valueLink.value
              }
              return inputProps.value
            },

            /**
             * @param {object} inputProps Props for form component
             * @return {*} current checked status of the input either from checked prop
             *             or link.
             */
            getChecked: function (inputProps) {
              if (inputProps.checkedLink) {
                _assertCheckedLink(inputProps)
                return inputProps.checkedLink.value
              }
              return inputProps.checked
            },

            /**
             * @param {object} inputProps Props for form component
             * @param {SyntheticEvent} event change event to handle
             */
            executeOnChange: function (inputProps, event) {
              if (inputProps.valueLink) {
                _assertValueLink(inputProps)
                return inputProps.valueLink.requestChange(event.target.value)
              } else if (inputProps.checkedLink) {
                _assertCheckedLink(inputProps)
                return inputProps.checkedLink.requestChange(
                  event.target.checked,
                )
              } else if (inputProps.onChange) {
                return inputProps.onChange.call(undefined, event)
              }
            },
          }

          module.exports = LinkedValueUtils
        }).call(this, require('_process'))
      },
      {
        './ReactPropTypeLocations': 285,
        './ReactPropTypes': 286,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    228: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule PooledClass
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           * Static poolers. Several custom versions for each potential number of
           * arguments. A completely generic pooler is easy to implement, but would
           * require accessing the `arguments` object. In each of these, `this` refers to
           * the Class itself, not an instance. If any others are needed, simply add them
           * here, or in their own files.
           */
          var oneArgumentPooler = function (copyFieldsFrom) {
            var Klass = this
            if (Klass.instancePool.length) {
              var instance = Klass.instancePool.pop()
              Klass.call(instance, copyFieldsFrom)
              return instance
            } else {
              return new Klass(copyFieldsFrom)
            }
          }

          var twoArgumentPooler = function (a1, a2) {
            var Klass = this
            if (Klass.instancePool.length) {
              var instance = Klass.instancePool.pop()
              Klass.call(instance, a1, a2)
              return instance
            } else {
              return new Klass(a1, a2)
            }
          }

          var threeArgumentPooler = function (a1, a2, a3) {
            var Klass = this
            if (Klass.instancePool.length) {
              var instance = Klass.instancePool.pop()
              Klass.call(instance, a1, a2, a3)
              return instance
            } else {
              return new Klass(a1, a2, a3)
            }
          }

          var fourArgumentPooler = function (a1, a2, a3, a4) {
            var Klass = this
            if (Klass.instancePool.length) {
              var instance = Klass.instancePool.pop()
              Klass.call(instance, a1, a2, a3, a4)
              return instance
            } else {
              return new Klass(a1, a2, a3, a4)
            }
          }

          var fiveArgumentPooler = function (a1, a2, a3, a4, a5) {
            var Klass = this
            if (Klass.instancePool.length) {
              var instance = Klass.instancePool.pop()
              Klass.call(instance, a1, a2, a3, a4, a5)
              return instance
            } else {
              return new Klass(a1, a2, a3, a4, a5)
            }
          }

          var standardReleaser = function (instance) {
            var Klass = this
            !(instance instanceof Klass)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'Trying to release an instance into a pool of a different type.',
                  )
                : invariant(false)
              : void 0
            instance.destructor()
            if (Klass.instancePool.length < Klass.poolSize) {
              Klass.instancePool.push(instance)
            }
          }

          var DEFAULT_POOL_SIZE = 10
          var DEFAULT_POOLER = oneArgumentPooler

          /**
           * Augments `CopyConstructor` to be a poolable class, augmenting only the class
           * itself (statically) not adding any prototypical fields. Any CopyConstructor
           * you give this may have a `poolSize` property, and will look for a
           * prototypical `destructor` on instances (optional).
           *
           * @param {Function} CopyConstructor Constructor that can be used to reset.
           * @param {Function} pooler Customizable pooler.
           */
          var addPoolingTo = function (CopyConstructor, pooler) {
            var NewKlass = CopyConstructor
            NewKlass.instancePool = []
            NewKlass.getPooled = pooler || DEFAULT_POOLER
            if (!NewKlass.poolSize) {
              NewKlass.poolSize = DEFAULT_POOL_SIZE
            }
            NewKlass.release = standardReleaser
            return NewKlass
          }

          var PooledClass = {
            addPoolingTo: addPoolingTo,
            oneArgumentPooler: oneArgumentPooler,
            twoArgumentPooler: twoArgumentPooler,
            threeArgumentPooler: threeArgumentPooler,
            fourArgumentPooler: fourArgumentPooler,
            fiveArgumentPooler: fiveArgumentPooler,
          }

          module.exports = PooledClass
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    229: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule React
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactChildren = require('./ReactChildren')
          var ReactComponent = require('./ReactComponent')
          var ReactClass = require('./ReactClass')
          var ReactDOMFactories = require('./ReactDOMFactories')
          var ReactElement = require('./ReactElement')
          var ReactElementValidator = require('./ReactElementValidator')
          var ReactPropTypes = require('./ReactPropTypes')
          var ReactVersion = require('./ReactVersion')

          var onlyChild = require('./onlyChild')
          var warning = require('fbjs/lib/warning')

          var createElement = ReactElement.createElement
          var createFactory = ReactElement.createFactory
          var cloneElement = ReactElement.cloneElement

          if (process.env.NODE_ENV !== 'production') {
            createElement = ReactElementValidator.createElement
            createFactory = ReactElementValidator.createFactory
            cloneElement = ReactElementValidator.cloneElement
          }

          var __spread = _assign

          if (process.env.NODE_ENV !== 'production') {
            var warned = false
            __spread = function () {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    warned,
                    'React.__spread is deprecated and should not be used. Use ' +
                      'Object.assign directly or another helper function with similar ' +
                      'semantics. You may be seeing this warning due to your compiler. ' +
                      'See https://fb.me/react-spread-deprecation for more details.',
                  )
                : void 0
              warned = true
              return _assign.apply(null, arguments)
            }
          }

          var React = {
            // Modern

            Children: {
              map: ReactChildren.map,
              forEach: ReactChildren.forEach,
              count: ReactChildren.count,
              toArray: ReactChildren.toArray,
              only: onlyChild,
            },

            Component: ReactComponent,

            createElement: createElement,
            cloneElement: cloneElement,
            isValidElement: ReactElement.isValidElement,

            // Classic

            PropTypes: ReactPropTypes,
            createClass: ReactClass.createClass,
            createFactory: createFactory,
            createMixin: function (mixin) {
              // Currently a noop. Will be used to validate and trace mixins.
              return mixin
            },

            // This looks DOM specific but these are actually isomorphic helpers
            // since they are just generating DOM strings.
            DOM: ReactDOMFactories,

            version: ReactVersion,

            // Deprecated hook for JSX spread, don't use this for anything.
            __spread: __spread,
          }

          module.exports = React
        }).call(this, require('_process'))
      },
      {
        './ReactChildren': 232,
        './ReactClass': 233,
        './ReactComponent': 234,
        './ReactDOMFactories': 248,
        './ReactElement': 263,
        './ReactElementValidator': 264,
        './ReactPropTypes': 286,
        './ReactVersion': 293,
        './onlyChild': 333,
        _process: 162,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    230: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactBrowserEventEmitter
         */

        'use strict'

        var _assign = require('object-assign')

        var EventConstants = require('./EventConstants')
        var EventPluginRegistry = require('./EventPluginRegistry')
        var ReactEventEmitterMixin = require('./ReactEventEmitterMixin')
        var ViewportMetrics = require('./ViewportMetrics')

        var getVendorPrefixedEventName = require('./getVendorPrefixedEventName')
        var isEventSupported = require('./isEventSupported')

        /**
         * Summary of `ReactBrowserEventEmitter` event handling:
         *
         *  - Top-level delegation is used to trap most native browser events. This
         *    may only occur in the main thread and is the responsibility of
         *    ReactEventListener, which is injected and can therefore support pluggable
         *    event sources. This is the only work that occurs in the main thread.
         *
         *  - We normalize and de-duplicate events to account for browser quirks. This
         *    may be done in the worker thread.
         *
         *  - Forward these native events (with the associated top-level type used to
         *    trap it) to `EventPluginHub`, which in turn will ask plugins if they want
         *    to extract any synthetic events.
         *
         *  - The `EventPluginHub` will then process each event by annotating them with
         *    "dispatches", a sequence of listeners and IDs that care about that event.
         *
         *  - The `EventPluginHub` then dispatches the events.
         *
         * Overview of React and the event system:
         *
         * +------------+    .
         * |    DOM     |    .
         * +------------+    .
         *       |           .
         *       v           .
         * +------------+    .
         * | ReactEvent |    .
         * |  Listener  |    .
         * +------------+    .                         +-----------+
         *       |           .               +--------+|SimpleEvent|
         *       |           .               |         |Plugin     |
         * +-----|------+    .               v         +-----------+
         * |     |      |    .    +--------------+                    +------------+
         * |     +-----------.--->|EventPluginHub|                    |    Event   |
         * |            |    .    |              |     +-----------+  | Propagators|
         * | ReactEvent |    .    |              |     |TapEvent   |  |------------|
         * |  Emitter   |    .    |              |<---+|Plugin     |  |other plugin|
         * |            |    .    |              |     +-----------+  |  utilities |
         * |     +-----------.--->|              |                    +------------+
         * |     |      |    .    +--------------+
         * +-----|------+    .                ^        +-----------+
         *       |           .                |        |Enter/Leave|
         *       +           .                +-------+|Plugin     |
         * +-------------+   .                         +-----------+
         * | application |   .
         * |-------------|   .
         * |             |   .
         * |             |   .
         * +-------------+   .
         *                   .
         *    React Core     .  General Purpose Event Plugin System
         */

        var hasEventPageXY
        var alreadyListeningTo = {}
        var isMonitoringScrollValue = false
        var reactTopListenersCounter = 0

        // For events like 'submit' which don't consistently bubble (which we trap at a
        // lower node than `document`), binding at `document` would cause duplicate
        // events so we don't include them here
        var topEventMapping = {
          topAbort: 'abort',
          topAnimationEnd:
            getVendorPrefixedEventName('animationend') || 'animationend',
          topAnimationIteration:
            getVendorPrefixedEventName('animationiteration') ||
            'animationiteration',
          topAnimationStart:
            getVendorPrefixedEventName('animationstart') || 'animationstart',
          topBlur: 'blur',
          topCanPlay: 'canplay',
          topCanPlayThrough: 'canplaythrough',
          topChange: 'change',
          topClick: 'click',
          topCompositionEnd: 'compositionend',
          topCompositionStart: 'compositionstart',
          topCompositionUpdate: 'compositionupdate',
          topContextMenu: 'contextmenu',
          topCopy: 'copy',
          topCut: 'cut',
          topDoubleClick: 'dblclick',
          topDrag: 'drag',
          topDragEnd: 'dragend',
          topDragEnter: 'dragenter',
          topDragExit: 'dragexit',
          topDragLeave: 'dragleave',
          topDragOver: 'dragover',
          topDragStart: 'dragstart',
          topDrop: 'drop',
          topDurationChange: 'durationchange',
          topEmptied: 'emptied',
          topEncrypted: 'encrypted',
          topEnded: 'ended',
          topError: 'error',
          topFocus: 'focus',
          topInput: 'input',
          topKeyDown: 'keydown',
          topKeyPress: 'keypress',
          topKeyUp: 'keyup',
          topLoadedData: 'loadeddata',
          topLoadedMetadata: 'loadedmetadata',
          topLoadStart: 'loadstart',
          topMouseDown: 'mousedown',
          topMouseMove: 'mousemove',
          topMouseOut: 'mouseout',
          topMouseOver: 'mouseover',
          topMouseUp: 'mouseup',
          topPaste: 'paste',
          topPause: 'pause',
          topPlay: 'play',
          topPlaying: 'playing',
          topProgress: 'progress',
          topRateChange: 'ratechange',
          topScroll: 'scroll',
          topSeeked: 'seeked',
          topSeeking: 'seeking',
          topSelectionChange: 'selectionchange',
          topStalled: 'stalled',
          topSuspend: 'suspend',
          topTextInput: 'textInput',
          topTimeUpdate: 'timeupdate',
          topTouchCancel: 'touchcancel',
          topTouchEnd: 'touchend',
          topTouchMove: 'touchmove',
          topTouchStart: 'touchstart',
          topTransitionEnd:
            getVendorPrefixedEventName('transitionend') || 'transitionend',
          topVolumeChange: 'volumechange',
          topWaiting: 'waiting',
          topWheel: 'wheel',
        }

        /**
         * To ensure no conflicts with other potential React instances on the page
         */
        var topListenersIDKey =
          '_reactListenersID' + String(Math.random()).slice(2)

        function getListeningForDocument(mountAt) {
          // In IE8, `mountAt` is a host object and doesn't have `hasOwnProperty`
          // directly.
          if (
            !Object.prototype.hasOwnProperty.call(mountAt, topListenersIDKey)
          ) {
            mountAt[topListenersIDKey] = reactTopListenersCounter++
            alreadyListeningTo[mountAt[topListenersIDKey]] = {}
          }
          return alreadyListeningTo[mountAt[topListenersIDKey]]
        }

        /**
         * `ReactBrowserEventEmitter` is used to attach top-level event listeners. For
         * example:
         *
         *   EventPluginHub.putListener('myID', 'onClick', myFunction);
         *
         * This would allocate a "registration" of `('onClick', myFunction)` on 'myID'.
         *
         * @internal
         */
        var ReactBrowserEventEmitter = _assign({}, ReactEventEmitterMixin, {
          /**
           * Injectable event backend
           */
          ReactEventListener: null,

          injection: {
            /**
             * @param {object} ReactEventListener
             */
            injectReactEventListener: function (ReactEventListener) {
              ReactEventListener.setHandleTopLevel(
                ReactBrowserEventEmitter.handleTopLevel,
              )
              ReactBrowserEventEmitter.ReactEventListener = ReactEventListener
            },
          },

          /**
           * Sets whether or not any created callbacks should be enabled.
           *
           * @param {boolean} enabled True if callbacks should be enabled.
           */
          setEnabled: function (enabled) {
            if (ReactBrowserEventEmitter.ReactEventListener) {
              ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)
            }
          },

          /**
           * @return {boolean} True if callbacks are enabled.
           */
          isEnabled: function () {
            return !!(
              ReactBrowserEventEmitter.ReactEventListener &&
              ReactBrowserEventEmitter.ReactEventListener.isEnabled()
            )
          },

          /**
           * We listen for bubbled touch events on the document object.
           *
           * Firefox v8.01 (and possibly others) exhibited strange behavior when
           * mounting `onmousemove` events at some node that was not the document
           * element. The symptoms were that if your mouse is not moving over something
           * contained within that mount point (for example on the background) the
           * top-level listeners for `onmousemove` won't be called. However, if you
           * register the `mousemove` on the document object, then it will of course
           * catch all `mousemove`s. This along with iOS quirks, justifies restricting
           * top-level listeners to the document object only, at least for these
           * movement types of events and possibly all events.
           *
           * @see http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html
           *
           * Also, `keyup`/`keypress`/`keydown` do not bubble to the window on IE, but
           * they bubble to document.
           *
           * @param {string} registrationName Name of listener (e.g. `onClick`).
           * @param {object} contentDocumentHandle Document which owns the container
           */
          listenTo: function (registrationName, contentDocumentHandle) {
            var mountAt = contentDocumentHandle
            var isListening = getListeningForDocument(mountAt)
            var dependencies =
              EventPluginRegistry.registrationNameDependencies[registrationName]

            var topLevelTypes = EventConstants.topLevelTypes
            for (var i = 0; i < dependencies.length; i++) {
              var dependency = dependencies[i]
              if (
                !(
                  isListening.hasOwnProperty(dependency) &&
                  isListening[dependency]
                )
              ) {
                if (dependency === topLevelTypes.topWheel) {
                  if (isEventSupported('wheel')) {
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topWheel,
                      'wheel',
                      mountAt,
                    )
                  } else if (isEventSupported('mousewheel')) {
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topWheel,
                      'mousewheel',
                      mountAt,
                    )
                  } else {
                    // Firefox needs to capture a different mouse scroll event.
                    // @see http://www.quirksmode.org/dom/events/tests/scroll.html
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topWheel,
                      'DOMMouseScroll',
                      mountAt,
                    )
                  }
                } else if (dependency === topLevelTypes.topScroll) {
                  if (isEventSupported('scroll', true)) {
                    ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
                      topLevelTypes.topScroll,
                      'scroll',
                      mountAt,
                    )
                  } else {
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topScroll,
                      'scroll',
                      ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE,
                    )
                  }
                } else if (
                  dependency === topLevelTypes.topFocus ||
                  dependency === topLevelTypes.topBlur
                ) {
                  if (isEventSupported('focus', true)) {
                    ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
                      topLevelTypes.topFocus,
                      'focus',
                      mountAt,
                    )
                    ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
                      topLevelTypes.topBlur,
                      'blur',
                      mountAt,
                    )
                  } else if (isEventSupported('focusin')) {
                    // IE has `focusin` and `focusout` events which bubble.
                    // @see http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topFocus,
                      'focusin',
                      mountAt,
                    )
                    ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                      topLevelTypes.topBlur,
                      'focusout',
                      mountAt,
                    )
                  }

                  // to make sure blur and focus event listeners are only attached once
                  isListening[topLevelTypes.topBlur] = true
                  isListening[topLevelTypes.topFocus] = true
                } else if (topEventMapping.hasOwnProperty(dependency)) {
                  ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
                    dependency,
                    topEventMapping[dependency],
                    mountAt,
                  )
                }

                isListening[dependency] = true
              }
            }
          },

          trapBubbledEvent: function (topLevelType, handlerBaseName, handle) {
            return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
              topLevelType,
              handlerBaseName,
              handle,
            )
          },

          trapCapturedEvent: function (topLevelType, handlerBaseName, handle) {
            return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
              topLevelType,
              handlerBaseName,
              handle,
            )
          },

          /**
           * Listens to window scroll and resize events. We cache scroll values so that
           * application code can access them without triggering reflows.
           *
           * ViewportMetrics is only used by SyntheticMouse/TouchEvent and only when
           * pageX/pageY isn't supported (legacy browsers).
           *
           * NOTE: Scroll events do not bubble.
           *
           * @see http://www.quirksmode.org/dom/events/scroll.html
           */
          ensureScrollValueMonitoring: function () {
            if (hasEventPageXY === undefined) {
              hasEventPageXY =
                document.createEvent &&
                'pageX' in document.createEvent('MouseEvent')
            }
            if (!hasEventPageXY && !isMonitoringScrollValue) {
              var refresh = ViewportMetrics.refreshScrollValues
              ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(
                refresh,
              )
              isMonitoringScrollValue = true
            }
          },
        })

        module.exports = ReactBrowserEventEmitter
      },
      {
        './EventConstants': 219,
        './EventPluginRegistry': 221,
        './ReactEventEmitterMixin': 267,
        './ViewportMetrics': 311,
        './getVendorPrefixedEventName': 329,
        './isEventSupported': 331,
        'object-assign': 161,
      },
    ],
    231: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactChildReconciler
           */

          'use strict'

          var ReactReconciler = require('./ReactReconciler')

          var instantiateReactComponent = require('./instantiateReactComponent')
          var KeyEscapeUtils = require('./KeyEscapeUtils')
          var shouldUpdateReactComponent = require('./shouldUpdateReactComponent')
          var traverseAllChildren = require('./traverseAllChildren')
          var warning = require('fbjs/lib/warning')

          function instantiateChild(childInstances, child, name) {
            // We found a component instance.
            var keyUnique = childInstances[name] === undefined
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    keyUnique,
                    'flattenChildren(...): Encountered two children with the same key, ' +
                      '`%s`. Child keys must be unique; when two children share a key, only ' +
                      'the first child will be used.',
                    KeyEscapeUtils.unescape(name),
                  )
                : void 0
            }
            if (child != null && keyUnique) {
              childInstances[name] = instantiateReactComponent(child)
            }
          }

          /**
           * ReactChildReconciler provides helpers for initializing or updating a set of
           * children. Its output is suitable for passing it onto ReactMultiChild which
           * does diffed reordering and insertion.
           */
          var ReactChildReconciler = {
            /**
             * Generates a "mount image" for each of the supplied children. In the case
             * of `ReactDOMComponent`, a mount image is a string of markup.
             *
             * @param {?object} nestedChildNodes Nested child maps.
             * @return {?object} A set of child instances.
             * @internal
             */
            instantiateChildren: function (
              nestedChildNodes,
              transaction,
              context,
            ) {
              if (nestedChildNodes == null) {
                return null
              }
              var childInstances = {}
              traverseAllChildren(
                nestedChildNodes,
                instantiateChild,
                childInstances,
              )
              return childInstances
            },

            /**
             * Updates the rendered children and returns a new set of children.
             *
             * @param {?object} prevChildren Previously initialized set of children.
             * @param {?object} nextChildren Flat child element maps.
             * @param {ReactReconcileTransaction} transaction
             * @param {object} context
             * @return {?object} A new set of child instances.
             * @internal
             */
            updateChildren: function (
              prevChildren,
              nextChildren,
              removedNodes,
              transaction,
              context,
            ) {
              // We currently don't have a way to track moves here but if we use iterators
              // instead of for..in we can zip the iterators and check if an item has
              // moved.
              // TODO: If nothing has changed, return the prevChildren object so that we
              // can quickly bailout if nothing has changed.
              if (!nextChildren && !prevChildren) {
                return
              }
              var name
              var prevChild
              for (name in nextChildren) {
                if (!nextChildren.hasOwnProperty(name)) {
                  continue
                }
                prevChild = prevChildren && prevChildren[name]
                var prevElement = prevChild && prevChild._currentElement
                var nextElement = nextChildren[name]
                if (
                  prevChild != null &&
                  shouldUpdateReactComponent(prevElement, nextElement)
                ) {
                  ReactReconciler.receiveComponent(
                    prevChild,
                    nextElement,
                    transaction,
                    context,
                  )
                  nextChildren[name] = prevChild
                } else {
                  if (prevChild) {
                    removedNodes[name] =
                      ReactReconciler.getNativeNode(prevChild)
                    ReactReconciler.unmountComponent(prevChild, false)
                  }
                  // The child must be instantiated before it's mounted.
                  var nextChildInstance = instantiateReactComponent(nextElement)
                  nextChildren[name] = nextChildInstance
                }
              }
              // Unmount children that are no longer present.
              for (name in prevChildren) {
                if (
                  prevChildren.hasOwnProperty(name) &&
                  !(nextChildren && nextChildren.hasOwnProperty(name))
                ) {
                  prevChild = prevChildren[name]
                  removedNodes[name] = ReactReconciler.getNativeNode(prevChild)
                  ReactReconciler.unmountComponent(prevChild, false)
                }
              }
            },

            /**
             * Unmounts all rendered children. This should be used to clean up children
             * when this component is unmounted.
             *
             * @param {?object} renderedChildren Previously initialized set of children.
             * @internal
             */
            unmountChildren: function (renderedChildren, safely) {
              for (var name in renderedChildren) {
                if (renderedChildren.hasOwnProperty(name)) {
                  var renderedChild = renderedChildren[name]
                  ReactReconciler.unmountComponent(renderedChild, safely)
                }
              }
            },
          }

          module.exports = ReactChildReconciler
        }).call(this, require('_process'))
      },
      {
        './KeyEscapeUtils': 226,
        './ReactReconciler': 288,
        './instantiateReactComponent': 330,
        './shouldUpdateReactComponent': 338,
        './traverseAllChildren': 339,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    232: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactChildren
         */

        'use strict'

        var PooledClass = require('./PooledClass')
        var ReactElement = require('./ReactElement')

        var emptyFunction = require('fbjs/lib/emptyFunction')
        var traverseAllChildren = require('./traverseAllChildren')

        var twoArgumentPooler = PooledClass.twoArgumentPooler
        var fourArgumentPooler = PooledClass.fourArgumentPooler

        var userProvidedKeyEscapeRegex = /\/+/g
        function escapeUserProvidedKey(text) {
          return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/')
        }

        /**
         * PooledClass representing the bookkeeping associated with performing a child
         * traversal. Allows avoiding binding callbacks.
         *
         * @constructor ForEachBookKeeping
         * @param {!function} forEachFunction Function to perform traversal with.
         * @param {?*} forEachContext Context to perform context with.
         */
        function ForEachBookKeeping(forEachFunction, forEachContext) {
          this.func = forEachFunction
          this.context = forEachContext
          this.count = 0
        }
        ForEachBookKeeping.prototype.destructor = function () {
          this.func = null
          this.context = null
          this.count = 0
        }
        PooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler)

        function forEachSingleChild(bookKeeping, child, name) {
          var func = bookKeeping.func
          var context = bookKeeping.context

          func.call(context, child, bookKeeping.count++)
        }

        /**
         * Iterates through children that are typically specified as `props.children`.
         *
         * See https://facebook.github.io/react/docs/top-level-api.html#react.children.foreach
         *
         * The provided forEachFunc(child, index) will be called for each
         * leaf child.
         *
         * @param {?*} children Children tree container.
         * @param {function(*, int)} forEachFunc
         * @param {*} forEachContext Context for forEachContext.
         */
        function forEachChildren(children, forEachFunc, forEachContext) {
          if (children == null) {
            return children
          }
          var traverseContext = ForEachBookKeeping.getPooled(
            forEachFunc,
            forEachContext,
          )
          traverseAllChildren(children, forEachSingleChild, traverseContext)
          ForEachBookKeeping.release(traverseContext)
        }

        /**
         * PooledClass representing the bookkeeping associated with performing a child
         * mapping. Allows avoiding binding callbacks.
         *
         * @constructor MapBookKeeping
         * @param {!*} mapResult Object containing the ordered map of results.
         * @param {!function} mapFunction Function to perform mapping with.
         * @param {?*} mapContext Context to perform mapping with.
         */
        function MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {
          this.result = mapResult
          this.keyPrefix = keyPrefix
          this.func = mapFunction
          this.context = mapContext
          this.count = 0
        }
        MapBookKeeping.prototype.destructor = function () {
          this.result = null
          this.keyPrefix = null
          this.func = null
          this.context = null
          this.count = 0
        }
        PooledClass.addPoolingTo(MapBookKeeping, fourArgumentPooler)

        function mapSingleChildIntoContext(bookKeeping, child, childKey) {
          var result = bookKeeping.result
          var keyPrefix = bookKeeping.keyPrefix
          var func = bookKeeping.func
          var context = bookKeeping.context

          var mappedChild = func.call(context, child, bookKeeping.count++)
          if (Array.isArray(mappedChild)) {
            mapIntoWithKeyPrefixInternal(
              mappedChild,
              result,
              childKey,
              emptyFunction.thatReturnsArgument,
            )
          } else if (mappedChild != null) {
            if (ReactElement.isValidElement(mappedChild)) {
              mappedChild = ReactElement.cloneAndReplaceKey(
                mappedChild,
                // Keep both the (mapped) and old keys if they differ, just as
                // traverseAllChildren used to do for objects as children
                keyPrefix +
                  (mappedChild.key && (!child || child.key !== mappedChild.key)
                    ? escapeUserProvidedKey(mappedChild.key) + '/'
                    : '') +
                  childKey,
              )
            }
            result.push(mappedChild)
          }
        }

        function mapIntoWithKeyPrefixInternal(
          children,
          array,
          prefix,
          func,
          context,
        ) {
          var escapedPrefix = ''
          if (prefix != null) {
            escapedPrefix = escapeUserProvidedKey(prefix) + '/'
          }
          var traverseContext = MapBookKeeping.getPooled(
            array,
            escapedPrefix,
            func,
            context,
          )
          traverseAllChildren(
            children,
            mapSingleChildIntoContext,
            traverseContext,
          )
          MapBookKeeping.release(traverseContext)
        }

        /**
         * Maps children that are typically specified as `props.children`.
         *
         * See https://facebook.github.io/react/docs/top-level-api.html#react.children.map
         *
         * The provided mapFunction(child, key, index) will be called for each
         * leaf child.
         *
         * @param {?*} children Children tree container.
         * @param {function(*, int)} func The map function.
         * @param {*} context Context for mapFunction.
         * @return {object} Object containing the ordered map of results.
         */
        function mapChildren(children, func, context) {
          if (children == null) {
            return children
          }
          var result = []
          mapIntoWithKeyPrefixInternal(children, result, null, func, context)
          return result
        }

        function forEachSingleChildDummy(traverseContext, child, name) {
          return null
        }

        /**
         * Count the number of children that are typically specified as
         * `props.children`.
         *
         * See https://facebook.github.io/react/docs/top-level-api.html#react.children.count
         *
         * @param {?*} children Children tree container.
         * @return {number} The number of children.
         */
        function countChildren(children, context) {
          return traverseAllChildren(children, forEachSingleChildDummy, null)
        }

        /**
         * Flatten a children object (typically specified as `props.children`) and
         * return an array with appropriately re-keyed children.
         *
         * See https://facebook.github.io/react/docs/top-level-api.html#react.children.toarray
         */
        function toArray(children) {
          var result = []
          mapIntoWithKeyPrefixInternal(
            children,
            result,
            null,
            emptyFunction.thatReturnsArgument,
          )
          return result
        }

        var ReactChildren = {
          forEach: forEachChildren,
          map: mapChildren,
          mapIntoWithKeyPrefixInternal: mapIntoWithKeyPrefixInternal,
          count: countChildren,
          toArray: toArray,
        }

        module.exports = ReactChildren
      },
      {
        './PooledClass': 228,
        './ReactElement': 263,
        './traverseAllChildren': 339,
        'fbjs/lib/emptyFunction': 34,
      },
    ],
    233: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactClass
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactComponent = require('./ReactComponent')
          var ReactElement = require('./ReactElement')
          var ReactPropTypeLocations = require('./ReactPropTypeLocations')
          var ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames')
          var ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue')

          var emptyObject = require('fbjs/lib/emptyObject')
          var invariant = require('fbjs/lib/invariant')
          var keyMirror = require('fbjs/lib/keyMirror')
          var keyOf = require('fbjs/lib/keyOf')
          var warning = require('fbjs/lib/warning')

          var MIXINS_KEY = keyOf({ mixins: null })

          /**
           * Policies that describe methods in `ReactClassInterface`.
           */
          var SpecPolicy = keyMirror({
            /**
             * These methods may be defined only once by the class specification or mixin.
             */
            DEFINE_ONCE: null,
            /**
             * These methods may be defined by both the class specification and mixins.
             * Subsequent definitions will be chained. These methods must return void.
             */
            DEFINE_MANY: null,
            /**
             * These methods are overriding the base class.
             */
            OVERRIDE_BASE: null,
            /**
             * These methods are similar to DEFINE_MANY, except we assume they return
             * objects. We try to merge the keys of the return values of all the mixed in
             * functions. If there is a key conflict we throw.
             */
            DEFINE_MANY_MERGED: null,
          })

          var injectedMixins = []

          /**
           * Composite components are higher-level components that compose other composite
           * or native components.
           *
           * To create a new type of `ReactClass`, pass a specification of
           * your new class to `React.createClass`. The only requirement of your class
           * specification is that you implement a `render` method.
           *
           *   var MyComponent = React.createClass({
           *     render: function() {
           *       return <div>Hello World</div>;
           *     }
           *   });
           *
           * The class specification supports a specific protocol of methods that have
           * special meaning (e.g. `render`). See `ReactClassInterface` for
           * more the comprehensive protocol. Any other properties and methods in the
           * class specification will be available on the prototype.
           *
           * @interface ReactClassInterface
           * @internal
           */
          var ReactClassInterface = {
            /**
             * An array of Mixin objects to include when defining your component.
             *
             * @type {array}
             * @optional
             */
            mixins: SpecPolicy.DEFINE_MANY,

            /**
             * An object containing properties and methods that should be defined on
             * the component's constructor instead of its prototype (static methods).
             *
             * @type {object}
             * @optional
             */
            statics: SpecPolicy.DEFINE_MANY,

            /**
             * Definition of prop types for this component.
             *
             * @type {object}
             * @optional
             */
            propTypes: SpecPolicy.DEFINE_MANY,

            /**
             * Definition of context types for this component.
             *
             * @type {object}
             * @optional
             */
            contextTypes: SpecPolicy.DEFINE_MANY,

            /**
             * Definition of context types this component sets for its children.
             *
             * @type {object}
             * @optional
             */
            childContextTypes: SpecPolicy.DEFINE_MANY,

            // ==== Definition methods ====

            /**
             * Invoked when the component is mounted. Values in the mapping will be set on
             * `this.props` if that prop is not specified (i.e. using an `in` check).
             *
             * This method is invoked before `getInitialState` and therefore cannot rely
             * on `this.state` or use `this.setState`.
             *
             * @return {object}
             * @optional
             */
            getDefaultProps: SpecPolicy.DEFINE_MANY_MERGED,

            /**
             * Invoked once before the component is mounted. The return value will be used
             * as the initial value of `this.state`.
             *
             *   getInitialState: function() {
             *     return {
             *       isOn: false,
             *       fooBaz: new BazFoo()
             *     }
             *   }
             *
             * @return {object}
             * @optional
             */
            getInitialState: SpecPolicy.DEFINE_MANY_MERGED,

            /**
             * @return {object}
             * @optional
             */
            getChildContext: SpecPolicy.DEFINE_MANY_MERGED,

            /**
             * Uses props from `this.props` and state from `this.state` to render the
             * structure of the component.
             *
             * No guarantees are made about when or how often this method is invoked, so
             * it must not have side effects.
             *
             *   render: function() {
             *     var name = this.props.name;
             *     return <div>Hello, {name}!</div>;
             *   }
             *
             * @return {ReactComponent}
             * @nosideeffects
             * @required
             */
            render: SpecPolicy.DEFINE_ONCE,

            // ==== Delegate methods ====

            /**
             * Invoked when the component is initially created and about to be mounted.
             * This may have side effects, but any external subscriptions or data created
             * by this method must be cleaned up in `componentWillUnmount`.
             *
             * @optional
             */
            componentWillMount: SpecPolicy.DEFINE_MANY,

            /**
             * Invoked when the component has been mounted and has a DOM representation.
             * However, there is no guarantee that the DOM node is in the document.
             *
             * Use this as an opportunity to operate on the DOM when the component has
             * been mounted (initialized and rendered) for the first time.
             *
             * @param {DOMElement} rootNode DOM element representing the component.
             * @optional
             */
            componentDidMount: SpecPolicy.DEFINE_MANY,

            /**
             * Invoked before the component receives new props.
             *
             * Use this as an opportunity to react to a prop transition by updating the
             * state using `this.setState`. Current props are accessed via `this.props`.
             *
             *   componentWillReceiveProps: function(nextProps, nextContext) {
             *     this.setState({
             *       likesIncreasing: nextProps.likeCount > this.props.likeCount
             *     });
             *   }
             *
             * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop
             * transition may cause a state change, but the opposite is not true. If you
             * need it, you are probably looking for `componentWillUpdate`.
             *
             * @param {object} nextProps
             * @optional
             */
            componentWillReceiveProps: SpecPolicy.DEFINE_MANY,

            /**
             * Invoked while deciding if the component should be updated as a result of
             * receiving new props, state and/or context.
             *
             * Use this as an opportunity to `return false` when you're certain that the
             * transition to the new props/state/context will not require a component
             * update.
             *
             *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {
             *     return !equal(nextProps, this.props) ||
             *       !equal(nextState, this.state) ||
             *       !equal(nextContext, this.context);
             *   }
             *
             * @param {object} nextProps
             * @param {?object} nextState
             * @param {?object} nextContext
             * @return {boolean} True if the component should update.
             * @optional
             */
            shouldComponentUpdate: SpecPolicy.DEFINE_ONCE,

            /**
             * Invoked when the component is about to update due to a transition from
             * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`
             * and `nextContext`.
             *
             * Use this as an opportunity to perform preparation before an update occurs.
             *
             * NOTE: You **cannot** use `this.setState()` in this method.
             *
             * @param {object} nextProps
             * @param {?object} nextState
             * @param {?object} nextContext
             * @param {ReactReconcileTransaction} transaction
             * @optional
             */
            componentWillUpdate: SpecPolicy.DEFINE_MANY,

            /**
             * Invoked when the component's DOM representation has been updated.
             *
             * Use this as an opportunity to operate on the DOM when the component has
             * been updated.
             *
             * @param {object} prevProps
             * @param {?object} prevState
             * @param {?object} prevContext
             * @param {DOMElement} rootNode DOM element representing the component.
             * @optional
             */
            componentDidUpdate: SpecPolicy.DEFINE_MANY,

            /**
             * Invoked when the component is about to be removed from its parent and have
             * its DOM representation destroyed.
             *
             * Use this as an opportunity to deallocate any external resources.
             *
             * NOTE: There is no `componentDidUnmount` since your component will have been
             * destroyed by that point.
             *
             * @optional
             */
            componentWillUnmount: SpecPolicy.DEFINE_MANY,

            // ==== Advanced methods ====

            /**
             * Updates the component's currently mounted DOM representation.
             *
             * By default, this implements React's rendering and reconciliation algorithm.
             * Sophisticated clients may wish to override this.
             *
             * @param {ReactReconcileTransaction} transaction
             * @internal
             * @overridable
             */
            updateComponent: SpecPolicy.OVERRIDE_BASE,
          }

          /**
           * Mapping from class specification keys to special processing functions.
           *
           * Although these are declared like instance properties in the specification
           * when defining classes using `React.createClass`, they are actually static
           * and are accessible on the constructor instead of the prototype. Despite
           * being static, they must be defined outside of the "statics" key under
           * which all other static methods are defined.
           */
          var RESERVED_SPEC_KEYS = {
            displayName: function (Constructor, displayName) {
              Constructor.displayName = displayName
            },
            mixins: function (Constructor, mixins) {
              if (mixins) {
                for (var i = 0; i < mixins.length; i++) {
                  mixSpecIntoComponent(Constructor, mixins[i])
                }
              }
            },
            childContextTypes: function (Constructor, childContextTypes) {
              if (process.env.NODE_ENV !== 'production') {
                validateTypeDef(
                  Constructor,
                  childContextTypes,
                  ReactPropTypeLocations.childContext,
                )
              }
              Constructor.childContextTypes = _assign(
                {},
                Constructor.childContextTypes,
                childContextTypes,
              )
            },
            contextTypes: function (Constructor, contextTypes) {
              if (process.env.NODE_ENV !== 'production') {
                validateTypeDef(
                  Constructor,
                  contextTypes,
                  ReactPropTypeLocations.context,
                )
              }
              Constructor.contextTypes = _assign(
                {},
                Constructor.contextTypes,
                contextTypes,
              )
            },
            /**
             * Special case getDefaultProps which should move into statics but requires
             * automatic merging.
             */
            getDefaultProps: function (Constructor, getDefaultProps) {
              if (Constructor.getDefaultProps) {
                Constructor.getDefaultProps = createMergedResultFunction(
                  Constructor.getDefaultProps,
                  getDefaultProps,
                )
              } else {
                Constructor.getDefaultProps = getDefaultProps
              }
            },
            propTypes: function (Constructor, propTypes) {
              if (process.env.NODE_ENV !== 'production') {
                validateTypeDef(
                  Constructor,
                  propTypes,
                  ReactPropTypeLocations.prop,
                )
              }
              Constructor.propTypes = _assign(
                {},
                Constructor.propTypes,
                propTypes,
              )
            },
            statics: function (Constructor, statics) {
              mixStaticSpecIntoComponent(Constructor, statics)
            },
            autobind: function () {},
          }

          // noop
          function validateTypeDef(Constructor, typeDef, location) {
            for (var propName in typeDef) {
              if (typeDef.hasOwnProperty(propName)) {
                // use a warning instead of an invariant so components
                // don't show up in prod but only in __DEV__
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      typeof typeDef[propName] === 'function',
                      '%s: %s type `%s` is invalid; it must be a function, usually from ' +
                        'React.PropTypes.',
                      Constructor.displayName || 'ReactClass',
                      ReactPropTypeLocationNames[location],
                      propName,
                    )
                  : void 0
              }
            }
          }

          function validateMethodOverride(isAlreadyDefined, name) {
            var specPolicy = ReactClassInterface.hasOwnProperty(name)
              ? ReactClassInterface[name]
              : null

            // Disallow overriding of base class methods unless explicitly allowed.
            if (ReactClassMixin.hasOwnProperty(name)) {
              !(specPolicy === SpecPolicy.OVERRIDE_BASE)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactClassInterface: You are attempting to override ' +
                        '`%s` from your class specification. Ensure that your method names ' +
                        'do not overlap with React methods.',
                      name,
                    )
                  : invariant(false)
                : void 0
            }

            // Disallow defining methods more than once unless explicitly allowed.
            if (isAlreadyDefined) {
              !(
                specPolicy === SpecPolicy.DEFINE_MANY ||
                specPolicy === SpecPolicy.DEFINE_MANY_MERGED
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactClassInterface: You are attempting to define ' +
                        '`%s` on your component more than once. This conflict may be due ' +
                        'to a mixin.',
                      name,
                    )
                  : invariant(false)
                : void 0
            }
          }

          /**
           * Mixin helper which handles policy validation and reserved
           * specification keys when building React classes.
           */
          function mixSpecIntoComponent(Constructor, spec) {
            if (!spec) {
              return
            }

            !(typeof spec !== 'function')
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    "ReactClass: You're attempting to " +
                      'use a component class or function as a mixin. Instead, just use a ' +
                      'regular object.',
                  )
                : invariant(false)
              : void 0
            !!ReactElement.isValidElement(spec)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    "ReactClass: You're attempting to " +
                      'use a component as a mixin. Instead, just use a regular object.',
                  )
                : invariant(false)
              : void 0

            var proto = Constructor.prototype
            var autoBindPairs = proto.__reactAutoBindPairs

            // By handling mixins before any other properties, we ensure the same
            // chaining order is applied to methods with DEFINE_MANY policy, whether
            // mixins are listed before or after these methods in the spec.
            if (spec.hasOwnProperty(MIXINS_KEY)) {
              RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins)
            }

            for (var name in spec) {
              if (!spec.hasOwnProperty(name)) {
                continue
              }

              if (name === MIXINS_KEY) {
                // We have already handled mixins in a special case above.
                continue
              }

              var property = spec[name]
              var isAlreadyDefined = proto.hasOwnProperty(name)
              validateMethodOverride(isAlreadyDefined, name)

              if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {
                RESERVED_SPEC_KEYS[name](Constructor, property)
              } else {
                // Setup methods on prototype:
                // The following member methods should not be automatically bound:
                // 1. Expected ReactClass methods (in the "interface").
                // 2. Overridden methods (that were mixed in).
                var isReactClassMethod =
                  ReactClassInterface.hasOwnProperty(name)
                var isFunction = typeof property === 'function'
                var shouldAutoBind =
                  isFunction &&
                  !isReactClassMethod &&
                  !isAlreadyDefined &&
                  spec.autobind !== false

                if (shouldAutoBind) {
                  autoBindPairs.push(name, property)
                  proto[name] = property
                } else {
                  if (isAlreadyDefined) {
                    var specPolicy = ReactClassInterface[name]

                    // These cases should already be caught by validateMethodOverride.
                    !(
                      isReactClassMethod &&
                      (specPolicy === SpecPolicy.DEFINE_MANY_MERGED ||
                        specPolicy === SpecPolicy.DEFINE_MANY)
                    )
                      ? process.env.NODE_ENV !== 'production'
                        ? invariant(
                            false,
                            'ReactClass: Unexpected spec policy %s for key %s ' +
                              'when mixing in component specs.',
                            specPolicy,
                            name,
                          )
                        : invariant(false)
                      : void 0

                    // For methods which are defined more than once, call the existing
                    // methods before calling the new property, merging if appropriate.
                    if (specPolicy === SpecPolicy.DEFINE_MANY_MERGED) {
                      proto[name] = createMergedResultFunction(
                        proto[name],
                        property,
                      )
                    } else if (specPolicy === SpecPolicy.DEFINE_MANY) {
                      proto[name] = createChainedFunction(proto[name], property)
                    }
                  } else {
                    proto[name] = property
                    if (process.env.NODE_ENV !== 'production') {
                      // Add verbose displayName to the function, which helps when looking
                      // at profiling tools.
                      if (typeof property === 'function' && spec.displayName) {
                        proto[name].displayName = spec.displayName + '_' + name
                      }
                    }
                  }
                }
              }
            }
          }

          function mixStaticSpecIntoComponent(Constructor, statics) {
            if (!statics) {
              return
            }
            for (var name in statics) {
              var property = statics[name]
              if (!statics.hasOwnProperty(name)) {
                continue
              }

              var isReserved = name in RESERVED_SPEC_KEYS
              !!isReserved
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactClass: You are attempting to define a reserved ' +
                        'property, `%s`, that shouldn\'t be on the "statics" key. Define it ' +
                        'as an instance property instead; it will still be accessible on the ' +
                        'constructor.',
                      name,
                    )
                  : invariant(false)
                : void 0

              var isInherited = name in Constructor
              !!isInherited
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactClass: You are attempting to define ' +
                        '`%s` on your component more than once. This conflict may be ' +
                        'due to a mixin.',
                      name,
                    )
                  : invariant(false)
                : void 0
              Constructor[name] = property
            }
          }

          /**
           * Merge two objects, but throw if both contain the same key.
           *
           * @param {object} one The first object, which is mutated.
           * @param {object} two The second object
           * @return {object} one after it has been mutated to contain everything in two.
           */
          function mergeIntoWithNoDuplicateKeys(one, two) {
            !(one && two && typeof one === 'object' && typeof two === 'object')
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.',
                  )
                : invariant(false)
              : void 0

            for (var key in two) {
              if (two.hasOwnProperty(key)) {
                !(one[key] === undefined)
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'mergeIntoWithNoDuplicateKeys(): ' +
                          'Tried to merge two objects with the same key: `%s`. This conflict ' +
                          'may be due to a mixin; in particular, this may be caused by two ' +
                          'getInitialState() or getDefaultProps() methods returning objects ' +
                          'with clashing keys.',
                        key,
                      )
                    : invariant(false)
                  : void 0
                one[key] = two[key]
              }
            }
            return one
          }

          /**
           * Creates a function that invokes two functions and merges their return values.
           *
           * @param {function} one Function to invoke first.
           * @param {function} two Function to invoke second.
           * @return {function} Function that invokes the two argument functions.
           * @private
           */
          function createMergedResultFunction(one, two) {
            return function mergedResult() {
              var a = one.apply(this, arguments)
              var b = two.apply(this, arguments)
              if (a == null) {
                return b
              } else if (b == null) {
                return a
              }
              var c = {}
              mergeIntoWithNoDuplicateKeys(c, a)
              mergeIntoWithNoDuplicateKeys(c, b)
              return c
            }
          }

          /**
           * Creates a function that invokes two functions and ignores their return vales.
           *
           * @param {function} one Function to invoke first.
           * @param {function} two Function to invoke second.
           * @return {function} Function that invokes the two argument functions.
           * @private
           */
          function createChainedFunction(one, two) {
            return function chainedFunction() {
              one.apply(this, arguments)
              two.apply(this, arguments)
            }
          }

          /**
           * Binds a method to the component.
           *
           * @param {object} component Component whose method is going to be bound.
           * @param {function} method Method to be bound.
           * @return {function} The bound method.
           */
          function bindAutoBindMethod(component, method) {
            var boundMethod = method.bind(component)
            if (process.env.NODE_ENV !== 'production') {
              boundMethod.__reactBoundContext = component
              boundMethod.__reactBoundMethod = method
              boundMethod.__reactBoundArguments = null
              var componentName = component.constructor.displayName
              var _bind = boundMethod.bind
              boundMethod.bind = function (newThis) {
                for (
                  var _len = arguments.length,
                    args = Array(_len > 1 ? _len - 1 : 0),
                    _key = 1;
                  _key < _len;
                  _key++
                ) {
                  args[_key - 1] = arguments[_key]
                }

                // User is trying to bind() an autobound method; we effectively will
                // ignore the value of "this" that the user is trying to use, so
                // let's warn.
                if (newThis !== component && newThis !== null) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'bind(): React component methods may only be bound to the ' +
                          'component instance. See %s',
                        componentName,
                      )
                    : void 0
                } else if (!args.length) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'bind(): You are binding a component method to the component. ' +
                          'React does this for you automatically in a high-performance ' +
                          'way, so you can safely remove this call. See %s',
                        componentName,
                      )
                    : void 0
                  return boundMethod
                }
                var reboundMethod = _bind.apply(boundMethod, arguments)
                reboundMethod.__reactBoundContext = component
                reboundMethod.__reactBoundMethod = method
                reboundMethod.__reactBoundArguments = args
                return reboundMethod
              }
            }
            return boundMethod
          }

          /**
           * Binds all auto-bound methods in a component.
           *
           * @param {object} component Component whose method is going to be bound.
           */
          function bindAutoBindMethods(component) {
            var pairs = component.__reactAutoBindPairs
            for (var i = 0; i < pairs.length; i += 2) {
              var autoBindKey = pairs[i]
              var method = pairs[i + 1]
              component[autoBindKey] = bindAutoBindMethod(component, method)
            }
          }

          /**
           * Add more to the ReactClass base class. These are all legacy features and
           * therefore not already part of the modern ReactComponent.
           */
          var ReactClassMixin = {
            /**
             * TODO: This will be deprecated because state should always keep a consistent
             * type signature and the only use case for this, is to avoid that.
             */
            replaceState: function (newState, callback) {
              this.updater.enqueueReplaceState(this, newState)
              if (callback) {
                this.updater.enqueueCallback(this, callback, 'replaceState')
              }
            },

            /**
             * Checks whether or not this composite component is mounted.
             * @return {boolean} True if mounted, false otherwise.
             * @protected
             * @final
             */
            isMounted: function () {
              return this.updater.isMounted(this)
            },
          }

          var ReactClassComponent = function () {}
          _assign(
            ReactClassComponent.prototype,
            ReactComponent.prototype,
            ReactClassMixin,
          )

          /**
           * Module for creating composite components.
           *
           * @class ReactClass
           */
          var ReactClass = {
            /**
             * Creates a composite component class given a class specification.
             * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass
             *
             * @param {object} spec Class specification (which must define `render`).
             * @return {function} Component constructor function.
             * @public
             */
            createClass: function (spec) {
              var Constructor = function (props, context, updater) {
                // This constructor gets overridden by mocks. The argument is used
                // by mocks to assert on what gets mounted.

                if (process.env.NODE_ENV !== 'production') {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        this instanceof Constructor,
                        'Something is calling a React component directly. Use a factory or ' +
                          'JSX instead. See: https://fb.me/react-legacyfactory',
                      )
                    : void 0
                }

                // Wire up auto-binding
                if (this.__reactAutoBindPairs.length) {
                  bindAutoBindMethods(this)
                }

                this.props = props
                this.context = context
                this.refs = emptyObject
                this.updater = updater || ReactNoopUpdateQueue

                this.state = null

                // ReactClasses doesn't have constructors. Instead, they use the
                // getInitialState and componentWillMount methods for initialization.

                var initialState = this.getInitialState
                  ? this.getInitialState()
                  : null
                if (process.env.NODE_ENV !== 'production') {
                  // We allow auto-mocks to proceed as if they're returning null.
                  if (
                    initialState === undefined &&
                    this.getInitialState._isMockFunction
                  ) {
                    // This is probably bad practice. Consider warning here and
                    // deprecating this convenience.
                    initialState = null
                  }
                }
                !(
                  typeof initialState === 'object' &&
                  !Array.isArray(initialState)
                )
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        '%s.getInitialState(): must return an object or null',
                        Constructor.displayName || 'ReactCompositeComponent',
                      )
                    : invariant(false)
                  : void 0

                this.state = initialState
              }
              Constructor.prototype = new ReactClassComponent()
              Constructor.prototype.constructor = Constructor
              Constructor.prototype.__reactAutoBindPairs = []

              injectedMixins.forEach(
                mixSpecIntoComponent.bind(null, Constructor),
              )

              mixSpecIntoComponent(Constructor, spec)

              // Initialize the defaultProps property after all mixins have been merged.
              if (Constructor.getDefaultProps) {
                Constructor.defaultProps = Constructor.getDefaultProps()
              }

              if (process.env.NODE_ENV !== 'production') {
                // This is a tag to indicate that the use of these method names is ok,
                // since it's used with createClass. If it's not, then it's likely a
                // mistake so we'll warn you to use the static property, property
                // initializer or constructor respectively.
                if (Constructor.getDefaultProps) {
                  Constructor.getDefaultProps.isReactClassApproved = {}
                }
                if (Constructor.prototype.getInitialState) {
                  Constructor.prototype.getInitialState.isReactClassApproved =
                    {}
                }
              }

              !Constructor.prototype.render
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'createClass(...): Class specification must implement a `render` method.',
                    )
                  : invariant(false)
                : void 0

              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !Constructor.prototype.componentShouldUpdate,
                      '%s has a method called ' +
                        'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +
                        'The name is phrased as a question because the function is ' +
                        'expected to return a value.',
                      spec.displayName || 'A component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !Constructor.prototype.componentWillRecieveProps,
                      '%s has a method called ' +
                        'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',
                      spec.displayName || 'A component',
                    )
                  : void 0
              }

              // Reduce time spent doing lookups by setting these on the prototype.
              for (var methodName in ReactClassInterface) {
                if (!Constructor.prototype[methodName]) {
                  Constructor.prototype[methodName] = null
                }
              }

              return Constructor
            },

            injection: {
              injectMixin: function (mixin) {
                injectedMixins.push(mixin)
              },
            },
          }

          module.exports = ReactClass
        }).call(this, require('_process'))
      },
      {
        './ReactComponent': 234,
        './ReactElement': 263,
        './ReactNoopUpdateQueue': 282,
        './ReactPropTypeLocationNames': 284,
        './ReactPropTypeLocations': 285,
        _process: 162,
        'fbjs/lib/emptyObject': 35,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/keyMirror': 45,
        'fbjs/lib/keyOf': 46,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    234: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactComponent
           */

          'use strict'

          var ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var canDefineProperty = require('./canDefineProperty')
          var emptyObject = require('fbjs/lib/emptyObject')
          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          /**
           * Base class helpers for the updating state of a component.
           */
          function ReactComponent(props, context, updater) {
            this.props = props
            this.context = context
            this.refs = emptyObject
            // We initialize the default updater but the real one gets injected by the
            // renderer.
            this.updater = updater || ReactNoopUpdateQueue
          }

          ReactComponent.prototype.isReactComponent = {}

          /**
           * Sets a subset of the state. Always use this to mutate
           * state. You should treat `this.state` as immutable.
           *
           * There is no guarantee that `this.state` will be immediately updated, so
           * accessing `this.state` after calling this method may return the old value.
           *
           * There is no guarantee that calls to `setState` will run synchronously,
           * as they may eventually be batched together.  You can provide an optional
           * callback that will be executed when the call to setState is actually
           * completed.
           *
           * When a function is provided to setState, it will be called at some point in
           * the future (not synchronously). It will be called with the up to date
           * component arguments (state, props, context). These values can be different
           * from this.* because your function may be called after receiveProps but before
           * shouldComponentUpdate, and this new state, props, and context will not yet be
           * assigned to this.
           *
           * @param {object|function} partialState Next partial state or function to
           *        produce next partial state to be merged with current state.
           * @param {?function} callback Called after state is updated.
           * @final
           * @protected
           */
          ReactComponent.prototype.setState = function (
            partialState,
            callback,
          ) {
            !(
              typeof partialState === 'object' ||
              typeof partialState === 'function' ||
              partialState == null
            )
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'setState(...): takes an object of state variables to update or a ' +
                      'function which returns an object of state variables.',
                  )
                : invariant(false)
              : void 0
            if (process.env.NODE_ENV !== 'production') {
              ReactInstrumentation.debugTool.onSetState()
              process.env.NODE_ENV !== 'production'
                ? warning(
                    partialState != null,
                    'setState(...): You passed an undefined or null state object; ' +
                      'instead, use forceUpdate().',
                  )
                : void 0
            }
            this.updater.enqueueSetState(this, partialState)
            if (callback) {
              this.updater.enqueueCallback(this, callback, 'setState')
            }
          }

          /**
           * Forces an update. This should only be invoked when it is known with
           * certainty that we are **not** in a DOM transaction.
           *
           * You may want to call this when you know that some deeper aspect of the
           * component's state has changed but `setState` was not called.
           *
           * This will not invoke `shouldComponentUpdate`, but it will invoke
           * `componentWillUpdate` and `componentDidUpdate`.
           *
           * @param {?function} callback Called after update is complete.
           * @final
           * @protected
           */
          ReactComponent.prototype.forceUpdate = function (callback) {
            this.updater.enqueueForceUpdate(this)
            if (callback) {
              this.updater.enqueueCallback(this, callback, 'forceUpdate')
            }
          }

          /**
           * Deprecated APIs. These APIs used to exist on classic React classes but since
           * we would like to deprecate them, we're not going to move them over to this
           * modern base class. Instead, we define a getter that warns if it's accessed.
           */
          if (process.env.NODE_ENV !== 'production') {
            var deprecatedAPIs = {
              isMounted: [
                'isMounted',
                'Instead, make sure to clean up subscriptions and pending requests in ' +
                  'componentWillUnmount to prevent memory leaks.',
              ],
              replaceState: [
                'replaceState',
                'Refactor your code to use setState instead (see ' +
                  'https://github.com/facebook/react/issues/3236).',
              ],
            }
            var defineDeprecationWarning = function (methodName, info) {
              if (canDefineProperty) {
                Object.defineProperty(ReactComponent.prototype, methodName, {
                  get: function () {
                    process.env.NODE_ENV !== 'production'
                      ? warning(
                          false,
                          '%s(...) is deprecated in plain JavaScript React classes. %s',
                          info[0],
                          info[1],
                        )
                      : void 0
                    return undefined
                  },
                })
              }
            }
            for (var fnName in deprecatedAPIs) {
              if (deprecatedAPIs.hasOwnProperty(fnName)) {
                defineDeprecationWarning(fnName, deprecatedAPIs[fnName])
              }
            }
          }

          module.exports = ReactComponent
        }).call(this, require('_process'))
      },
      {
        './ReactInstrumentation': 273,
        './ReactNoopUpdateQueue': 282,
        './canDefineProperty': 314,
        _process: 162,
        'fbjs/lib/emptyObject': 35,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    235: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactComponentBrowserEnvironment
         */

        'use strict'

        var DOMChildrenOperations = require('./DOMChildrenOperations')
        var ReactDOMIDOperations = require('./ReactDOMIDOperations')

        /**
         * Abstracts away all functionality of the reconciler that requires knowledge of
         * the browser context. TODO: These callers should be refactored to avoid the
         * need for this injection.
         */
        var ReactComponentBrowserEnvironment = {
          processChildrenUpdates:
            ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,

          replaceNodeWithMarkup:
            DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup,

          /**
           * If a particular environment requires that some resources be cleaned up,
           * specify this in the injected Mixin. In the DOM, we would likely want to
           * purge any cached node ID lookups.
           *
           * @private
           */
          unmountIDFromEnvironment: function (rootNodeID) {},
        }

        module.exports = ReactComponentBrowserEnvironment
      },
      { './DOMChildrenOperations': 210, './ReactDOMIDOperations': 250 },
    ],
    236: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactComponentEnvironment
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          var injected = false

          var ReactComponentEnvironment = {
            /**
             * Optionally injectable environment dependent cleanup hook. (server vs.
             * browser etc). Example: A browser system caches DOM nodes based on component
             * ID and must remove that cache entry when this instance is unmounted.
             */
            unmountIDFromEnvironment: null,

            /**
             * Optionally injectable hook for swapping out mount images in the middle of
             * the tree.
             */
            replaceNodeWithMarkup: null,

            /**
             * Optionally injectable hook for processing a queue of child updates. Will
             * later move into MultiChildComponents.
             */
            processChildrenUpdates: null,

            injection: {
              injectEnvironment: function (environment) {
                !!injected
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'ReactCompositeComponent: injectEnvironment() can only be called once.',
                      )
                    : invariant(false)
                  : void 0
                ReactComponentEnvironment.unmountIDFromEnvironment =
                  environment.unmountIDFromEnvironment
                ReactComponentEnvironment.replaceNodeWithMarkup =
                  environment.replaceNodeWithMarkup
                ReactComponentEnvironment.processChildrenUpdates =
                  environment.processChildrenUpdates
                injected = true
              },
            },
          }

          module.exports = ReactComponentEnvironment
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    237: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2016-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactComponentTreeDevtool
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          var tree = {}
          var rootIDs = []

          function updateTree(id, update) {
            if (!tree[id]) {
              tree[id] = {
                parentID: null,
                ownerID: null,
                text: null,
                childIDs: [],
                displayName: 'Unknown',
                isMounted: false,
                updateCount: 0,
              }
            }
            update(tree[id])
          }

          function purgeDeep(id) {
            var item = tree[id]
            if (item) {
              var childIDs = item.childIDs

              delete tree[id]
              childIDs.forEach(purgeDeep)
            }
          }

          var ReactComponentTreeDevtool = {
            onSetDisplayName: function (id, displayName) {
              updateTree(id, function (item) {
                return (item.displayName = displayName)
              })
            },
            onSetChildren: function (id, nextChildIDs) {
              updateTree(id, function (item) {
                var prevChildIDs = item.childIDs
                item.childIDs = nextChildIDs

                nextChildIDs.forEach(function (nextChildID) {
                  var nextChild = tree[nextChildID]
                  !nextChild
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'Expected devtool events to fire for the child ' +
                            'before its parent includes it in onSetChildren().',
                        )
                      : invariant(false)
                    : void 0
                  !(nextChild.displayName != null)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'Expected onSetDisplayName() to fire for the child ' +
                            'before its parent includes it in onSetChildren().',
                        )
                      : invariant(false)
                    : void 0
                  !(nextChild.childIDs != null || nextChild.text != null)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'Expected onSetChildren() or onSetText() to fire for the child ' +
                            'before its parent includes it in onSetChildren().',
                        )
                      : invariant(false)
                    : void 0
                  !nextChild.isMounted
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'Expected onMountComponent() to fire for the child ' +
                            'before its parent includes it in onSetChildren().',
                        )
                      : invariant(false)
                    : void 0

                  if (prevChildIDs.indexOf(nextChildID) === -1) {
                    nextChild.parentID = id
                  }
                })
              })
            },
            onSetOwner: function (id, ownerID) {
              updateTree(id, function (item) {
                return (item.ownerID = ownerID)
              })
            },
            onSetText: function (id, text) {
              updateTree(id, function (item) {
                return (item.text = text)
              })
            },
            onMountComponent: function (id) {
              updateTree(id, function (item) {
                return (item.isMounted = true)
              })
            },
            onMountRootComponent: function (id) {
              rootIDs.push(id)
            },
            onUpdateComponent: function (id) {
              updateTree(id, function (item) {
                return item.updateCount++
              })
            },
            onUnmountComponent: function (id) {
              updateTree(id, function (item) {
                return (item.isMounted = false)
              })
              rootIDs = rootIDs.filter(function (rootID) {
                return rootID !== id
              })
            },
            purgeUnmountedComponents: function () {
              if (ReactComponentTreeDevtool._preventPurging) {
                // Should only be used for testing.
                return
              }

              Object.keys(tree)
                .filter(function (id) {
                  return !tree[id].isMounted
                })
                .forEach(purgeDeep)
            },
            isMounted: function (id) {
              var item = tree[id]
              return item ? item.isMounted : false
            },
            getChildIDs: function (id) {
              var item = tree[id]
              return item ? item.childIDs : []
            },
            getDisplayName: function (id) {
              var item = tree[id]
              return item ? item.displayName : 'Unknown'
            },
            getOwnerID: function (id) {
              var item = tree[id]
              return item ? item.ownerID : null
            },
            getParentID: function (id) {
              var item = tree[id]
              return item ? item.parentID : null
            },
            getText: function (id) {
              var item = tree[id]
              return item ? item.text : null
            },
            getUpdateCount: function (id) {
              var item = tree[id]
              return item ? item.updateCount : 0
            },
            getRootIDs: function () {
              return rootIDs
            },
            getRegisteredIDs: function () {
              return Object.keys(tree)
            },
          }

          module.exports = ReactComponentTreeDevtool
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    238: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactCompositeComponent
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactComponentEnvironment = require('./ReactComponentEnvironment')
          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactElement = require('./ReactElement')
          var ReactErrorUtils = require('./ReactErrorUtils')
          var ReactInstanceMap = require('./ReactInstanceMap')
          var ReactInstrumentation = require('./ReactInstrumentation')
          var ReactNodeTypes = require('./ReactNodeTypes')
          var ReactPropTypeLocations = require('./ReactPropTypeLocations')
          var ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames')
          var ReactReconciler = require('./ReactReconciler')
          var ReactUpdateQueue = require('./ReactUpdateQueue')

          var emptyObject = require('fbjs/lib/emptyObject')
          var invariant = require('fbjs/lib/invariant')
          var shouldUpdateReactComponent = require('./shouldUpdateReactComponent')
          var warning = require('fbjs/lib/warning')

          function getDeclarationErrorAddendum(component) {
            var owner = component._currentElement._owner || null
            if (owner) {
              var name = owner.getName()
              if (name) {
                return ' Check the render method of `' + name + '`.'
              }
            }
            return ''
          }

          function StatelessComponent(Component) {}
          StatelessComponent.prototype.render = function () {
            var Component = ReactInstanceMap.get(this)._currentElement.type
            var element = Component(this.props, this.context, this.updater)
            warnIfInvalidElement(Component, element)
            return element
          }

          function warnIfInvalidElement(Component, element) {
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    element === null ||
                      element === false ||
                      ReactElement.isValidElement(element),
                    '%s(...): A valid React element (or null) must be returned. You may have ' +
                      'returned undefined, an array or some other invalid object.',
                    Component.displayName || Component.name || 'Component',
                  )
                : void 0
            }
          }

          function invokeComponentDidMountWithTimer() {
            var publicInstance = this._instance
            if (this._debugID !== 0) {
              ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                this._debugID,
                'componentDidMount',
              )
            }
            publicInstance.componentDidMount()
            if (this._debugID !== 0) {
              ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                this._debugID,
                'componentDidMount',
              )
            }
          }

          function invokeComponentDidUpdateWithTimer(
            prevProps,
            prevState,
            prevContext,
          ) {
            var publicInstance = this._instance
            if (this._debugID !== 0) {
              ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                this._debugID,
                'componentDidUpdate',
              )
            }
            publicInstance.componentDidUpdate(prevProps, prevState, prevContext)
            if (this._debugID !== 0) {
              ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                this._debugID,
                'componentDidUpdate',
              )
            }
          }

          function shouldConstruct(Component) {
            return Component.prototype && Component.prototype.isReactComponent
          }

          /**
           * ------------------ The Life-Cycle of a Composite Component ------------------
           *
           * - constructor: Initialization of state. The instance is now retained.
           *   - componentWillMount
           *   - render
           *   - [children's constructors]
           *     - [children's componentWillMount and render]
           *     - [children's componentDidMount]
           *     - componentDidMount
           *
           *       Update Phases:
           *       - componentWillReceiveProps (only called if parent updated)
           *       - shouldComponentUpdate
           *         - componentWillUpdate
           *           - render
           *           - [children's constructors or receive props phases]
           *         - componentDidUpdate
           *
           *     - componentWillUnmount
           *     - [children's componentWillUnmount]
           *   - [children destroyed]
           * - (destroyed): The instance is now blank, released by React and ready for GC.
           *
           * -----------------------------------------------------------------------------
           */

          /**
           * An incrementing ID assigned to each component when it is mounted. This is
           * used to enforce the order in which `ReactUpdates` updates dirty components.
           *
           * @private
           */
          var nextMountID = 1

          /**
           * @lends {ReactCompositeComponent.prototype}
           */
          var ReactCompositeComponentMixin = {
            /**
             * Base constructor for all composite component.
             *
             * @param {ReactElement} element
             * @final
             * @internal
             */
            construct: function (element) {
              this._currentElement = element
              this._rootNodeID = null
              this._instance = null
              this._nativeParent = null
              this._nativeContainerInfo = null

              // See ReactUpdateQueue
              this._updateBatchNumber = null
              this._pendingElement = null
              this._pendingStateQueue = null
              this._pendingReplaceState = false
              this._pendingForceUpdate = false

              this._renderedNodeType = null
              this._renderedComponent = null
              this._context = null
              this._mountOrder = 0
              this._topLevelWrapper = null

              // See ReactUpdates and ReactUpdateQueue.
              this._pendingCallbacks = null

              // ComponentWillUnmount shall only be called once
              this._calledComponentWillUnmount = false
            },

            /**
             * Initializes the component, renders markup, and registers event listeners.
             *
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {?object} nativeParent
             * @param {?object} nativeContainerInfo
             * @param {?object} context
             * @return {?string} Rendered markup to be inserted into the DOM.
             * @final
             * @internal
             */
            mountComponent: function (
              transaction,
              nativeParent,
              nativeContainerInfo,
              context,
            ) {
              this._context = context
              this._mountOrder = nextMountID++
              this._nativeParent = nativeParent
              this._nativeContainerInfo = nativeContainerInfo

              var publicProps = this._processProps(this._currentElement.props)
              var publicContext = this._processContext(context)

              var Component = this._currentElement.type

              // Initialize the public class
              var inst = this._constructComponent(publicProps, publicContext)
              var renderedElement

              // Support functional components
              if (
                !shouldConstruct(Component) &&
                (inst == null || inst.render == null)
              ) {
                renderedElement = inst
                warnIfInvalidElement(Component, renderedElement)
                !(
                  inst === null ||
                  inst === false ||
                  ReactElement.isValidElement(inst)
                )
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        '%s(...): A valid React element (or null) must be returned. You may have ' +
                          'returned undefined, an array or some other invalid object.',
                        Component.displayName || Component.name || 'Component',
                      )
                    : invariant(false)
                  : void 0
                inst = new StatelessComponent(Component)
              }

              if (process.env.NODE_ENV !== 'production') {
                // This will throw later in _renderValidatedComponent, but add an early
                // warning now to help debugging
                if (inst.render == null) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '%s(...): No `render` method found on the returned component ' +
                          'instance: you may have forgotten to define `render`.',
                        Component.displayName || Component.name || 'Component',
                      )
                    : void 0
                }

                var propsMutated = inst.props !== publicProps
                var componentName =
                  Component.displayName || Component.name || 'Component'

                process.env.NODE_ENV !== 'production'
                  ? warning(
                      inst.props === undefined || !propsMutated,
                      '%s(...): When calling super() in `%s`, make sure to pass ' +
                        "up the same props that your component's constructor was passed.",
                      componentName,
                      componentName,
                    )
                  : void 0
              }

              // These should be set up in the constructor, but as a convenience for
              // simpler class abstractions, we set them up after the fact.
              inst.props = publicProps
              inst.context = publicContext
              inst.refs = emptyObject
              inst.updater = ReactUpdateQueue

              this._instance = inst

              // Store a reference from the instance back to the internal representation
              ReactInstanceMap.set(inst, this)

              if (process.env.NODE_ENV !== 'production') {
                // Since plain JS classes are defined without any special initialization
                // logic, we can not catch common errors early. Therefore, we have to
                // catch them here, at initialization time, instead.
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !inst.getInitialState ||
                        inst.getInitialState.isReactClassApproved,
                      'getInitialState was defined on %s, a plain JavaScript class. ' +
                        'This is only supported for classes created using React.createClass. ' +
                        'Did you mean to define a state property instead?',
                      this.getName() || 'a component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !inst.getDefaultProps ||
                        inst.getDefaultProps.isReactClassApproved,
                      'getDefaultProps was defined on %s, a plain JavaScript class. ' +
                        'This is only supported for classes created using React.createClass. ' +
                        'Use a static property to define defaultProps instead.',
                      this.getName() || 'a component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !inst.propTypes,
                      'propTypes was defined as an instance property on %s. Use a static ' +
                        'property to define propTypes instead.',
                      this.getName() || 'a component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !inst.contextTypes,
                      'contextTypes was defined as an instance property on %s. Use a ' +
                        'static property to define contextTypes instead.',
                      this.getName() || 'a component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      typeof inst.componentShouldUpdate !== 'function',
                      '%s has a method called ' +
                        'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +
                        'The name is phrased as a question because the function is ' +
                        'expected to return a value.',
                      this.getName() || 'A component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      typeof inst.componentDidUnmount !== 'function',
                      '%s has a method called ' +
                        'componentDidUnmount(). But there is no such lifecycle method. ' +
                        'Did you mean componentWillUnmount()?',
                      this.getName() || 'A component',
                    )
                  : void 0
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      typeof inst.componentWillRecieveProps !== 'function',
                      '%s has a method called ' +
                        'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',
                      this.getName() || 'A component',
                    )
                  : void 0
              }

              var initialState = inst.state
              if (initialState === undefined) {
                inst.state = initialState = null
              }
              !(
                typeof initialState === 'object' && !Array.isArray(initialState)
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '%s.state: must be set to an object or null',
                      this.getName() || 'ReactCompositeComponent',
                    )
                  : invariant(false)
                : void 0

              this._pendingStateQueue = null
              this._pendingReplaceState = false
              this._pendingForceUpdate = false

              var markup
              if (inst.unstable_handleError) {
                markup = this.performInitialMountWithErrorHandling(
                  renderedElement,
                  nativeParent,
                  nativeContainerInfo,
                  transaction,
                  context,
                )
              } else {
                markup = this.performInitialMount(
                  renderedElement,
                  nativeParent,
                  nativeContainerInfo,
                  transaction,
                  context,
                )
              }

              if (inst.componentDidMount) {
                if (process.env.NODE_ENV !== 'production') {
                  transaction
                    .getReactMountReady()
                    .enqueue(invokeComponentDidMountWithTimer, this)
                } else {
                  transaction
                    .getReactMountReady()
                    .enqueue(inst.componentDidMount, inst)
                }
              }

              return markup
            },

            _constructComponent: function (publicProps, publicContext) {
              if (process.env.NODE_ENV !== 'production') {
                ReactCurrentOwner.current = this
                try {
                  return this._constructComponentWithoutOwner(
                    publicProps,
                    publicContext,
                  )
                } finally {
                  ReactCurrentOwner.current = null
                }
              } else {
                return this._constructComponentWithoutOwner(
                  publicProps,
                  publicContext,
                )
              }
            },

            _constructComponentWithoutOwner: function (
              publicProps,
              publicContext,
            ) {
              var Component = this._currentElement.type
              var instanceOrElement
              if (shouldConstruct(Component)) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'ctor',
                    )
                  }
                }
                instanceOrElement = new Component(
                  publicProps,
                  publicContext,
                  ReactUpdateQueue,
                )
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'ctor',
                    )
                  }
                }
              } else {
                // This can still be an instance in case of factory components
                // but we'll count this as time spent rendering as the more common case.
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'render',
                    )
                  }
                }
                instanceOrElement = Component(
                  publicProps,
                  publicContext,
                  ReactUpdateQueue,
                )
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'render',
                    )
                  }
                }
              }
              return instanceOrElement
            },

            performInitialMountWithErrorHandling: function (
              renderedElement,
              nativeParent,
              nativeContainerInfo,
              transaction,
              context,
            ) {
              var markup
              var checkpoint = transaction.checkpoint()
              try {
                markup = this.performInitialMount(
                  renderedElement,
                  nativeParent,
                  nativeContainerInfo,
                  transaction,
                  context,
                )
              } catch (e) {
                // Roll back to checkpoint, handle error (which may add items to the transaction), and take a new checkpoint
                transaction.rollback(checkpoint)
                this._instance.unstable_handleError(e)
                if (this._pendingStateQueue) {
                  this._instance.state = this._processPendingState(
                    this._instance.props,
                    this._instance.context,
                  )
                }
                checkpoint = transaction.checkpoint()

                this._renderedComponent.unmountComponent(true)
                transaction.rollback(checkpoint)

                // Try again - we've informed the component about the error, so they can render an error message this time.
                // If this throws again, the error will bubble up (and can be caught by a higher error boundary).
                markup = this.performInitialMount(
                  renderedElement,
                  nativeParent,
                  nativeContainerInfo,
                  transaction,
                  context,
                )
              }
              return markup
            },

            performInitialMount: function (
              renderedElement,
              nativeParent,
              nativeContainerInfo,
              transaction,
              context,
            ) {
              var inst = this._instance
              if (inst.componentWillMount) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'componentWillMount',
                    )
                  }
                }
                inst.componentWillMount()
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'componentWillMount',
                    )
                  }
                }
                // When mounting, calls to `setState` by `componentWillMount` will set
                // `this._pendingStateQueue` without triggering a re-render.
                if (this._pendingStateQueue) {
                  inst.state = this._processPendingState(
                    inst.props,
                    inst.context,
                  )
                }
              }

              // If not a stateless component, we now render
              if (renderedElement === undefined) {
                renderedElement = this._renderValidatedComponent()
              }

              this._renderedNodeType = ReactNodeTypes.getType(renderedElement)
              this._renderedComponent =
                this._instantiateReactComponent(renderedElement)

              var markup = ReactReconciler.mountComponent(
                this._renderedComponent,
                transaction,
                nativeParent,
                nativeContainerInfo,
                this._processChildContext(context),
              )

              if (process.env.NODE_ENV !== 'production') {
                if (this._debugID !== 0) {
                  ReactInstrumentation.debugTool.onSetChildren(
                    this._debugID,
                    this._renderedComponent._debugID !== 0
                      ? [this._renderedComponent._debugID]
                      : [],
                  )
                }
              }

              return markup
            },

            getNativeNode: function () {
              return ReactReconciler.getNativeNode(this._renderedComponent)
            },

            /**
             * Releases any resources allocated by `mountComponent`.
             *
             * @final
             * @internal
             */
            unmountComponent: function (safely) {
              if (!this._renderedComponent) {
                return
              }
              var inst = this._instance

              if (
                inst.componentWillUnmount &&
                !inst._calledComponentWillUnmount
              ) {
                inst._calledComponentWillUnmount = true
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'componentWillUnmount',
                    )
                  }
                }
                if (safely) {
                  var name = this.getName() + '.componentWillUnmount()'
                  ReactErrorUtils.invokeGuardedCallback(
                    name,
                    inst.componentWillUnmount.bind(inst),
                  )
                } else {
                  inst.componentWillUnmount()
                }
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'componentWillUnmount',
                    )
                  }
                }
              }

              if (this._renderedComponent) {
                ReactReconciler.unmountComponent(
                  this._renderedComponent,
                  safely,
                )
                this._renderedNodeType = null
                this._renderedComponent = null
                this._instance = null
              }

              // Reset pending fields
              // Even if this component is scheduled for another update in ReactUpdates,
              // it would still be ignored because these fields are reset.
              this._pendingStateQueue = null
              this._pendingReplaceState = false
              this._pendingForceUpdate = false
              this._pendingCallbacks = null
              this._pendingElement = null

              // These fields do not really need to be reset since this object is no
              // longer accessible.
              this._context = null
              this._rootNodeID = null
              this._topLevelWrapper = null

              // Delete the reference from the instance to this internal representation
              // which allow the internals to be properly cleaned up even if the user
              // leaks a reference to the public instance.
              ReactInstanceMap.remove(inst)

              // Some existing components rely on inst.props even after they've been
              // destroyed (in event handlers).
              // TODO: inst.props = null;
              // TODO: inst.state = null;
              // TODO: inst.context = null;
            },

            /**
             * Filters the context object to only contain keys specified in
             * `contextTypes`
             *
             * @param {object} context
             * @return {?object}
             * @private
             */
            _maskContext: function (context) {
              var Component = this._currentElement.type
              var contextTypes = Component.contextTypes
              if (!contextTypes) {
                return emptyObject
              }
              var maskedContext = {}
              for (var contextName in contextTypes) {
                maskedContext[contextName] = context[contextName]
              }
              return maskedContext
            },

            /**
             * Filters the context object to only contain keys specified in
             * `contextTypes`, and asserts that they are valid.
             *
             * @param {object} context
             * @return {?object}
             * @private
             */
            _processContext: function (context) {
              var maskedContext = this._maskContext(context)
              if (process.env.NODE_ENV !== 'production') {
                var Component = this._currentElement.type
                if (Component.contextTypes) {
                  this._checkPropTypes(
                    Component.contextTypes,
                    maskedContext,
                    ReactPropTypeLocations.context,
                  )
                }
              }
              return maskedContext
            },

            /**
             * @param {object} currentContext
             * @return {object}
             * @private
             */
            _processChildContext: function (currentContext) {
              var Component = this._currentElement.type
              var inst = this._instance
              if (process.env.NODE_ENV !== 'production') {
                ReactInstrumentation.debugTool.onBeginProcessingChildContext()
              }
              var childContext = inst.getChildContext && inst.getChildContext()
              if (process.env.NODE_ENV !== 'production') {
                ReactInstrumentation.debugTool.onEndProcessingChildContext()
              }
              if (childContext) {
                !(typeof Component.childContextTypes === 'object')
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        '%s.getChildContext(): childContextTypes must be defined in order to ' +
                          'use getChildContext().',
                        this.getName() || 'ReactCompositeComponent',
                      )
                    : invariant(false)
                  : void 0
                if (process.env.NODE_ENV !== 'production') {
                  this._checkPropTypes(
                    Component.childContextTypes,
                    childContext,
                    ReactPropTypeLocations.childContext,
                  )
                }
                for (var name in childContext) {
                  !(name in Component.childContextTypes)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          '%s.getChildContext(): key "%s" is not defined in childContextTypes.',
                          this.getName() || 'ReactCompositeComponent',
                          name,
                        )
                      : invariant(false)
                    : void 0
                }
                return _assign({}, currentContext, childContext)
              }
              return currentContext
            },

            /**
             * Processes props by setting default values for unspecified props and
             * asserting that the props are valid. Does not mutate its argument; returns
             * a new props object with defaults merged in.
             *
             * @param {object} newProps
             * @return {object}
             * @private
             */
            _processProps: function (newProps) {
              if (process.env.NODE_ENV !== 'production') {
                var Component = this._currentElement.type
                if (Component.propTypes) {
                  this._checkPropTypes(
                    Component.propTypes,
                    newProps,
                    ReactPropTypeLocations.prop,
                  )
                }
              }
              return newProps
            },

            /**
             * Assert that the props are valid
             *
             * @param {object} propTypes Map of prop name to a ReactPropType
             * @param {object} props
             * @param {string} location e.g. "prop", "context", "child context"
             * @private
             */
            _checkPropTypes: function (propTypes, props, location) {
              // TODO: Stop validating prop types here and only use the element
              // validation.
              var componentName = this.getName()
              for (var propName in propTypes) {
                if (propTypes.hasOwnProperty(propName)) {
                  var error
                  try {
                    // This is intentionally an invariant that gets caught. It's the same
                    // behavior as without this statement except with a better message.
                    !(typeof propTypes[propName] === 'function')
                      ? process.env.NODE_ENV !== 'production'
                        ? invariant(
                            false,
                            '%s: %s type `%s` is invalid; it must be a function, usually ' +
                              'from React.PropTypes.',
                            componentName || 'React class',
                            ReactPropTypeLocationNames[location],
                            propName,
                          )
                        : invariant(false)
                      : void 0
                    error = propTypes[propName](
                      props,
                      propName,
                      componentName,
                      location,
                    )
                  } catch (ex) {
                    error = ex
                  }
                  if (error instanceof Error) {
                    // We may want to extend this logic for similar errors in
                    // top-level render calls, so I'm abstracting it away into
                    // a function to minimize refactoring in the future
                    var addendum = getDeclarationErrorAddendum(this)

                    if (location === ReactPropTypeLocations.prop) {
                      // Preface gives us something to blacklist in warning module
                      process.env.NODE_ENV !== 'production'
                        ? warning(
                            false,
                            'Failed Composite propType: %s%s',
                            error.message,
                            addendum,
                          )
                        : void 0
                    } else {
                      process.env.NODE_ENV !== 'production'
                        ? warning(
                            false,
                            'Failed Context Types: %s%s',
                            error.message,
                            addendum,
                          )
                        : void 0
                    }
                  }
                }
              }
            },

            receiveComponent: function (nextElement, transaction, nextContext) {
              var prevElement = this._currentElement
              var prevContext = this._context

              this._pendingElement = null

              this.updateComponent(
                transaction,
                prevElement,
                nextElement,
                prevContext,
                nextContext,
              )
            },

            /**
             * If any of `_pendingElement`, `_pendingStateQueue`, or `_pendingForceUpdate`
             * is set, update the component.
             *
             * @param {ReactReconcileTransaction} transaction
             * @internal
             */
            performUpdateIfNecessary: function (transaction) {
              if (this._pendingElement != null) {
                ReactReconciler.receiveComponent(
                  this,
                  this._pendingElement,
                  transaction,
                  this._context,
                )
              } else if (
                this._pendingStateQueue !== null ||
                this._pendingForceUpdate
              ) {
                this.updateComponent(
                  transaction,
                  this._currentElement,
                  this._currentElement,
                  this._context,
                  this._context,
                )
              } else {
                this._updateBatchNumber = null
              }
            },

            /**
             * Perform an update to a mounted component. The componentWillReceiveProps and
             * shouldComponentUpdate methods are called, then (assuming the update isn't
             * skipped) the remaining update lifecycle methods are called and the DOM
             * representation is updated.
             *
             * By default, this implements React's rendering and reconciliation algorithm.
             * Sophisticated clients may wish to override this.
             *
             * @param {ReactReconcileTransaction} transaction
             * @param {ReactElement} prevParentElement
             * @param {ReactElement} nextParentElement
             * @internal
             * @overridable
             */
            updateComponent: function (
              transaction,
              prevParentElement,
              nextParentElement,
              prevUnmaskedContext,
              nextUnmaskedContext,
            ) {
              var inst = this._instance
              var willReceive = false
              var nextContext
              var nextProps

              // Determine if the context has changed or not
              if (this._context === nextUnmaskedContext) {
                nextContext = inst.context
              } else {
                nextContext = this._processContext(nextUnmaskedContext)
                willReceive = true
              }

              // Distinguish between a props update versus a simple state update
              if (prevParentElement === nextParentElement) {
                // Skip checking prop types again -- we don't read inst.props to avoid
                // warning for DOM component props in this upgrade
                nextProps = nextParentElement.props
              } else {
                nextProps = this._processProps(nextParentElement.props)
                willReceive = true
              }

              // An update here will schedule an update but immediately set
              // _pendingStateQueue which will ensure that any state updates gets
              // immediately reconciled instead of waiting for the next batch.
              if (willReceive && inst.componentWillReceiveProps) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'componentWillReceiveProps',
                    )
                  }
                }
                inst.componentWillReceiveProps(nextProps, nextContext)
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'componentWillReceiveProps',
                    )
                  }
                }
              }

              var nextState = this._processPendingState(nextProps, nextContext)
              var shouldUpdate = true

              if (!this._pendingForceUpdate && inst.shouldComponentUpdate) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'shouldComponentUpdate',
                    )
                  }
                }
                shouldUpdate = inst.shouldComponentUpdate(
                  nextProps,
                  nextState,
                  nextContext,
                )
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'shouldComponentUpdate',
                    )
                  }
                }
              }

              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      shouldUpdate !== undefined,
                      '%s.shouldComponentUpdate(): Returned undefined instead of a ' +
                        'boolean value. Make sure to return true or false.',
                      this.getName() || 'ReactCompositeComponent',
                    )
                  : void 0
              }

              this._updateBatchNumber = null
              if (shouldUpdate) {
                this._pendingForceUpdate = false
                // Will set `this.props`, `this.state` and `this.context`.
                this._performComponentUpdate(
                  nextParentElement,
                  nextProps,
                  nextState,
                  nextContext,
                  transaction,
                  nextUnmaskedContext,
                )
              } else {
                // If it's determined that a component should not update, we still want
                // to set props and state but we shortcut the rest of the update.
                this._currentElement = nextParentElement
                this._context = nextUnmaskedContext
                inst.props = nextProps
                inst.state = nextState
                inst.context = nextContext
              }
            },

            _processPendingState: function (props, context) {
              var inst = this._instance
              var queue = this._pendingStateQueue
              var replace = this._pendingReplaceState
              this._pendingReplaceState = false
              this._pendingStateQueue = null

              if (!queue) {
                return inst.state
              }

              if (replace && queue.length === 1) {
                return queue[0]
              }

              var nextState = _assign({}, replace ? queue[0] : inst.state)
              for (var i = replace ? 1 : 0; i < queue.length; i++) {
                var partial = queue[i]
                _assign(
                  nextState,
                  typeof partial === 'function'
                    ? partial.call(inst, nextState, props, context)
                    : partial,
                )
              }

              return nextState
            },

            /**
             * Merges new props and state, notifies delegate methods of update and
             * performs update.
             *
             * @param {ReactElement} nextElement Next element
             * @param {object} nextProps Next public object to set as properties.
             * @param {?object} nextState Next object to set as state.
             * @param {?object} nextContext Next public object to set as context.
             * @param {ReactReconcileTransaction} transaction
             * @param {?object} unmaskedContext
             * @private
             */
            _performComponentUpdate: function (
              nextElement,
              nextProps,
              nextState,
              nextContext,
              transaction,
              unmaskedContext,
            ) {
              var inst = this._instance

              var hasComponentDidUpdate = Boolean(inst.componentDidUpdate)
              var prevProps
              var prevState
              var prevContext
              if (hasComponentDidUpdate) {
                prevProps = inst.props
                prevState = inst.state
                prevContext = inst.context
              }

              if (inst.componentWillUpdate) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                      this._debugID,
                      'componentWillUpdate',
                    )
                  }
                }
                inst.componentWillUpdate(nextProps, nextState, nextContext)
                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                      this._debugID,
                      'componentWillUpdate',
                    )
                  }
                }
              }

              this._currentElement = nextElement
              this._context = unmaskedContext
              inst.props = nextProps
              inst.state = nextState
              inst.context = nextContext

              this._updateRenderedComponent(transaction, unmaskedContext)

              if (hasComponentDidUpdate) {
                if (process.env.NODE_ENV !== 'production') {
                  transaction
                    .getReactMountReady()
                    .enqueue(
                      invokeComponentDidUpdateWithTimer.bind(
                        this,
                        prevProps,
                        prevState,
                        prevContext,
                      ),
                      this,
                    )
                } else {
                  transaction
                    .getReactMountReady()
                    .enqueue(
                      inst.componentDidUpdate.bind(
                        inst,
                        prevProps,
                        prevState,
                        prevContext,
                      ),
                      inst,
                    )
                }
              }
            },

            /**
             * Call the component's `render` method and update the DOM accordingly.
             *
             * @param {ReactReconcileTransaction} transaction
             * @internal
             */
            _updateRenderedComponent: function (transaction, context) {
              var prevComponentInstance = this._renderedComponent
              var prevRenderedElement = prevComponentInstance._currentElement
              var nextRenderedElement = this._renderValidatedComponent()
              if (
                shouldUpdateReactComponent(
                  prevRenderedElement,
                  nextRenderedElement,
                )
              ) {
                ReactReconciler.receiveComponent(
                  prevComponentInstance,
                  nextRenderedElement,
                  transaction,
                  this._processChildContext(context),
                )
              } else {
                var oldNativeNode = ReactReconciler.getNativeNode(
                  prevComponentInstance,
                )
                ReactReconciler.unmountComponent(prevComponentInstance, false)

                this._renderedNodeType =
                  ReactNodeTypes.getType(nextRenderedElement)
                this._renderedComponent =
                  this._instantiateReactComponent(nextRenderedElement)

                var nextMarkup = ReactReconciler.mountComponent(
                  this._renderedComponent,
                  transaction,
                  this._nativeParent,
                  this._nativeContainerInfo,
                  this._processChildContext(context),
                )

                if (process.env.NODE_ENV !== 'production') {
                  if (this._debugID !== 0) {
                    ReactInstrumentation.debugTool.onSetChildren(
                      this._debugID,
                      this._renderedComponent._debugID !== 0
                        ? [this._renderedComponent._debugID]
                        : [],
                    )
                  }
                }

                this._replaceNodeWithMarkup(
                  oldNativeNode,
                  nextMarkup,
                  prevComponentInstance,
                )
              }
            },

            /**
             * Overridden in shallow rendering.
             *
             * @protected
             */
            _replaceNodeWithMarkup: function (
              oldNativeNode,
              nextMarkup,
              prevInstance,
            ) {
              ReactComponentEnvironment.replaceNodeWithMarkup(
                oldNativeNode,
                nextMarkup,
                prevInstance,
              )
            },

            /**
             * @protected
             */
            _renderValidatedComponentWithoutOwnerOrContext: function () {
              var inst = this._instance

              if (process.env.NODE_ENV !== 'production') {
                if (this._debugID !== 0) {
                  ReactInstrumentation.debugTool.onBeginLifeCycleTimer(
                    this._debugID,
                    'render',
                  )
                }
              }
              var renderedComponent = inst.render()
              if (process.env.NODE_ENV !== 'production') {
                if (this._debugID !== 0) {
                  ReactInstrumentation.debugTool.onEndLifeCycleTimer(
                    this._debugID,
                    'render',
                  )
                }
              }

              if (process.env.NODE_ENV !== 'production') {
                // We allow auto-mocks to proceed as if they're returning null.
                if (
                  renderedComponent === undefined &&
                  inst.render._isMockFunction
                ) {
                  // This is probably bad practice. Consider warning here and
                  // deprecating this convenience.
                  renderedComponent = null
                }
              }

              return renderedComponent
            },

            /**
             * @private
             */
            _renderValidatedComponent: function () {
              var renderedComponent
              ReactCurrentOwner.current = this
              try {
                renderedComponent =
                  this._renderValidatedComponentWithoutOwnerOrContext()
              } finally {
                ReactCurrentOwner.current = null
              }
              !(
                // TODO: An `isValidNode` function would probably be more appropriate
                (
                  renderedComponent === null ||
                  renderedComponent === false ||
                  ReactElement.isValidElement(renderedComponent)
                )
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '%s.render(): A valid React element (or null) must be returned. You may have ' +
                        'returned undefined, an array or some other invalid object.',
                      this.getName() || 'ReactCompositeComponent',
                    )
                  : invariant(false)
                : void 0

              return renderedComponent
            },

            /**
             * Lazily allocates the refs object and stores `component` as `ref`.
             *
             * @param {string} ref Reference name.
             * @param {component} component Component to store as `ref`.
             * @final
             * @private
             */
            attachRef: function (ref, component) {
              var inst = this.getPublicInstance()
              !(inst != null)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Stateless function components cannot have refs.',
                    )
                  : invariant(false)
                : void 0
              var publicComponentInstance = component.getPublicInstance()
              if (process.env.NODE_ENV !== 'production') {
                var componentName =
                  component && component.getName
                    ? component.getName()
                    : 'a component'
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      publicComponentInstance != null,
                      'Stateless function components cannot be given refs ' +
                        '(See ref "%s" in %s created by %s). ' +
                        'Attempts to access this ref will fail.',
                      ref,
                      componentName,
                      this.getName(),
                    )
                  : void 0
              }
              var refs =
                inst.refs === emptyObject ? (inst.refs = {}) : inst.refs
              refs[ref] = publicComponentInstance
            },

            /**
             * Detaches a reference name.
             *
             * @param {string} ref Name to dereference.
             * @final
             * @private
             */
            detachRef: function (ref) {
              var refs = this.getPublicInstance().refs
              delete refs[ref]
            },

            /**
             * Get a text description of the component that can be used to identify it
             * in error messages.
             * @return {string} The name or null.
             * @internal
             */
            getName: function () {
              var type = this._currentElement.type
              var constructor = this._instance && this._instance.constructor
              return (
                type.displayName ||
                (constructor && constructor.displayName) ||
                type.name ||
                (constructor && constructor.name) ||
                null
              )
            },

            /**
             * Get the publicly accessible representation of this component - i.e. what
             * is exposed by refs and returned by render. Can be null for stateless
             * components.
             *
             * @return {ReactComponent} the public component instance.
             * @internal
             */
            getPublicInstance: function () {
              var inst = this._instance
              if (inst instanceof StatelessComponent) {
                return null
              }
              return inst
            },

            // Stub
            _instantiateReactComponent: null,
          }

          var ReactCompositeComponent = {
            Mixin: ReactCompositeComponentMixin,
          }

          module.exports = ReactCompositeComponent
        }).call(this, require('_process'))
      },
      {
        './ReactComponentEnvironment': 236,
        './ReactCurrentOwner': 239,
        './ReactElement': 263,
        './ReactErrorUtils': 266,
        './ReactInstanceMap': 272,
        './ReactInstrumentation': 273,
        './ReactNodeTypes': 281,
        './ReactPropTypeLocationNames': 284,
        './ReactPropTypeLocations': 285,
        './ReactReconciler': 288,
        './ReactUpdateQueue': 291,
        './shouldUpdateReactComponent': 338,
        _process: 162,
        'fbjs/lib/emptyObject': 35,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    239: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactCurrentOwner
         */

        'use strict'

        /**
         * Keeps track of the current owner.
         *
         * The current owner is the component who should own any components that are
         * currently being constructed.
         */

        var ReactCurrentOwner = {
          /**
           * @internal
           * @type {ReactComponent}
           */
          current: null,
        }

        module.exports = ReactCurrentOwner
      },
      {},
    ],
    240: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOM
           */

          /* globals __REACT_DEVTOOLS_GLOBAL_HOOK__*/

          'use strict'

          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactDefaultInjection = require('./ReactDefaultInjection')
          var ReactMount = require('./ReactMount')
          var ReactReconciler = require('./ReactReconciler')
          var ReactUpdates = require('./ReactUpdates')
          var ReactVersion = require('./ReactVersion')

          var findDOMNode = require('./findDOMNode')
          var getNativeComponentFromComposite = require('./getNativeComponentFromComposite')
          var renderSubtreeIntoContainer = require('./renderSubtreeIntoContainer')
          var warning = require('fbjs/lib/warning')

          ReactDefaultInjection.inject()

          var React = {
            findDOMNode: findDOMNode,
            render: ReactMount.render,
            unmountComponentAtNode: ReactMount.unmountComponentAtNode,
            version: ReactVersion,

            /* eslint-disable camelcase */
            unstable_batchedUpdates: ReactUpdates.batchedUpdates,
            unstable_renderSubtreeIntoContainer: renderSubtreeIntoContainer,
          }

          // Inject the runtime into a devtools global hook regardless of browser.
          // Allows for debugging when the hook is injected on the page.
          /* eslint-enable camelcase */
          if (
            typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&
            typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function'
          ) {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
              ComponentTree: {
                getClosestInstanceFromNode:
                  ReactDOMComponentTree.getClosestInstanceFromNode,
                getNodeFromInstance: function (inst) {
                  // inst is an internal instance (but could be a composite)
                  if (inst._renderedComponent) {
                    inst = getNativeComponentFromComposite(inst)
                  }
                  if (inst) {
                    return ReactDOMComponentTree.getNodeFromInstance(inst)
                  } else {
                    return null
                  }
                },
              },
              Mount: ReactMount,
              Reconciler: ReactReconciler,
            })
          }

          if (process.env.NODE_ENV !== 'production') {
            var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
            if (ExecutionEnvironment.canUseDOM && window.top === window.self) {
              // First check if devtools is not installed
              if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {
                // If we're in Chrome or Firefox, provide a download link if not installed.
                if (
                  (navigator.userAgent.indexOf('Chrome') > -1 &&
                    navigator.userAgent.indexOf('Edge') === -1) ||
                  navigator.userAgent.indexOf('Firefox') > -1
                ) {
                  // Firefox does not have the issue with devtools loaded over file://
                  var showFileUrlMessage =
                    window.location.protocol.indexOf('http') === -1 &&
                    navigator.userAgent.indexOf('Firefox') === -1
                  console.debug(
                    'Download the React DevTools ' +
                      (showFileUrlMessage
                        ? 'and use an HTTP server (instead of a file: URL) '
                        : '') +
                      'for a better development experience: ' +
                      'https://fb.me/react-devtools',
                  )
                }
              }

              var testFunc = function testFn() {}
              process.env.NODE_ENV !== 'production'
                ? warning(
                    (testFunc.name || testFunc.toString()).indexOf('testFn') !==
                      -1,
                    "It looks like you're using a minified copy of the development build " +
                      'of React. When deploying React apps to production, make sure to use ' +
                      'the production build which skips development warnings and is faster. ' +
                      'See https://fb.me/react-minification for more details.',
                  )
                : void 0

              // If we're in IE8, check to see if we are in compatibility mode and provide
              // information on preventing compatibility mode
              var ieCompatibilityMode =
                document.documentMode && document.documentMode < 8

              process.env.NODE_ENV !== 'production'
                ? warning(
                    !ieCompatibilityMode,
                    'Internet Explorer is running in compatibility mode; please add the ' +
                      'following tag to your HTML to prevent this from happening: ' +
                      '<meta http-equiv="X-UA-Compatible" content="IE=edge" />',
                  )
                : void 0

              var expectedFeatures = [
                // shims
                Array.isArray,
                Array.prototype.every,
                Array.prototype.forEach,
                Array.prototype.indexOf,
                Array.prototype.map,
                Date.now,
                Function.prototype.bind,
                Object.keys,
                String.prototype.split,
                String.prototype.trim,
              ]

              for (var i = 0; i < expectedFeatures.length; i++) {
                if (!expectedFeatures[i]) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'One or more ES5 shims expected by React are not available: ' +
                          'https://fb.me/react-warning-polyfills',
                      )
                    : void 0
                  break
                }
              }
            }
          }

          module.exports = React
        }).call(this, require('_process'))
      },
      {
        './ReactDOMComponentTree': 244,
        './ReactDefaultInjection': 262,
        './ReactMount': 276,
        './ReactReconciler': 288,
        './ReactUpdates': 292,
        './ReactVersion': 293,
        './findDOMNode': 318,
        './getNativeComponentFromComposite': 326,
        './renderSubtreeIntoContainer': 335,
        _process: 162,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/warning': 52,
      },
    ],
    241: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMButton
         */

        'use strict'

        var DisabledInputUtils = require('./DisabledInputUtils')

        /**
         * Implements a <button> native component that does not receive mouse events
         * when `disabled` is set.
         */
        var ReactDOMButton = {
          getNativeProps: DisabledInputUtils.getNativeProps,
        }

        module.exports = ReactDOMButton
      },
      { './DisabledInputUtils': 217 },
    ],
    242: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMComponent
           */

          /* global hasOwnProperty:true */

          'use strict'

          var _assign = require('object-assign')

          var AutoFocusUtils = require('./AutoFocusUtils')
          var CSSPropertyOperations = require('./CSSPropertyOperations')
          var DOMLazyTree = require('./DOMLazyTree')
          var DOMNamespaces = require('./DOMNamespaces')
          var DOMProperty = require('./DOMProperty')
          var DOMPropertyOperations = require('./DOMPropertyOperations')
          var EventConstants = require('./EventConstants')
          var EventPluginHub = require('./EventPluginHub')
          var EventPluginRegistry = require('./EventPluginRegistry')
          var ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter')
          var ReactComponentBrowserEnvironment = require('./ReactComponentBrowserEnvironment')
          var ReactDOMButton = require('./ReactDOMButton')
          var ReactDOMComponentFlags = require('./ReactDOMComponentFlags')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactDOMInput = require('./ReactDOMInput')
          var ReactDOMOption = require('./ReactDOMOption')
          var ReactDOMSelect = require('./ReactDOMSelect')
          var ReactDOMTextarea = require('./ReactDOMTextarea')
          var ReactInstrumentation = require('./ReactInstrumentation')
          var ReactMultiChild = require('./ReactMultiChild')
          var ReactServerRenderingTransaction = require('./ReactServerRenderingTransaction')

          var emptyFunction = require('fbjs/lib/emptyFunction')
          var escapeTextContentForBrowser = require('./escapeTextContentForBrowser')
          var invariant = require('fbjs/lib/invariant')
          var isEventSupported = require('./isEventSupported')
          var keyOf = require('fbjs/lib/keyOf')
          var shallowEqual = require('fbjs/lib/shallowEqual')
          var validateDOMNesting = require('./validateDOMNesting')
          var warning = require('fbjs/lib/warning')

          var Flags = ReactDOMComponentFlags
          var deleteListener = EventPluginHub.deleteListener
          var getNode = ReactDOMComponentTree.getNodeFromInstance
          var listenTo = ReactBrowserEventEmitter.listenTo
          var registrationNameModules =
            EventPluginRegistry.registrationNameModules

          // For quickly matching children type, to test if can be treated as content.
          var CONTENT_TYPES = { string: true, number: true }

          var STYLE = keyOf({ style: null })
          var HTML = keyOf({ __html: null })
          var RESERVED_PROPS = {
            children: null,
            dangerouslySetInnerHTML: null,
            suppressContentEditableWarning: null,
          }

          // Node type for document fragments (Node.DOCUMENT_FRAGMENT_NODE).
          var DOC_FRAGMENT_TYPE = 11

          function getDeclarationErrorAddendum(internalInstance) {
            if (internalInstance) {
              var owner = internalInstance._currentElement._owner || null
              if (owner) {
                var name = owner.getName()
                if (name) {
                  return ' This DOM node was rendered by `' + name + '`.'
                }
              }
            }
            return ''
          }

          function friendlyStringify(obj) {
            if (typeof obj === 'object') {
              if (Array.isArray(obj)) {
                return '[' + obj.map(friendlyStringify).join(', ') + ']'
              } else {
                var pairs = []
                for (var key in obj) {
                  if (Object.prototype.hasOwnProperty.call(obj, key)) {
                    var keyEscaped = /^[a-z$_][\w$_]*$/i.test(key)
                      ? key
                      : JSON.stringify(key)
                    pairs.push(keyEscaped + ': ' + friendlyStringify(obj[key]))
                  }
                }
                return '{' + pairs.join(', ') + '}'
              }
            } else if (typeof obj === 'string') {
              return JSON.stringify(obj)
            } else if (typeof obj === 'function') {
              return '[function object]'
            }
            // Differs from JSON.stringify in that undefined because undefined and that
            // inf and nan don't become null
            return String(obj)
          }

          var styleMutationWarning = {}

          function checkAndWarnForMutatedStyle(style1, style2, component) {
            if (style1 == null || style2 == null) {
              return
            }
            if (shallowEqual(style1, style2)) {
              return
            }

            var componentName = component._tag
            var owner = component._currentElement._owner
            var ownerName
            if (owner) {
              ownerName = owner.getName()
            }

            var hash = ownerName + '|' + componentName

            if (styleMutationWarning.hasOwnProperty(hash)) {
              return
            }

            styleMutationWarning[hash] = true

            process.env.NODE_ENV !== 'production'
              ? warning(
                  false,
                  '`%s` was passed a style object that has previously been mutated. ' +
                    'Mutating `style` is deprecated. Consider cloning it beforehand. Check ' +
                    'the `render` %s. Previous style: %s. Mutated style: %s.',
                  componentName,
                  owner
                    ? 'of `' + ownerName + '`'
                    : 'using <' + componentName + '>',
                  friendlyStringify(style1),
                  friendlyStringify(style2),
                )
              : void 0
          }

          /**
           * @param {object} component
           * @param {?object} props
           */
          function assertValidProps(component, props) {
            if (!props) {
              return
            }
            // Note the use of `==` which checks for null or undefined.
            if (voidElementTags[component._tag]) {
              !(props.children == null && props.dangerouslySetInnerHTML == null)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '%s is a void element tag and must not have `children` or ' +
                        'use `props.dangerouslySetInnerHTML`.%s',
                      component._tag,
                      component._currentElement._owner
                        ? ' Check the render method of ' +
                            component._currentElement._owner.getName() +
                            '.'
                        : '',
                    )
                  : invariant(false)
                : void 0
            }
            if (props.dangerouslySetInnerHTML != null) {
              !(props.children == null)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Can only set one of `children` or `props.dangerouslySetInnerHTML`.',
                    )
                  : invariant(false)
                : void 0
              !(
                typeof props.dangerouslySetInnerHTML === 'object' &&
                HTML in props.dangerouslySetInnerHTML
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. ' +
                        'Please visit https://fb.me/react-invariant-dangerously-set-inner-html ' +
                        'for more information.',
                    )
                  : invariant(false)
                : void 0
            }
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    props.innerHTML == null,
                    'Directly setting property `innerHTML` is not permitted. ' +
                      'For more information, lookup documentation on `dangerouslySetInnerHTML`.',
                  )
                : void 0
              process.env.NODE_ENV !== 'production'
                ? warning(
                    props.suppressContentEditableWarning ||
                      !props.contentEditable ||
                      props.children == null,
                    'A component is `contentEditable` and contains `children` managed by ' +
                      'React. It is now your responsibility to guarantee that none of ' +
                      'those nodes are unexpectedly modified or duplicated. This is ' +
                      'probably not intentional.',
                  )
                : void 0
              process.env.NODE_ENV !== 'production'
                ? warning(
                    props.onFocusIn == null && props.onFocusOut == null,
                    'React uses onFocus and onBlur instead of onFocusIn and onFocusOut. ' +
                      'All React events are normalized to bubble, so onFocusIn and onFocusOut ' +
                      'are not needed/supported by React.',
                  )
                : void 0
            }
            !(props.style == null || typeof props.style === 'object')
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'The `style` prop expects a mapping from style properties to values, ' +
                      "not a string. For example, style={{marginRight: spacing + 'em'}} when " +
                      'using JSX.%s',
                    getDeclarationErrorAddendum(component),
                  )
                : invariant(false)
              : void 0
          }

          function enqueuePutListener(
            inst,
            registrationName,
            listener,
            transaction,
          ) {
            if (transaction instanceof ReactServerRenderingTransaction) {
              return
            }
            if (process.env.NODE_ENV !== 'production') {
              // IE8 has no API for event capturing and the `onScroll` event doesn't
              // bubble.
              process.env.NODE_ENV !== 'production'
                ? warning(
                    registrationName !== 'onScroll' ||
                      isEventSupported('scroll', true),
                    "This browser doesn't support the `onScroll` event",
                  )
                : void 0
            }
            var containerInfo = inst._nativeContainerInfo
            var isDocumentFragment =
              containerInfo._node &&
              containerInfo._node.nodeType === DOC_FRAGMENT_TYPE
            var doc = isDocumentFragment
              ? containerInfo._node
              : containerInfo._ownerDocument
            listenTo(registrationName, doc)
            transaction.getReactMountReady().enqueue(putListener, {
              inst: inst,
              registrationName: registrationName,
              listener: listener,
            })
          }

          function putListener() {
            var listenerToPut = this
            EventPluginHub.putListener(
              listenerToPut.inst,
              listenerToPut.registrationName,
              listenerToPut.listener,
            )
          }

          function optionPostMount() {
            var inst = this
            ReactDOMOption.postMountWrapper(inst)
          }

          var setContentChildForInstrumentation = emptyFunction
          if (process.env.NODE_ENV !== 'production') {
            setContentChildForInstrumentation = function (contentToUse) {
              var debugID = this._debugID
              var contentDebugID = debugID + '#text'
              this._contentDebugID = contentDebugID
              ReactInstrumentation.debugTool.onSetDisplayName(
                contentDebugID,
                '#text',
              )
              ReactInstrumentation.debugTool.onSetText(
                contentDebugID,
                '' + contentToUse,
              )
              ReactInstrumentation.debugTool.onMountComponent(contentDebugID)
              ReactInstrumentation.debugTool.onSetChildren(debugID, [
                contentDebugID,
              ])
            }
          }

          // There are so many media events, it makes sense to just
          // maintain a list rather than create a `trapBubbledEvent` for each
          var mediaEvents = {
            topAbort: 'abort',
            topCanPlay: 'canplay',
            topCanPlayThrough: 'canplaythrough',
            topDurationChange: 'durationchange',
            topEmptied: 'emptied',
            topEncrypted: 'encrypted',
            topEnded: 'ended',
            topError: 'error',
            topLoadedData: 'loadeddata',
            topLoadedMetadata: 'loadedmetadata',
            topLoadStart: 'loadstart',
            topPause: 'pause',
            topPlay: 'play',
            topPlaying: 'playing',
            topProgress: 'progress',
            topRateChange: 'ratechange',
            topSeeked: 'seeked',
            topSeeking: 'seeking',
            topStalled: 'stalled',
            topSuspend: 'suspend',
            topTimeUpdate: 'timeupdate',
            topVolumeChange: 'volumechange',
            topWaiting: 'waiting',
          }

          function trapBubbledEventsLocal() {
            var inst = this
            // If a component renders to null or if another component fatals and causes
            // the state of the tree to be corrupted, `node` here can be null.
            !inst._rootNodeID
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'Must be mounted to trap events')
                : invariant(false)
              : void 0
            var node = getNode(inst)
            !node
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'trapBubbledEvent(...): Requires node to be rendered.',
                  )
                : invariant(false)
              : void 0

            switch (inst._tag) {
              case 'iframe':
              case 'object':
                inst._wrapperState.listeners = [
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topLoad,
                    'load',
                    node,
                  ),
                ]
                break
              case 'video':
              case 'audio':
                inst._wrapperState.listeners = []
                // Create listener for each media event
                for (var event in mediaEvents) {
                  if (mediaEvents.hasOwnProperty(event)) {
                    inst._wrapperState.listeners.push(
                      ReactBrowserEventEmitter.trapBubbledEvent(
                        EventConstants.topLevelTypes[event],
                        mediaEvents[event],
                        node,
                      ),
                    )
                  }
                }

                break
              case 'img':
                inst._wrapperState.listeners = [
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topError,
                    'error',
                    node,
                  ),
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topLoad,
                    'load',
                    node,
                  ),
                ]
                break
              case 'form':
                inst._wrapperState.listeners = [
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topReset,
                    'reset',
                    node,
                  ),
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topSubmit,
                    'submit',
                    node,
                  ),
                ]
                break
              case 'input':
              case 'select':
              case 'textarea':
                inst._wrapperState.listeners = [
                  ReactBrowserEventEmitter.trapBubbledEvent(
                    EventConstants.topLevelTypes.topInvalid,
                    'invalid',
                    node,
                  ),
                ]
                break
            }
          }

          function postUpdateSelectWrapper() {
            ReactDOMSelect.postUpdateWrapper(this)
          }

          // For HTML, certain tags should omit their close tag. We keep a whitelist for
          // those special-case tags.

          var omittedCloseTags = {
            area: true,
            base: true,
            br: true,
            col: true,
            embed: true,
            hr: true,
            img: true,
            input: true,
            keygen: true,
            link: true,
            meta: true,
            param: true,
            source: true,
            track: true,
            wbr: true,
          }

          // NOTE: menuitem's close tag should be omitted, but that causes problems.
          var newlineEatingTags = {
            listing: true,
            pre: true,
            textarea: true,
          }

          // For HTML, certain tags cannot have children. This has the same purpose as
          // `omittedCloseTags` except that `menuitem` should still have its closing tag.

          var voidElementTags = _assign(
            {
              menuitem: true,
            },
            omittedCloseTags,
          )

          // We accept any tag to be rendered but since this gets injected into arbitrary
          // HTML, we want to make sure that it's a safe tag.
          // http://www.w3.org/TR/REC-xml/#NT-Name

          var VALID_TAG_REGEX = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/ // Simplified subset
          var validatedTagCache = {}
          var hasOwnProperty = {}.hasOwnProperty

          function validateDangerousTag(tag) {
            if (!hasOwnProperty.call(validatedTagCache, tag)) {
              !VALID_TAG_REGEX.test(tag)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(false, 'Invalid tag: %s', tag)
                  : invariant(false)
                : void 0
              validatedTagCache[tag] = true
            }
          }

          function isCustomComponent(tagName, props) {
            return tagName.indexOf('-') >= 0 || props.is != null
          }

          var globalIdCounter = 1

          /**
           * Creates a new React class that is idempotent and capable of containing other
           * React components. It accepts event listeners and DOM properties that are
           * valid according to `DOMProperty`.
           *
           *  - Event listeners: `onClick`, `onMouseDown`, etc.
           *  - DOM properties: `className`, `name`, `title`, etc.
           *
           * The `style` property functions differently from the DOM API. It accepts an
           * object mapping of style properties to values.
           *
           * @constructor ReactDOMComponent
           * @extends ReactMultiChild
           */
          function ReactDOMComponent(element) {
            var tag = element.type
            validateDangerousTag(tag)
            this._currentElement = element
            this._tag = tag.toLowerCase()
            this._namespaceURI = null
            this._renderedChildren = null
            this._previousStyle = null
            this._previousStyleCopy = null
            this._nativeNode = null
            this._nativeParent = null
            this._rootNodeID = null
            this._domID = null
            this._nativeContainerInfo = null
            this._wrapperState = null
            this._topLevelWrapper = null
            this._flags = 0
            if (process.env.NODE_ENV !== 'production') {
              this._ancestorInfo = null
              this._contentDebugID = null
            }
          }

          ReactDOMComponent.displayName = 'ReactDOMComponent'

          ReactDOMComponent.Mixin = {
            /**
             * Generates root tag markup then recurses. This method has side effects and
             * is not idempotent.
             *
             * @internal
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {?ReactDOMComponent} the containing DOM component instance
             * @param {?object} info about the native container
             * @param {object} context
             * @return {string} The computed markup.
             */
            mountComponent: function (
              transaction,
              nativeParent,
              nativeContainerInfo,
              context,
            ) {
              this._rootNodeID = globalIdCounter++
              this._domID = nativeContainerInfo._idCounter++
              this._nativeParent = nativeParent
              this._nativeContainerInfo = nativeContainerInfo

              var props = this._currentElement.props

              switch (this._tag) {
                case 'iframe':
                case 'object':
                case 'img':
                case 'form':
                case 'video':
                case 'audio':
                  this._wrapperState = {
                    listeners: null,
                  }
                  transaction
                    .getReactMountReady()
                    .enqueue(trapBubbledEventsLocal, this)
                  break
                case 'button':
                  props = ReactDOMButton.getNativeProps(
                    this,
                    props,
                    nativeParent,
                  )
                  break
                case 'input':
                  ReactDOMInput.mountWrapper(this, props, nativeParent)
                  props = ReactDOMInput.getNativeProps(this, props)
                  transaction
                    .getReactMountReady()
                    .enqueue(trapBubbledEventsLocal, this)
                  break
                case 'option':
                  ReactDOMOption.mountWrapper(this, props, nativeParent)
                  props = ReactDOMOption.getNativeProps(this, props)
                  break
                case 'select':
                  ReactDOMSelect.mountWrapper(this, props, nativeParent)
                  props = ReactDOMSelect.getNativeProps(this, props)
                  transaction
                    .getReactMountReady()
                    .enqueue(trapBubbledEventsLocal, this)
                  break
                case 'textarea':
                  ReactDOMTextarea.mountWrapper(this, props, nativeParent)
                  props = ReactDOMTextarea.getNativeProps(this, props)
                  transaction
                    .getReactMountReady()
                    .enqueue(trapBubbledEventsLocal, this)
                  break
              }

              assertValidProps(this, props)

              // We create tags in the namespace of their parent container, except HTML
              // tags get no namespace.
              var namespaceURI
              var parentTag
              if (nativeParent != null) {
                namespaceURI = nativeParent._namespaceURI
                parentTag = nativeParent._tag
              } else if (nativeContainerInfo._tag) {
                namespaceURI = nativeContainerInfo._namespaceURI
                parentTag = nativeContainerInfo._tag
              }
              if (
                namespaceURI == null ||
                (namespaceURI === DOMNamespaces.svg &&
                  parentTag === 'foreignobject')
              ) {
                namespaceURI = DOMNamespaces.html
              }
              if (namespaceURI === DOMNamespaces.html) {
                if (this._tag === 'svg') {
                  namespaceURI = DOMNamespaces.svg
                } else if (this._tag === 'math') {
                  namespaceURI = DOMNamespaces.mathml
                }
              }
              this._namespaceURI = namespaceURI

              if (process.env.NODE_ENV !== 'production') {
                var parentInfo
                if (nativeParent != null) {
                  parentInfo = nativeParent._ancestorInfo
                } else if (nativeContainerInfo._tag) {
                  parentInfo = nativeContainerInfo._ancestorInfo
                }
                if (parentInfo) {
                  // parentInfo should always be present except for the top-level
                  // component when server rendering
                  validateDOMNesting(this._tag, this, parentInfo)
                }
                this._ancestorInfo = validateDOMNesting.updatedAncestorInfo(
                  parentInfo,
                  this._tag,
                  this,
                )
              }

              var mountImage
              if (transaction.useCreateElement) {
                var ownerDocument = nativeContainerInfo._ownerDocument
                var el
                if (namespaceURI === DOMNamespaces.html) {
                  if (this._tag === 'script') {
                    // Create the script via .innerHTML so its "parser-inserted" flag is
                    // set to true and it does not execute
                    var div = ownerDocument.createElement('div')
                    var type = this._currentElement.type
                    div.innerHTML = '<' + type + '></' + type + '>'
                    el = div.removeChild(div.firstChild)
                  } else {
                    el = ownerDocument.createElement(
                      this._currentElement.type,
                      props.is || null,
                    )
                  }
                } else {
                  el = ownerDocument.createElementNS(
                    namespaceURI,
                    this._currentElement.type,
                  )
                }
                ReactDOMComponentTree.precacheNode(this, el)
                this._flags |= Flags.hasCachedChildNodes
                if (!this._nativeParent) {
                  DOMPropertyOperations.setAttributeForRoot(el)
                }
                this._updateDOMProperties(null, props, transaction)
                var lazyTree = DOMLazyTree(el)
                this._createInitialChildren(
                  transaction,
                  props,
                  context,
                  lazyTree,
                )
                mountImage = lazyTree
              } else {
                var tagOpen = this._createOpenTagMarkupAndPutListeners(
                  transaction,
                  props,
                )
                var tagContent = this._createContentMarkup(
                  transaction,
                  props,
                  context,
                )
                if (!tagContent && omittedCloseTags[this._tag]) {
                  mountImage = tagOpen + '/>'
                } else {
                  mountImage =
                    tagOpen +
                    '>' +
                    tagContent +
                    '</' +
                    this._currentElement.type +
                    '>'
                }
              }

              switch (this._tag) {
                case 'button':
                case 'input':
                case 'select':
                case 'textarea':
                  if (props.autoFocus) {
                    transaction
                      .getReactMountReady()
                      .enqueue(AutoFocusUtils.focusDOMComponent, this)
                  }
                  break
                case 'option':
                  transaction
                    .getReactMountReady()
                    .enqueue(optionPostMount, this)
              }

              return mountImage
            },

            /**
             * Creates markup for the open tag and all attributes.
             *
             * This method has side effects because events get registered.
             *
             * Iterating over object properties is faster than iterating over arrays.
             * @see http://jsperf.com/obj-vs-arr-iteration
             *
             * @private
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {object} props
             * @return {string} Markup of opening tag.
             */
            _createOpenTagMarkupAndPutListeners: function (transaction, props) {
              var ret = '<' + this._currentElement.type

              for (var propKey in props) {
                if (!props.hasOwnProperty(propKey)) {
                  continue
                }
                var propValue = props[propKey]
                if (propValue == null) {
                  continue
                }
                if (registrationNameModules.hasOwnProperty(propKey)) {
                  if (propValue) {
                    enqueuePutListener(this, propKey, propValue, transaction)
                  }
                } else {
                  if (propKey === STYLE) {
                    if (propValue) {
                      if (process.env.NODE_ENV !== 'production') {
                        // See `_updateDOMProperties`. style block
                        this._previousStyle = propValue
                      }
                      propValue = this._previousStyleCopy = _assign(
                        {},
                        props.style,
                      )
                    }
                    propValue = CSSPropertyOperations.createMarkupForStyles(
                      propValue,
                      this,
                    )
                  }
                  var markup = null
                  if (
                    this._tag != null &&
                    isCustomComponent(this._tag, props)
                  ) {
                    if (!RESERVED_PROPS.hasOwnProperty(propKey)) {
                      markup =
                        DOMPropertyOperations.createMarkupForCustomAttribute(
                          propKey,
                          propValue,
                        )
                    }
                  } else {
                    markup = DOMPropertyOperations.createMarkupForProperty(
                      propKey,
                      propValue,
                    )
                  }
                  if (markup) {
                    ret += ' ' + markup
                  }
                }
              }

              // For static pages, no need to put React ID and checksum. Saves lots of
              // bytes.
              if (transaction.renderToStaticMarkup) {
                return ret
              }

              if (!this._nativeParent) {
                ret += ' ' + DOMPropertyOperations.createMarkupForRoot()
              }
              ret += ' ' + DOMPropertyOperations.createMarkupForID(this._domID)
              return ret
            },

            /**
             * Creates markup for the content between the tags.
             *
             * @private
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {object} props
             * @param {object} context
             * @return {string} Content markup.
             */
            _createContentMarkup: function (transaction, props, context) {
              var ret = ''

              // Intentional use of != to avoid catching zero/false.
              var innerHTML = props.dangerouslySetInnerHTML
              if (innerHTML != null) {
                if (innerHTML.__html != null) {
                  ret = innerHTML.__html
                }
              } else {
                var contentToUse = CONTENT_TYPES[typeof props.children]
                  ? props.children
                  : null
                var childrenToUse = contentToUse != null ? null : props.children
                if (contentToUse != null) {
                  // TODO: Validate that text is allowed as a child of this node
                  ret = escapeTextContentForBrowser(contentToUse)
                  if (process.env.NODE_ENV !== 'production') {
                    setContentChildForInstrumentation.call(this, contentToUse)
                  }
                } else if (childrenToUse != null) {
                  var mountImages = this.mountChildren(
                    childrenToUse,
                    transaction,
                    context,
                  )
                  ret = mountImages.join('')
                }
              }
              if (newlineEatingTags[this._tag] && ret.charAt(0) === '\n') {
                // text/html ignores the first character in these tags if it's a newline
                // Prefer to break application/xml over text/html (for now) by adding
                // a newline specifically to get eaten by the parser. (Alternately for
                // textareas, replacing "^\n" with "\r\n" doesn't get eaten, and the first
                // \r is normalized out by HTMLTextAreaElement#value.)
                // See: <http://www.w3.org/TR/html-polyglot/#newlines-in-textarea-and-pre>
                // See: <http://www.w3.org/TR/html5/syntax.html#element-restrictions>
                // See: <http://www.w3.org/TR/html5/syntax.html#newlines>
                // See: Parsing of "textarea" "listing" and "pre" elements
                //  from <http://www.w3.org/TR/html5/syntax.html#parsing-main-inbody>
                return '\n' + ret
              } else {
                return ret
              }
            },

            _createInitialChildren: function (
              transaction,
              props,
              context,
              lazyTree,
            ) {
              // Intentional use of != to avoid catching zero/false.
              var innerHTML = props.dangerouslySetInnerHTML
              if (innerHTML != null) {
                if (innerHTML.__html != null) {
                  DOMLazyTree.queueHTML(lazyTree, innerHTML.__html)
                }
              } else {
                var contentToUse = CONTENT_TYPES[typeof props.children]
                  ? props.children
                  : null
                var childrenToUse = contentToUse != null ? null : props.children
                if (contentToUse != null) {
                  // TODO: Validate that text is allowed as a child of this node
                  if (process.env.NODE_ENV !== 'production') {
                    setContentChildForInstrumentation.call(this, contentToUse)
                  }
                  DOMLazyTree.queueText(lazyTree, contentToUse)
                } else if (childrenToUse != null) {
                  var mountImages = this.mountChildren(
                    childrenToUse,
                    transaction,
                    context,
                  )
                  for (var i = 0; i < mountImages.length; i++) {
                    DOMLazyTree.queueChild(lazyTree, mountImages[i])
                  }
                }
              }
            },

            /**
             * Receives a next element and updates the component.
             *
             * @internal
             * @param {ReactElement} nextElement
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {object} context
             */
            receiveComponent: function (nextElement, transaction, context) {
              var prevElement = this._currentElement
              this._currentElement = nextElement
              this.updateComponent(
                transaction,
                prevElement,
                nextElement,
                context,
              )
            },

            /**
             * Updates a native DOM component after it has already been allocated and
             * attached to the DOM. Reconciles the root DOM node, then recurses.
             *
             * @param {ReactReconcileTransaction} transaction
             * @param {ReactElement} prevElement
             * @param {ReactElement} nextElement
             * @internal
             * @overridable
             */
            updateComponent: function (
              transaction,
              prevElement,
              nextElement,
              context,
            ) {
              var lastProps = prevElement.props
              var nextProps = this._currentElement.props

              switch (this._tag) {
                case 'button':
                  lastProps = ReactDOMButton.getNativeProps(this, lastProps)
                  nextProps = ReactDOMButton.getNativeProps(this, nextProps)
                  break
                case 'input':
                  ReactDOMInput.updateWrapper(this)
                  lastProps = ReactDOMInput.getNativeProps(this, lastProps)
                  nextProps = ReactDOMInput.getNativeProps(this, nextProps)
                  break
                case 'option':
                  lastProps = ReactDOMOption.getNativeProps(this, lastProps)
                  nextProps = ReactDOMOption.getNativeProps(this, nextProps)
                  break
                case 'select':
                  lastProps = ReactDOMSelect.getNativeProps(this, lastProps)
                  nextProps = ReactDOMSelect.getNativeProps(this, nextProps)
                  break
                case 'textarea':
                  ReactDOMTextarea.updateWrapper(this)
                  lastProps = ReactDOMTextarea.getNativeProps(this, lastProps)
                  nextProps = ReactDOMTextarea.getNativeProps(this, nextProps)
                  break
              }

              assertValidProps(this, nextProps)
              this._updateDOMProperties(lastProps, nextProps, transaction)
              this._updateDOMChildren(
                lastProps,
                nextProps,
                transaction,
                context,
              )

              if (this._tag === 'select') {
                // <select> value update needs to occur after <option> children
                // reconciliation
                transaction
                  .getReactMountReady()
                  .enqueue(postUpdateSelectWrapper, this)
              }
            },

            /**
             * Reconciles the properties by detecting differences in property values and
             * updating the DOM as necessary. This function is probably the single most
             * critical path for performance optimization.
             *
             * TODO: Benchmark whether checking for changed values in memory actually
             *       improves performance (especially statically positioned elements).
             * TODO: Benchmark the effects of putting this at the top since 99% of props
             *       do not change for a given reconciliation.
             * TODO: Benchmark areas that can be improved with caching.
             *
             * @private
             * @param {object} lastProps
             * @param {object} nextProps
             * @param {?DOMElement} node
             */
            _updateDOMProperties: function (lastProps, nextProps, transaction) {
              var propKey
              var styleName
              var styleUpdates
              for (propKey in lastProps) {
                if (
                  nextProps.hasOwnProperty(propKey) ||
                  !lastProps.hasOwnProperty(propKey) ||
                  lastProps[propKey] == null
                ) {
                  continue
                }
                if (propKey === STYLE) {
                  var lastStyle = this._previousStyleCopy
                  for (styleName in lastStyle) {
                    if (lastStyle.hasOwnProperty(styleName)) {
                      styleUpdates = styleUpdates || {}
                      styleUpdates[styleName] = ''
                    }
                  }
                  this._previousStyleCopy = null
                } else if (registrationNameModules.hasOwnProperty(propKey)) {
                  if (lastProps[propKey]) {
                    // Only call deleteListener if there was a listener previously or
                    // else willDeleteListener gets called when there wasn't actually a
                    // listener (e.g., onClick={null})
                    deleteListener(this, propKey)
                  }
                } else if (
                  DOMProperty.properties[propKey] ||
                  DOMProperty.isCustomAttribute(propKey)
                ) {
                  DOMPropertyOperations.deleteValueForProperty(
                    getNode(this),
                    propKey,
                  )
                }
              }
              for (propKey in nextProps) {
                var nextProp = nextProps[propKey]
                var lastProp =
                  propKey === STYLE
                    ? this._previousStyleCopy
                    : lastProps != null
                      ? lastProps[propKey]
                      : undefined
                if (
                  !nextProps.hasOwnProperty(propKey) ||
                  nextProp === lastProp ||
                  (nextProp == null && lastProp == null)
                ) {
                  continue
                }
                if (propKey === STYLE) {
                  if (nextProp) {
                    if (process.env.NODE_ENV !== 'production') {
                      checkAndWarnForMutatedStyle(
                        this._previousStyleCopy,
                        this._previousStyle,
                        this,
                      )
                      this._previousStyle = nextProp
                    }
                    nextProp = this._previousStyleCopy = _assign({}, nextProp)
                  } else {
                    this._previousStyleCopy = null
                  }
                  if (lastProp) {
                    // Unset styles on `lastProp` but not on `nextProp`.
                    for (styleName in lastProp) {
                      if (
                        lastProp.hasOwnProperty(styleName) &&
                        (!nextProp || !nextProp.hasOwnProperty(styleName))
                      ) {
                        styleUpdates = styleUpdates || {}
                        styleUpdates[styleName] = ''
                      }
                    }
                    // Update styles that changed since `lastProp`.
                    for (styleName in nextProp) {
                      if (
                        nextProp.hasOwnProperty(styleName) &&
                        lastProp[styleName] !== nextProp[styleName]
                      ) {
                        styleUpdates = styleUpdates || {}
                        styleUpdates[styleName] = nextProp[styleName]
                      }
                    }
                  } else {
                    // Relies on `updateStylesByID` not mutating `styleUpdates`.
                    styleUpdates = nextProp
                  }
                } else if (registrationNameModules.hasOwnProperty(propKey)) {
                  if (nextProp) {
                    enqueuePutListener(this, propKey, nextProp, transaction)
                  } else if (lastProp) {
                    deleteListener(this, propKey)
                  }
                } else if (isCustomComponent(this._tag, nextProps)) {
                  if (!RESERVED_PROPS.hasOwnProperty(propKey)) {
                    DOMPropertyOperations.setValueForAttribute(
                      getNode(this),
                      propKey,
                      nextProp,
                    )
                  }
                } else if (
                  DOMProperty.properties[propKey] ||
                  DOMProperty.isCustomAttribute(propKey)
                ) {
                  var node = getNode(this)
                  // If we're updating to null or undefined, we should remove the property
                  // from the DOM node instead of inadvertently setting to a string. This
                  // brings us in line with the same behavior we have on initial render.
                  if (nextProp != null) {
                    DOMPropertyOperations.setValueForProperty(
                      node,
                      propKey,
                      nextProp,
                    )
                  } else {
                    DOMPropertyOperations.deleteValueForProperty(node, propKey)
                  }
                }
              }
              if (styleUpdates) {
                CSSPropertyOperations.setValueForStyles(
                  getNode(this),
                  styleUpdates,
                  this,
                )
              }
            },

            /**
             * Reconciles the children with the various properties that affect the
             * children content.
             *
             * @param {object} lastProps
             * @param {object} nextProps
             * @param {ReactReconcileTransaction} transaction
             * @param {object} context
             */
            _updateDOMChildren: function (
              lastProps,
              nextProps,
              transaction,
              context,
            ) {
              var lastContent = CONTENT_TYPES[typeof lastProps.children]
                ? lastProps.children
                : null
              var nextContent = CONTENT_TYPES[typeof nextProps.children]
                ? nextProps.children
                : null

              var lastHtml =
                lastProps.dangerouslySetInnerHTML &&
                lastProps.dangerouslySetInnerHTML.__html
              var nextHtml =
                nextProps.dangerouslySetInnerHTML &&
                nextProps.dangerouslySetInnerHTML.__html

              // Note the use of `!=` which checks for null or undefined.
              var lastChildren = lastContent != null ? null : lastProps.children
              var nextChildren = nextContent != null ? null : nextProps.children

              // If we're switching from children to content/html or vice versa, remove
              // the old content
              var lastHasContentOrHtml = lastContent != null || lastHtml != null
              var nextHasContentOrHtml = nextContent != null || nextHtml != null
              if (lastChildren != null && nextChildren == null) {
                this.updateChildren(null, transaction, context)
              } else if (lastHasContentOrHtml && !nextHasContentOrHtml) {
                this.updateTextContent('')
                if (process.env.NODE_ENV !== 'production') {
                  ReactInstrumentation.debugTool.onSetChildren(
                    this._debugID,
                    [],
                  )
                }
              }

              if (nextContent != null) {
                if (lastContent !== nextContent) {
                  this.updateTextContent('' + nextContent)
                  if (process.env.NODE_ENV !== 'production') {
                    this._contentDebugID = this._debugID + '#text'
                    setContentChildForInstrumentation.call(this, nextContent)
                  }
                }
              } else if (nextHtml != null) {
                if (lastHtml !== nextHtml) {
                  this.updateMarkup('' + nextHtml)
                }
                if (process.env.NODE_ENV !== 'production') {
                  ReactInstrumentation.debugTool.onSetChildren(
                    this._debugID,
                    [],
                  )
                }
              } else if (nextChildren != null) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._contentDebugID) {
                    ReactInstrumentation.debugTool.onUnmountComponent(
                      this._contentDebugID,
                    )
                    this._contentDebugID = null
                  }
                }

                this.updateChildren(nextChildren, transaction, context)
              }
            },

            getNativeNode: function () {
              return getNode(this)
            },

            /**
             * Destroys all event registrations for this instance. Does not remove from
             * the DOM. That must be done by the parent.
             *
             * @internal
             */
            unmountComponent: function (safely) {
              switch (this._tag) {
                case 'iframe':
                case 'object':
                case 'img':
                case 'form':
                case 'video':
                case 'audio':
                  var listeners = this._wrapperState.listeners
                  if (listeners) {
                    for (var i = 0; i < listeners.length; i++) {
                      listeners[i].remove()
                    }
                  }
                  break
                case 'html':
                case 'head':
                case 'body':
                  /**
                   * Components like <html> <head> and <body> can't be removed or added
                   * easily in a cross-browser way, however it's valuable to be able to
                   * take advantage of React's reconciliation for styling and <title>
                   * management. So we just document it and throw in dangerous cases.
                   */
                  !false
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          '<%s> tried to unmount. Because of cross-browser quirks it is ' +
                            'impossible to unmount some top-level components (eg <html>, ' +
                            '<head>, and <body>) reliably and efficiently. To fix this, have a ' +
                            'single top-level component that never unmounts render these ' +
                            'elements.',
                          this._tag,
                        )
                      : invariant(false)
                    : void 0
                  break
              }

              this.unmountChildren(safely)
              ReactDOMComponentTree.uncacheNode(this)
              EventPluginHub.deleteAllListeners(this)
              ReactComponentBrowserEnvironment.unmountIDFromEnvironment(
                this._rootNodeID,
              )
              this._rootNodeID = null
              this._domID = null
              this._wrapperState = null

              if (process.env.NODE_ENV !== 'production') {
                if (this._contentDebugID) {
                  ReactInstrumentation.debugTool.onUnmountComponent(
                    this._contentDebugID,
                  )
                  this._contentDebugID = null
                }
              }
            },

            getPublicInstance: function () {
              return getNode(this)
            },
          }

          _assign(
            ReactDOMComponent.prototype,
            ReactDOMComponent.Mixin,
            ReactMultiChild.Mixin,
          )

          module.exports = ReactDOMComponent
        }).call(this, require('_process'))
      },
      {
        './AutoFocusUtils': 204,
        './CSSPropertyOperations': 207,
        './DOMLazyTree': 211,
        './DOMNamespaces': 212,
        './DOMProperty': 213,
        './DOMPropertyOperations': 214,
        './EventConstants': 219,
        './EventPluginHub': 220,
        './EventPluginRegistry': 221,
        './ReactBrowserEventEmitter': 230,
        './ReactComponentBrowserEnvironment': 235,
        './ReactDOMButton': 241,
        './ReactDOMComponentFlags': 243,
        './ReactDOMComponentTree': 244,
        './ReactDOMInput': 251,
        './ReactDOMOption': 253,
        './ReactDOMSelect': 254,
        './ReactDOMTextarea': 257,
        './ReactInstrumentation': 273,
        './ReactMultiChild': 277,
        './ReactServerRenderingTransaction': 290,
        './escapeTextContentForBrowser': 317,
        './isEventSupported': 331,
        './validateDOMNesting': 340,
        _process: 162,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/keyOf': 46,
        'fbjs/lib/shallowEqual': 51,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    243: [
      function (require, module, exports) {
        /**
         * Copyright 2015-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMComponentFlags
         */

        'use strict'

        var ReactDOMComponentFlags = {
          hasCachedChildNodes: 1 << 0,
        }

        module.exports = ReactDOMComponentFlags
      },
      {},
    ],
    244: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMComponentTree
           */

          'use strict'

          var DOMProperty = require('./DOMProperty')
          var ReactDOMComponentFlags = require('./ReactDOMComponentFlags')

          var invariant = require('fbjs/lib/invariant')

          var ATTR_NAME = DOMProperty.ID_ATTRIBUTE_NAME
          var Flags = ReactDOMComponentFlags

          var internalInstanceKey =
            '__reactInternalInstance$' + Math.random().toString(36).slice(2)

          /**
           * Drill down (through composites and empty components) until we get a native or
           * native text component.
           *
           * This is pretty polymorphic but unavoidable with the current structure we have
           * for `_renderedChildren`.
           */
          function getRenderedNativeOrTextFromComponent(component) {
            var rendered
            while ((rendered = component._renderedComponent)) {
              component = rendered
            }
            return component
          }

          /**
           * Populate `_nativeNode` on the rendered native/text component with the given
           * DOM node. The passed `inst` can be a composite.
           */
          function precacheNode(inst, node) {
            var nativeInst = getRenderedNativeOrTextFromComponent(inst)
            nativeInst._nativeNode = node
            node[internalInstanceKey] = nativeInst
          }

          function uncacheNode(inst) {
            var node = inst._nativeNode
            if (node) {
              delete node[internalInstanceKey]
              inst._nativeNode = null
            }
          }

          /**
           * Populate `_nativeNode` on each child of `inst`, assuming that the children
           * match up with the DOM (element) children of `node`.
           *
           * We cache entire levels at once to avoid an n^2 problem where we access the
           * children of a node sequentially and have to walk from the start to our target
           * node every time.
           *
           * Since we update `_renderedChildren` and the actual DOM at (slightly)
           * different times, we could race here and see a newer `_renderedChildren` than
           * the DOM nodes we see. To avoid this, ReactMultiChild calls
           * `prepareToManageChildren` before we change `_renderedChildren`, at which
           * time the container's child nodes are always cached (until it unmounts).
           */
          function precacheChildNodes(inst, node) {
            if (inst._flags & Flags.hasCachedChildNodes) {
              return
            }
            var children = inst._renderedChildren
            var childNode = node.firstChild
            outer: for (var name in children) {
              if (!children.hasOwnProperty(name)) {
                continue
              }
              var childInst = children[name]
              var childID =
                getRenderedNativeOrTextFromComponent(childInst)._domID
              if (childID == null) {
                // We're currently unmounting this child in ReactMultiChild; skip it.
                continue
              }
              // We assume the child nodes are in the same order as the child instances.
              for (; childNode !== null; childNode = childNode.nextSibling) {
                if (
                  (childNode.nodeType === 1 &&
                    childNode.getAttribute(ATTR_NAME) === String(childID)) ||
                  (childNode.nodeType === 8 &&
                    childNode.nodeValue === ' react-text: ' + childID + ' ') ||
                  (childNode.nodeType === 8 &&
                    childNode.nodeValue === ' react-empty: ' + childID + ' ')
                ) {
                  precacheNode(childInst, childNode)
                  continue outer
                }
              }
              // We reached the end of the DOM children without finding an ID match.
              !false
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Unable to find element with ID %s.',
                      childID,
                    )
                  : invariant(false)
                : void 0
            }
            inst._flags |= Flags.hasCachedChildNodes
          }

          /**
           * Given a DOM node, return the closest ReactDOMComponent or
           * ReactDOMTextComponent instance ancestor.
           */
          function getClosestInstanceFromNode(node) {
            if (node[internalInstanceKey]) {
              return node[internalInstanceKey]
            }

            // Walk up the tree until we find an ancestor whose instance we have cached.
            var parents = []
            while (!node[internalInstanceKey]) {
              parents.push(node)
              if (node.parentNode) {
                node = node.parentNode
              } else {
                // Top of the tree. This node must not be part of a React tree (or is
                // unmounted, potentially).
                return null
              }
            }

            var closest
            var inst
            for (
              ;
              node && (inst = node[internalInstanceKey]);
              node = parents.pop()
            ) {
              closest = inst
              if (parents.length) {
                precacheChildNodes(inst, node)
              }
            }

            return closest
          }

          /**
           * Given a DOM node, return the ReactDOMComponent or ReactDOMTextComponent
           * instance, or null if the node was not rendered by this React.
           */
          function getInstanceFromNode(node) {
            var inst = getClosestInstanceFromNode(node)
            if (inst != null && inst._nativeNode === node) {
              return inst
            } else {
              return null
            }
          }

          /**
           * Given a ReactDOMComponent or ReactDOMTextComponent, return the corresponding
           * DOM node.
           */
          function getNodeFromInstance(inst) {
            // Without this first invariant, passing a non-DOM-component triggers the next
            // invariant for a missing parent, which is super confusing.
            !(inst._nativeNode !== undefined)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'getNodeFromInstance: Invalid argument.')
                : invariant(false)
              : void 0

            if (inst._nativeNode) {
              return inst._nativeNode
            }

            // Walk up the tree until we find an ancestor whose DOM node we have cached.
            var parents = []
            while (!inst._nativeNode) {
              parents.push(inst)
              !inst._nativeParent
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'React DOM tree root should always have a node reference.',
                    )
                  : invariant(false)
                : void 0
              inst = inst._nativeParent
            }

            // Now parents contains each ancestor that does *not* have a cached native
            // node, and `inst` is the deepest ancestor that does.
            for (; parents.length; inst = parents.pop()) {
              precacheChildNodes(inst, inst._nativeNode)
            }

            return inst._nativeNode
          }

          var ReactDOMComponentTree = {
            getClosestInstanceFromNode: getClosestInstanceFromNode,
            getInstanceFromNode: getInstanceFromNode,
            getNodeFromInstance: getNodeFromInstance,
            precacheChildNodes: precacheChildNodes,
            precacheNode: precacheNode,
            uncacheNode: uncacheNode,
          }

          module.exports = ReactDOMComponentTree
        }).call(this, require('_process'))
      },
      {
        './DOMProperty': 213,
        './ReactDOMComponentFlags': 243,
        _process: 162,
        'fbjs/lib/invariant': 42,
      },
    ],
    245: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMContainerInfo
           */

          'use strict'

          var validateDOMNesting = require('./validateDOMNesting')

          var DOC_NODE_TYPE = 9

          function ReactDOMContainerInfo(topLevelWrapper, node) {
            var info = {
              _topLevelWrapper: topLevelWrapper,
              _idCounter: 1,
              _ownerDocument: node
                ? node.nodeType === DOC_NODE_TYPE
                  ? node
                  : node.ownerDocument
                : null,
              _node: node,
              _tag: node ? node.nodeName.toLowerCase() : null,
              _namespaceURI: node ? node.namespaceURI : null,
            }
            if (process.env.NODE_ENV !== 'production') {
              info._ancestorInfo = node
                ? validateDOMNesting.updatedAncestorInfo(null, info._tag, null)
                : null
            }
            return info
          }

          module.exports = ReactDOMContainerInfo
        }).call(this, require('_process'))
      },
      { './validateDOMNesting': 340, _process: 162 },
    ],
    246: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMDebugTool
           */

          'use strict'

          var ReactDOMUnknownPropertyDevtool = require('./ReactDOMUnknownPropertyDevtool')

          var warning = require('fbjs/lib/warning')

          var eventHandlers = []
          var handlerDoesThrowForEvent = {}

          function emitEvent(
            handlerFunctionName,
            arg1,
            arg2,
            arg3,
            arg4,
            arg5,
          ) {
            if (process.env.NODE_ENV !== 'production') {
              eventHandlers.forEach(function (handler) {
                try {
                  if (handler[handlerFunctionName]) {
                    handler[handlerFunctionName](arg1, arg2, arg3, arg4, arg5)
                  }
                } catch (e) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        !handlerDoesThrowForEvent[handlerFunctionName],
                        'exception thrown by devtool while handling %s: %s',
                        handlerFunctionName,
                        e.message,
                      )
                    : void 0
                  handlerDoesThrowForEvent[handlerFunctionName] = true
                }
              })
            }
          }

          var ReactDOMDebugTool = {
            addDevtool: function (devtool) {
              eventHandlers.push(devtool)
            },
            removeDevtool: function (devtool) {
              for (var i = 0; i < eventHandlers.length; i++) {
                if (eventHandlers[i] === devtool) {
                  eventHandlers.splice(i, 1)
                  i--
                }
              }
            },
            onCreateMarkupForProperty: function (name, value) {
              emitEvent('onCreateMarkupForProperty', name, value)
            },
            onSetValueForProperty: function (node, name, value) {
              emitEvent('onSetValueForProperty', node, name, value)
            },
            onDeleteValueForProperty: function (node, name) {
              emitEvent('onDeleteValueForProperty', node, name)
            },
          }

          ReactDOMDebugTool.addDevtool(ReactDOMUnknownPropertyDevtool)

          module.exports = ReactDOMDebugTool
        }).call(this, require('_process'))
      },
      {
        './ReactDOMUnknownPropertyDevtool': 259,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    247: [
      function (require, module, exports) {
        /**
         * Copyright 2014-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMEmptyComponent
         */

        'use strict'

        var _assign = require('object-assign')

        var DOMLazyTree = require('./DOMLazyTree')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')

        var ReactDOMEmptyComponent = function (instantiate) {
          // ReactCompositeComponent uses this:
          this._currentElement = null
          // ReactDOMComponentTree uses these:
          this._nativeNode = null
          this._nativeParent = null
          this._nativeContainerInfo = null
          this._domID = null
        }
        _assign(ReactDOMEmptyComponent.prototype, {
          mountComponent: function (
            transaction,
            nativeParent,
            nativeContainerInfo,
            context,
          ) {
            var domID = nativeContainerInfo._idCounter++
            this._domID = domID
            this._nativeParent = nativeParent
            this._nativeContainerInfo = nativeContainerInfo

            var nodeValue = ' react-empty: ' + this._domID + ' '
            if (transaction.useCreateElement) {
              var ownerDocument = nativeContainerInfo._ownerDocument
              var node = ownerDocument.createComment(nodeValue)
              ReactDOMComponentTree.precacheNode(this, node)
              return DOMLazyTree(node)
            } else {
              if (transaction.renderToStaticMarkup) {
                // Normally we'd insert a comment node, but since this is a situation
                // where React won't take over (static pages), we can simply return
                // nothing.
                return ''
              }
              return '<!--' + nodeValue + '-->'
            }
          },
          receiveComponent: function () {},
          getNativeNode: function () {
            return ReactDOMComponentTree.getNodeFromInstance(this)
          },
          unmountComponent: function () {
            ReactDOMComponentTree.uncacheNode(this)
          },
        })

        module.exports = ReactDOMEmptyComponent
      },
      {
        './DOMLazyTree': 211,
        './ReactDOMComponentTree': 244,
        'object-assign': 161,
      },
    ],
    248: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMFactories
           */

          'use strict'

          var ReactElement = require('./ReactElement')
          var ReactElementValidator = require('./ReactElementValidator')

          var mapObject = require('fbjs/lib/mapObject')

          /**
           * Create a factory that creates HTML tag elements.
           *
           * @param {string} tag Tag name (e.g. `div`).
           * @private
           */
          function createDOMFactory(tag) {
            if (process.env.NODE_ENV !== 'production') {
              return ReactElementValidator.createFactory(tag)
            }
            return ReactElement.createFactory(tag)
          }

          /**
           * Creates a mapping from supported HTML tags to `ReactDOMComponent` classes.
           * This is also accessible via `React.DOM`.
           *
           * @public
           */
          var ReactDOMFactories = mapObject(
            {
              a: 'a',
              abbr: 'abbr',
              address: 'address',
              area: 'area',
              article: 'article',
              aside: 'aside',
              audio: 'audio',
              b: 'b',
              base: 'base',
              bdi: 'bdi',
              bdo: 'bdo',
              big: 'big',
              blockquote: 'blockquote',
              body: 'body',
              br: 'br',
              button: 'button',
              canvas: 'canvas',
              caption: 'caption',
              cite: 'cite',
              code: 'code',
              col: 'col',
              colgroup: 'colgroup',
              data: 'data',
              datalist: 'datalist',
              dd: 'dd',
              del: 'del',
              details: 'details',
              dfn: 'dfn',
              dialog: 'dialog',
              div: 'div',
              dl: 'dl',
              dt: 'dt',
              em: 'em',
              embed: 'embed',
              fieldset: 'fieldset',
              figcaption: 'figcaption',
              figure: 'figure',
              footer: 'footer',
              form: 'form',
              h1: 'h1',
              h2: 'h2',
              h3: 'h3',
              h4: 'h4',
              h5: 'h5',
              h6: 'h6',
              head: 'head',
              header: 'header',
              hgroup: 'hgroup',
              hr: 'hr',
              html: 'html',
              i: 'i',
              iframe: 'iframe',
              img: 'img',
              input: 'input',
              ins: 'ins',
              kbd: 'kbd',
              keygen: 'keygen',
              label: 'label',
              legend: 'legend',
              li: 'li',
              link: 'link',
              main: 'main',
              map: 'map',
              mark: 'mark',
              menu: 'menu',
              menuitem: 'menuitem',
              meta: 'meta',
              meter: 'meter',
              nav: 'nav',
              noscript: 'noscript',
              object: 'object',
              ol: 'ol',
              optgroup: 'optgroup',
              option: 'option',
              output: 'output',
              p: 'p',
              param: 'param',
              picture: 'picture',
              pre: 'pre',
              progress: 'progress',
              q: 'q',
              rp: 'rp',
              rt: 'rt',
              ruby: 'ruby',
              s: 's',
              samp: 'samp',
              script: 'script',
              section: 'section',
              select: 'select',
              small: 'small',
              source: 'source',
              span: 'span',
              strong: 'strong',
              style: 'style',
              sub: 'sub',
              summary: 'summary',
              sup: 'sup',
              table: 'table',
              tbody: 'tbody',
              td: 'td',
              textarea: 'textarea',
              tfoot: 'tfoot',
              th: 'th',
              thead: 'thead',
              time: 'time',
              title: 'title',
              tr: 'tr',
              track: 'track',
              u: 'u',
              ul: 'ul',
              var: 'var',
              video: 'video',
              wbr: 'wbr',

              // SVG
              circle: 'circle',
              clipPath: 'clipPath',
              defs: 'defs',
              ellipse: 'ellipse',
              g: 'g',
              image: 'image',
              line: 'line',
              linearGradient: 'linearGradient',
              mask: 'mask',
              path: 'path',
              pattern: 'pattern',
              polygon: 'polygon',
              polyline: 'polyline',
              radialGradient: 'radialGradient',
              rect: 'rect',
              stop: 'stop',
              svg: 'svg',
              text: 'text',
              tspan: 'tspan',
            },
            createDOMFactory,
          )

          module.exports = ReactDOMFactories
        }).call(this, require('_process'))
      },
      {
        './ReactElement': 263,
        './ReactElementValidator': 264,
        _process: 162,
        'fbjs/lib/mapObject': 47,
      },
    ],
    249: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMFeatureFlags
         */

        'use strict'

        var ReactDOMFeatureFlags = {
          useCreateElement: true,
        }

        module.exports = ReactDOMFeatureFlags
      },
      {},
    ],
    250: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMIDOperations
         */

        'use strict'

        var DOMChildrenOperations = require('./DOMChildrenOperations')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')

        /**
         * Operations used to process updates to DOM nodes.
         */
        var ReactDOMIDOperations = {
          /**
           * Updates a component's children by processing a series of updates.
           *
           * @param {array<object>} updates List of update configurations.
           * @internal
           */
          dangerouslyProcessChildrenUpdates: function (parentInst, updates) {
            var node = ReactDOMComponentTree.getNodeFromInstance(parentInst)
            DOMChildrenOperations.processUpdates(node, updates)
          },
        }

        module.exports = ReactDOMIDOperations
      },
      { './DOMChildrenOperations': 210, './ReactDOMComponentTree': 244 },
    ],
    251: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMInput
           */

          'use strict'

          var _assign = require('object-assign')

          var DisabledInputUtils = require('./DisabledInputUtils')
          var DOMPropertyOperations = require('./DOMPropertyOperations')
          var LinkedValueUtils = require('./LinkedValueUtils')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactUpdates = require('./ReactUpdates')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          var didWarnValueLink = false
          var didWarnCheckedLink = false
          var didWarnValueNull = false
          var didWarnValueDefaultValue = false
          var didWarnCheckedDefaultChecked = false
          var didWarnControlledToUncontrolled = false
          var didWarnUncontrolledToControlled = false

          function forceUpdateIfMounted() {
            if (this._rootNodeID) {
              // DOM component is still mounted; update
              ReactDOMInput.updateWrapper(this)
            }
          }

          function warnIfValueIsNull(props) {
            if (props != null && props.value === null && !didWarnValueNull) {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '`value` prop on `input` should not be null. ' +
                      'Consider using the empty string to clear the component or `undefined` ' +
                      'for uncontrolled components.',
                  )
                : void 0

              didWarnValueNull = true
            }
          }

          /**
           * Implements an <input> native component that allows setting these optional
           * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.
           *
           * If `checked` or `value` are not supplied (or null/undefined), user actions
           * that affect the checked state or value will trigger updates to the element.
           *
           * If they are supplied (and not null/undefined), the rendered element will not
           * trigger updates to the element. Instead, the props must change in order for
           * the rendered element to be updated.
           *
           * The rendered element will be initialized as unchecked (or `defaultChecked`)
           * with an empty value (or `defaultValue`).
           *
           * @see http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html
           */
          var ReactDOMInput = {
            getNativeProps: function (inst, props) {
              var value = LinkedValueUtils.getValue(props)
              var checked = LinkedValueUtils.getChecked(props)

              var nativeProps = _assign(
                {
                  // Make sure we set .type before any other properties (setting .value
                  // before .type means .value is lost in IE11 and below)
                  type: undefined,
                },
                DisabledInputUtils.getNativeProps(inst, props),
                {
                  defaultChecked: undefined,
                  defaultValue: undefined,
                  value:
                    value != null ? value : inst._wrapperState.initialValue,
                  checked:
                    checked != null
                      ? checked
                      : inst._wrapperState.initialChecked,
                  onChange: inst._wrapperState.onChange,
                },
              )

              return nativeProps
            },

            mountWrapper: function (inst, props) {
              if (process.env.NODE_ENV !== 'production') {
                LinkedValueUtils.checkPropTypes(
                  'input',
                  props,
                  inst._currentElement._owner,
                )

                var owner = inst._currentElement._owner

                if (props.valueLink !== undefined && !didWarnValueLink) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead.',
                      )
                    : void 0
                  didWarnValueLink = true
                }
                if (props.checkedLink !== undefined && !didWarnCheckedLink) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead.',
                      )
                    : void 0
                  didWarnCheckedLink = true
                }
                if (
                  props.checked !== undefined &&
                  props.defaultChecked !== undefined &&
                  !didWarnCheckedDefaultChecked
                ) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '%s contains an input of type %s with both checked and defaultChecked props. ' +
                          'Input elements must be either controlled or uncontrolled ' +
                          '(specify either the checked prop, or the defaultChecked prop, but not ' +
                          'both). Decide between using a controlled or uncontrolled input ' +
                          'element and remove one of these props. More info: ' +
                          'https://fb.me/react-controlled-components',
                        (owner && owner.getName()) || 'A component',
                        props.type,
                      )
                    : void 0
                  didWarnCheckedDefaultChecked = true
                }
                if (
                  props.value !== undefined &&
                  props.defaultValue !== undefined &&
                  !didWarnValueDefaultValue
                ) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '%s contains an input of type %s with both value and defaultValue props. ' +
                          'Input elements must be either controlled or uncontrolled ' +
                          '(specify either the value prop, or the defaultValue prop, but not ' +
                          'both). Decide between using a controlled or uncontrolled input ' +
                          'element and remove one of these props. More info: ' +
                          'https://fb.me/react-controlled-components',
                        (owner && owner.getName()) || 'A component',
                        props.type,
                      )
                    : void 0
                  didWarnValueDefaultValue = true
                }
                warnIfValueIsNull(props)
              }

              var defaultValue = props.defaultValue
              inst._wrapperState = {
                initialChecked: props.defaultChecked || false,
                initialValue: defaultValue != null ? defaultValue : null,
                listeners: null,
                onChange: _handleChange.bind(inst),
              }

              if (process.env.NODE_ENV !== 'production') {
                inst._wrapperState.controlled =
                  props.checked !== undefined || props.value !== undefined
              }
            },

            updateWrapper: function (inst) {
              var props = inst._currentElement.props

              if (process.env.NODE_ENV !== 'production') {
                warnIfValueIsNull(props)

                var initialValue =
                  inst._wrapperState.initialChecked ||
                  inst._wrapperState.initialValue
                var defaultValue = props.defaultChecked || props.defaultValue
                var controlled =
                  props.checked !== undefined || props.value !== undefined
                var owner = inst._currentElement._owner

                if (
                  (initialValue || !inst._wrapperState.controlled) &&
                  controlled &&
                  !didWarnUncontrolledToControlled
                ) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '%s is changing an uncontrolled input of type %s to be controlled. ' +
                          'Input elements should not switch from uncontrolled to controlled (or vice versa). ' +
                          'Decide between using a controlled or uncontrolled input ' +
                          'element for the lifetime of the component. More info: https://fb.me/react-controlled-components',
                        (owner && owner.getName()) || 'A component',
                        props.type,
                      )
                    : void 0
                  didWarnUncontrolledToControlled = true
                }
                if (
                  inst._wrapperState.controlled &&
                  (defaultValue || !controlled) &&
                  !didWarnControlledToUncontrolled
                ) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '%s is changing a controlled input of type %s to be uncontrolled. ' +
                          'Input elements should not switch from controlled to uncontrolled (or vice versa). ' +
                          'Decide between using a controlled or uncontrolled input ' +
                          'element for the lifetime of the component. More info: https://fb.me/react-controlled-components',
                        (owner && owner.getName()) || 'A component',
                        props.type,
                      )
                    : void 0
                  didWarnControlledToUncontrolled = true
                }
              }

              // TODO: Shouldn't this be getChecked(props)?
              var checked = props.checked
              if (checked != null) {
                DOMPropertyOperations.setValueForProperty(
                  ReactDOMComponentTree.getNodeFromInstance(inst),
                  'checked',
                  checked || false,
                )
              }

              var value = LinkedValueUtils.getValue(props)
              if (value != null) {
                // Cast `value` to a string to ensure the value is set correctly. While
                // browsers typically do this as necessary, jsdom doesn't.
                DOMPropertyOperations.setValueForProperty(
                  ReactDOMComponentTree.getNodeFromInstance(inst),
                  'value',
                  '' + value,
                )
              }
            },
          }

          function _handleChange(event) {
            var props = this._currentElement.props

            var returnValue = LinkedValueUtils.executeOnChange(props, event)

            // Here we use asap to wait until all updates have propagated, which
            // is important when using controlled components within layers:
            // https://github.com/facebook/react/issues/1698
            ReactUpdates.asap(forceUpdateIfMounted, this)

            var name = props.name
            if (props.type === 'radio' && name != null) {
              var rootNode = ReactDOMComponentTree.getNodeFromInstance(this)
              var queryRoot = rootNode

              while (queryRoot.parentNode) {
                queryRoot = queryRoot.parentNode
              }

              // If `rootNode.form` was non-null, then we could try `form.elements`,
              // but that sometimes behaves strangely in IE8. We could also try using
              // `form.getElementsByName`, but that will only return direct children
              // and won't include inputs that use the HTML5 `form=` attribute. Since
              // the input might not even be in a form, let's just use the global
              // `querySelectorAll` to ensure we don't miss anything.
              var group = queryRoot.querySelectorAll(
                'input[name=' + JSON.stringify('' + name) + '][type="radio"]',
              )

              for (var i = 0; i < group.length; i++) {
                var otherNode = group[i]
                if (
                  otherNode === rootNode ||
                  otherNode.form !== rootNode.form
                ) {
                  continue
                }
                // This will throw if radio buttons rendered by different copies of React
                // and the same name are rendered into the same form (same as #1939).
                // That's probably okay; we don't support it just as we don't support
                // mixing React radio buttons with non-React ones.
                var otherInstance =
                  ReactDOMComponentTree.getInstanceFromNode(otherNode)
                !otherInstance
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'ReactDOMInput: Mixing React and non-React radio inputs with the ' +
                          'same `name` is not supported.',
                      )
                    : invariant(false)
                  : void 0
                // If this is a controlled radio button group, forcing the input that
                // was previously checked to update will cause it to be come re-checked
                // as appropriate.
                ReactUpdates.asap(forceUpdateIfMounted, otherInstance)
              }
            }

            return returnValue
          }

          module.exports = ReactDOMInput
        }).call(this, require('_process'))
      },
      {
        './DOMPropertyOperations': 214,
        './DisabledInputUtils': 217,
        './LinkedValueUtils': 227,
        './ReactDOMComponentTree': 244,
        './ReactUpdates': 292,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    252: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMInstrumentation
         */

        'use strict'

        var ReactDOMDebugTool = require('./ReactDOMDebugTool')

        module.exports = { debugTool: ReactDOMDebugTool }
      },
      { './ReactDOMDebugTool': 246 },
    ],
    253: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMOption
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactChildren = require('./ReactChildren')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactDOMSelect = require('./ReactDOMSelect')

          var warning = require('fbjs/lib/warning')

          /**
           * Implements an <option> native component that warns when `selected` is set.
           */
          var ReactDOMOption = {
            mountWrapper: function (inst, props, nativeParent) {
              // TODO (yungsters): Remove support for `selected` in <option>.
              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      props.selected == null,
                      'Use the `defaultValue` or `value` props on <select> instead of ' +
                        'setting `selected` on <option>.',
                    )
                  : void 0
              }

              // Look up whether this option is 'selected'
              var selectValue = null
              if (nativeParent != null) {
                var selectParent = nativeParent

                if (selectParent._tag === 'optgroup') {
                  selectParent = selectParent._nativeParent
                }

                if (selectParent != null && selectParent._tag === 'select') {
                  selectValue =
                    ReactDOMSelect.getSelectValueContext(selectParent)
                }
              }

              // If the value is null (e.g., no specified value or after initial mount)
              // or missing (e.g., for <datalist>), we don't change props.selected
              var selected = null
              if (selectValue != null) {
                selected = false
                if (Array.isArray(selectValue)) {
                  // multiple
                  for (var i = 0; i < selectValue.length; i++) {
                    if ('' + selectValue[i] === '' + props.value) {
                      selected = true
                      break
                    }
                  }
                } else {
                  selected = '' + selectValue === '' + props.value
                }
              }

              inst._wrapperState = { selected: selected }
            },

            postMountWrapper: function (inst) {
              // value="" should make a value attribute (#6219)
              var props = inst._currentElement.props
              if (props.value != null) {
                var node = ReactDOMComponentTree.getNodeFromInstance(inst)
                node.setAttribute('value', props.value)
              }
            },

            getNativeProps: function (inst, props) {
              var nativeProps = _assign(
                { selected: undefined, children: undefined },
                props,
              )

              // Read state only from initial mount because <select> updates value
              // manually; we need the initial state only for server rendering
              if (inst._wrapperState.selected != null) {
                nativeProps.selected = inst._wrapperState.selected
              }

              var content = ''

              // Flatten children and warn if they aren't strings or numbers;
              // invalid types are ignored.
              ReactChildren.forEach(props.children, function (child) {
                if (child == null) {
                  return
                }
                if (typeof child === 'string' || typeof child === 'number') {
                  content += child
                } else {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'Only strings and numbers are supported as <option> children.',
                      )
                    : void 0
                }
              })

              if (content) {
                nativeProps.children = content
              }

              return nativeProps
            },
          }

          module.exports = ReactDOMOption
        }).call(this, require('_process'))
      },
      {
        './ReactChildren': 232,
        './ReactDOMComponentTree': 244,
        './ReactDOMSelect': 254,
        _process: 162,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    254: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMSelect
           */

          'use strict'

          var _assign = require('object-assign')

          var DisabledInputUtils = require('./DisabledInputUtils')
          var LinkedValueUtils = require('./LinkedValueUtils')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactUpdates = require('./ReactUpdates')

          var warning = require('fbjs/lib/warning')

          var didWarnValueLink = false
          var didWarnValueNull = false
          var didWarnValueDefaultValue = false

          function updateOptionsIfPendingUpdateAndMounted() {
            if (this._rootNodeID && this._wrapperState.pendingUpdate) {
              this._wrapperState.pendingUpdate = false

              var props = this._currentElement.props
              var value = LinkedValueUtils.getValue(props)

              if (value != null) {
                updateOptions(this, Boolean(props.multiple), value)
              }
            }
          }

          function getDeclarationErrorAddendum(owner) {
            if (owner) {
              var name = owner.getName()
              if (name) {
                return ' Check the render method of `' + name + '`.'
              }
            }
            return ''
          }

          function warnIfValueIsNull(props) {
            if (props != null && props.value === null && !didWarnValueNull) {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '`value` prop on `select` should not be null. ' +
                      'Consider using the empty string to clear the component or `undefined` ' +
                      'for uncontrolled components.',
                  )
                : void 0

              didWarnValueNull = true
            }
          }

          var valuePropNames = ['value', 'defaultValue']

          /**
           * Validation function for `value` and `defaultValue`.
           * @private
           */
          function checkSelectPropTypes(inst, props) {
            var owner = inst._currentElement._owner
            LinkedValueUtils.checkPropTypes('select', props, owner)

            if (props.valueLink !== undefined && !didWarnValueLink) {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead.',
                  )
                : void 0
              didWarnValueLink = true
            }

            for (var i = 0; i < valuePropNames.length; i++) {
              var propName = valuePropNames[i]
              if (props[propName] == null) {
                continue
              }
              if (props.multiple) {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      Array.isArray(props[propName]),
                      'The `%s` prop supplied to <select> must be an array if ' +
                        '`multiple` is true.%s',
                      propName,
                      getDeclarationErrorAddendum(owner),
                    )
                  : void 0
              } else {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !Array.isArray(props[propName]),
                      'The `%s` prop supplied to <select> must be a scalar ' +
                        'value if `multiple` is false.%s',
                      propName,
                      getDeclarationErrorAddendum(owner),
                    )
                  : void 0
              }
            }
          }

          /**
           * @param {ReactDOMComponent} inst
           * @param {boolean} multiple
           * @param {*} propValue A stringable (with `multiple`, a list of stringables).
           * @private
           */
          function updateOptions(inst, multiple, propValue) {
            var selectedValue, i
            var options =
              ReactDOMComponentTree.getNodeFromInstance(inst).options

            if (multiple) {
              selectedValue = {}
              for (i = 0; i < propValue.length; i++) {
                selectedValue['' + propValue[i]] = true
              }
              for (i = 0; i < options.length; i++) {
                var selected = selectedValue.hasOwnProperty(options[i].value)
                if (options[i].selected !== selected) {
                  options[i].selected = selected
                }
              }
            } else {
              // Do not set `select.value` as exact behavior isn't consistent across all
              // browsers for all cases.
              selectedValue = '' + propValue
              for (i = 0; i < options.length; i++) {
                if (options[i].value === selectedValue) {
                  options[i].selected = true
                  return
                }
              }
              if (options.length) {
                options[0].selected = true
              }
            }
          }

          /**
           * Implements a <select> native component that allows optionally setting the
           * props `value` and `defaultValue`. If `multiple` is false, the prop must be a
           * stringable. If `multiple` is true, the prop must be an array of stringables.
           *
           * If `value` is not supplied (or null/undefined), user actions that change the
           * selected option will trigger updates to the rendered options.
           *
           * If it is supplied (and not null/undefined), the rendered options will not
           * update in response to user actions. Instead, the `value` prop must change in
           * order for the rendered options to update.
           *
           * If `defaultValue` is provided, any options with the supplied values will be
           * selected.
           */
          var ReactDOMSelect = {
            getNativeProps: function (inst, props) {
              return _assign(
                {},
                DisabledInputUtils.getNativeProps(inst, props),
                {
                  onChange: inst._wrapperState.onChange,
                  value: undefined,
                },
              )
            },

            mountWrapper: function (inst, props) {
              if (process.env.NODE_ENV !== 'production') {
                checkSelectPropTypes(inst, props)
                warnIfValueIsNull(props)
              }

              var value = LinkedValueUtils.getValue(props)
              inst._wrapperState = {
                pendingUpdate: false,
                initialValue: value != null ? value : props.defaultValue,
                listeners: null,
                onChange: _handleChange.bind(inst),
                wasMultiple: Boolean(props.multiple),
              }

              if (
                props.value !== undefined &&
                props.defaultValue !== undefined &&
                !didWarnValueDefaultValue
              ) {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      false,
                      'Select elements must be either controlled or uncontrolled ' +
                        '(specify either the value prop, or the defaultValue prop, but not ' +
                        'both). Decide between using a controlled or uncontrolled select ' +
                        'element and remove one of these props. More info: ' +
                        'https://fb.me/react-controlled-components',
                    )
                  : void 0
                didWarnValueDefaultValue = true
              }
            },

            getSelectValueContext: function (inst) {
              // ReactDOMOption looks at this initial value so the initial generated
              // markup has correct `selected` attributes
              return inst._wrapperState.initialValue
            },

            postUpdateWrapper: function (inst) {
              var props = inst._currentElement.props
              if (process.env.NODE_ENV !== 'production') {
                warnIfValueIsNull(props)
              }

              // After the initial mount, we control selected-ness manually so don't pass
              // this value down
              inst._wrapperState.initialValue = undefined

              var wasMultiple = inst._wrapperState.wasMultiple
              inst._wrapperState.wasMultiple = Boolean(props.multiple)

              var value = LinkedValueUtils.getValue(props)
              if (value != null) {
                inst._wrapperState.pendingUpdate = false
                updateOptions(inst, Boolean(props.multiple), value)
              } else if (wasMultiple !== Boolean(props.multiple)) {
                // For simplicity, reapply `defaultValue` if `multiple` is toggled.
                if (props.defaultValue != null) {
                  updateOptions(
                    inst,
                    Boolean(props.multiple),
                    props.defaultValue,
                  )
                } else {
                  // Revert the select back to its default unselected state.
                  updateOptions(
                    inst,
                    Boolean(props.multiple),
                    props.multiple ? [] : '',
                  )
                }
              }
            },
          }

          function _handleChange(event) {
            var props = this._currentElement.props
            var returnValue = LinkedValueUtils.executeOnChange(props, event)

            if (this._rootNodeID) {
              this._wrapperState.pendingUpdate = true
            }
            ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted, this)
            return returnValue
          }

          module.exports = ReactDOMSelect
        }).call(this, require('_process'))
      },
      {
        './DisabledInputUtils': 217,
        './LinkedValueUtils': 227,
        './ReactDOMComponentTree': 244,
        './ReactUpdates': 292,
        _process: 162,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    255: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDOMSelection
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

        var getNodeForCharacterOffset = require('./getNodeForCharacterOffset')
        var getTextContentAccessor = require('./getTextContentAccessor')

        /**
         * While `isCollapsed` is available on the Selection object and `collapsed`
         * is available on the Range object, IE11 sometimes gets them wrong.
         * If the anchor/focus nodes and offsets are the same, the range is collapsed.
         */
        function isCollapsed(anchorNode, anchorOffset, focusNode, focusOffset) {
          return anchorNode === focusNode && anchorOffset === focusOffset
        }

        /**
         * Get the appropriate anchor and focus node/offset pairs for IE.
         *
         * The catch here is that IE's selection API doesn't provide information
         * about whether the selection is forward or backward, so we have to
         * behave as though it's always forward.
         *
         * IE text differs from modern selection in that it behaves as though
         * block elements end with a new line. This means character offsets will
         * differ between the two APIs.
         *
         * @param {DOMElement} node
         * @return {object}
         */
        function getIEOffsets(node) {
          var selection = document.selection
          var selectedRange = selection.createRange()
          var selectedLength = selectedRange.text.length

          // Duplicate selection so we can move range without breaking user selection.
          var fromStart = selectedRange.duplicate()
          fromStart.moveToElementText(node)
          fromStart.setEndPoint('EndToStart', selectedRange)

          var startOffset = fromStart.text.length
          var endOffset = startOffset + selectedLength

          return {
            start: startOffset,
            end: endOffset,
          }
        }

        /**
         * @param {DOMElement} node
         * @return {?object}
         */
        function getModernOffsets(node) {
          var selection = window.getSelection && window.getSelection()

          if (!selection || selection.rangeCount === 0) {
            return null
          }

          var anchorNode = selection.anchorNode
          var anchorOffset = selection.anchorOffset
          var focusNode = selection.focusNode
          var focusOffset = selection.focusOffset

          var currentRange = selection.getRangeAt(0)

          // In Firefox, range.startContainer and range.endContainer can be "anonymous
          // divs", e.g. the up/down buttons on an <input type="number">. Anonymous
          // divs do not seem to expose properties, triggering a "Permission denied
          // error" if any of its properties are accessed. The only seemingly possible
          // way to avoid erroring is to access a property that typically works for
          // non-anonymous divs and catch any error that may otherwise arise. See
          // https://bugzilla.mozilla.org/show_bug.cgi?id=208427
          try {
            /* eslint-disable no-unused-expressions */
            currentRange.startContainer.nodeType
            currentRange.endContainer.nodeType
            /* eslint-enable no-unused-expressions */
          } catch (e) {
            return null
          }

          // If the node and offset values are the same, the selection is collapsed.
          // `Selection.isCollapsed` is available natively, but IE sometimes gets
          // this value wrong.
          var isSelectionCollapsed = isCollapsed(
            selection.anchorNode,
            selection.anchorOffset,
            selection.focusNode,
            selection.focusOffset,
          )

          var rangeLength = isSelectionCollapsed
            ? 0
            : currentRange.toString().length

          var tempRange = currentRange.cloneRange()
          tempRange.selectNodeContents(node)
          tempRange.setEnd(
            currentRange.startContainer,
            currentRange.startOffset,
          )

          var isTempRangeCollapsed = isCollapsed(
            tempRange.startContainer,
            tempRange.startOffset,
            tempRange.endContainer,
            tempRange.endOffset,
          )

          var start = isTempRangeCollapsed ? 0 : tempRange.toString().length
          var end = start + rangeLength

          // Detect whether the selection is backward.
          var detectionRange = document.createRange()
          detectionRange.setStart(anchorNode, anchorOffset)
          detectionRange.setEnd(focusNode, focusOffset)
          var isBackward = detectionRange.collapsed

          return {
            start: isBackward ? end : start,
            end: isBackward ? start : end,
          }
        }

        /**
         * @param {DOMElement|DOMTextNode} node
         * @param {object} offsets
         */
        function setIEOffsets(node, offsets) {
          var range = document.selection.createRange().duplicate()
          var start, end

          if (offsets.end === undefined) {
            start = offsets.start
            end = start
          } else if (offsets.start > offsets.end) {
            start = offsets.end
            end = offsets.start
          } else {
            start = offsets.start
            end = offsets.end
          }

          range.moveToElementText(node)
          range.moveStart('character', start)
          range.setEndPoint('EndToStart', range)
          range.moveEnd('character', end - start)
          range.select()
        }

        /**
         * In modern non-IE browsers, we can support both forward and backward
         * selections.
         *
         * Note: IE10+ supports the Selection object, but it does not support
         * the `extend` method, which means that even in modern IE, it's not possible
         * to programmatically create a backward selection. Thus, for all IE
         * versions, we use the old IE API to create our selections.
         *
         * @param {DOMElement|DOMTextNode} node
         * @param {object} offsets
         */
        function setModernOffsets(node, offsets) {
          if (!window.getSelection) {
            return
          }

          var selection = window.getSelection()
          var length = node[getTextContentAccessor()].length
          var start = Math.min(offsets.start, length)
          var end =
            offsets.end === undefined ? start : Math.min(offsets.end, length)

          // IE 11 uses modern selection, but doesn't support the extend method.
          // Flip backward selections, so we can set with a single range.
          if (!selection.extend && start > end) {
            var temp = end
            end = start
            start = temp
          }

          var startMarker = getNodeForCharacterOffset(node, start)
          var endMarker = getNodeForCharacterOffset(node, end)

          if (startMarker && endMarker) {
            var range = document.createRange()
            range.setStart(startMarker.node, startMarker.offset)
            selection.removeAllRanges()

            if (start > end) {
              selection.addRange(range)
              selection.extend(endMarker.node, endMarker.offset)
            } else {
              range.setEnd(endMarker.node, endMarker.offset)
              selection.addRange(range)
            }
          }
        }

        var useIEOffsets =
          ExecutionEnvironment.canUseDOM &&
          'selection' in document &&
          !('getSelection' in window)

        var ReactDOMSelection = {
          /**
           * @param {DOMElement} node
           */
          getOffsets: useIEOffsets ? getIEOffsets : getModernOffsets,

          /**
           * @param {DOMElement|DOMTextNode} node
           * @param {object} offsets
           */
          setOffsets: useIEOffsets ? setIEOffsets : setModernOffsets,
        }

        module.exports = ReactDOMSelection
      },
      {
        './getNodeForCharacterOffset': 327,
        './getTextContentAccessor': 328,
        'fbjs/lib/ExecutionEnvironment': 28,
      },
    ],
    256: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMTextComponent
           */

          'use strict'

          var _assign = require('object-assign')

          var DOMChildrenOperations = require('./DOMChildrenOperations')
          var DOMLazyTree = require('./DOMLazyTree')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var escapeTextContentForBrowser = require('./escapeTextContentForBrowser')
          var invariant = require('fbjs/lib/invariant')
          var validateDOMNesting = require('./validateDOMNesting')

          /**
           * Text nodes violate a couple assumptions that React makes about components:
           *
           *  - When mounting text into the DOM, adjacent text nodes are merged.
           *  - Text nodes cannot be assigned a React root ID.
           *
           * This component is used to wrap strings between comment nodes so that they
           * can undergo the same reconciliation that is applied to elements.
           *
           * TODO: Investigate representing React components in the DOM with text nodes.
           *
           * @class ReactDOMTextComponent
           * @extends ReactComponent
           * @internal
           */
          var ReactDOMTextComponent = function (text) {
            // TODO: This is really a ReactText (ReactNode), not a ReactElement
            this._currentElement = text
            this._stringText = '' + text
            // ReactDOMComponentTree uses these:
            this._nativeNode = null
            this._nativeParent = null

            // Properties
            this._domID = null
            this._mountIndex = 0
            this._closingComment = null
            this._commentNodes = null
          }

          _assign(ReactDOMTextComponent.prototype, {
            /**
             * Creates the markup for this text node. This node is not intended to have
             * any features besides containing text content.
             *
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @return {string} Markup for this text node.
             * @internal
             */
            mountComponent: function (
              transaction,
              nativeParent,
              nativeContainerInfo,
              context,
            ) {
              if (process.env.NODE_ENV !== 'production') {
                ReactInstrumentation.debugTool.onSetText(
                  this._debugID,
                  this._stringText,
                )

                var parentInfo
                if (nativeParent != null) {
                  parentInfo = nativeParent._ancestorInfo
                } else if (nativeContainerInfo != null) {
                  parentInfo = nativeContainerInfo._ancestorInfo
                }
                if (parentInfo) {
                  // parentInfo should always be present except for the top-level
                  // component when server rendering
                  validateDOMNesting('#text', this, parentInfo)
                }
              }

              var domID = nativeContainerInfo._idCounter++
              var openingValue = ' react-text: ' + domID + ' '
              var closingValue = ' /react-text '
              this._domID = domID
              this._nativeParent = nativeParent
              if (transaction.useCreateElement) {
                var ownerDocument = nativeContainerInfo._ownerDocument
                var openingComment = ownerDocument.createComment(openingValue)
                var closingComment = ownerDocument.createComment(closingValue)
                var lazyTree = DOMLazyTree(
                  ownerDocument.createDocumentFragment(),
                )
                DOMLazyTree.queueChild(lazyTree, DOMLazyTree(openingComment))
                if (this._stringText) {
                  DOMLazyTree.queueChild(
                    lazyTree,
                    DOMLazyTree(ownerDocument.createTextNode(this._stringText)),
                  )
                }
                DOMLazyTree.queueChild(lazyTree, DOMLazyTree(closingComment))
                ReactDOMComponentTree.precacheNode(this, openingComment)
                this._closingComment = closingComment
                return lazyTree
              } else {
                var escapedText = escapeTextContentForBrowser(this._stringText)

                if (transaction.renderToStaticMarkup) {
                  // Normally we'd wrap this between comment nodes for the reasons stated
                  // above, but since this is a situation where React won't take over
                  // (static pages), we can simply return the text as it is.
                  return escapedText
                }

                return (
                  '<!--' +
                  openingValue +
                  '-->' +
                  escapedText +
                  '<!--' +
                  closingValue +
                  '-->'
                )
              }
            },

            /**
             * Updates this component by updating the text content.
             *
             * @param {ReactText} nextText The next text content
             * @param {ReactReconcileTransaction} transaction
             * @internal
             */
            receiveComponent: function (nextText, transaction) {
              if (nextText !== this._currentElement) {
                this._currentElement = nextText
                var nextStringText = '' + nextText
                if (nextStringText !== this._stringText) {
                  // TODO: Save this as pending props and use performUpdateIfNecessary
                  // and/or updateComponent to do the actual update for consistency with
                  // other component types?
                  this._stringText = nextStringText
                  var commentNodes = this.getNativeNode()
                  DOMChildrenOperations.replaceDelimitedText(
                    commentNodes[0],
                    commentNodes[1],
                    nextStringText,
                  )

                  if (process.env.NODE_ENV !== 'production') {
                    ReactInstrumentation.debugTool.onSetText(
                      this._debugID,
                      nextStringText,
                    )
                  }
                }
              }
            },

            getNativeNode: function () {
              var nativeNode = this._commentNodes
              if (nativeNode) {
                return nativeNode
              }
              if (!this._closingComment) {
                var openingComment =
                  ReactDOMComponentTree.getNodeFromInstance(this)
                var node = openingComment.nextSibling
                while (true) {
                  !(node != null)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          'Missing closing comment for text component %s',
                          this._domID,
                        )
                      : invariant(false)
                    : void 0
                  if (
                    node.nodeType === 8 &&
                    node.nodeValue === ' /react-text '
                  ) {
                    this._closingComment = node
                    break
                  }
                  node = node.nextSibling
                }
              }
              nativeNode = [this._nativeNode, this._closingComment]
              this._commentNodes = nativeNode
              return nativeNode
            },

            unmountComponent: function () {
              this._closingComment = null
              this._commentNodes = null
              ReactDOMComponentTree.uncacheNode(this)
            },
          })

          module.exports = ReactDOMTextComponent
        }).call(this, require('_process'))
      },
      {
        './DOMChildrenOperations': 210,
        './DOMLazyTree': 211,
        './ReactDOMComponentTree': 244,
        './ReactInstrumentation': 273,
        './escapeTextContentForBrowser': 317,
        './validateDOMNesting': 340,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'object-assign': 161,
      },
    ],
    257: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMTextarea
           */

          'use strict'

          var _assign = require('object-assign')

          var DisabledInputUtils = require('./DisabledInputUtils')
          var DOMPropertyOperations = require('./DOMPropertyOperations')
          var LinkedValueUtils = require('./LinkedValueUtils')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactUpdates = require('./ReactUpdates')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          var didWarnValueLink = false
          var didWarnValueNull = false
          var didWarnValDefaultVal = false

          function forceUpdateIfMounted() {
            if (this._rootNodeID) {
              // DOM component is still mounted; update
              ReactDOMTextarea.updateWrapper(this)
            }
          }

          function warnIfValueIsNull(props) {
            if (props != null && props.value === null && !didWarnValueNull) {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '`value` prop on `textarea` should not be null. ' +
                      'Consider using the empty string to clear the component or `undefined` ' +
                      'for uncontrolled components.',
                  )
                : void 0

              didWarnValueNull = true
            }
          }

          /**
           * Implements a <textarea> native component that allows setting `value`, and
           * `defaultValue`. This differs from the traditional DOM API because value is
           * usually set as PCDATA children.
           *
           * If `value` is not supplied (or null/undefined), user actions that affect the
           * value will trigger updates to the element.
           *
           * If `value` is supplied (and not null/undefined), the rendered element will
           * not trigger updates to the element. Instead, the `value` prop must change in
           * order for the rendered element to be updated.
           *
           * The rendered element will be initialized with an empty value, the prop
           * `defaultValue` if specified, or the children content (deprecated).
           */
          var ReactDOMTextarea = {
            getNativeProps: function (inst, props) {
              !(props.dangerouslySetInnerHTML == null)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '`dangerouslySetInnerHTML` does not make sense on <textarea>.',
                    )
                  : invariant(false)
                : void 0

              // Always set children to the same thing. In IE9, the selection range will
              // get reset if `textContent` is mutated.
              var nativeProps = _assign(
                {},
                DisabledInputUtils.getNativeProps(inst, props),
                {
                  defaultValue: undefined,
                  value: undefined,
                  children: inst._wrapperState.initialValue,
                  onChange: inst._wrapperState.onChange,
                },
              )

              return nativeProps
            },

            mountWrapper: function (inst, props) {
              if (process.env.NODE_ENV !== 'production') {
                LinkedValueUtils.checkPropTypes(
                  'textarea',
                  props,
                  inst._currentElement._owner,
                )
                if (props.valueLink !== undefined && !didWarnValueLink) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        '`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead.',
                      )
                    : void 0
                  didWarnValueLink = true
                }
                if (
                  props.value !== undefined &&
                  props.defaultValue !== undefined &&
                  !didWarnValDefaultVal
                ) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'Textarea elements must be either controlled or uncontrolled ' +
                          '(specify either the value prop, or the defaultValue prop, but not ' +
                          'both). Decide between using a controlled or uncontrolled textarea ' +
                          'and remove one of these props. More info: ' +
                          'https://fb.me/react-controlled-components',
                      )
                    : void 0
                  didWarnValDefaultVal = true
                }
                warnIfValueIsNull(props)
              }

              var defaultValue = props.defaultValue
              // TODO (yungsters): Remove support for children content in <textarea>.
              var children = props.children
              if (children != null) {
                if (process.env.NODE_ENV !== 'production') {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'Use the `defaultValue` or `value` props instead of setting ' +
                          'children on <textarea>.',
                      )
                    : void 0
                }
                !(defaultValue == null)
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'If you supply `defaultValue` on a <textarea>, do not pass children.',
                      )
                    : invariant(false)
                  : void 0
                if (Array.isArray(children)) {
                  !(children.length <= 1)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          '<textarea> can only have at most one child.',
                        )
                      : invariant(false)
                    : void 0
                  children = children[0]
                }

                defaultValue = '' + children
              }
              if (defaultValue == null) {
                defaultValue = ''
              }
              var value = LinkedValueUtils.getValue(props)
              inst._wrapperState = {
                // We save the initial value so that `ReactDOMComponent` doesn't update
                // `textContent` (unnecessary since we update value).
                // The initial value can be a boolean or object so that's why it's
                // forced to be a string.
                initialValue: '' + (value != null ? value : defaultValue),
                listeners: null,
                onChange: _handleChange.bind(inst),
              }
            },

            updateWrapper: function (inst) {
              var props = inst._currentElement.props

              if (process.env.NODE_ENV !== 'production') {
                warnIfValueIsNull(props)
              }

              var value = LinkedValueUtils.getValue(props)
              if (value != null) {
                // Cast `value` to a string to ensure the value is set correctly. While
                // browsers typically do this as necessary, jsdom doesn't.
                DOMPropertyOperations.setValueForProperty(
                  ReactDOMComponentTree.getNodeFromInstance(inst),
                  'value',
                  '' + value,
                )
              }
            },
          }

          function _handleChange(event) {
            var props = this._currentElement.props
            var returnValue = LinkedValueUtils.executeOnChange(props, event)
            ReactUpdates.asap(forceUpdateIfMounted, this)
            return returnValue
          }

          module.exports = ReactDOMTextarea
        }).call(this, require('_process'))
      },
      {
        './DOMPropertyOperations': 214,
        './DisabledInputUtils': 217,
        './LinkedValueUtils': 227,
        './ReactDOMComponentTree': 244,
        './ReactUpdates': 292,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    258: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2015-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMTreeTraversal
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           * Return the lowest common ancestor of A and B, or null if they are in
           * different trees.
           */
          function getLowestCommonAncestor(instA, instB) {
            !('_nativeNode' in instA)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'getNodeFromInstance: Invalid argument.')
                : invariant(false)
              : void 0
            !('_nativeNode' in instB)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'getNodeFromInstance: Invalid argument.')
                : invariant(false)
              : void 0

            var depthA = 0
            for (var tempA = instA; tempA; tempA = tempA._nativeParent) {
              depthA++
            }
            var depthB = 0
            for (var tempB = instB; tempB; tempB = tempB._nativeParent) {
              depthB++
            }

            // If A is deeper, crawl up.
            while (depthA - depthB > 0) {
              instA = instA._nativeParent
              depthA--
            }

            // If B is deeper, crawl up.
            while (depthB - depthA > 0) {
              instB = instB._nativeParent
              depthB--
            }

            // Walk in lockstep until we find a match.
            var depth = depthA
            while (depth--) {
              if (instA === instB) {
                return instA
              }
              instA = instA._nativeParent
              instB = instB._nativeParent
            }
            return null
          }

          /**
           * Return if A is an ancestor of B.
           */
          function isAncestor(instA, instB) {
            !('_nativeNode' in instA)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'isAncestor: Invalid argument.')
                : invariant(false)
              : void 0
            !('_nativeNode' in instB)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'isAncestor: Invalid argument.')
                : invariant(false)
              : void 0

            while (instB) {
              if (instB === instA) {
                return true
              }
              instB = instB._nativeParent
            }
            return false
          }

          /**
           * Return the parent instance of the passed-in instance.
           */
          function getParentInstance(inst) {
            !('_nativeNode' in inst)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(false, 'getParentInstance: Invalid argument.')
                : invariant(false)
              : void 0

            return inst._nativeParent
          }

          /**
           * Simulates the traversal of a two-phase, capture/bubble event dispatch.
           */
          function traverseTwoPhase(inst, fn, arg) {
            var path = []
            while (inst) {
              path.push(inst)
              inst = inst._nativeParent
            }
            var i
            for (i = path.length; i-- > 0; ) {
              fn(path[i], false, arg)
            }
            for (i = 0; i < path.length; i++) {
              fn(path[i], true, arg)
            }
          }

          /**
           * Traverses the ID hierarchy and invokes the supplied `cb` on any IDs that
           * should would receive a `mouseEnter` or `mouseLeave` event.
           *
           * Does not invoke the callback on the nearest common ancestor because nothing
           * "entered" or "left" that element.
           */
          function traverseEnterLeave(from, to, fn, argFrom, argTo) {
            var common = from && to ? getLowestCommonAncestor(from, to) : null
            var pathFrom = []
            while (from && from !== common) {
              pathFrom.push(from)
              from = from._nativeParent
            }
            var pathTo = []
            while (to && to !== common) {
              pathTo.push(to)
              to = to._nativeParent
            }
            var i
            for (i = 0; i < pathFrom.length; i++) {
              fn(pathFrom[i], true, argFrom)
            }
            for (i = pathTo.length; i-- > 0; ) {
              fn(pathTo[i], false, argTo)
            }
          }

          module.exports = {
            isAncestor: isAncestor,
            getLowestCommonAncestor: getLowestCommonAncestor,
            getParentInstance: getParentInstance,
            traverseTwoPhase: traverseTwoPhase,
            traverseEnterLeave: traverseEnterLeave,
          }
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    259: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDOMUnknownPropertyDevtool
           */

          'use strict'

          var DOMProperty = require('./DOMProperty')
          var EventPluginRegistry = require('./EventPluginRegistry')

          var warning = require('fbjs/lib/warning')

          if (process.env.NODE_ENV !== 'production') {
            var reactProps = {
              children: true,
              dangerouslySetInnerHTML: true,
              key: true,
              ref: true,
            }
            var warnedProperties = {}

            var warnUnknownProperty = function (name) {
              if (
                DOMProperty.properties.hasOwnProperty(name) ||
                DOMProperty.isCustomAttribute(name)
              ) {
                return
              }
              if (
                (reactProps.hasOwnProperty(name) && reactProps[name]) ||
                (warnedProperties.hasOwnProperty(name) &&
                  warnedProperties[name])
              ) {
                return
              }

              warnedProperties[name] = true
              var lowerCasedName = name.toLowerCase()

              // data-* attributes should be lowercase; suggest the lowercase version
              var standardName = DOMProperty.isCustomAttribute(lowerCasedName)
                ? lowerCasedName
                : DOMProperty.getPossibleStandardName.hasOwnProperty(
                      lowerCasedName,
                    )
                  ? DOMProperty.getPossibleStandardName[lowerCasedName]
                  : null

              // For now, only warn when we have a suggested correction. This prevents
              // logging too much when using transferPropsTo.
              process.env.NODE_ENV !== 'production'
                ? warning(
                    standardName == null,
                    'Unknown DOM property %s. Did you mean %s?',
                    name,
                    standardName,
                  )
                : void 0

              var registrationName =
                EventPluginRegistry.possibleRegistrationNames.hasOwnProperty(
                  lowerCasedName,
                )
                  ? EventPluginRegistry.possibleRegistrationNames[
                      lowerCasedName
                    ]
                  : null

              process.env.NODE_ENV !== 'production'
                ? warning(
                    registrationName == null,
                    'Unknown event handler property %s. Did you mean `%s`?',
                    name,
                    registrationName,
                  )
                : void 0
            }
          }

          var ReactDOMUnknownPropertyDevtool = {
            onCreateMarkupForProperty: function (name, value) {
              warnUnknownProperty(name)
            },
            onSetValueForProperty: function (node, name, value) {
              warnUnknownProperty(name)
            },
            onDeleteValueForProperty: function (node, name) {
              warnUnknownProperty(name)
            },
          }

          module.exports = ReactDOMUnknownPropertyDevtool
        }).call(this, require('_process'))
      },
      {
        './DOMProperty': 213,
        './EventPluginRegistry': 221,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    260: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2016-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactDebugTool
           */

          'use strict'

          var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

          var performanceNow = require('fbjs/lib/performanceNow')
          var warning = require('fbjs/lib/warning')

          var eventHandlers = []
          var handlerDoesThrowForEvent = {}

          function emitEvent(
            handlerFunctionName,
            arg1,
            arg2,
            arg3,
            arg4,
            arg5,
          ) {
            if (process.env.NODE_ENV !== 'production') {
              eventHandlers.forEach(function (handler) {
                try {
                  if (handler[handlerFunctionName]) {
                    handler[handlerFunctionName](arg1, arg2, arg3, arg4, arg5)
                  }
                } catch (e) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        !handlerDoesThrowForEvent[handlerFunctionName],
                        'exception thrown by devtool while handling %s: %s',
                        handlerFunctionName,
                        e.message,
                      )
                    : void 0
                  handlerDoesThrowForEvent[handlerFunctionName] = true
                }
              })
            }
          }

          var isProfiling = false
          var flushHistory = []
          var currentFlushNesting = 0
          var currentFlushMeasurements = null
          var currentFlushStartTime = null
          var currentTimerDebugID = null
          var currentTimerStartTime = null
          var currentTimerType = null

          function clearHistory() {
            ReactComponentTreeDevtool.purgeUnmountedComponents()
            ReactNativeOperationHistoryDevtool.clearHistory()
          }

          function getTreeSnapshot(registeredIDs) {
            return registeredIDs.reduce(function (tree, id) {
              var ownerID = ReactComponentTreeDevtool.getOwnerID(id)
              var parentID = ReactComponentTreeDevtool.getParentID(id)
              tree[id] = {
                displayName: ReactComponentTreeDevtool.getDisplayName(id),
                text: ReactComponentTreeDevtool.getText(id),
                updateCount: ReactComponentTreeDevtool.getUpdateCount(id),
                childIDs: ReactComponentTreeDevtool.getChildIDs(id),
                // Text nodes don't have owners but this is close enough.
                ownerID:
                  ownerID || ReactComponentTreeDevtool.getOwnerID(parentID),
                parentID: parentID,
              }
              return tree
            }, {})
          }

          function resetMeasurements() {
            if (process.env.NODE_ENV !== 'production') {
              var previousStartTime = currentFlushStartTime
              var previousMeasurements = currentFlushMeasurements || []
              var previousOperations =
                ReactNativeOperationHistoryDevtool.getHistory()

              if (!isProfiling || currentFlushNesting === 0) {
                currentFlushStartTime = null
                currentFlushMeasurements = null
                clearHistory()
                return
              }

              if (previousMeasurements.length || previousOperations.length) {
                var registeredIDs = ReactComponentTreeDevtool.getRegisteredIDs()
                flushHistory.push({
                  duration: performanceNow() - previousStartTime,
                  measurements: previousMeasurements || [],
                  operations: previousOperations || [],
                  treeSnapshot: getTreeSnapshot(registeredIDs),
                })
              }

              clearHistory()
              currentFlushStartTime = performanceNow()
              currentFlushMeasurements = []
            }
          }

          function checkDebugID(debugID) {
            process.env.NODE_ENV !== 'production'
              ? warning(debugID, 'ReactDebugTool: debugID may not be empty.')
              : void 0
          }

          var ReactDebugTool = {
            addDevtool: function (devtool) {
              eventHandlers.push(devtool)
            },
            removeDevtool: function (devtool) {
              for (var i = 0; i < eventHandlers.length; i++) {
                if (eventHandlers[i] === devtool) {
                  eventHandlers.splice(i, 1)
                  i--
                }
              }
            },
            beginProfiling: function () {
              if (process.env.NODE_ENV !== 'production') {
                if (isProfiling) {
                  return
                }

                isProfiling = true
                flushHistory.length = 0
                resetMeasurements()
              }
            },
            endProfiling: function () {
              if (process.env.NODE_ENV !== 'production') {
                if (!isProfiling) {
                  return
                }

                isProfiling = false
                resetMeasurements()
              }
            },
            getFlushHistory: function () {
              if (process.env.NODE_ENV !== 'production') {
                return flushHistory
              }
            },
            onBeginFlush: function () {
              if (process.env.NODE_ENV !== 'production') {
                currentFlushNesting++
                resetMeasurements()
              }
              emitEvent('onBeginFlush')
            },
            onEndFlush: function () {
              if (process.env.NODE_ENV !== 'production') {
                resetMeasurements()
                currentFlushNesting--
              }
              emitEvent('onEndFlush')
            },
            onBeginLifeCycleTimer: function (debugID, timerType) {
              checkDebugID(debugID)
              emitEvent('onBeginLifeCycleTimer', debugID, timerType)
              if (process.env.NODE_ENV !== 'production') {
                if (isProfiling && currentFlushNesting > 0) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        !currentTimerType,
                        'There is an internal error in the React performance measurement code. ' +
                          'Did not expect %s timer to start while %s timer is still in ' +
                          'progress for %s instance.',
                        timerType,
                        currentTimerType || 'no',
                        debugID === currentTimerDebugID
                          ? 'the same'
                          : 'another',
                      )
                    : void 0
                  currentTimerStartTime = performanceNow()
                  currentTimerDebugID = debugID
                  currentTimerType = timerType
                }
              }
            },
            onEndLifeCycleTimer: function (debugID, timerType) {
              checkDebugID(debugID)
              if (process.env.NODE_ENV !== 'production') {
                if (isProfiling && currentFlushNesting > 0) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        currentTimerType === timerType,
                        'There is an internal error in the React performance measurement code. ' +
                          'We did not expect %s timer to stop while %s timer is still in ' +
                          'progress for %s instance. Please report this as a bug in React.',
                        timerType,
                        currentTimerType || 'no',
                        debugID === currentTimerDebugID
                          ? 'the same'
                          : 'another',
                      )
                    : void 0
                  currentFlushMeasurements.push({
                    timerType: timerType,
                    instanceID: debugID,
                    duration: performanceNow() - currentTimerStartTime,
                  })
                  currentTimerStartTime = null
                  currentTimerDebugID = null
                  currentTimerType = null
                }
              }
              emitEvent('onEndLifeCycleTimer', debugID, timerType)
            },
            onBeginReconcilerTimer: function (debugID, timerType) {
              checkDebugID(debugID)
              emitEvent('onBeginReconcilerTimer', debugID, timerType)
            },
            onEndReconcilerTimer: function (debugID, timerType) {
              checkDebugID(debugID)
              emitEvent('onEndReconcilerTimer', debugID, timerType)
            },
            onBeginProcessingChildContext: function () {
              emitEvent('onBeginProcessingChildContext')
            },
            onEndProcessingChildContext: function () {
              emitEvent('onEndProcessingChildContext')
            },
            onNativeOperation: function (debugID, type, payload) {
              checkDebugID(debugID)
              emitEvent('onNativeOperation', debugID, type, payload)
            },
            onSetState: function () {
              emitEvent('onSetState')
            },
            onSetDisplayName: function (debugID, displayName) {
              checkDebugID(debugID)
              emitEvent('onSetDisplayName', debugID, displayName)
            },
            onSetChildren: function (debugID, childDebugIDs) {
              checkDebugID(debugID)
              emitEvent('onSetChildren', debugID, childDebugIDs)
            },
            onSetOwner: function (debugID, ownerDebugID) {
              checkDebugID(debugID)
              emitEvent('onSetOwner', debugID, ownerDebugID)
            },
            onSetText: function (debugID, text) {
              checkDebugID(debugID)
              emitEvent('onSetText', debugID, text)
            },
            onMountRootComponent: function (debugID) {
              checkDebugID(debugID)
              emitEvent('onMountRootComponent', debugID)
            },
            onMountComponent: function (debugID) {
              checkDebugID(debugID)
              emitEvent('onMountComponent', debugID)
            },
            onUpdateComponent: function (debugID) {
              checkDebugID(debugID)
              emitEvent('onUpdateComponent', debugID)
            },
            onUnmountComponent: function (debugID) {
              checkDebugID(debugID)
              emitEvent('onUnmountComponent', debugID)
            },
          }

          if (process.env.NODE_ENV !== 'production') {
            var ReactInvalidSetStateWarningDevTool = require('./ReactInvalidSetStateWarningDevTool')
            var ReactNativeOperationHistoryDevtool = require('./ReactNativeOperationHistoryDevtool')
            var ReactComponentTreeDevtool = require('./ReactComponentTreeDevtool')
            ReactDebugTool.addDevtool(ReactInvalidSetStateWarningDevTool)
            ReactDebugTool.addDevtool(ReactComponentTreeDevtool)
            ReactDebugTool.addDevtool(ReactNativeOperationHistoryDevtool)
            var url =
              (ExecutionEnvironment.canUseDOM && window.location.href) || ''
            if (/[?&]react_perf\b/.test(url)) {
              ReactDebugTool.beginProfiling()
            }
          }

          module.exports = ReactDebugTool
        }).call(this, require('_process'))
      },
      {
        './ReactComponentTreeDevtool': 237,
        './ReactInvalidSetStateWarningDevTool': 274,
        './ReactNativeOperationHistoryDevtool': 280,
        _process: 162,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/performanceNow': 50,
        'fbjs/lib/warning': 52,
      },
    ],
    261: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDefaultBatchingStrategy
         */

        'use strict'

        var _assign = require('object-assign')

        var ReactUpdates = require('./ReactUpdates')
        var Transaction = require('./Transaction')

        var emptyFunction = require('fbjs/lib/emptyFunction')

        var RESET_BATCHED_UPDATES = {
          initialize: emptyFunction,
          close: function () {
            ReactDefaultBatchingStrategy.isBatchingUpdates = false
          },
        }

        var FLUSH_BATCHED_UPDATES = {
          initialize: emptyFunction,
          close: ReactUpdates.flushBatchedUpdates.bind(ReactUpdates),
        }

        var TRANSACTION_WRAPPERS = [
          FLUSH_BATCHED_UPDATES,
          RESET_BATCHED_UPDATES,
        ]

        function ReactDefaultBatchingStrategyTransaction() {
          this.reinitializeTransaction()
        }

        _assign(
          ReactDefaultBatchingStrategyTransaction.prototype,
          Transaction.Mixin,
          {
            getTransactionWrappers: function () {
              return TRANSACTION_WRAPPERS
            },
          },
        )

        var transaction = new ReactDefaultBatchingStrategyTransaction()

        var ReactDefaultBatchingStrategy = {
          isBatchingUpdates: false,

          /**
           * Call the provided function in a context within which calls to `setState`
           * and friends are batched such that components aren't updated unnecessarily.
           */
          batchedUpdates: function (callback, a, b, c, d, e) {
            var alreadyBatchingUpdates =
              ReactDefaultBatchingStrategy.isBatchingUpdates

            ReactDefaultBatchingStrategy.isBatchingUpdates = true

            // The code is written this way to avoid extra allocations
            if (alreadyBatchingUpdates) {
              callback(a, b, c, d, e)
            } else {
              transaction.perform(callback, null, a, b, c, d, e)
            }
          },
        }

        module.exports = ReactDefaultBatchingStrategy
      },
      {
        './ReactUpdates': 292,
        './Transaction': 310,
        'fbjs/lib/emptyFunction': 34,
        'object-assign': 161,
      },
    ],
    262: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactDefaultInjection
         */

        'use strict'

        var BeforeInputEventPlugin = require('./BeforeInputEventPlugin')
        var ChangeEventPlugin = require('./ChangeEventPlugin')
        var DefaultEventPluginOrder = require('./DefaultEventPluginOrder')
        var EnterLeaveEventPlugin = require('./EnterLeaveEventPlugin')
        var HTMLDOMPropertyConfig = require('./HTMLDOMPropertyConfig')
        var ReactComponentBrowserEnvironment = require('./ReactComponentBrowserEnvironment')
        var ReactDOMComponent = require('./ReactDOMComponent')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')
        var ReactDOMEmptyComponent = require('./ReactDOMEmptyComponent')
        var ReactDOMTreeTraversal = require('./ReactDOMTreeTraversal')
        var ReactDOMTextComponent = require('./ReactDOMTextComponent')
        var ReactDefaultBatchingStrategy = require('./ReactDefaultBatchingStrategy')
        var ReactEventListener = require('./ReactEventListener')
        var ReactInjection = require('./ReactInjection')
        var ReactReconcileTransaction = require('./ReactReconcileTransaction')
        var SVGDOMPropertyConfig = require('./SVGDOMPropertyConfig')
        var SelectEventPlugin = require('./SelectEventPlugin')
        var SimpleEventPlugin = require('./SimpleEventPlugin')

        var alreadyInjected = false

        function inject() {
          if (alreadyInjected) {
            // TODO: This is currently true because these injections are shared between
            // the client and the server package. They should be built independently
            // and not share any injection state. Then this problem will be solved.
            return
          }
          alreadyInjected = true

          ReactInjection.EventEmitter.injectReactEventListener(
            ReactEventListener,
          )

          /**
           * Inject modules for resolving DOM hierarchy and plugin ordering.
           */
          ReactInjection.EventPluginHub.injectEventPluginOrder(
            DefaultEventPluginOrder,
          )
          ReactInjection.EventPluginUtils.injectComponentTree(
            ReactDOMComponentTree,
          )
          ReactInjection.EventPluginUtils.injectTreeTraversal(
            ReactDOMTreeTraversal,
          )

          /**
           * Some important event plugins included by default (without having to require
           * them).
           */
          ReactInjection.EventPluginHub.injectEventPluginsByName({
            SimpleEventPlugin: SimpleEventPlugin,
            EnterLeaveEventPlugin: EnterLeaveEventPlugin,
            ChangeEventPlugin: ChangeEventPlugin,
            SelectEventPlugin: SelectEventPlugin,
            BeforeInputEventPlugin: BeforeInputEventPlugin,
          })

          ReactInjection.NativeComponent.injectGenericComponentClass(
            ReactDOMComponent,
          )

          ReactInjection.NativeComponent.injectTextComponentClass(
            ReactDOMTextComponent,
          )

          ReactInjection.DOMProperty.injectDOMPropertyConfig(
            HTMLDOMPropertyConfig,
          )
          ReactInjection.DOMProperty.injectDOMPropertyConfig(
            SVGDOMPropertyConfig,
          )

          ReactInjection.EmptyComponent.injectEmptyComponentFactory(
            function (instantiate) {
              return new ReactDOMEmptyComponent(instantiate)
            },
          )

          ReactInjection.Updates.injectReconcileTransaction(
            ReactReconcileTransaction,
          )
          ReactInjection.Updates.injectBatchingStrategy(
            ReactDefaultBatchingStrategy,
          )

          ReactInjection.Component.injectEnvironment(
            ReactComponentBrowserEnvironment,
          )
        }

        module.exports = {
          inject: inject,
        }
      },
      {
        './BeforeInputEventPlugin': 205,
        './ChangeEventPlugin': 209,
        './DefaultEventPluginOrder': 216,
        './EnterLeaveEventPlugin': 218,
        './HTMLDOMPropertyConfig': 225,
        './ReactComponentBrowserEnvironment': 235,
        './ReactDOMComponent': 242,
        './ReactDOMComponentTree': 244,
        './ReactDOMEmptyComponent': 247,
        './ReactDOMTextComponent': 256,
        './ReactDOMTreeTraversal': 258,
        './ReactDefaultBatchingStrategy': 261,
        './ReactEventListener': 268,
        './ReactInjection': 270,
        './ReactReconcileTransaction': 287,
        './SVGDOMPropertyConfig': 294,
        './SelectEventPlugin': 295,
        './SimpleEventPlugin': 296,
      },
    ],
    263: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactElement
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactCurrentOwner = require('./ReactCurrentOwner')

          var warning = require('fbjs/lib/warning')
          var canDefineProperty = require('./canDefineProperty')

          // The Symbol used to tag the ReactElement type. If there is no native Symbol
          // nor polyfill, then a plain number is used for performance.
          var REACT_ELEMENT_TYPE =
            (typeof Symbol === 'function' &&
              Symbol['for'] &&
              Symbol['for']('react.element')) ||
            0xeac7

          var RESERVED_PROPS = {
            key: true,
            ref: true,
            __self: true,
            __source: true,
          }

          var specialPropKeyWarningShown, specialPropRefWarningShown

          /**
           * Factory method to create a new React element. This no longer adheres to
           * the class pattern, so do not use new to call it. Also, no instanceof check
           * will work. Instead test $$typeof field against Symbol.for('react.element') to check
           * if something is a React Element.
           *
           * @param {*} type
           * @param {*} key
           * @param {string|object} ref
           * @param {*} self A *temporary* helper to detect places where `this` is
           * different from the `owner` when React.createElement is called, so that we
           * can warn. We want to get rid of owner and replace string `ref`s with arrow
           * functions, and as long as `this` and owner are the same, there will be no
           * change in behavior.
           * @param {*} source An annotation object (added by a transpiler or otherwise)
           * indicating filename, line number, and/or other information.
           * @param {*} owner
           * @param {*} props
           * @internal
           */
          var ReactElement = function (
            type,
            key,
            ref,
            self,
            source,
            owner,
            props,
          ) {
            var element = {
              // This tag allow us to uniquely identify this as a React Element
              $$typeof: REACT_ELEMENT_TYPE,

              // Built-in properties that belong on the element
              type: type,
              key: key,
              ref: ref,
              props: props,

              // Record the component responsible for creating this element.
              _owner: owner,
            }

            if (process.env.NODE_ENV !== 'production') {
              // The validation flag is currently mutative. We put it on
              // an external backing store so that we can freeze the whole object.
              // This can be replaced with a WeakMap once they are implemented in
              // commonly used development environments.
              element._store = {}

              // To make comparing ReactElements easier for testing purposes, we make
              // the validation flag non-enumerable (where possible, which should
              // include every environment we run tests in), so the test framework
              // ignores it.
              if (canDefineProperty) {
                Object.defineProperty(element._store, 'validated', {
                  configurable: false,
                  enumerable: false,
                  writable: true,
                  value: false,
                })
                // self and source are DEV only properties.
                Object.defineProperty(element, '_self', {
                  configurable: false,
                  enumerable: false,
                  writable: false,
                  value: self,
                })
                // Two elements created in two different places should be considered
                // equal for testing purposes and therefore we hide it from enumeration.
                Object.defineProperty(element, '_source', {
                  configurable: false,
                  enumerable: false,
                  writable: false,
                  value: source,
                })
              } else {
                element._store.validated = false
                element._self = self
                element._source = source
              }
              if (Object.freeze) {
                Object.freeze(element.props)
                Object.freeze(element)
              }
            }

            return element
          }

          /**
           * Create and return a new ReactElement of the given type.
           * See https://facebook.github.io/react/docs/top-level-api.html#react.createelement
           */
          ReactElement.createElement = function (type, config, children) {
            var propName

            // Reserved names are extracted
            var props = {}

            var key = null
            var ref = null
            var self = null
            var source = null

            if (config != null) {
              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      /* eslint-disable no-proto */
                      config.__proto__ == null ||
                        config.__proto__ === Object.prototype,
                      /* eslint-enable no-proto */
                      'React.createElement(...): Expected props argument to be a plain object. ' +
                        'Properties defined in its prototype chain will be ignored.',
                    )
                  : void 0
                ref =
                  !config.hasOwnProperty('ref') ||
                  Object.getOwnPropertyDescriptor(config, 'ref').get
                    ? null
                    : config.ref
                key =
                  !config.hasOwnProperty('key') ||
                  Object.getOwnPropertyDescriptor(config, 'key').get
                    ? null
                    : '' + config.key
              } else {
                ref = config.ref === undefined ? null : config.ref
                key = config.key === undefined ? null : '' + config.key
              }
              self = config.__self === undefined ? null : config.__self
              source = config.__source === undefined ? null : config.__source
              // Remaining properties are added to a new props object
              for (propName in config) {
                if (
                  config.hasOwnProperty(propName) &&
                  !RESERVED_PROPS.hasOwnProperty(propName)
                ) {
                  props[propName] = config[propName]
                }
              }
            }

            // Children can be more than one argument, and those are transferred onto
            // the newly allocated props object.
            var childrenLength = arguments.length - 2
            if (childrenLength === 1) {
              props.children = children
            } else if (childrenLength > 1) {
              var childArray = Array(childrenLength)
              for (var i = 0; i < childrenLength; i++) {
                childArray[i] = arguments[i + 2]
              }
              props.children = childArray
            }

            // Resolve default props
            if (type && type.defaultProps) {
              var defaultProps = type.defaultProps
              for (propName in defaultProps) {
                if (props[propName] === undefined) {
                  props[propName] = defaultProps[propName]
                }
              }
            }
            if (process.env.NODE_ENV !== 'production') {
              // Create dummy `key` and `ref` property to `props` to warn users
              // against its use
              if (
                typeof props.$$typeof === 'undefined' ||
                props.$$typeof !== REACT_ELEMENT_TYPE
              ) {
                if (!props.hasOwnProperty('key')) {
                  Object.defineProperty(props, 'key', {
                    get: function () {
                      if (!specialPropKeyWarningShown) {
                        specialPropKeyWarningShown = true
                        process.env.NODE_ENV !== 'production'
                          ? warning(
                              false,
                              '%s: `key` is not a prop. Trying to access it will result ' +
                                'in `undefined` being returned. If you need to access the same ' +
                                'value within the child component, you should pass it as a different ' +
                                'prop. (https://fb.me/react-special-props)',
                              typeof type === 'function' &&
                                'displayName' in type
                                ? type.displayName
                                : 'Element',
                            )
                          : void 0
                      }
                      return undefined
                    },
                    configurable: true,
                  })
                }
                if (!props.hasOwnProperty('ref')) {
                  Object.defineProperty(props, 'ref', {
                    get: function () {
                      if (!specialPropRefWarningShown) {
                        specialPropRefWarningShown = true
                        process.env.NODE_ENV !== 'production'
                          ? warning(
                              false,
                              '%s: `ref` is not a prop. Trying to access it will result ' +
                                'in `undefined` being returned. If you need to access the same ' +
                                'value within the child component, you should pass it as a different ' +
                                'prop. (https://fb.me/react-special-props)',
                              typeof type === 'function' &&
                                'displayName' in type
                                ? type.displayName
                                : 'Element',
                            )
                          : void 0
                      }
                      return undefined
                    },
                    configurable: true,
                  })
                }
              }
            }
            return ReactElement(
              type,
              key,
              ref,
              self,
              source,
              ReactCurrentOwner.current,
              props,
            )
          }

          /**
           * Return a function that produces ReactElements of a given type.
           * See https://facebook.github.io/react/docs/top-level-api.html#react.createfactory
           */
          ReactElement.createFactory = function (type) {
            var factory = ReactElement.createElement.bind(null, type)
            // Expose the type on the factory and the prototype so that it can be
            // easily accessed on elements. E.g. `<Foo />.type === Foo`.
            // This should not be named `constructor` since this may not be the function
            // that created the element, and it may not even be a constructor.
            // Legacy hook TODO: Warn if this is accessed
            factory.type = type
            return factory
          }

          ReactElement.cloneAndReplaceKey = function (oldElement, newKey) {
            var newElement = ReactElement(
              oldElement.type,
              newKey,
              oldElement.ref,
              oldElement._self,
              oldElement._source,
              oldElement._owner,
              oldElement.props,
            )

            return newElement
          }

          /**
           * Clone and return a new ReactElement using element as the starting point.
           * See https://facebook.github.io/react/docs/top-level-api.html#react.cloneelement
           */
          ReactElement.cloneElement = function (element, config, children) {
            var propName

            // Original props are copied
            var props = _assign({}, element.props)

            // Reserved names are extracted
            var key = element.key
            var ref = element.ref
            // Self is preserved since the owner is preserved.
            var self = element._self
            // Source is preserved since cloneElement is unlikely to be targeted by a
            // transpiler, and the original source is probably a better indicator of the
            // true owner.
            var source = element._source

            // Owner will be preserved, unless ref is overridden
            var owner = element._owner

            if (config != null) {
              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      /* eslint-disable no-proto */
                      config.__proto__ == null ||
                        config.__proto__ === Object.prototype,
                      /* eslint-enable no-proto */
                      'React.cloneElement(...): Expected props argument to be a plain object. ' +
                        'Properties defined in its prototype chain will be ignored.',
                    )
                  : void 0
              }
              if (config.ref !== undefined) {
                // Silently steal the ref from the parent.
                ref = config.ref
                owner = ReactCurrentOwner.current
              }
              if (config.key !== undefined) {
                key = '' + config.key
              }
              // Remaining properties override existing props
              var defaultProps
              if (element.type && element.type.defaultProps) {
                defaultProps = element.type.defaultProps
              }
              for (propName in config) {
                if (
                  config.hasOwnProperty(propName) &&
                  !RESERVED_PROPS.hasOwnProperty(propName)
                ) {
                  if (
                    config[propName] === undefined &&
                    defaultProps !== undefined
                  ) {
                    // Resolve default props
                    props[propName] = defaultProps[propName]
                  } else {
                    props[propName] = config[propName]
                  }
                }
              }
            }

            // Children can be more than one argument, and those are transferred onto
            // the newly allocated props object.
            var childrenLength = arguments.length - 2
            if (childrenLength === 1) {
              props.children = children
            } else if (childrenLength > 1) {
              var childArray = Array(childrenLength)
              for (var i = 0; i < childrenLength; i++) {
                childArray[i] = arguments[i + 2]
              }
              props.children = childArray
            }

            return ReactElement(
              element.type,
              key,
              ref,
              self,
              source,
              owner,
              props,
            )
          }

          /**
           * Verifies the object is a ReactElement.
           * See https://facebook.github.io/react/docs/top-level-api.html#react.isvalidelement
           * @param {?object} object
           * @return {boolean} True if `object` is a valid component.
           * @final
           */
          ReactElement.isValidElement = function (object) {
            return (
              typeof object === 'object' &&
              object !== null &&
              object.$$typeof === REACT_ELEMENT_TYPE
            )
          }

          module.exports = ReactElement
        }).call(this, require('_process'))
      },
      {
        './ReactCurrentOwner': 239,
        './canDefineProperty': 314,
        _process: 162,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    264: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactElementValidator
           */

          /**
           * ReactElementValidator provides a wrapper around a element factory
           * which validates the props passed to the element. This is intended to be
           * used only in DEV and could be replaced by a static type checker for languages
           * that support it.
           */

          'use strict'

          var ReactElement = require('./ReactElement')
          var ReactPropTypeLocations = require('./ReactPropTypeLocations')
          var ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames')
          var ReactCurrentOwner = require('./ReactCurrentOwner')

          var canDefineProperty = require('./canDefineProperty')
          var getIteratorFn = require('./getIteratorFn')
          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          function getDeclarationErrorAddendum() {
            if (ReactCurrentOwner.current) {
              var name = ReactCurrentOwner.current.getName()
              if (name) {
                return ' Check the render method of `' + name + '`.'
              }
            }
            return ''
          }

          /**
           * Warn if there's no key explicitly set on dynamic arrays of children or
           * object keys are not valid. This allows us to keep track of children between
           * updates.
           */
          var ownerHasKeyUseWarning = {}

          var loggedTypeFailures = {}

          /**
           * Warn if the element doesn't have an explicit key assigned to it.
           * This element is in an array. The array could grow and shrink or be
           * reordered. All children that haven't already been validated are required to
           * have a "key" property assigned to it.
           *
           * @internal
           * @param {ReactElement} element Element that requires a key.
           * @param {*} parentType element's parent's type.
           */
          function validateExplicitKey(element, parentType) {
            if (
              !element._store ||
              element._store.validated ||
              element.key != null
            ) {
              return
            }
            element._store.validated = true

            var addenda = getAddendaForKeyUse('uniqueKey', element, parentType)
            if (addenda === null) {
              // we already showed the warning
              return
            }
            process.env.NODE_ENV !== 'production'
              ? warning(
                  false,
                  'Each child in an array or iterator should have a unique "key" prop.' +
                    '%s%s%s',
                  addenda.parentOrOwner || '',
                  addenda.childOwner || '',
                  addenda.url || '',
                )
              : void 0
          }

          /**
           * Shared warning and monitoring code for the key warnings.
           *
           * @internal
           * @param {string} messageType A key used for de-duping warnings.
           * @param {ReactElement} element Component that requires a key.
           * @param {*} parentType element's parent's type.
           * @returns {?object} A set of addenda to use in the warning message, or null
           * if the warning has already been shown before (and shouldn't be shown again).
           */
          function getAddendaForKeyUse(messageType, element, parentType) {
            var addendum = getDeclarationErrorAddendum()
            if (!addendum) {
              var parentName =
                typeof parentType === 'string'
                  ? parentType
                  : parentType.displayName || parentType.name
              if (parentName) {
                addendum =
                  ' Check the top-level render call using <' + parentName + '>.'
              }
            }

            var memoizer =
              ownerHasKeyUseWarning[messageType] ||
              (ownerHasKeyUseWarning[messageType] = {})
            if (memoizer[addendum]) {
              return null
            }
            memoizer[addendum] = true

            var addenda = {
              parentOrOwner: addendum,
              url: ' See https://fb.me/react-warning-keys for more information.',
              childOwner: null,
            }

            // Usually the current owner is the offender, but if it accepts children as a
            // property, it may be the creator of the child that's responsible for
            // assigning it a key.
            if (
              element &&
              element._owner &&
              element._owner !== ReactCurrentOwner.current
            ) {
              // Give the component that originally created this child.
              addenda.childOwner =
                ' It was passed a child from ' + element._owner.getName() + '.'
            }

            return addenda
          }

          /**
           * Ensure that every element either is passed in a static location, in an
           * array with an explicit keys property defined, or in an object literal
           * with valid key property.
           *
           * @internal
           * @param {ReactNode} node Statically passed child of any type.
           * @param {*} parentType node's parent's type.
           */
          function validateChildKeys(node, parentType) {
            if (typeof node !== 'object') {
              return
            }
            if (Array.isArray(node)) {
              for (var i = 0; i < node.length; i++) {
                var child = node[i]
                if (ReactElement.isValidElement(child)) {
                  validateExplicitKey(child, parentType)
                }
              }
            } else if (ReactElement.isValidElement(node)) {
              // This element was passed in a valid location.
              if (node._store) {
                node._store.validated = true
              }
            } else if (node) {
              var iteratorFn = getIteratorFn(node)
              // Entry iterators provide implicit keys.
              if (iteratorFn) {
                if (iteratorFn !== node.entries) {
                  var iterator = iteratorFn.call(node)
                  var step
                  while (!(step = iterator.next()).done) {
                    if (ReactElement.isValidElement(step.value)) {
                      validateExplicitKey(step.value, parentType)
                    }
                  }
                }
              }
            }
          }

          /**
           * Assert that the props are valid
           *
           * @param {string} componentName Name of the component for error messages.
           * @param {object} propTypes Map of prop name to a ReactPropType
           * @param {object} props
           * @param {string} location e.g. "prop", "context", "child context"
           * @private
           */
          function checkPropTypes(componentName, propTypes, props, location) {
            for (var propName in propTypes) {
              if (propTypes.hasOwnProperty(propName)) {
                var error
                // Prop type validation may throw. In case they do, we don't want to
                // fail the render phase where it didn't fail before. So we log it.
                // After these have been cleaned up, we'll let them throw.
                try {
                  // This is intentionally an invariant that gets caught. It's the same
                  // behavior as without this statement except with a better message.
                  !(typeof propTypes[propName] === 'function')
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          '%s: %s type `%s` is invalid; it must be a function, usually from ' +
                            'React.PropTypes.',
                          componentName || 'React class',
                          ReactPropTypeLocationNames[location],
                          propName,
                        )
                      : invariant(false)
                    : void 0
                  error = propTypes[propName](
                    props,
                    propName,
                    componentName,
                    location,
                  )
                } catch (ex) {
                  error = ex
                }
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !error || error instanceof Error,
                      '%s: type specification of %s `%s` is invalid; the type checker ' +
                        'function must return `null` or an `Error` but returned a %s. ' +
                        'You may have forgotten to pass an argument to the type checker ' +
                        'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
                        'shape all require an argument).',
                      componentName || 'React class',
                      ReactPropTypeLocationNames[location],
                      propName,
                      typeof error,
                    )
                  : void 0
                if (
                  error instanceof Error &&
                  !(error.message in loggedTypeFailures)
                ) {
                  // Only monitor this failure once because there tends to be a lot of the
                  // same error.
                  loggedTypeFailures[error.message] = true

                  var addendum = getDeclarationErrorAddendum()
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'Failed propType: %s%s',
                        error.message,
                        addendum,
                      )
                    : void 0
                }
              }
            }
          }

          /**
           * Given an element, validate that its props follow the propTypes definition,
           * provided by the type.
           *
           * @param {ReactElement} element
           */
          function validatePropTypes(element) {
            var componentClass = element.type
            if (typeof componentClass !== 'function') {
              return
            }
            var name = componentClass.displayName || componentClass.name
            if (componentClass.propTypes) {
              checkPropTypes(
                name,
                componentClass.propTypes,
                element.props,
                ReactPropTypeLocations.prop,
              )
            }
            if (typeof componentClass.getDefaultProps === 'function') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    componentClass.getDefaultProps.isReactClassApproved,
                    'getDefaultProps is only used on classic React.createClass ' +
                      'definitions. Use a static property named `defaultProps` instead.',
                  )
                : void 0
            }
          }

          var ReactElementValidator = {
            createElement: function (type, props, children) {
              var validType =
                typeof type === 'string' || typeof type === 'function'
              // We warn in this case but don't throw. We expect the element creation to
              // succeed and there will likely be errors in render.
              process.env.NODE_ENV !== 'production'
                ? warning(
                    validType,
                    'React.createElement: type should not be null, undefined, boolean, or ' +
                      'number. It should be a string (for DOM elements) or a ReactClass ' +
                      '(for composite components).%s',
                    getDeclarationErrorAddendum(),
                  )
                : void 0

              var element = ReactElement.createElement.apply(this, arguments)

              // The result can be nullish if a mock or a custom function is used.
              // TODO: Drop this when these are no longer allowed as the type argument.
              if (element == null) {
                return element
              }

              // Skip key warning if the type isn't valid since our key validation logic
              // doesn't expect a non-string/function type and can throw confusing errors.
              // We don't want exception behavior to differ between dev and prod.
              // (Rendering will throw with a helpful message and as soon as the type is
              // fixed, the key warnings will appear.)
              if (validType) {
                for (var i = 2; i < arguments.length; i++) {
                  validateChildKeys(arguments[i], type)
                }
              }

              validatePropTypes(element)

              return element
            },

            createFactory: function (type) {
              var validatedFactory = ReactElementValidator.createElement.bind(
                null,
                type,
              )
              // Legacy hook TODO: Warn if this is accessed
              validatedFactory.type = type

              if (process.env.NODE_ENV !== 'production') {
                if (canDefineProperty) {
                  Object.defineProperty(validatedFactory, 'type', {
                    enumerable: false,
                    get: function () {
                      process.env.NODE_ENV !== 'production'
                        ? warning(
                            false,
                            'Factory.type is deprecated. Access the class directly ' +
                              'before passing it to createFactory.',
                          )
                        : void 0
                      Object.defineProperty(this, 'type', {
                        value: type,
                      })
                      return type
                    },
                  })
                }
              }

              return validatedFactory
            },

            cloneElement: function (element, props, children) {
              var newElement = ReactElement.cloneElement.apply(this, arguments)
              for (var i = 2; i < arguments.length; i++) {
                validateChildKeys(arguments[i], newElement.type)
              }
              validatePropTypes(newElement)
              return newElement
            },
          }

          module.exports = ReactElementValidator
        }).call(this, require('_process'))
      },
      {
        './ReactCurrentOwner': 239,
        './ReactElement': 263,
        './ReactPropTypeLocationNames': 284,
        './ReactPropTypeLocations': 285,
        './canDefineProperty': 314,
        './getIteratorFn': 325,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    265: [
      function (require, module, exports) {
        /**
         * Copyright 2014-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactEmptyComponent
         */

        'use strict'

        var emptyComponentFactory

        var ReactEmptyComponentInjection = {
          injectEmptyComponentFactory: function (factory) {
            emptyComponentFactory = factory
          },
        }

        var ReactEmptyComponent = {
          create: function (instantiate) {
            return emptyComponentFactory(instantiate)
          },
        }

        ReactEmptyComponent.injection = ReactEmptyComponentInjection

        module.exports = ReactEmptyComponent
      },
      {},
    ],
    266: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactErrorUtils
           */

          'use strict'

          var caughtError = null

          /**
           * Call a function while guarding against errors that happens within it.
           *
           * @param {?String} name of the guard to use for logging or debugging
           * @param {Function} func The function to invoke
           * @param {*} a First argument
           * @param {*} b Second argument
           */
          function invokeGuardedCallback(name, func, a, b) {
            try {
              return func(a, b)
            } catch (x) {
              if (caughtError === null) {
                caughtError = x
              }
              return undefined
            }
          }

          var ReactErrorUtils = {
            invokeGuardedCallback: invokeGuardedCallback,

            /**
             * Invoked by ReactTestUtils.Simulate so that any errors thrown by the event
             * handler are sure to be rethrown by rethrowCaughtError.
             */
            invokeGuardedCallbackWithCatch: invokeGuardedCallback,

            /**
             * During execution of guarded functions we will capture the first error which
             * we will rethrow to be handled by the top level error handler.
             */
            rethrowCaughtError: function () {
              if (caughtError) {
                var error = caughtError
                caughtError = null
                throw error
              }
            },
          }

          if (process.env.NODE_ENV !== 'production') {
            /**
             * To help development we can get better devtools integration by simulating a
             * real browser event.
             */
            if (
              typeof window !== 'undefined' &&
              typeof window.dispatchEvent === 'function' &&
              typeof document !== 'undefined' &&
              typeof document.createEvent === 'function'
            ) {
              var fakeNode = document.createElement('react')
              ReactErrorUtils.invokeGuardedCallback = function (
                name,
                func,
                a,
                b,
              ) {
                var boundFunc = func.bind(null, a, b)
                var evtType = 'react-' + name
                fakeNode.addEventListener(evtType, boundFunc, false)
                var evt = document.createEvent('Event')
                evt.initEvent(evtType, false, false)
                fakeNode.dispatchEvent(evt)
                fakeNode.removeEventListener(evtType, boundFunc, false)
              }
            }
          }

          module.exports = ReactErrorUtils
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    267: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactEventEmitterMixin
         */

        'use strict'

        var EventPluginHub = require('./EventPluginHub')

        function runEventQueueInBatch(events) {
          EventPluginHub.enqueueEvents(events)
          EventPluginHub.processEventQueue(false)
        }

        var ReactEventEmitterMixin = {
          /**
           * Streams a fired top-level event to `EventPluginHub` where plugins have the
           * opportunity to create `ReactEvent`s to be dispatched.
           */
          handleTopLevel: function (
            topLevelType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            var events = EventPluginHub.extractEvents(
              topLevelType,
              targetInst,
              nativeEvent,
              nativeEventTarget,
            )
            runEventQueueInBatch(events)
          },
        }

        module.exports = ReactEventEmitterMixin
      },
      { './EventPluginHub': 220 },
    ],
    268: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactEventListener
         */

        'use strict'

        var _assign = require('object-assign')

        var EventListener = require('fbjs/lib/EventListener')
        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
        var PooledClass = require('./PooledClass')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')
        var ReactUpdates = require('./ReactUpdates')

        var getEventTarget = require('./getEventTarget')
        var getUnboundedScrollPosition = require('fbjs/lib/getUnboundedScrollPosition')

        /**
         * Find the deepest React component completely containing the root of the
         * passed-in instance (for use when entire React trees are nested within each
         * other). If React trees are not nested, returns null.
         */
        function findParent(inst) {
          // TODO: It may be a good idea to cache this to prevent unnecessary DOM
          // traversal, but caching is difficult to do correctly without using a
          // mutation observer to listen for all DOM changes.
          while (inst._nativeParent) {
            inst = inst._nativeParent
          }
          var rootNode = ReactDOMComponentTree.getNodeFromInstance(inst)
          var container = rootNode.parentNode
          return ReactDOMComponentTree.getClosestInstanceFromNode(container)
        }

        // Used to store ancestor hierarchy in top level callback
        function TopLevelCallbackBookKeeping(topLevelType, nativeEvent) {
          this.topLevelType = topLevelType
          this.nativeEvent = nativeEvent
          this.ancestors = []
        }
        _assign(TopLevelCallbackBookKeeping.prototype, {
          destructor: function () {
            this.topLevelType = null
            this.nativeEvent = null
            this.ancestors.length = 0
          },
        })
        PooledClass.addPoolingTo(
          TopLevelCallbackBookKeeping,
          PooledClass.twoArgumentPooler,
        )

        function handleTopLevelImpl(bookKeeping) {
          var nativeEventTarget = getEventTarget(bookKeeping.nativeEvent)
          var targetInst =
            ReactDOMComponentTree.getClosestInstanceFromNode(nativeEventTarget)

          // Loop through the hierarchy, in case there's any nested components.
          // It's important that we build the array of ancestors before calling any
          // event handlers, because event handlers can modify the DOM, leading to
          // inconsistencies with ReactMount's node cache. See #1105.
          var ancestor = targetInst
          do {
            bookKeeping.ancestors.push(ancestor)
            ancestor = ancestor && findParent(ancestor)
          } while (ancestor)

          for (var i = 0; i < bookKeeping.ancestors.length; i++) {
            targetInst = bookKeeping.ancestors[i]
            ReactEventListener._handleTopLevel(
              bookKeeping.topLevelType,
              targetInst,
              bookKeeping.nativeEvent,
              getEventTarget(bookKeeping.nativeEvent),
            )
          }
        }

        function scrollValueMonitor(cb) {
          var scrollPosition = getUnboundedScrollPosition(window)
          cb(scrollPosition)
        }

        var ReactEventListener = {
          _enabled: true,
          _handleTopLevel: null,

          WINDOW_HANDLE: ExecutionEnvironment.canUseDOM ? window : null,

          setHandleTopLevel: function (handleTopLevel) {
            ReactEventListener._handleTopLevel = handleTopLevel
          },

          setEnabled: function (enabled) {
            ReactEventListener._enabled = !!enabled
          },

          isEnabled: function () {
            return ReactEventListener._enabled
          },

          /**
           * Traps top-level events by using event bubbling.
           *
           * @param {string} topLevelType Record from `EventConstants`.
           * @param {string} handlerBaseName Event name (e.g. "click").
           * @param {object} handle Element on which to attach listener.
           * @return {?object} An object with a remove function which will forcefully
           *                  remove the listener.
           * @internal
           */
          trapBubbledEvent: function (topLevelType, handlerBaseName, handle) {
            var element = handle
            if (!element) {
              return null
            }
            return EventListener.listen(
              element,
              handlerBaseName,
              ReactEventListener.dispatchEvent.bind(null, topLevelType),
            )
          },

          /**
           * Traps a top-level event by using event capturing.
           *
           * @param {string} topLevelType Record from `EventConstants`.
           * @param {string} handlerBaseName Event name (e.g. "click").
           * @param {object} handle Element on which to attach listener.
           * @return {?object} An object with a remove function which will forcefully
           *                  remove the listener.
           * @internal
           */
          trapCapturedEvent: function (topLevelType, handlerBaseName, handle) {
            var element = handle
            if (!element) {
              return null
            }
            return EventListener.capture(
              element,
              handlerBaseName,
              ReactEventListener.dispatchEvent.bind(null, topLevelType),
            )
          },

          monitorScrollValue: function (refresh) {
            var callback = scrollValueMonitor.bind(null, refresh)
            EventListener.listen(window, 'scroll', callback)
          },

          dispatchEvent: function (topLevelType, nativeEvent) {
            if (!ReactEventListener._enabled) {
              return
            }

            var bookKeeping = TopLevelCallbackBookKeeping.getPooled(
              topLevelType,
              nativeEvent,
            )
            try {
              // Event queue being processed in the same cycle allows
              // `preventDefault`.
              ReactUpdates.batchedUpdates(handleTopLevelImpl, bookKeeping)
            } finally {
              TopLevelCallbackBookKeeping.release(bookKeeping)
            }
          },
        }

        module.exports = ReactEventListener
      },
      {
        './PooledClass': 228,
        './ReactDOMComponentTree': 244,
        './ReactUpdates': 292,
        './getEventTarget': 324,
        'fbjs/lib/EventListener': 27,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/getUnboundedScrollPosition': 39,
        'object-assign': 161,
      },
    ],
    269: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactFeatureFlags
         */

        'use strict'

        var ReactFeatureFlags = {
          // When true, call console.time() before and .timeEnd() after each top-level
          // render (both initial renders and updates). Useful when looking at prod-mode
          // timeline profiles in Chrome, for example.
          logTopLevelRenders: false,
        }

        module.exports = ReactFeatureFlags
      },
      {},
    ],
    270: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactInjection
         */

        'use strict'

        var DOMProperty = require('./DOMProperty')
        var EventPluginHub = require('./EventPluginHub')
        var EventPluginUtils = require('./EventPluginUtils')
        var ReactComponentEnvironment = require('./ReactComponentEnvironment')
        var ReactClass = require('./ReactClass')
        var ReactEmptyComponent = require('./ReactEmptyComponent')
        var ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter')
        var ReactNativeComponent = require('./ReactNativeComponent')
        var ReactUpdates = require('./ReactUpdates')

        var ReactInjection = {
          Component: ReactComponentEnvironment.injection,
          Class: ReactClass.injection,
          DOMProperty: DOMProperty.injection,
          EmptyComponent: ReactEmptyComponent.injection,
          EventPluginHub: EventPluginHub.injection,
          EventPluginUtils: EventPluginUtils.injection,
          EventEmitter: ReactBrowserEventEmitter.injection,
          NativeComponent: ReactNativeComponent.injection,
          Updates: ReactUpdates.injection,
        }

        module.exports = ReactInjection
      },
      {
        './DOMProperty': 213,
        './EventPluginHub': 220,
        './EventPluginUtils': 222,
        './ReactBrowserEventEmitter': 230,
        './ReactClass': 233,
        './ReactComponentEnvironment': 236,
        './ReactEmptyComponent': 265,
        './ReactNativeComponent': 279,
        './ReactUpdates': 292,
      },
    ],
    271: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactInputSelection
         */

        'use strict'

        var ReactDOMSelection = require('./ReactDOMSelection')

        var containsNode = require('fbjs/lib/containsNode')
        var focusNode = require('fbjs/lib/focusNode')
        var getActiveElement = require('fbjs/lib/getActiveElement')

        function isInDocument(node) {
          return containsNode(document.documentElement, node)
        }

        /**
         * @ReactInputSelection: React input selection module. Based on Selection.js,
         * but modified to be suitable for react and has a couple of bug fixes (doesn't
         * assume buttons have range selections allowed).
         * Input selection module for React.
         */
        var ReactInputSelection = {
          hasSelectionCapabilities: function (elem) {
            var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase()
            return (
              nodeName &&
              ((nodeName === 'input' && elem.type === 'text') ||
                nodeName === 'textarea' ||
                elem.contentEditable === 'true')
            )
          },

          getSelectionInformation: function () {
            var focusedElem = getActiveElement()
            return {
              focusedElem: focusedElem,
              selectionRange: ReactInputSelection.hasSelectionCapabilities(
                focusedElem,
              )
                ? ReactInputSelection.getSelection(focusedElem)
                : null,
            }
          },

          /**
           * @restoreSelection: If any selection information was potentially lost,
           * restore it. This is useful when performing operations that could remove dom
           * nodes and place them back in, resulting in focus being lost.
           */
          restoreSelection: function (priorSelectionInformation) {
            var curFocusedElem = getActiveElement()
            var priorFocusedElem = priorSelectionInformation.focusedElem
            var priorSelectionRange = priorSelectionInformation.selectionRange
            if (
              curFocusedElem !== priorFocusedElem &&
              isInDocument(priorFocusedElem)
            ) {
              if (
                ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)
              ) {
                ReactInputSelection.setSelection(
                  priorFocusedElem,
                  priorSelectionRange,
                )
              }
              focusNode(priorFocusedElem)
            }
          },

          /**
           * @getSelection: Gets the selection bounds of a focused textarea, input or
           * contentEditable node.
           * -@input: Look up selection bounds of this input
           * -@return {start: selectionStart, end: selectionEnd}
           */
          getSelection: function (input) {
            var selection

            if ('selectionStart' in input) {
              // Modern browser with input or textarea.
              selection = {
                start: input.selectionStart,
                end: input.selectionEnd,
              }
            } else if (
              document.selection &&
              input.nodeName &&
              input.nodeName.toLowerCase() === 'input'
            ) {
              // IE8 input.
              var range = document.selection.createRange()
              // There can only be one selection per document in IE, so it must
              // be in our element.
              if (range.parentElement() === input) {
                selection = {
                  start: -range.moveStart('character', -input.value.length),
                  end: -range.moveEnd('character', -input.value.length),
                }
              }
            } else {
              // Content editable or old IE textarea.
              selection = ReactDOMSelection.getOffsets(input)
            }

            return selection || { start: 0, end: 0 }
          },

          /**
           * @setSelection: Sets the selection bounds of a textarea or input and focuses
           * the input.
           * -@input     Set selection bounds of this input or textarea
           * -@offsets   Object of same form that is returned from get*
           */
          setSelection: function (input, offsets) {
            var start = offsets.start
            var end = offsets.end
            if (end === undefined) {
              end = start
            }

            if ('selectionStart' in input) {
              input.selectionStart = start
              input.selectionEnd = Math.min(end, input.value.length)
            } else if (
              document.selection &&
              input.nodeName &&
              input.nodeName.toLowerCase() === 'input'
            ) {
              var range = input.createTextRange()
              range.collapse(true)
              range.moveStart('character', start)
              range.moveEnd('character', end - start)
              range.select()
            } else {
              ReactDOMSelection.setOffsets(input, offsets)
            }
          },
        }

        module.exports = ReactInputSelection
      },
      {
        './ReactDOMSelection': 255,
        'fbjs/lib/containsNode': 31,
        'fbjs/lib/focusNode': 36,
        'fbjs/lib/getActiveElement': 37,
      },
    ],
    272: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactInstanceMap
         */

        'use strict'

        /**
         * `ReactInstanceMap` maintains a mapping from a public facing stateful
         * instance (key) and the internal representation (value). This allows public
         * methods to accept the user facing instance as an argument and map them back
         * to internal methods.
         */

        // TODO: Replace this with ES6: var ReactInstanceMap = new Map();

        var ReactInstanceMap = {
          /**
           * This API should be called `delete` but we'd have to make sure to always
           * transform these to strings for IE support. When this transform is fully
           * supported we can rename it.
           */
          remove: function (key) {
            key._reactInternalInstance = undefined
          },

          get: function (key) {
            return key._reactInternalInstance
          },

          has: function (key) {
            return key._reactInternalInstance !== undefined
          },

          set: function (key, value) {
            key._reactInternalInstance = value
          },
        }

        module.exports = ReactInstanceMap
      },
      {},
    ],
    273: [
      function (require, module, exports) {
        /**
         * Copyright 2016-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactInstrumentation
         */

        'use strict'

        var ReactDebugTool = require('./ReactDebugTool')

        module.exports = { debugTool: ReactDebugTool }
      },
      { './ReactDebugTool': 260 },
    ],
    274: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2016-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactInvalidSetStateWarningDevTool
           */

          'use strict'

          var warning = require('fbjs/lib/warning')

          if (process.env.NODE_ENV !== 'production') {
            var processingChildContext = false

            var warnInvalidSetState = function () {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    !processingChildContext,
                    'setState(...): Cannot call setState() inside getChildContext()',
                  )
                : void 0
            }
          }

          var ReactInvalidSetStateWarningDevTool = {
            onBeginProcessingChildContext: function () {
              processingChildContext = true
            },
            onEndProcessingChildContext: function () {
              processingChildContext = false
            },
            onSetState: function () {
              warnInvalidSetState()
            },
          }

          module.exports = ReactInvalidSetStateWarningDevTool
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/warning': 52 },
    ],
    275: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactMarkupChecksum
         */

        'use strict'

        var adler32 = require('./adler32')

        var TAG_END = /\/?>/
        var COMMENT_START = /^<\!\-\-/

        var ReactMarkupChecksum = {
          CHECKSUM_ATTR_NAME: 'data-react-checksum',

          /**
           * @param {string} markup Markup string
           * @return {string} Markup string with checksum attribute attached
           */
          addChecksumToMarkup: function (markup) {
            var checksum = adler32(markup)

            // Add checksum (handle both parent tags, comments and self-closing tags)
            if (COMMENT_START.test(markup)) {
              return markup
            } else {
              return markup.replace(
                TAG_END,
                ' ' +
                  ReactMarkupChecksum.CHECKSUM_ATTR_NAME +
                  '="' +
                  checksum +
                  '"$&',
              )
            }
          },

          /**
           * @param {string} markup to use
           * @param {DOMElement} element root React element
           * @returns {boolean} whether or not the markup is the same
           */
          canReuseMarkup: function (markup, element) {
            var existingChecksum = element.getAttribute(
              ReactMarkupChecksum.CHECKSUM_ATTR_NAME,
            )
            existingChecksum =
              existingChecksum && parseInt(existingChecksum, 10)
            var markupChecksum = adler32(markup)
            return markupChecksum === existingChecksum
          },
        }

        module.exports = ReactMarkupChecksum
      },
      { './adler32': 313 },
    ],
    276: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactMount
           */

          'use strict'

          var DOMLazyTree = require('./DOMLazyTree')
          var DOMProperty = require('./DOMProperty')
          var ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter')
          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactDOMContainerInfo = require('./ReactDOMContainerInfo')
          var ReactDOMFeatureFlags = require('./ReactDOMFeatureFlags')
          var ReactElement = require('./ReactElement')
          var ReactFeatureFlags = require('./ReactFeatureFlags')
          var ReactInstrumentation = require('./ReactInstrumentation')
          var ReactMarkupChecksum = require('./ReactMarkupChecksum')
          var ReactReconciler = require('./ReactReconciler')
          var ReactUpdateQueue = require('./ReactUpdateQueue')
          var ReactUpdates = require('./ReactUpdates')

          var emptyObject = require('fbjs/lib/emptyObject')
          var instantiateReactComponent = require('./instantiateReactComponent')
          var invariant = require('fbjs/lib/invariant')
          var setInnerHTML = require('./setInnerHTML')
          var shouldUpdateReactComponent = require('./shouldUpdateReactComponent')
          var warning = require('fbjs/lib/warning')

          var ATTR_NAME = DOMProperty.ID_ATTRIBUTE_NAME
          var ROOT_ATTR_NAME = DOMProperty.ROOT_ATTRIBUTE_NAME

          var ELEMENT_NODE_TYPE = 1
          var DOC_NODE_TYPE = 9
          var DOCUMENT_FRAGMENT_NODE_TYPE = 11

          var instancesByReactRootID = {}

          /**
           * Finds the index of the first character
           * that's not common between the two given strings.
           *
           * @return {number} the index of the character where the strings diverge
           */
          function firstDifferenceIndex(string1, string2) {
            var minLen = Math.min(string1.length, string2.length)
            for (var i = 0; i < minLen; i++) {
              if (string1.charAt(i) !== string2.charAt(i)) {
                return i
              }
            }
            return string1.length === string2.length ? -1 : minLen
          }

          /**
           * @param {DOMElement|DOMDocument} container DOM element that may contain
           * a React component
           * @return {?*} DOM element that may have the reactRoot ID, or null.
           */
          function getReactRootElementInContainer(container) {
            if (!container) {
              return null
            }

            if (container.nodeType === DOC_NODE_TYPE) {
              return container.documentElement
            } else {
              return container.firstChild
            }
          }

          function internalGetID(node) {
            // If node is something like a window, document, or text node, none of
            // which support attributes or a .getAttribute method, gracefully return
            // the empty string, as if the attribute were missing.
            return (node.getAttribute && node.getAttribute(ATTR_NAME)) || ''
          }

          /**
           * Mounts this component and inserts it into the DOM.
           *
           * @param {ReactComponent} componentInstance The instance to mount.
           * @param {DOMElement} container DOM element to mount into.
           * @param {ReactReconcileTransaction} transaction
           * @param {boolean} shouldReuseMarkup If true, do not insert markup
           */
          function mountComponentIntoNode(
            wrapperInstance,
            container,
            transaction,
            shouldReuseMarkup,
            context,
          ) {
            var markerName
            if (ReactFeatureFlags.logTopLevelRenders) {
              var wrappedElement = wrapperInstance._currentElement.props
              var type = wrappedElement.type
              markerName =
                'React mount: ' +
                (typeof type === 'string'
                  ? type
                  : type.displayName || type.name)
              console.time(markerName)
            }

            var markup = ReactReconciler.mountComponent(
              wrapperInstance,
              transaction,
              null,
              ReactDOMContainerInfo(wrapperInstance, container),
              context,
            )

            if (markerName) {
              console.timeEnd(markerName)
            }

            wrapperInstance._renderedComponent._topLevelWrapper =
              wrapperInstance
            ReactMount._mountImageIntoNode(
              markup,
              container,
              wrapperInstance,
              shouldReuseMarkup,
              transaction,
            )
          }

          /**
           * Batched mount.
           *
           * @param {ReactComponent} componentInstance The instance to mount.
           * @param {DOMElement} container DOM element to mount into.
           * @param {boolean} shouldReuseMarkup If true, do not insert markup
           */
          function batchedMountComponentIntoNode(
            componentInstance,
            container,
            shouldReuseMarkup,
            context,
          ) {
            var transaction = ReactUpdates.ReactReconcileTransaction.getPooled(
              /* useCreateElement */
              !shouldReuseMarkup && ReactDOMFeatureFlags.useCreateElement,
            )
            transaction.perform(
              mountComponentIntoNode,
              null,
              componentInstance,
              container,
              transaction,
              shouldReuseMarkup,
              context,
            )
            ReactUpdates.ReactReconcileTransaction.release(transaction)
          }

          /**
           * Unmounts a component and removes it from the DOM.
           *
           * @param {ReactComponent} instance React component instance.
           * @param {DOMElement} container DOM element to unmount from.
           * @final
           * @internal
           * @see {ReactMount.unmountComponentAtNode}
           */
          function unmountComponentFromNode(instance, container, safely) {
            ReactReconciler.unmountComponent(instance, safely)

            if (container.nodeType === DOC_NODE_TYPE) {
              container = container.documentElement
            }

            // http://jsperf.com/emptying-a-node
            while (container.lastChild) {
              container.removeChild(container.lastChild)
            }
          }

          /**
           * True if the supplied DOM node has a direct React-rendered child that is
           * not a React root element. Useful for warning in `render`,
           * `unmountComponentAtNode`, etc.
           *
           * @param {?DOMElement} node The candidate DOM node.
           * @return {boolean} True if the DOM element contains a direct child that was
           * rendered by React but is not a root element.
           * @internal
           */
          function hasNonRootReactChild(container) {
            var rootEl = getReactRootElementInContainer(container)
            if (rootEl) {
              var inst = ReactDOMComponentTree.getInstanceFromNode(rootEl)
              return !!(inst && inst._nativeParent)
            }
          }

          function getNativeRootInstanceInContainer(container) {
            var rootEl = getReactRootElementInContainer(container)
            var prevNativeInstance =
              rootEl && ReactDOMComponentTree.getInstanceFromNode(rootEl)
            return prevNativeInstance && !prevNativeInstance._nativeParent
              ? prevNativeInstance
              : null
          }

          function getTopLevelWrapperInContainer(container) {
            var root = getNativeRootInstanceInContainer(container)
            return root ? root._nativeContainerInfo._topLevelWrapper : null
          }

          /**
           * Temporary (?) hack so that we can store all top-level pending updates on
           * composites instead of having to worry about different types of components
           * here.
           */
          var topLevelRootCounter = 1
          var TopLevelWrapper = function () {
            this.rootID = topLevelRootCounter++
          }
          TopLevelWrapper.prototype.isReactComponent = {}
          if (process.env.NODE_ENV !== 'production') {
            TopLevelWrapper.displayName = 'TopLevelWrapper'
          }
          TopLevelWrapper.prototype.render = function () {
            // this.props is actually a ReactElement
            return this.props
          }

          /**
           * Mounting is the process of initializing a React component by creating its
           * representative DOM elements and inserting them into a supplied `container`.
           * Any prior content inside `container` is destroyed in the process.
           *
           *   ReactMount.render(
           *     component,
           *     document.getElementById('container')
           *   );
           *
           *   <div id="container">                   <-- Supplied `container`.
           *     <div data-reactid=".3">              <-- Rendered reactRoot of React
           *       // ...                                 component.
           *     </div>
           *   </div>
           *
           * Inside of `container`, the first element rendered is the "reactRoot".
           */
          var ReactMount = {
            TopLevelWrapper: TopLevelWrapper,

            /**
             * Used by devtools. The keys are not important.
             */
            _instancesByReactRootID: instancesByReactRootID,

            /**
             * This is a hook provided to support rendering React components while
             * ensuring that the apparent scroll position of its `container` does not
             * change.
             *
             * @param {DOMElement} container The `container` being rendered into.
             * @param {function} renderCallback This must be called once to do the render.
             */
            scrollMonitor: function (container, renderCallback) {
              renderCallback()
            },

            /**
             * Take a component that's already mounted into the DOM and replace its props
             * @param {ReactComponent} prevComponent component instance already in the DOM
             * @param {ReactElement} nextElement component instance to render
             * @param {DOMElement} container container to render into
             * @param {?function} callback function triggered on completion
             */
            _updateRootComponent: function (
              prevComponent,
              nextElement,
              container,
              callback,
            ) {
              ReactMount.scrollMonitor(container, function () {
                ReactUpdateQueue.enqueueElementInternal(
                  prevComponent,
                  nextElement,
                )
                if (callback) {
                  ReactUpdateQueue.enqueueCallbackInternal(
                    prevComponent,
                    callback,
                  )
                }
              })

              return prevComponent
            },

            /**
             * Render a new component into the DOM. Hooked by devtools!
             *
             * @param {ReactElement} nextElement element to render
             * @param {DOMElement} container container to render into
             * @param {boolean} shouldReuseMarkup if we should skip the markup insertion
             * @return {ReactComponent} nextComponent
             */
            _renderNewRootComponent: function (
              nextElement,
              container,
              shouldReuseMarkup,
              context,
            ) {
              if (process.env.NODE_ENV !== 'production') {
                ReactInstrumentation.debugTool.onBeginFlush()
              }

              // Various parts of our code (such as ReactCompositeComponent's
              // _renderValidatedComponent) assume that calls to render aren't nested;
              // verify that that's the case.
              process.env.NODE_ENV !== 'production'
                ? warning(
                    ReactCurrentOwner.current == null,
                    '_renderNewRootComponent(): Render methods should be a pure function ' +
                      'of props and state; triggering nested component updates from ' +
                      'render is not allowed. If necessary, trigger nested updates in ' +
                      'componentDidUpdate. Check the render method of %s.',
                    (ReactCurrentOwner.current &&
                      ReactCurrentOwner.current.getName()) ||
                      'ReactCompositeComponent',
                  )
                : void 0

              !(
                container &&
                (container.nodeType === ELEMENT_NODE_TYPE ||
                  container.nodeType === DOC_NODE_TYPE ||
                  container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE)
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '_registerComponent(...): Target container is not a DOM element.',
                    )
                  : invariant(false)
                : void 0

              ReactBrowserEventEmitter.ensureScrollValueMonitoring()
              var componentInstance = instantiateReactComponent(nextElement)

              if (process.env.NODE_ENV !== 'production') {
                // Mute future events from the top level wrapper.
                // It is an implementation detail that devtools should not know about.
                componentInstance._debugID = 0
              }

              // The initial render is synchronous but any updates that happen during
              // rendering, in componentWillMount or componentDidMount, will be batched
              // according to the current batching strategy.

              ReactUpdates.batchedUpdates(
                batchedMountComponentIntoNode,
                componentInstance,
                container,
                shouldReuseMarkup,
                context,
              )

              var wrapperID = componentInstance._instance.rootID
              instancesByReactRootID[wrapperID] = componentInstance

              if (process.env.NODE_ENV !== 'production') {
                // The instance here is TopLevelWrapper so we report mount for its child.
                ReactInstrumentation.debugTool.onMountRootComponent(
                  componentInstance._renderedComponent._debugID,
                )
                ReactInstrumentation.debugTool.onEndFlush()
              }

              return componentInstance
            },

            /**
             * Renders a React component into the DOM in the supplied `container`.
             *
             * If the React component was previously rendered into `container`, this will
             * perform an update on it and only mutate the DOM as necessary to reflect the
             * latest React component.
             *
             * @param {ReactComponent} parentComponent The conceptual parent of this render tree.
             * @param {ReactElement} nextElement Component element to render.
             * @param {DOMElement} container DOM element to render into.
             * @param {?function} callback function triggered on completion
             * @return {ReactComponent} Component instance rendered in `container`.
             */
            renderSubtreeIntoContainer: function (
              parentComponent,
              nextElement,
              container,
              callback,
            ) {
              !(
                parentComponent != null &&
                parentComponent._reactInternalInstance != null
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'parentComponent must be a valid React Component',
                    )
                  : invariant(false)
                : void 0
              return ReactMount._renderSubtreeIntoContainer(
                parentComponent,
                nextElement,
                container,
                callback,
              )
            },

            _renderSubtreeIntoContainer: function (
              parentComponent,
              nextElement,
              container,
              callback,
            ) {
              ReactUpdateQueue.validateCallback(callback, 'ReactDOM.render')
              !ReactElement.isValidElement(nextElement)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactDOM.render(): Invalid component element.%s',
                      typeof nextElement === 'string'
                        ? " Instead of passing a string like 'div', pass " +
                            "React.createElement('div') or <div />."
                        : typeof nextElement === 'function'
                          ? ' Instead of passing a class like Foo, pass ' +
                            'React.createElement(Foo) or <Foo />.'
                          : // Check if it quacks like an element
                            nextElement != null &&
                              nextElement.props !== undefined
                            ? ' This may be caused by unintentionally loading two independent ' +
                              'copies of React.'
                            : '',
                    )
                  : invariant(false)
                : void 0

              process.env.NODE_ENV !== 'production'
                ? warning(
                    !container ||
                      !container.tagName ||
                      container.tagName.toUpperCase() !== 'BODY',
                    'render(): Rendering components directly into document.body is ' +
                      'discouraged, since its children are often manipulated by third-party ' +
                      'scripts and browser extensions. This may lead to subtle ' +
                      'reconciliation issues. Try rendering into a container element created ' +
                      'for your app.',
                  )
                : void 0

              var nextWrappedElement = ReactElement(
                TopLevelWrapper,
                null,
                null,
                null,
                null,
                null,
                nextElement,
              )

              var prevComponent = getTopLevelWrapperInContainer(container)

              if (prevComponent) {
                var prevWrappedElement = prevComponent._currentElement
                var prevElement = prevWrappedElement.props
                if (shouldUpdateReactComponent(prevElement, nextElement)) {
                  var publicInst =
                    prevComponent._renderedComponent.getPublicInstance()
                  var updatedCallback =
                    callback &&
                    function () {
                      callback.call(publicInst)
                    }
                  ReactMount._updateRootComponent(
                    prevComponent,
                    nextWrappedElement,
                    container,
                    updatedCallback,
                  )
                  return publicInst
                } else {
                  ReactMount.unmountComponentAtNode(container)
                }
              }

              var reactRootElement = getReactRootElementInContainer(container)
              var containerHasReactMarkup =
                reactRootElement && !!internalGetID(reactRootElement)
              var containerHasNonRootReactChild =
                hasNonRootReactChild(container)

              if (process.env.NODE_ENV !== 'production') {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !containerHasNonRootReactChild,
                      'render(...): Replacing React-rendered children with a new root ' +
                        'component. If you intended to update the children of this node, ' +
                        'you should instead have the existing children update their state ' +
                        'and render the new components instead of calling ReactDOM.render.',
                    )
                  : void 0

                if (!containerHasReactMarkup || reactRootElement.nextSibling) {
                  var rootElementSibling = reactRootElement
                  while (rootElementSibling) {
                    if (internalGetID(rootElementSibling)) {
                      process.env.NODE_ENV !== 'production'
                        ? warning(
                            false,
                            'render(): Target node has markup rendered by React, but there ' +
                              'are unrelated nodes as well. This is most commonly caused by ' +
                              'white-space inserted around server-rendered markup.',
                          )
                        : void 0
                      break
                    }
                    rootElementSibling = rootElementSibling.nextSibling
                  }
                }
              }

              var shouldReuseMarkup =
                containerHasReactMarkup &&
                !prevComponent &&
                !containerHasNonRootReactChild
              var component = ReactMount._renderNewRootComponent(
                nextWrappedElement,
                container,
                shouldReuseMarkup,
                parentComponent != null
                  ? parentComponent._reactInternalInstance._processChildContext(
                      parentComponent._reactInternalInstance._context,
                    )
                  : emptyObject,
              )._renderedComponent.getPublicInstance()
              if (callback) {
                callback.call(component)
              }
              return component
            },

            /**
             * Renders a React component into the DOM in the supplied `container`.
             * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.render
             *
             * If the React component was previously rendered into `container`, this will
             * perform an update on it and only mutate the DOM as necessary to reflect the
             * latest React component.
             *
             * @param {ReactElement} nextElement Component element to render.
             * @param {DOMElement} container DOM element to render into.
             * @param {?function} callback function triggered on completion
             * @return {ReactComponent} Component instance rendered in `container`.
             */
            render: function (nextElement, container, callback) {
              return ReactMount._renderSubtreeIntoContainer(
                null,
                nextElement,
                container,
                callback,
              )
            },

            /**
             * Unmounts and destroys the React component rendered in the `container`.
             * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.unmountcomponentatnode
             *
             * @param {DOMElement} container DOM element containing a React component.
             * @return {boolean} True if a component was found in and unmounted from
             *                   `container`
             */
            unmountComponentAtNode: function (container) {
              // Various parts of our code (such as ReactCompositeComponent's
              // _renderValidatedComponent) assume that calls to render aren't nested;
              // verify that that's the case. (Strictly speaking, unmounting won't cause a
              // render but we still don't expect to be in a render call here.)
              process.env.NODE_ENV !== 'production'
                ? warning(
                    ReactCurrentOwner.current == null,
                    'unmountComponentAtNode(): Render methods should be a pure function ' +
                      'of props and state; triggering nested component updates from render ' +
                      'is not allowed. If necessary, trigger nested updates in ' +
                      'componentDidUpdate. Check the render method of %s.',
                    (ReactCurrentOwner.current &&
                      ReactCurrentOwner.current.getName()) ||
                      'ReactCompositeComponent',
                  )
                : void 0

              !(
                container &&
                (container.nodeType === ELEMENT_NODE_TYPE ||
                  container.nodeType === DOC_NODE_TYPE ||
                  container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE)
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'unmountComponentAtNode(...): Target container is not a DOM element.',
                    )
                  : invariant(false)
                : void 0

              var prevComponent = getTopLevelWrapperInContainer(container)
              if (!prevComponent) {
                // Check if the node being unmounted was rendered by React, but isn't a
                // root node.
                var containerHasNonRootReactChild =
                  hasNonRootReactChild(container)

                // Check if the container itself is a React root node.
                var isContainerReactRoot =
                  container.nodeType === 1 &&
                  container.hasAttribute(ROOT_ATTR_NAME)

                if (process.env.NODE_ENV !== 'production') {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        !containerHasNonRootReactChild,
                        "unmountComponentAtNode(): The node you're attempting to unmount " +
                          'was rendered by React and is not a top-level container. %s',
                        isContainerReactRoot
                          ? 'You may have accidentally passed in a React root node instead ' +
                              'of its container.'
                          : 'Instead, have the parent component update its state and ' +
                              'rerender in order to remove this component.',
                      )
                    : void 0
                }

                return false
              }
              delete instancesByReactRootID[prevComponent._instance.rootID]
              ReactUpdates.batchedUpdates(
                unmountComponentFromNode,
                prevComponent,
                container,
                false,
              )
              return true
            },

            _mountImageIntoNode: function (
              markup,
              container,
              instance,
              shouldReuseMarkup,
              transaction,
            ) {
              !(
                container &&
                (container.nodeType === ELEMENT_NODE_TYPE ||
                  container.nodeType === DOC_NODE_TYPE ||
                  container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE)
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'mountComponentIntoNode(...): Target container is not valid.',
                    )
                  : invariant(false)
                : void 0

              if (shouldReuseMarkup) {
                var rootElement = getReactRootElementInContainer(container)
                if (ReactMarkupChecksum.canReuseMarkup(markup, rootElement)) {
                  ReactDOMComponentTree.precacheNode(instance, rootElement)
                  return
                } else {
                  var checksum = rootElement.getAttribute(
                    ReactMarkupChecksum.CHECKSUM_ATTR_NAME,
                  )
                  rootElement.removeAttribute(
                    ReactMarkupChecksum.CHECKSUM_ATTR_NAME,
                  )

                  var rootMarkup = rootElement.outerHTML
                  rootElement.setAttribute(
                    ReactMarkupChecksum.CHECKSUM_ATTR_NAME,
                    checksum,
                  )

                  var normalizedMarkup = markup
                  if (process.env.NODE_ENV !== 'production') {
                    // because rootMarkup is retrieved from the DOM, various normalizations
                    // will have occurred which will not be present in `markup`. Here,
                    // insert markup into a <div> or <iframe> depending on the container
                    // type to perform the same normalizations before comparing.
                    var normalizer
                    if (container.nodeType === ELEMENT_NODE_TYPE) {
                      normalizer = document.createElement('div')
                      normalizer.innerHTML = markup
                      normalizedMarkup = normalizer.innerHTML
                    } else {
                      normalizer = document.createElement('iframe')
                      document.body.appendChild(normalizer)
                      normalizer.contentDocument.write(markup)
                      normalizedMarkup =
                        normalizer.contentDocument.documentElement.outerHTML
                      document.body.removeChild(normalizer)
                    }
                  }

                  var diffIndex = firstDifferenceIndex(
                    normalizedMarkup,
                    rootMarkup,
                  )
                  var difference =
                    ' (client) ' +
                    normalizedMarkup.substring(diffIndex - 20, diffIndex + 20) +
                    '\n (server) ' +
                    rootMarkup.substring(diffIndex - 20, diffIndex + 20)

                  !(container.nodeType !== DOC_NODE_TYPE)
                    ? process.env.NODE_ENV !== 'production'
                      ? invariant(
                          false,
                          "You're trying to render a component to the document using " +
                            'server rendering but the checksum was invalid. This usually ' +
                            'means you rendered a different component type or props on ' +
                            'the client from the one on the server, or your render() ' +
                            'methods are impure. React cannot handle this case due to ' +
                            'cross-browser quirks by rendering at the document root. You ' +
                            'should look for environment dependent code in your components ' +
                            'and ensure the props are the same client and server side:\n%s',
                          difference,
                        )
                      : invariant(false)
                    : void 0

                  if (process.env.NODE_ENV !== 'production') {
                    process.env.NODE_ENV !== 'production'
                      ? warning(
                          false,
                          'React attempted to reuse markup in a container but the ' +
                            'checksum was invalid. This generally means that you are ' +
                            'using server rendering and the markup generated on the ' +
                            'server was not what the client was expecting. React injected ' +
                            'new markup to compensate which works but you have lost many ' +
                            'of the benefits of server rendering. Instead, figure out ' +
                            'why the markup being generated is different on the client ' +
                            'or server:\n%s',
                          difference,
                        )
                      : void 0
                  }
                }
              }

              !(container.nodeType !== DOC_NODE_TYPE)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      "You're trying to render a component to the document but " +
                        "you didn't use server rendering. We can't do this " +
                        'without using server rendering due to cross-browser quirks. ' +
                        'See ReactDOMServer.renderToString() for server rendering.',
                    )
                  : invariant(false)
                : void 0

              if (transaction.useCreateElement) {
                while (container.lastChild) {
                  container.removeChild(container.lastChild)
                }
                DOMLazyTree.insertTreeBefore(container, markup, null)
              } else {
                setInnerHTML(container, markup)
                ReactDOMComponentTree.precacheNode(
                  instance,
                  container.firstChild,
                )
              }

              if (process.env.NODE_ENV !== 'production') {
                var nativeNode = ReactDOMComponentTree.getInstanceFromNode(
                  container.firstChild,
                )
                if (nativeNode._debugID !== 0) {
                  ReactInstrumentation.debugTool.onNativeOperation(
                    nativeNode._debugID,
                    'mount',
                    markup.toString(),
                  )
                }
              }
            },
          }

          module.exports = ReactMount
        }).call(this, require('_process'))
      },
      {
        './DOMLazyTree': 211,
        './DOMProperty': 213,
        './ReactBrowserEventEmitter': 230,
        './ReactCurrentOwner': 239,
        './ReactDOMComponentTree': 244,
        './ReactDOMContainerInfo': 245,
        './ReactDOMFeatureFlags': 249,
        './ReactElement': 263,
        './ReactFeatureFlags': 269,
        './ReactInstrumentation': 273,
        './ReactMarkupChecksum': 275,
        './ReactReconciler': 288,
        './ReactUpdateQueue': 291,
        './ReactUpdates': 292,
        './instantiateReactComponent': 330,
        './setInnerHTML': 336,
        './shouldUpdateReactComponent': 338,
        _process: 162,
        'fbjs/lib/emptyObject': 35,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    277: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactMultiChild
           */

          'use strict'

          var ReactComponentEnvironment = require('./ReactComponentEnvironment')
          var ReactInstrumentation = require('./ReactInstrumentation')
          var ReactMultiChildUpdateTypes = require('./ReactMultiChildUpdateTypes')

          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactReconciler = require('./ReactReconciler')
          var ReactChildReconciler = require('./ReactChildReconciler')

          var emptyFunction = require('fbjs/lib/emptyFunction')
          var flattenChildren = require('./flattenChildren')
          var invariant = require('fbjs/lib/invariant')

          /**
           * Make an update for markup to be rendered and inserted at a supplied index.
           *
           * @param {string} markup Markup that renders into an element.
           * @param {number} toIndex Destination index.
           * @private
           */
          function makeInsertMarkup(markup, afterNode, toIndex) {
            // NOTE: Null values reduce hidden classes.
            return {
              type: ReactMultiChildUpdateTypes.INSERT_MARKUP,
              content: markup,
              fromIndex: null,
              fromNode: null,
              toIndex: toIndex,
              afterNode: afterNode,
            }
          }

          /**
           * Make an update for moving an existing element to another index.
           *
           * @param {number} fromIndex Source index of the existing element.
           * @param {number} toIndex Destination index of the element.
           * @private
           */
          function makeMove(child, afterNode, toIndex) {
            // NOTE: Null values reduce hidden classes.
            return {
              type: ReactMultiChildUpdateTypes.MOVE_EXISTING,
              content: null,
              fromIndex: child._mountIndex,
              fromNode: ReactReconciler.getNativeNode(child),
              toIndex: toIndex,
              afterNode: afterNode,
            }
          }

          /**
           * Make an update for removing an element at an index.
           *
           * @param {number} fromIndex Index of the element to remove.
           * @private
           */
          function makeRemove(child, node) {
            // NOTE: Null values reduce hidden classes.
            return {
              type: ReactMultiChildUpdateTypes.REMOVE_NODE,
              content: null,
              fromIndex: child._mountIndex,
              fromNode: node,
              toIndex: null,
              afterNode: null,
            }
          }

          /**
           * Make an update for setting the markup of a node.
           *
           * @param {string} markup Markup that renders into an element.
           * @private
           */
          function makeSetMarkup(markup) {
            // NOTE: Null values reduce hidden classes.
            return {
              type: ReactMultiChildUpdateTypes.SET_MARKUP,
              content: markup,
              fromIndex: null,
              fromNode: null,
              toIndex: null,
              afterNode: null,
            }
          }

          /**
           * Make an update for setting the text content.
           *
           * @param {string} textContent Text content to set.
           * @private
           */
          function makeTextContent(textContent) {
            // NOTE: Null values reduce hidden classes.
            return {
              type: ReactMultiChildUpdateTypes.TEXT_CONTENT,
              content: textContent,
              fromIndex: null,
              fromNode: null,
              toIndex: null,
              afterNode: null,
            }
          }

          /**
           * Push an update, if any, onto the queue. Creates a new queue if none is
           * passed and always returns the queue. Mutative.
           */
          function enqueue(queue, update) {
            if (update) {
              queue = queue || []
              queue.push(update)
            }
            return queue
          }

          /**
           * Processes any enqueued updates.
           *
           * @private
           */
          function processQueue(inst, updateQueue) {
            ReactComponentEnvironment.processChildrenUpdates(inst, updateQueue)
          }

          var setChildrenForInstrumentation = emptyFunction
          if (process.env.NODE_ENV !== 'production') {
            setChildrenForInstrumentation = function (children) {
              ReactInstrumentation.debugTool.onSetChildren(
                this._debugID,
                children
                  ? Object.keys(children).map(function (key) {
                      return children[key]._debugID
                    })
                  : [],
              )
            }
          }

          /**
           * ReactMultiChild are capable of reconciling multiple children.
           *
           * @class ReactMultiChild
           * @internal
           */
          var ReactMultiChild = {
            /**
             * Provides common functionality for components that must reconcile multiple
             * children. This is used by `ReactDOMComponent` to mount, update, and
             * unmount child components.
             *
             * @lends {ReactMultiChild.prototype}
             */
            Mixin: {
              _reconcilerInstantiateChildren: function (
                nestedChildren,
                transaction,
                context,
              ) {
                if (process.env.NODE_ENV !== 'production') {
                  if (this._currentElement) {
                    try {
                      ReactCurrentOwner.current = this._currentElement._owner
                      return ReactChildReconciler.instantiateChildren(
                        nestedChildren,
                        transaction,
                        context,
                      )
                    } finally {
                      ReactCurrentOwner.current = null
                    }
                  }
                }
                return ReactChildReconciler.instantiateChildren(
                  nestedChildren,
                  transaction,
                  context,
                )
              },

              _reconcilerUpdateChildren: function (
                prevChildren,
                nextNestedChildrenElements,
                removedNodes,
                transaction,
                context,
              ) {
                var nextChildren
                if (process.env.NODE_ENV !== 'production') {
                  if (this._currentElement) {
                    try {
                      ReactCurrentOwner.current = this._currentElement._owner
                      nextChildren = flattenChildren(nextNestedChildrenElements)
                    } finally {
                      ReactCurrentOwner.current = null
                    }
                    ReactChildReconciler.updateChildren(
                      prevChildren,
                      nextChildren,
                      removedNodes,
                      transaction,
                      context,
                    )
                    return nextChildren
                  }
                }
                nextChildren = flattenChildren(nextNestedChildrenElements)
                ReactChildReconciler.updateChildren(
                  prevChildren,
                  nextChildren,
                  removedNodes,
                  transaction,
                  context,
                )
                return nextChildren
              },

              /**
               * Generates a "mount image" for each of the supplied children. In the case
               * of `ReactDOMComponent`, a mount image is a string of markup.
               *
               * @param {?object} nestedChildren Nested child maps.
               * @return {array} An array of mounted representations.
               * @internal
               */
              mountChildren: function (nestedChildren, transaction, context) {
                var children = this._reconcilerInstantiateChildren(
                  nestedChildren,
                  transaction,
                  context,
                )
                this._renderedChildren = children

                var mountImages = []
                var index = 0
                for (var name in children) {
                  if (children.hasOwnProperty(name)) {
                    var child = children[name]
                    var mountImage = ReactReconciler.mountComponent(
                      child,
                      transaction,
                      this,
                      this._nativeContainerInfo,
                      context,
                    )
                    child._mountIndex = index++
                    mountImages.push(mountImage)
                  }
                }

                if (process.env.NODE_ENV !== 'production') {
                  setChildrenForInstrumentation.call(this, children)
                }

                return mountImages
              },

              /**
               * Replaces any rendered children with a text content string.
               *
               * @param {string} nextContent String of content.
               * @internal
               */
              updateTextContent: function (nextContent) {
                var prevChildren = this._renderedChildren
                // Remove any rendered children.
                ReactChildReconciler.unmountChildren(prevChildren, false)
                for (var name in prevChildren) {
                  if (prevChildren.hasOwnProperty(name)) {
                    !false
                      ? process.env.NODE_ENV !== 'production'
                        ? invariant(
                            false,
                            'updateTextContent called on non-empty component.',
                          )
                        : invariant(false)
                      : void 0
                  }
                }
                // Set new text content.
                var updates = [makeTextContent(nextContent)]
                processQueue(this, updates)
              },

              /**
               * Replaces any rendered children with a markup string.
               *
               * @param {string} nextMarkup String of markup.
               * @internal
               */
              updateMarkup: function (nextMarkup) {
                var prevChildren = this._renderedChildren
                // Remove any rendered children.
                ReactChildReconciler.unmountChildren(prevChildren, false)
                for (var name in prevChildren) {
                  if (prevChildren.hasOwnProperty(name)) {
                    !false
                      ? process.env.NODE_ENV !== 'production'
                        ? invariant(
                            false,
                            'updateTextContent called on non-empty component.',
                          )
                        : invariant(false)
                      : void 0
                  }
                }
                var updates = [makeSetMarkup(nextMarkup)]
                processQueue(this, updates)
              },

              /**
               * Updates the rendered children with new children.
               *
               * @param {?object} nextNestedChildrenElements Nested child element maps.
               * @param {ReactReconcileTransaction} transaction
               * @internal
               */
              updateChildren: function (
                nextNestedChildrenElements,
                transaction,
                context,
              ) {
                // Hook used by React ART
                this._updateChildren(
                  nextNestedChildrenElements,
                  transaction,
                  context,
                )
              },

              /**
               * @param {?object} nextNestedChildrenElements Nested child element maps.
               * @param {ReactReconcileTransaction} transaction
               * @final
               * @protected
               */
              _updateChildren: function (
                nextNestedChildrenElements,
                transaction,
                context,
              ) {
                var prevChildren = this._renderedChildren
                var removedNodes = {}
                var nextChildren = this._reconcilerUpdateChildren(
                  prevChildren,
                  nextNestedChildrenElements,
                  removedNodes,
                  transaction,
                  context,
                )
                if (!nextChildren && !prevChildren) {
                  return
                }
                var updates = null
                var name
                // `nextIndex` will increment for each child in `nextChildren`, but
                // `lastIndex` will be the last index visited in `prevChildren`.
                var lastIndex = 0
                var nextIndex = 0
                var lastPlacedNode = null
                for (name in nextChildren) {
                  if (!nextChildren.hasOwnProperty(name)) {
                    continue
                  }
                  var prevChild = prevChildren && prevChildren[name]
                  var nextChild = nextChildren[name]
                  if (prevChild === nextChild) {
                    updates = enqueue(
                      updates,
                      this.moveChild(
                        prevChild,
                        lastPlacedNode,
                        nextIndex,
                        lastIndex,
                      ),
                    )
                    lastIndex = Math.max(prevChild._mountIndex, lastIndex)
                    prevChild._mountIndex = nextIndex
                  } else {
                    if (prevChild) {
                      // Update `lastIndex` before `_mountIndex` gets unset by unmounting.
                      lastIndex = Math.max(prevChild._mountIndex, lastIndex)
                      // The `removedNodes` loop below will actually remove the child.
                    }
                    // The child must be instantiated before it's mounted.
                    updates = enqueue(
                      updates,
                      this._mountChildAtIndex(
                        nextChild,
                        lastPlacedNode,
                        nextIndex,
                        transaction,
                        context,
                      ),
                    )
                  }
                  nextIndex++
                  lastPlacedNode = ReactReconciler.getNativeNode(nextChild)
                }
                // Remove children that are no longer present.
                for (name in removedNodes) {
                  if (removedNodes.hasOwnProperty(name)) {
                    updates = enqueue(
                      updates,
                      this._unmountChild(
                        prevChildren[name],
                        removedNodes[name],
                      ),
                    )
                  }
                }
                if (updates) {
                  processQueue(this, updates)
                }
                this._renderedChildren = nextChildren

                if (process.env.NODE_ENV !== 'production') {
                  setChildrenForInstrumentation.call(this, nextChildren)
                }
              },

              /**
               * Unmounts all rendered children. This should be used to clean up children
               * when this component is unmounted. It does not actually perform any
               * backend operations.
               *
               * @internal
               */
              unmountChildren: function (safely) {
                var renderedChildren = this._renderedChildren
                ReactChildReconciler.unmountChildren(renderedChildren, safely)
                this._renderedChildren = null
              },

              /**
               * Moves a child component to the supplied index.
               *
               * @param {ReactComponent} child Component to move.
               * @param {number} toIndex Destination index of the element.
               * @param {number} lastIndex Last index visited of the siblings of `child`.
               * @protected
               */
              moveChild: function (child, afterNode, toIndex, lastIndex) {
                // If the index of `child` is less than `lastIndex`, then it needs to
                // be moved. Otherwise, we do not need to move it because a child will be
                // inserted or moved before `child`.
                if (child._mountIndex < lastIndex) {
                  return makeMove(child, afterNode, toIndex)
                }
              },

              /**
               * Creates a child component.
               *
               * @param {ReactComponent} child Component to create.
               * @param {string} mountImage Markup to insert.
               * @protected
               */
              createChild: function (child, afterNode, mountImage) {
                return makeInsertMarkup(
                  mountImage,
                  afterNode,
                  child._mountIndex,
                )
              },

              /**
               * Removes a child component.
               *
               * @param {ReactComponent} child Child to remove.
               * @protected
               */
              removeChild: function (child, node) {
                return makeRemove(child, node)
              },

              /**
               * Mounts a child with the supplied name.
               *
               * NOTE: This is part of `updateChildren` and is here for readability.
               *
               * @param {ReactComponent} child Component to mount.
               * @param {string} name Name of the child.
               * @param {number} index Index at which to insert the child.
               * @param {ReactReconcileTransaction} transaction
               * @private
               */
              _mountChildAtIndex: function (
                child,
                afterNode,
                index,
                transaction,
                context,
              ) {
                var mountImage = ReactReconciler.mountComponent(
                  child,
                  transaction,
                  this,
                  this._nativeContainerInfo,
                  context,
                )
                child._mountIndex = index
                return this.createChild(child, afterNode, mountImage)
              },

              /**
               * Unmounts a rendered child.
               *
               * NOTE: This is part of `updateChildren` and is here for readability.
               *
               * @param {ReactComponent} child Component to unmount.
               * @private
               */
              _unmountChild: function (child, node) {
                var update = this.removeChild(child, node)
                child._mountIndex = null
                return update
              },
            },
          }

          module.exports = ReactMultiChild
        }).call(this, require('_process'))
      },
      {
        './ReactChildReconciler': 231,
        './ReactComponentEnvironment': 236,
        './ReactCurrentOwner': 239,
        './ReactInstrumentation': 273,
        './ReactMultiChildUpdateTypes': 278,
        './ReactReconciler': 288,
        './flattenChildren': 319,
        _process: 162,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/invariant': 42,
      },
    ],
    278: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactMultiChildUpdateTypes
         */

        'use strict'

        var keyMirror = require('fbjs/lib/keyMirror')

        /**
         * When a component's children are updated, a series of update configuration
         * objects are created in order to batch and serialize the required changes.
         *
         * Enumerates all the possible types of update configurations.
         *
         * @internal
         */
        var ReactMultiChildUpdateTypes = keyMirror({
          INSERT_MARKUP: null,
          MOVE_EXISTING: null,
          REMOVE_NODE: null,
          SET_MARKUP: null,
          TEXT_CONTENT: null,
        })

        module.exports = ReactMultiChildUpdateTypes
      },
      { 'fbjs/lib/keyMirror': 45 },
    ],
    279: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactNativeComponent
           */

          'use strict'

          var _assign = require('object-assign')

          var invariant = require('fbjs/lib/invariant')

          var autoGenerateWrapperClass = null
          var genericComponentClass = null
          // This registry keeps track of wrapper classes around native tags.
          var tagToComponentClass = {}
          var textComponentClass = null

          var ReactNativeComponentInjection = {
            // This accepts a class that receives the tag string. This is a catch all
            // that can render any kind of tag.
            injectGenericComponentClass: function (componentClass) {
              genericComponentClass = componentClass
            },
            // This accepts a text component class that takes the text string to be
            // rendered as props.
            injectTextComponentClass: function (componentClass) {
              textComponentClass = componentClass
            },
            // This accepts a keyed object with classes as values. Each key represents a
            // tag. That particular tag will use this class instead of the generic one.
            injectComponentClasses: function (componentClasses) {
              _assign(tagToComponentClass, componentClasses)
            },
          }

          /**
           * Get a composite component wrapper class for a specific tag.
           *
           * @param {ReactElement} element The tag for which to get the class.
           * @return {function} The React class constructor function.
           */
          function getComponentClassForElement(element) {
            if (typeof element.type === 'function') {
              return element.type
            }
            var tag = element.type
            var componentClass = tagToComponentClass[tag]
            if (componentClass == null) {
              tagToComponentClass[tag] = componentClass =
                autoGenerateWrapperClass(tag)
            }
            return componentClass
          }

          /**
           * Get a native internal component class for a specific tag.
           *
           * @param {ReactElement} element The element to create.
           * @return {function} The internal class constructor function.
           */
          function createInternalComponent(element) {
            !genericComponentClass
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'There is no registered component for the tag %s',
                    element.type,
                  )
                : invariant(false)
              : void 0
            return new genericComponentClass(element)
          }

          /**
           * @param {ReactText} text
           * @return {ReactComponent}
           */
          function createInstanceForText(text) {
            return new textComponentClass(text)
          }

          /**
           * @param {ReactComponent} component
           * @return {boolean}
           */
          function isTextComponent(component) {
            return component instanceof textComponentClass
          }

          var ReactNativeComponent = {
            getComponentClassForElement: getComponentClassForElement,
            createInternalComponent: createInternalComponent,
            createInstanceForText: createInstanceForText,
            isTextComponent: isTextComponent,
            injection: ReactNativeComponentInjection,
          }

          module.exports = ReactNativeComponent
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42, 'object-assign': 161 },
    ],
    280: [
      function (require, module, exports) {
        /**
         * Copyright 2016-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactNativeOperationHistoryDevtool
         */

        'use strict'

        var history = []

        var ReactNativeOperationHistoryDevtool = {
          onNativeOperation: function (debugID, type, payload) {
            history.push({
              instanceID: debugID,
              type: type,
              payload: payload,
            })
          },
          clearHistory: function () {
            if (ReactNativeOperationHistoryDevtool._preventClearing) {
              // Should only be used for tests.
              return
            }

            history = []
          },
          getHistory: function () {
            return history
          },
        }

        module.exports = ReactNativeOperationHistoryDevtool
      },
      {},
    ],
    281: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactNodeTypes
           */

          'use strict'

          var ReactElement = require('./ReactElement')

          var invariant = require('fbjs/lib/invariant')

          var ReactNodeTypes = {
            NATIVE: 0,
            COMPOSITE: 1,
            EMPTY: 2,

            getType: function (node) {
              if (node === null || node === false) {
                return ReactNodeTypes.EMPTY
              } else if (ReactElement.isValidElement(node)) {
                if (typeof node.type === 'function') {
                  return ReactNodeTypes.COMPOSITE
                } else {
                  return ReactNodeTypes.NATIVE
                }
              }
              !false
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(false, 'Unexpected node: %s', node)
                  : invariant(false)
                : void 0
            },
          }

          module.exports = ReactNodeTypes
        }).call(this, require('_process'))
      },
      { './ReactElement': 263, _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    282: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2015-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactNoopUpdateQueue
           */

          'use strict'

          var warning = require('fbjs/lib/warning')

          function warnTDZ(publicInstance, callerName) {
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    false,
                    '%s(...): Can only update a mounted or mounting component. ' +
                      'This usually means you called %s() on an unmounted component. ' +
                      'This is a no-op. Please check the code for the %s component.',
                    callerName,
                    callerName,
                    (publicInstance.constructor &&
                      publicInstance.constructor.displayName) ||
                      '',
                  )
                : void 0
            }
          }

          /**
           * This is the abstract API for an update queue.
           */
          var ReactNoopUpdateQueue = {
            /**
             * Checks whether or not this composite component is mounted.
             * @param {ReactClass} publicInstance The instance we want to test.
             * @return {boolean} True if mounted, false otherwise.
             * @protected
             * @final
             */
            isMounted: function (publicInstance) {
              return false
            },

            /**
             * Enqueue a callback that will be executed after all the pending updates
             * have processed.
             *
             * @param {ReactClass} publicInstance The instance to use as `this` context.
             * @param {?function} callback Called after state is updated.
             * @internal
             */
            enqueueCallback: function (publicInstance, callback) {},

            /**
             * Forces an update. This should only be invoked when it is known with
             * certainty that we are **not** in a DOM transaction.
             *
             * You may want to call this when you know that some deeper aspect of the
             * component's state has changed but `setState` was not called.
             *
             * This will not invoke `shouldComponentUpdate`, but it will invoke
             * `componentWillUpdate` and `componentDidUpdate`.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @internal
             */
            enqueueForceUpdate: function (publicInstance) {
              warnTDZ(publicInstance, 'forceUpdate')
            },

            /**
             * Replaces all of the state. Always use this or `setState` to mutate state.
             * You should treat `this.state` as immutable.
             *
             * There is no guarantee that `this.state` will be immediately updated, so
             * accessing `this.state` after calling this method may return the old value.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @param {object} completeState Next state.
             * @internal
             */
            enqueueReplaceState: function (publicInstance, completeState) {
              warnTDZ(publicInstance, 'replaceState')
            },

            /**
             * Sets a subset of the state. This only exists because _pendingState is
             * internal. This provides a merging strategy that is not available to deep
             * properties which is confusing. TODO: Expose pendingState or don't use it
             * during the merge.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @param {object} partialState Next partial state to be merged with state.
             * @internal
             */
            enqueueSetState: function (publicInstance, partialState) {
              warnTDZ(publicInstance, 'setState')
            },
          }

          module.exports = ReactNoopUpdateQueue
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/warning': 52 },
    ],
    283: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactOwner
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           * ReactOwners are capable of storing references to owned components.
           *
           * All components are capable of //being// referenced by owner components, but
           * only ReactOwner components are capable of //referencing// owned components.
           * The named reference is known as a "ref".
           *
           * Refs are available when mounted and updated during reconciliation.
           *
           *   var MyComponent = React.createClass({
           *     render: function() {
           *       return (
           *         <div onClick={this.handleClick}>
           *           <CustomComponent ref="custom" />
           *         </div>
           *       );
           *     },
           *     handleClick: function() {
           *       this.refs.custom.handleClick();
           *     },
           *     componentDidMount: function() {
           *       this.refs.custom.initialize();
           *     }
           *   });
           *
           * Refs should rarely be used. When refs are used, they should only be done to
           * control data that is not handled by React's data flow.
           *
           * @class ReactOwner
           */
          var ReactOwner = {
            /**
             * @param {?object} object
             * @return {boolean} True if `object` is a valid owner.
             * @final
             */
            isValidOwner: function (object) {
              return !!(
                object &&
                typeof object.attachRef === 'function' &&
                typeof object.detachRef === 'function'
              )
            },

            /**
             * Adds a component by ref to an owner component.
             *
             * @param {ReactComponent} component Component to reference.
             * @param {string} ref Name by which to refer to the component.
             * @param {ReactOwner} owner Component on which to record the ref.
             * @final
             * @internal
             */
            addComponentAsRefTo: function (component, ref, owner) {
              !ReactOwner.isValidOwner(owner)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'addComponentAsRefTo(...): Only a ReactOwner can have refs. You might ' +
                        "be adding a ref to a component that was not created inside a component's " +
                        '`render` method, or you have multiple copies of React loaded ' +
                        '(details: https://fb.me/react-refs-must-have-owner).',
                    )
                  : invariant(false)
                : void 0
              owner.attachRef(ref, component)
            },

            /**
             * Removes a component by ref from an owner component.
             *
             * @param {ReactComponent} component Component to dereference.
             * @param {string} ref Name of the ref to remove.
             * @param {ReactOwner} owner Component on which the ref is recorded.
             * @final
             * @internal
             */
            removeComponentAsRefFrom: function (component, ref, owner) {
              !ReactOwner.isValidOwner(owner)
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might ' +
                        "be removing a ref to a component that was not created inside a component's " +
                        '`render` method, or you have multiple copies of React loaded ' +
                        '(details: https://fb.me/react-refs-must-have-owner).',
                    )
                  : invariant(false)
                : void 0
              var ownerPublicInstance = owner.getPublicInstance()
              // Check that `component`'s owner is still alive and that `component` is still the current ref
              // because we do not want to detach the ref if another component stole it.
              if (
                ownerPublicInstance &&
                ownerPublicInstance.refs[ref] === component.getPublicInstance()
              ) {
                owner.detachRef(ref)
              }
            },
          }

          module.exports = ReactOwner
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    284: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactPropTypeLocationNames
           */

          'use strict'

          var ReactPropTypeLocationNames = {}

          if (process.env.NODE_ENV !== 'production') {
            ReactPropTypeLocationNames = {
              prop: 'prop',
              context: 'context',
              childContext: 'child context',
            }
          }

          module.exports = ReactPropTypeLocationNames
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    285: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactPropTypeLocations
         */

        'use strict'

        var keyMirror = require('fbjs/lib/keyMirror')

        var ReactPropTypeLocations = keyMirror({
          prop: null,
          context: null,
          childContext: null,
        })

        module.exports = ReactPropTypeLocations
      },
      { 'fbjs/lib/keyMirror': 45 },
    ],
    286: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactPropTypes
         */

        'use strict'

        var ReactElement = require('./ReactElement')
        var ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames')

        var emptyFunction = require('fbjs/lib/emptyFunction')
        var getIteratorFn = require('./getIteratorFn')

        /**
         * Collection of methods that allow declaration and validation of props that are
         * supplied to React components. Example usage:
         *
         *   var Props = require('ReactPropTypes');
         *   var MyArticle = React.createClass({
         *     propTypes: {
         *       // An optional string prop named "description".
         *       description: Props.string,
         *
         *       // A required enum prop named "category".
         *       category: Props.oneOf(['News','Photos']).isRequired,
         *
         *       // A prop named "dialog" that requires an instance of Dialog.
         *       dialog: Props.instanceOf(Dialog).isRequired
         *     },
         *     render: function() { ... }
         *   });
         *
         * A more formal specification of how these methods are used:
         *
         *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
         *   decl := ReactPropTypes.{type}(.isRequired)?
         *
         * Each and every declaration produces a function with the same signature. This
         * allows the creation of custom validation functions. For example:
         *
         *  var MyLink = React.createClass({
         *    propTypes: {
         *      // An optional string or URI prop named "href".
         *      href: function(props, propName, componentName) {
         *        var propValue = props[propName];
         *        if (propValue != null && typeof propValue !== 'string' &&
         *            !(propValue instanceof URI)) {
         *          return new Error(
         *            'Expected a string or an URI for ' + propName + ' in ' +
         *            componentName
         *          );
         *        }
         *      }
         *    },
         *    render: function() {...}
         *  });
         *
         * @internal
         */

        var ANONYMOUS = '<<anonymous>>'

        var ReactPropTypes = {
          array: createPrimitiveTypeChecker('array'),
          bool: createPrimitiveTypeChecker('boolean'),
          func: createPrimitiveTypeChecker('function'),
          number: createPrimitiveTypeChecker('number'),
          object: createPrimitiveTypeChecker('object'),
          string: createPrimitiveTypeChecker('string'),

          any: createAnyTypeChecker(),
          arrayOf: createArrayOfTypeChecker,
          element: createElementTypeChecker(),
          instanceOf: createInstanceTypeChecker,
          node: createNodeChecker(),
          objectOf: createObjectOfTypeChecker,
          oneOf: createEnumTypeChecker,
          oneOfType: createUnionTypeChecker,
          shape: createShapeTypeChecker,
        }

        /**
         * inlined Object.is polyfill to avoid requiring consumers ship their own
         * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
         */
        /*eslint-disable no-self-compare*/
        function is(x, y) {
          // SameValue algorithm
          if (x === y) {
            // Steps 1-5, 7-10
            // Steps 6.b-6.e: +0 != -0
            return x !== 0 || 1 / x === 1 / y
          } else {
            // Step 6.a: NaN == NaN
            return x !== x && y !== y
          }
        }
        /*eslint-enable no-self-compare*/

        function createChainableTypeChecker(validate) {
          function checkType(
            isRequired,
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            componentName = componentName || ANONYMOUS
            propFullName = propFullName || propName
            if (props[propName] == null) {
              var locationName = ReactPropTypeLocationNames[location]
              if (isRequired) {
                return new Error(
                  'Required ' +
                    locationName +
                    ' `' +
                    propFullName +
                    '` was not specified in ' +
                    ('`' + componentName + '`.'),
                )
              }
              return null
            } else {
              return validate(
                props,
                propName,
                componentName,
                location,
                propFullName,
              )
            }
          }

          var chainedCheckType = checkType.bind(null, false)
          chainedCheckType.isRequired = checkType.bind(null, true)

          return chainedCheckType
        }

        function createPrimitiveTypeChecker(expectedType) {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            var propValue = props[propName]
            var propType = getPropType(propValue)
            if (propType !== expectedType) {
              var locationName = ReactPropTypeLocationNames[location]
              // `propValue` being instance of, say, date/regexp, pass the 'object'
              // check, but we can offer a more precise error message here rather than
              // 'of type `object`'.
              var preciseType = getPreciseType(propValue)

              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` of type ' +
                  ('`' +
                    preciseType +
                    '` supplied to `' +
                    componentName +
                    '`, expected ') +
                  ('`' + expectedType + '`.'),
              )
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createAnyTypeChecker() {
          return createChainableTypeChecker(emptyFunction.thatReturns(null))
        }

        function createArrayOfTypeChecker(typeChecker) {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            if (typeof typeChecker !== 'function') {
              return new Error(
                'Property `' +
                  propFullName +
                  '` of component `' +
                  componentName +
                  '` has invalid PropType notation inside arrayOf.',
              )
            }
            var propValue = props[propName]
            if (!Array.isArray(propValue)) {
              var locationName = ReactPropTypeLocationNames[location]
              var propType = getPropType(propValue)
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` of type ' +
                  ('`' +
                    propType +
                    '` supplied to `' +
                    componentName +
                    '`, expected an array.'),
              )
            }
            for (var i = 0; i < propValue.length; i++) {
              var error = typeChecker(
                propValue,
                i,
                componentName,
                location,
                propFullName + '[' + i + ']',
              )
              if (error instanceof Error) {
                return error
              }
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createElementTypeChecker() {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            if (!ReactElement.isValidElement(props[propName])) {
              var locationName = ReactPropTypeLocationNames[location]
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` supplied to ' +
                  ('`' + componentName + '`, expected a single ReactElement.'),
              )
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createInstanceTypeChecker(expectedClass) {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            if (!(props[propName] instanceof expectedClass)) {
              var locationName = ReactPropTypeLocationNames[location]
              var expectedClassName = expectedClass.name || ANONYMOUS
              var actualClassName = getClassName(props[propName])
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` of type ' +
                  ('`' +
                    actualClassName +
                    '` supplied to `' +
                    componentName +
                    '`, expected ') +
                  ('instance of `' + expectedClassName + '`.'),
              )
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createEnumTypeChecker(expectedValues) {
          if (!Array.isArray(expectedValues)) {
            return createChainableTypeChecker(function () {
              return new Error(
                'Invalid argument supplied to oneOf, expected an instance of array.',
              )
            })
          }

          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            var propValue = props[propName]
            for (var i = 0; i < expectedValues.length; i++) {
              if (is(propValue, expectedValues[i])) {
                return null
              }
            }

            var locationName = ReactPropTypeLocationNames[location]
            var valuesString = JSON.stringify(expectedValues)
            return new Error(
              'Invalid ' +
                locationName +
                ' `' +
                propFullName +
                '` of value `' +
                propValue +
                '` ' +
                ('supplied to `' +
                  componentName +
                  '`, expected one of ' +
                  valuesString +
                  '.'),
            )
          }
          return createChainableTypeChecker(validate)
        }

        function createObjectOfTypeChecker(typeChecker) {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            if (typeof typeChecker !== 'function') {
              return new Error(
                'Property `' +
                  propFullName +
                  '` of component `' +
                  componentName +
                  '` has invalid PropType notation inside objectOf.',
              )
            }
            var propValue = props[propName]
            var propType = getPropType(propValue)
            if (propType !== 'object') {
              var locationName = ReactPropTypeLocationNames[location]
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` of type ' +
                  ('`' +
                    propType +
                    '` supplied to `' +
                    componentName +
                    '`, expected an object.'),
              )
            }
            for (var key in propValue) {
              if (propValue.hasOwnProperty(key)) {
                var error = typeChecker(
                  propValue,
                  key,
                  componentName,
                  location,
                  propFullName + '.' + key,
                )
                if (error instanceof Error) {
                  return error
                }
              }
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createUnionTypeChecker(arrayOfTypeCheckers) {
          if (!Array.isArray(arrayOfTypeCheckers)) {
            return createChainableTypeChecker(function () {
              return new Error(
                'Invalid argument supplied to oneOfType, expected an instance of array.',
              )
            })
          }

          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
              var checker = arrayOfTypeCheckers[i]
              if (
                checker(
                  props,
                  propName,
                  componentName,
                  location,
                  propFullName,
                ) == null
              ) {
                return null
              }
            }

            var locationName = ReactPropTypeLocationNames[location]
            return new Error(
              'Invalid ' +
                locationName +
                ' `' +
                propFullName +
                '` supplied to ' +
                ('`' + componentName + '`.'),
            )
          }
          return createChainableTypeChecker(validate)
        }

        function createNodeChecker() {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            if (!isNode(props[propName])) {
              var locationName = ReactPropTypeLocationNames[location]
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` supplied to ' +
                  ('`' + componentName + '`, expected a ReactNode.'),
              )
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function createShapeTypeChecker(shapeTypes) {
          function validate(
            props,
            propName,
            componentName,
            location,
            propFullName,
          ) {
            var propValue = props[propName]
            var propType = getPropType(propValue)
            if (propType !== 'object') {
              var locationName = ReactPropTypeLocationNames[location]
              return new Error(
                'Invalid ' +
                  locationName +
                  ' `' +
                  propFullName +
                  '` of type `' +
                  propType +
                  '` ' +
                  ('supplied to `' + componentName + '`, expected `object`.'),
              )
            }
            for (var key in shapeTypes) {
              var checker = shapeTypes[key]
              if (!checker) {
                continue
              }
              var error = checker(
                propValue,
                key,
                componentName,
                location,
                propFullName + '.' + key,
              )
              if (error) {
                return error
              }
            }
            return null
          }
          return createChainableTypeChecker(validate)
        }

        function isNode(propValue) {
          switch (typeof propValue) {
            case 'number':
            case 'string':
            case 'undefined':
              return true
            case 'boolean':
              return !propValue
            case 'object':
              if (Array.isArray(propValue)) {
                return propValue.every(isNode)
              }
              if (
                propValue === null ||
                ReactElement.isValidElement(propValue)
              ) {
                return true
              }

              var iteratorFn = getIteratorFn(propValue)
              if (iteratorFn) {
                var iterator = iteratorFn.call(propValue)
                var step
                if (iteratorFn !== propValue.entries) {
                  while (!(step = iterator.next()).done) {
                    if (!isNode(step.value)) {
                      return false
                    }
                  }
                } else {
                  // Iterator will provide entry [k,v] tuples rather than values.
                  while (!(step = iterator.next()).done) {
                    var entry = step.value
                    if (entry) {
                      if (!isNode(entry[1])) {
                        return false
                      }
                    }
                  }
                }
              } else {
                return false
              }

              return true
            default:
              return false
          }
        }

        // Equivalent of `typeof` but with special handling for array and regexp.
        function getPropType(propValue) {
          var propType = typeof propValue
          if (Array.isArray(propValue)) {
            return 'array'
          }
          if (propValue instanceof RegExp) {
            // Old webkits (at least until Android 4.0) return 'function' rather than
            // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
            // passes PropTypes.object.
            return 'object'
          }
          return propType
        }

        // This handles more types than `getPropType`. Only used for error messages.
        // See `createPrimitiveTypeChecker`.
        function getPreciseType(propValue) {
          var propType = getPropType(propValue)
          if (propType === 'object') {
            if (propValue instanceof Date) {
              return 'date'
            } else if (propValue instanceof RegExp) {
              return 'regexp'
            }
          }
          return propType
        }

        // Returns class name of the object, if any.
        function getClassName(propValue) {
          if (!propValue.constructor || !propValue.constructor.name) {
            return ANONYMOUS
          }
          return propValue.constructor.name
        }

        module.exports = ReactPropTypes
      },
      {
        './ReactElement': 263,
        './ReactPropTypeLocationNames': 284,
        './getIteratorFn': 325,
        'fbjs/lib/emptyFunction': 34,
      },
    ],
    287: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactReconcileTransaction
         */

        'use strict'

        var _assign = require('object-assign')

        var CallbackQueue = require('./CallbackQueue')
        var PooledClass = require('./PooledClass')
        var ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter')
        var ReactInputSelection = require('./ReactInputSelection')
        var Transaction = require('./Transaction')

        /**
         * Ensures that, when possible, the selection range (currently selected text
         * input) is not disturbed by performing the transaction.
         */
        var SELECTION_RESTORATION = {
          /**
           * @return {Selection} Selection information.
           */
          initialize: ReactInputSelection.getSelectionInformation,
          /**
           * @param {Selection} sel Selection information returned from `initialize`.
           */
          close: ReactInputSelection.restoreSelection,
        }

        /**
         * Suppresses events (blur/focus) that could be inadvertently dispatched due to
         * high level DOM manipulations (like temporarily removing a text input from the
         * DOM).
         */
        var EVENT_SUPPRESSION = {
          /**
           * @return {boolean} The enabled status of `ReactBrowserEventEmitter` before
           * the reconciliation.
           */
          initialize: function () {
            var currentlyEnabled = ReactBrowserEventEmitter.isEnabled()
            ReactBrowserEventEmitter.setEnabled(false)
            return currentlyEnabled
          },

          /**
           * @param {boolean} previouslyEnabled Enabled status of
           *   `ReactBrowserEventEmitter` before the reconciliation occurred. `close`
           *   restores the previous value.
           */
          close: function (previouslyEnabled) {
            ReactBrowserEventEmitter.setEnabled(previouslyEnabled)
          },
        }

        /**
         * Provides a queue for collecting `componentDidMount` and
         * `componentDidUpdate` callbacks during the transaction.
         */
        var ON_DOM_READY_QUEUEING = {
          /**
           * Initializes the internal `onDOMReady` queue.
           */
          initialize: function () {
            this.reactMountReady.reset()
          },

          /**
           * After DOM is flushed, invoke all registered `onDOMReady` callbacks.
           */
          close: function () {
            this.reactMountReady.notifyAll()
          },
        }

        /**
         * Executed within the scope of the `Transaction` instance. Consider these as
         * being member methods, but with an implied ordering while being isolated from
         * each other.
         */
        var TRANSACTION_WRAPPERS = [
          SELECTION_RESTORATION,
          EVENT_SUPPRESSION,
          ON_DOM_READY_QUEUEING,
        ]

        /**
         * Currently:
         * - The order that these are listed in the transaction is critical:
         * - Suppresses events.
         * - Restores selection range.
         *
         * Future:
         * - Restore document/overflow scroll positions that were unintentionally
         *   modified via DOM insertions above the top viewport boundary.
         * - Implement/integrate with customized constraint based layout system and keep
         *   track of which dimensions must be remeasured.
         *
         * @class ReactReconcileTransaction
         */
        function ReactReconcileTransaction(useCreateElement) {
          this.reinitializeTransaction()
          // Only server-side rendering really needs this option (see
          // `ReactServerRendering`), but server-side uses
          // `ReactServerRenderingTransaction` instead. This option is here so that it's
          // accessible and defaults to false when `ReactDOMComponent` and
          // `ReactTextComponent` checks it in `mountComponent`.`
          this.renderToStaticMarkup = false
          this.reactMountReady = CallbackQueue.getPooled(null)
          this.useCreateElement = useCreateElement
        }

        var Mixin = {
          /**
           * @see Transaction
           * @abstract
           * @final
           * @return {array<object>} List of operation wrap procedures.
           *   TODO: convert to array<TransactionWrapper>
           */
          getTransactionWrappers: function () {
            return TRANSACTION_WRAPPERS
          },

          /**
           * @return {object} The queue to collect `onDOMReady` callbacks with.
           */
          getReactMountReady: function () {
            return this.reactMountReady
          },

          /**
           * Save current transaction state -- if the return value from this method is
           * passed to `rollback`, the transaction will be reset to that state.
           */
          checkpoint: function () {
            // reactMountReady is the our only stateful wrapper
            return this.reactMountReady.checkpoint()
          },

          rollback: function (checkpoint) {
            this.reactMountReady.rollback(checkpoint)
          },

          /**
           * `PooledClass` looks for this, and will invoke this before allowing this
           * instance to be reused.
           */
          destructor: function () {
            CallbackQueue.release(this.reactMountReady)
            this.reactMountReady = null
          },
        }

        _assign(ReactReconcileTransaction.prototype, Transaction.Mixin, Mixin)

        PooledClass.addPoolingTo(ReactReconcileTransaction)

        module.exports = ReactReconcileTransaction
      },
      {
        './CallbackQueue': 208,
        './PooledClass': 228,
        './ReactBrowserEventEmitter': 230,
        './ReactInputSelection': 271,
        './Transaction': 310,
        'object-assign': 161,
      },
    ],
    288: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactReconciler
           */

          'use strict'

          var ReactRef = require('./ReactRef')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var invariant = require('fbjs/lib/invariant')

          /**
           * Helper to call ReactRef.attachRefs with this composite component, split out
           * to avoid allocations in the transaction mount-ready queue.
           */
          function attachRefs() {
            ReactRef.attachRefs(this, this._currentElement)
          }

          var ReactReconciler = {
            /**
             * Initializes the component, renders markup, and registers event listeners.
             *
             * @param {ReactComponent} internalInstance
             * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction
             * @param {?object} the containing native component instance
             * @param {?object} info about the native container
             * @return {?string} Rendered markup to be inserted into the DOM.
             * @final
             * @internal
             */
            mountComponent: function (
              internalInstance,
              transaction,
              nativeParent,
              nativeContainerInfo,
              context,
            ) {
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onBeginReconcilerTimer(
                    internalInstance._debugID,
                    'mountComponent',
                  )
                }
              }
              var markup = internalInstance.mountComponent(
                transaction,
                nativeParent,
                nativeContainerInfo,
                context,
              )
              if (
                internalInstance._currentElement &&
                internalInstance._currentElement.ref != null
              ) {
                transaction
                  .getReactMountReady()
                  .enqueue(attachRefs, internalInstance)
              }
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onEndReconcilerTimer(
                    internalInstance._debugID,
                    'mountComponent',
                  )
                  ReactInstrumentation.debugTool.onMountComponent(
                    internalInstance._debugID,
                  )
                }
              }
              return markup
            },

            /**
             * Returns a value that can be passed to
             * ReactComponentEnvironment.replaceNodeWithMarkup.
             */
            getNativeNode: function (internalInstance) {
              return internalInstance.getNativeNode()
            },

            /**
             * Releases any resources allocated by `mountComponent`.
             *
             * @final
             * @internal
             */
            unmountComponent: function (internalInstance, safely) {
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onBeginReconcilerTimer(
                    internalInstance._debugID,
                    'unmountComponent',
                  )
                }
              }
              ReactRef.detachRefs(
                internalInstance,
                internalInstance._currentElement,
              )
              internalInstance.unmountComponent(safely)
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onEndReconcilerTimer(
                    internalInstance._debugID,
                    'unmountComponent',
                  )
                  ReactInstrumentation.debugTool.onUnmountComponent(
                    internalInstance._debugID,
                  )
                }
              }
            },

            /**
             * Update a component using a new element.
             *
             * @param {ReactComponent} internalInstance
             * @param {ReactElement} nextElement
             * @param {ReactReconcileTransaction} transaction
             * @param {object} context
             * @internal
             */
            receiveComponent: function (
              internalInstance,
              nextElement,
              transaction,
              context,
            ) {
              var prevElement = internalInstance._currentElement

              if (
                nextElement === prevElement &&
                context === internalInstance._context
              ) {
                // Since elements are immutable after the owner is rendered,
                // we can do a cheap identity compare here to determine if this is a
                // superfluous reconcile. It's possible for state to be mutable but such
                // change should trigger an update of the owner which would recreate
                // the element. We explicitly check for the existence of an owner since
                // it's possible for an element created outside a composite to be
                // deeply mutated and reused.

                // TODO: Bailing out early is just a perf optimization right?
                // TODO: Removing the return statement should affect correctness?
                return
              }

              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onBeginReconcilerTimer(
                    internalInstance._debugID,
                    'receiveComponent',
                  )
                }
              }

              var refsChanged = ReactRef.shouldUpdateRefs(
                prevElement,
                nextElement,
              )

              if (refsChanged) {
                ReactRef.detachRefs(internalInstance, prevElement)
              }

              internalInstance.receiveComponent(
                nextElement,
                transaction,
                context,
              )

              if (
                refsChanged &&
                internalInstance._currentElement &&
                internalInstance._currentElement.ref != null
              ) {
                transaction
                  .getReactMountReady()
                  .enqueue(attachRefs, internalInstance)
              }

              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onEndReconcilerTimer(
                    internalInstance._debugID,
                    'receiveComponent',
                  )
                  ReactInstrumentation.debugTool.onUpdateComponent(
                    internalInstance._debugID,
                  )
                }
              }
            },

            /**
             * Flush any dirty changes in a component.
             *
             * @param {ReactComponent} internalInstance
             * @param {ReactReconcileTransaction} transaction
             * @internal
             */
            performUpdateIfNecessary: function (
              internalInstance,
              transaction,
              updateBatchNumber,
            ) {
              if (internalInstance._updateBatchNumber !== updateBatchNumber) {
                // The component's enqueued batch number should always be the current
                // batch or the following one.
                !(
                  internalInstance._updateBatchNumber == null ||
                  internalInstance._updateBatchNumber === updateBatchNumber + 1
                )
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'performUpdateIfNecessary: Unexpected batch number (current %s, ' +
                          'pending %s)',
                        updateBatchNumber,
                        internalInstance._updateBatchNumber,
                      )
                    : invariant(false)
                  : void 0
                return
              }
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onBeginReconcilerTimer(
                    internalInstance._debugID,
                    'performUpdateIfNecessary',
                  )
                }
              }
              internalInstance.performUpdateIfNecessary(transaction)
              if (process.env.NODE_ENV !== 'production') {
                if (internalInstance._debugID !== 0) {
                  ReactInstrumentation.debugTool.onEndReconcilerTimer(
                    internalInstance._debugID,
                    'performUpdateIfNecessary',
                  )
                  ReactInstrumentation.debugTool.onUpdateComponent(
                    internalInstance._debugID,
                  )
                }
              }
            },
          }

          module.exports = ReactReconciler
        }).call(this, require('_process'))
      },
      {
        './ReactInstrumentation': 273,
        './ReactRef': 289,
        _process: 162,
        'fbjs/lib/invariant': 42,
      },
    ],
    289: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactRef
         */

        'use strict'

        var ReactOwner = require('./ReactOwner')

        var ReactRef = {}

        function attachRef(ref, component, owner) {
          if (typeof ref === 'function') {
            ref(component.getPublicInstance())
          } else {
            // Legacy ref
            ReactOwner.addComponentAsRefTo(component, ref, owner)
          }
        }

        function detachRef(ref, component, owner) {
          if (typeof ref === 'function') {
            ref(null)
          } else {
            // Legacy ref
            ReactOwner.removeComponentAsRefFrom(component, ref, owner)
          }
        }

        ReactRef.attachRefs = function (instance, element) {
          if (element === null || element === false) {
            return
          }
          var ref = element.ref
          if (ref != null) {
            attachRef(ref, instance, element._owner)
          }
        }

        ReactRef.shouldUpdateRefs = function (prevElement, nextElement) {
          // If either the owner or a `ref` has changed, make sure the newest owner
          // has stored a reference to `this`, and the previous owner (if different)
          // has forgotten the reference to `this`. We use the element instead
          // of the public this.props because the post processing cannot determine
          // a ref. The ref conceptually lives on the element.

          // TODO: Should this even be possible? The owner cannot change because
          // it's forbidden by shouldUpdateReactComponent. The ref can change
          // if you swap the keys of but not the refs. Reconsider where this check
          // is made. It probably belongs where the key checking and
          // instantiateReactComponent is done.

          var prevEmpty = prevElement === null || prevElement === false
          var nextEmpty = nextElement === null || nextElement === false

          return (
            // This has a few false positives w/r/t empty components.
            prevEmpty ||
            nextEmpty ||
            nextElement._owner !== prevElement._owner ||
            nextElement.ref !== prevElement.ref
          )
        }

        ReactRef.detachRefs = function (instance, element) {
          if (element === null || element === false) {
            return
          }
          var ref = element.ref
          if (ref != null) {
            detachRef(ref, instance, element._owner)
          }
        }

        module.exports = ReactRef
      },
      { './ReactOwner': 283 },
    ],
    290: [
      function (require, module, exports) {
        /**
         * Copyright 2014-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactServerRenderingTransaction
         */

        'use strict'

        var _assign = require('object-assign')

        var PooledClass = require('./PooledClass')
        var Transaction = require('./Transaction')

        /**
         * Executed within the scope of the `Transaction` instance. Consider these as
         * being member methods, but with an implied ordering while being isolated from
         * each other.
         */
        var TRANSACTION_WRAPPERS = []

        var noopCallbackQueue = {
          enqueue: function () {},
        }

        /**
         * @class ReactServerRenderingTransaction
         * @param {boolean} renderToStaticMarkup
         */
        function ReactServerRenderingTransaction(renderToStaticMarkup) {
          this.reinitializeTransaction()
          this.renderToStaticMarkup = renderToStaticMarkup
          this.useCreateElement = false
        }

        var Mixin = {
          /**
           * @see Transaction
           * @abstract
           * @final
           * @return {array} Empty list of operation wrap procedures.
           */
          getTransactionWrappers: function () {
            return TRANSACTION_WRAPPERS
          },

          /**
           * @return {object} The queue to collect `onDOMReady` callbacks with.
           */
          getReactMountReady: function () {
            return noopCallbackQueue
          },

          /**
           * `PooledClass` looks for this, and will invoke this before allowing this
           * instance to be reused.
           */
          destructor: function () {},

          checkpoint: function () {},

          rollback: function () {},
        }

        _assign(
          ReactServerRenderingTransaction.prototype,
          Transaction.Mixin,
          Mixin,
        )

        PooledClass.addPoolingTo(ReactServerRenderingTransaction)

        module.exports = ReactServerRenderingTransaction
      },
      { './PooledClass': 228, './Transaction': 310, 'object-assign': 161 },
    ],
    291: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2015-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactUpdateQueue
           */

          'use strict'

          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactInstanceMap = require('./ReactInstanceMap')
          var ReactUpdates = require('./ReactUpdates')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          function enqueueUpdate(internalInstance) {
            ReactUpdates.enqueueUpdate(internalInstance)
          }

          function formatUnexpectedArgument(arg) {
            var type = typeof arg
            if (type !== 'object') {
              return type
            }
            var displayName = (arg.constructor && arg.constructor.name) || type
            var keys = Object.keys(arg)
            if (keys.length > 0 && keys.length < 20) {
              return displayName + ' (keys: ' + keys.join(', ') + ')'
            }
            return displayName
          }

          function getInternalInstanceReadyForUpdate(
            publicInstance,
            callerName,
          ) {
            var internalInstance = ReactInstanceMap.get(publicInstance)
            if (!internalInstance) {
              if (process.env.NODE_ENV !== 'production') {
                // Only warn when we have a callerName. Otherwise we should be silent.
                // We're probably calling from enqueueCallback. We don't want to warn
                // there because we already warned for the corresponding lifecycle method.
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      !callerName,
                      '%s(...): Can only update a mounted or mounting component. ' +
                        'This usually means you called %s() on an unmounted component. ' +
                        'This is a no-op. Please check the code for the %s component.',
                      callerName,
                      callerName,
                      publicInstance.constructor.displayName,
                    )
                  : void 0
              }
              return null
            }

            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    ReactCurrentOwner.current == null,
                    '%s(...): Cannot update during an existing state transition (such as ' +
                      "within `render` or another component's constructor). Render methods " +
                      'should be a pure function of props and state; constructor ' +
                      'side-effects are an anti-pattern, but can be moved to ' +
                      '`componentWillMount`.',
                    callerName,
                  )
                : void 0
            }

            return internalInstance
          }

          /**
           * ReactUpdateQueue allows for state updates to be scheduled into a later
           * reconciliation step.
           */
          var ReactUpdateQueue = {
            /**
             * Checks whether or not this composite component is mounted.
             * @param {ReactClass} publicInstance The instance we want to test.
             * @return {boolean} True if mounted, false otherwise.
             * @protected
             * @final
             */
            isMounted: function (publicInstance) {
              if (process.env.NODE_ENV !== 'production') {
                var owner = ReactCurrentOwner.current
                if (owner !== null) {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        owner._warnedAboutRefsInRender,
                        '%s is accessing isMounted inside its render() function. ' +
                          'render() should be a pure function of props and state. It should ' +
                          'never access something that requires stale data from the previous ' +
                          'render, such as refs. Move this logic to componentDidMount and ' +
                          'componentDidUpdate instead.',
                        owner.getName() || 'A component',
                      )
                    : void 0
                  owner._warnedAboutRefsInRender = true
                }
              }
              var internalInstance = ReactInstanceMap.get(publicInstance)
              if (internalInstance) {
                // During componentWillMount and render this will still be null but after
                // that will always render to something. At least for now. So we can use
                // this hack.
                return !!internalInstance._renderedComponent
              } else {
                return false
              }
            },

            /**
             * Enqueue a callback that will be executed after all the pending updates
             * have processed.
             *
             * @param {ReactClass} publicInstance The instance to use as `this` context.
             * @param {?function} callback Called after state is updated.
             * @param {string} callerName Name of the calling function in the public API.
             * @internal
             */
            enqueueCallback: function (publicInstance, callback, callerName) {
              ReactUpdateQueue.validateCallback(callback, callerName)
              var internalInstance =
                getInternalInstanceReadyForUpdate(publicInstance)

              // Previously we would throw an error if we didn't have an internal
              // instance. Since we want to make it a no-op instead, we mirror the same
              // behavior we have in other enqueue* methods.
              // We also need to ignore callbacks in componentWillMount. See
              // enqueueUpdates.
              if (!internalInstance) {
                return null
              }

              if (internalInstance._pendingCallbacks) {
                internalInstance._pendingCallbacks.push(callback)
              } else {
                internalInstance._pendingCallbacks = [callback]
              }
              // TODO: The callback here is ignored when setState is called from
              // componentWillMount. Either fix it or disallow doing so completely in
              // favor of getInitialState. Alternatively, we can disallow
              // componentWillMount during server-side rendering.
              enqueueUpdate(internalInstance)
            },

            enqueueCallbackInternal: function (internalInstance, callback) {
              if (internalInstance._pendingCallbacks) {
                internalInstance._pendingCallbacks.push(callback)
              } else {
                internalInstance._pendingCallbacks = [callback]
              }
              enqueueUpdate(internalInstance)
            },

            /**
             * Forces an update. This should only be invoked when it is known with
             * certainty that we are **not** in a DOM transaction.
             *
             * You may want to call this when you know that some deeper aspect of the
             * component's state has changed but `setState` was not called.
             *
             * This will not invoke `shouldComponentUpdate`, but it will invoke
             * `componentWillUpdate` and `componentDidUpdate`.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @internal
             */
            enqueueForceUpdate: function (publicInstance) {
              var internalInstance = getInternalInstanceReadyForUpdate(
                publicInstance,
                'forceUpdate',
              )

              if (!internalInstance) {
                return
              }

              internalInstance._pendingForceUpdate = true

              enqueueUpdate(internalInstance)
            },

            /**
             * Replaces all of the state. Always use this or `setState` to mutate state.
             * You should treat `this.state` as immutable.
             *
             * There is no guarantee that `this.state` will be immediately updated, so
             * accessing `this.state` after calling this method may return the old value.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @param {object} completeState Next state.
             * @internal
             */
            enqueueReplaceState: function (publicInstance, completeState) {
              var internalInstance = getInternalInstanceReadyForUpdate(
                publicInstance,
                'replaceState',
              )

              if (!internalInstance) {
                return
              }

              internalInstance._pendingStateQueue = [completeState]
              internalInstance._pendingReplaceState = true

              enqueueUpdate(internalInstance)
            },

            /**
             * Sets a subset of the state. This only exists because _pendingState is
             * internal. This provides a merging strategy that is not available to deep
             * properties which is confusing. TODO: Expose pendingState or don't use it
             * during the merge.
             *
             * @param {ReactClass} publicInstance The instance that should rerender.
             * @param {object} partialState Next partial state to be merged with state.
             * @internal
             */
            enqueueSetState: function (publicInstance, partialState) {
              var internalInstance = getInternalInstanceReadyForUpdate(
                publicInstance,
                'setState',
              )

              if (!internalInstance) {
                return
              }

              var queue =
                internalInstance._pendingStateQueue ||
                (internalInstance._pendingStateQueue = [])
              queue.push(partialState)

              enqueueUpdate(internalInstance)
            },

            enqueueElementInternal: function (internalInstance, newElement) {
              internalInstance._pendingElement = newElement
              enqueueUpdate(internalInstance)
            },

            validateCallback: function (callback, callerName) {
              !(!callback || typeof callback === 'function')
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      '%s(...): Expected the last optional `callback` argument to be a ' +
                        'function. Instead received: %s.',
                      callerName,
                      formatUnexpectedArgument(callback),
                    )
                  : invariant(false)
                : void 0
            },
          }

          module.exports = ReactUpdateQueue
        }).call(this, require('_process'))
      },
      {
        './ReactCurrentOwner': 239,
        './ReactInstanceMap': 272,
        './ReactUpdates': 292,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    292: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule ReactUpdates
           */

          'use strict'

          var _assign = require('object-assign')

          var CallbackQueue = require('./CallbackQueue')
          var PooledClass = require('./PooledClass')
          var ReactFeatureFlags = require('./ReactFeatureFlags')
          var ReactInstrumentation = require('./ReactInstrumentation')
          var ReactReconciler = require('./ReactReconciler')
          var Transaction = require('./Transaction')

          var invariant = require('fbjs/lib/invariant')

          var dirtyComponents = []
          var updateBatchNumber = 0
          var asapCallbackQueue = CallbackQueue.getPooled()
          var asapEnqueued = false

          var batchingStrategy = null

          function ensureInjected() {
            !(ReactUpdates.ReactReconcileTransaction && batchingStrategy)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'ReactUpdates: must inject a reconcile transaction class and batching ' +
                      'strategy',
                  )
                : invariant(false)
              : void 0
          }

          var NESTED_UPDATES = {
            initialize: function () {
              this.dirtyComponentsLength = dirtyComponents.length
            },
            close: function () {
              if (this.dirtyComponentsLength !== dirtyComponents.length) {
                // Additional updates were enqueued by componentDidUpdate handlers or
                // similar; before our own UPDATE_QUEUEING wrapper closes, we want to run
                // these new updates so that if A's componentDidUpdate calls setState on
                // B, B will update before the callback A's updater provided when calling
                // setState.
                dirtyComponents.splice(0, this.dirtyComponentsLength)
                flushBatchedUpdates()
              } else {
                dirtyComponents.length = 0
              }
            },
          }

          var UPDATE_QUEUEING = {
            initialize: function () {
              this.callbackQueue.reset()
            },
            close: function () {
              this.callbackQueue.notifyAll()
            },
          }

          var TRANSACTION_WRAPPERS = [NESTED_UPDATES, UPDATE_QUEUEING]

          function ReactUpdatesFlushTransaction() {
            this.reinitializeTransaction()
            this.dirtyComponentsLength = null
            this.callbackQueue = CallbackQueue.getPooled()
            this.reconcileTransaction =
              ReactUpdates.ReactReconcileTransaction.getPooled(
                /* useCreateElement */ true,
              )
          }

          _assign(ReactUpdatesFlushTransaction.prototype, Transaction.Mixin, {
            getTransactionWrappers: function () {
              return TRANSACTION_WRAPPERS
            },

            destructor: function () {
              this.dirtyComponentsLength = null
              CallbackQueue.release(this.callbackQueue)
              this.callbackQueue = null
              ReactUpdates.ReactReconcileTransaction.release(
                this.reconcileTransaction,
              )
              this.reconcileTransaction = null
            },

            perform: function (method, scope, a) {
              // Essentially calls `this.reconcileTransaction.perform(method, scope, a)`
              // with this transaction's wrappers around it.
              return Transaction.Mixin.perform.call(
                this,
                this.reconcileTransaction.perform,
                this.reconcileTransaction,
                method,
                scope,
                a,
              )
            },
          })

          PooledClass.addPoolingTo(ReactUpdatesFlushTransaction)

          function batchedUpdates(callback, a, b, c, d, e) {
            ensureInjected()
            batchingStrategy.batchedUpdates(callback, a, b, c, d, e)
          }

          /**
           * Array comparator for ReactComponents by mount ordering.
           *
           * @param {ReactComponent} c1 first component you're comparing
           * @param {ReactComponent} c2 second component you're comparing
           * @return {number} Return value usable by Array.prototype.sort().
           */
          function mountOrderComparator(c1, c2) {
            return c1._mountOrder - c2._mountOrder
          }

          function runBatchedUpdates(transaction) {
            var len = transaction.dirtyComponentsLength
            !(len === dirtyComponents.length)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    "Expected flush transaction's stored dirty-components length (%s) to " +
                      'match dirty-components array length (%s).',
                    len,
                    dirtyComponents.length,
                  )
                : invariant(false)
              : void 0

            // Since reconciling a component higher in the owner hierarchy usually (not
            // always -- see shouldComponentUpdate()) will reconcile children, reconcile
            // them before their children by sorting the array.
            dirtyComponents.sort(mountOrderComparator)

            // Any updates enqueued while reconciling must be performed after this entire
            // batch. Otherwise, if dirtyComponents is [A, B] where A has children B and
            // C, B could update twice in a single batch if C's render enqueues an update
            // to B (since B would have already updated, we should skip it, and the only
            // way we can know to do so is by checking the batch counter).
            updateBatchNumber++

            for (var i = 0; i < len; i++) {
              // If a component is unmounted before pending changes apply, it will still
              // be here, but we assume that it has cleared its _pendingCallbacks and
              // that performUpdateIfNecessary is a noop.
              var component = dirtyComponents[i]

              // If performUpdateIfNecessary happens to enqueue any new updates, we
              // shouldn't execute the callbacks until the next render happens, so
              // stash the callbacks first
              var callbacks = component._pendingCallbacks
              component._pendingCallbacks = null

              var markerName
              if (ReactFeatureFlags.logTopLevelRenders) {
                var namedComponent = component
                // Duck type TopLevelWrapper. This is probably always true.
                if (
                  component._currentElement.props ===
                  component._renderedComponent._currentElement
                ) {
                  namedComponent = component._renderedComponent
                }
                markerName = 'React update: ' + namedComponent.getName()
                console.time(markerName)
              }

              ReactReconciler.performUpdateIfNecessary(
                component,
                transaction.reconcileTransaction,
                updateBatchNumber,
              )

              if (markerName) {
                console.timeEnd(markerName)
              }

              if (callbacks) {
                for (var j = 0; j < callbacks.length; j++) {
                  transaction.callbackQueue.enqueue(
                    callbacks[j],
                    component.getPublicInstance(),
                  )
                }
              }
            }
          }

          var flushBatchedUpdates = function () {
            if (process.env.NODE_ENV !== 'production') {
              ReactInstrumentation.debugTool.onBeginFlush()
            }

            // ReactUpdatesFlushTransaction's wrappers will clear the dirtyComponents
            // array and perform any updates enqueued by mount-ready handlers (i.e.,
            // componentDidUpdate) but we need to check here too in order to catch
            // updates enqueued by setState callbacks and asap calls.
            while (dirtyComponents.length || asapEnqueued) {
              if (dirtyComponents.length) {
                var transaction = ReactUpdatesFlushTransaction.getPooled()
                transaction.perform(runBatchedUpdates, null, transaction)
                ReactUpdatesFlushTransaction.release(transaction)
              }

              if (asapEnqueued) {
                asapEnqueued = false
                var queue = asapCallbackQueue
                asapCallbackQueue = CallbackQueue.getPooled()
                queue.notifyAll()
                CallbackQueue.release(queue)
              }
            }

            if (process.env.NODE_ENV !== 'production') {
              ReactInstrumentation.debugTool.onEndFlush()
            }
          }

          /**
           * Mark a component as needing a rerender, adding an optional callback to a
           * list of functions which will be executed once the rerender occurs.
           */
          function enqueueUpdate(component) {
            ensureInjected()

            // Various parts of our code (such as ReactCompositeComponent's
            // _renderValidatedComponent) assume that calls to render aren't nested;
            // verify that that's the case. (This is called by each top-level update
            // function, like setProps, setState, forceUpdate, etc.; creation and
            // destruction of top-level components is guarded in ReactMount.)

            if (!batchingStrategy.isBatchingUpdates) {
              batchingStrategy.batchedUpdates(enqueueUpdate, component)
              return
            }

            dirtyComponents.push(component)
            if (component._updateBatchNumber == null) {
              component._updateBatchNumber = updateBatchNumber + 1
            }
          }

          /**
           * Enqueue a callback to be run at the end of the current batching cycle. Throws
           * if no updates are currently being performed.
           */
          function asap(callback, context) {
            !batchingStrategy.isBatchingUpdates
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    "ReactUpdates.asap: Can't enqueue an asap callback in a context where" +
                      'updates are not being batched.',
                  )
                : invariant(false)
              : void 0
            asapCallbackQueue.enqueue(callback, context)
            asapEnqueued = true
          }

          var ReactUpdatesInjection = {
            injectReconcileTransaction: function (ReconcileTransaction) {
              !ReconcileTransaction
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactUpdates: must provide a reconcile transaction class',
                    )
                  : invariant(false)
                : void 0
              ReactUpdates.ReactReconcileTransaction = ReconcileTransaction
            },

            injectBatchingStrategy: function (_batchingStrategy) {
              !_batchingStrategy
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactUpdates: must provide a batching strategy',
                    )
                  : invariant(false)
                : void 0
              !(typeof _batchingStrategy.batchedUpdates === 'function')
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactUpdates: must provide a batchedUpdates() function',
                    )
                  : invariant(false)
                : void 0
              !(typeof _batchingStrategy.isBatchingUpdates === 'boolean')
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'ReactUpdates: must provide an isBatchingUpdates boolean attribute',
                    )
                  : invariant(false)
                : void 0
              batchingStrategy = _batchingStrategy
            },
          }

          var ReactUpdates = {
            /**
             * React references `ReactReconcileTransaction` using this property in order
             * to allow dependency injection.
             *
             * @internal
             */
            ReactReconcileTransaction: null,

            batchedUpdates: batchedUpdates,
            enqueueUpdate: enqueueUpdate,
            flushBatchedUpdates: flushBatchedUpdates,
            injection: ReactUpdatesInjection,
            asap: asap,
          }

          module.exports = ReactUpdates
        }).call(this, require('_process'))
      },
      {
        './CallbackQueue': 208,
        './PooledClass': 228,
        './ReactFeatureFlags': 269,
        './ReactInstrumentation': 273,
        './ReactReconciler': 288,
        './Transaction': 310,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'object-assign': 161,
      },
    ],
    293: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ReactVersion
         */

        'use strict'

        module.exports = '15.1.0'
      },
      {},
    ],
    294: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SVGDOMPropertyConfig
         */

        'use strict'

        var NS = {
          xlink: 'http://www.w3.org/1999/xlink',
          xml: 'http://www.w3.org/XML/1998/namespace',
        }

        // We use attributes for everything SVG so let's avoid some duplication and run
        // code instead.
        // The following are all specified in the HTML config already so we exclude here.
        // - class (as className)
        // - color
        // - height
        // - id
        // - lang
        // - max
        // - media
        // - method
        // - min
        // - name
        // - style
        // - target
        // - type
        // - width
        var ATTRS = {
          accentHeight: 'accent-height',
          accumulate: 0,
          additive: 0,
          alignmentBaseline: 'alignment-baseline',
          allowReorder: 'allowReorder',
          alphabetic: 0,
          amplitude: 0,
          arabicForm: 'arabic-form',
          ascent: 0,
          attributeName: 'attributeName',
          attributeType: 'attributeType',
          autoReverse: 'autoReverse',
          azimuth: 0,
          baseFrequency: 'baseFrequency',
          baseProfile: 'baseProfile',
          baselineShift: 'baseline-shift',
          bbox: 0,
          begin: 0,
          bias: 0,
          by: 0,
          calcMode: 'calcMode',
          capHeight: 'cap-height',
          clip: 0,
          clipPath: 'clip-path',
          clipRule: 'clip-rule',
          clipPathUnits: 'clipPathUnits',
          colorInterpolation: 'color-interpolation',
          colorInterpolationFilters: 'color-interpolation-filters',
          colorProfile: 'color-profile',
          colorRendering: 'color-rendering',
          contentScriptType: 'contentScriptType',
          contentStyleType: 'contentStyleType',
          cursor: 0,
          cx: 0,
          cy: 0,
          d: 0,
          decelerate: 0,
          descent: 0,
          diffuseConstant: 'diffuseConstant',
          direction: 0,
          display: 0,
          divisor: 0,
          dominantBaseline: 'dominant-baseline',
          dur: 0,
          dx: 0,
          dy: 0,
          edgeMode: 'edgeMode',
          elevation: 0,
          enableBackground: 'enable-background',
          end: 0,
          exponent: 0,
          externalResourcesRequired: 'externalResourcesRequired',
          fill: 0,
          fillOpacity: 'fill-opacity',
          fillRule: 'fill-rule',
          filter: 0,
          filterRes: 'filterRes',
          filterUnits: 'filterUnits',
          floodColor: 'flood-color',
          floodOpacity: 'flood-opacity',
          focusable: 0,
          fontFamily: 'font-family',
          fontSize: 'font-size',
          fontSizeAdjust: 'font-size-adjust',
          fontStretch: 'font-stretch',
          fontStyle: 'font-style',
          fontVariant: 'font-variant',
          fontWeight: 'font-weight',
          format: 0,
          from: 0,
          fx: 0,
          fy: 0,
          g1: 0,
          g2: 0,
          glyphName: 'glyph-name',
          glyphOrientationHorizontal: 'glyph-orientation-horizontal',
          glyphOrientationVertical: 'glyph-orientation-vertical',
          glyphRef: 'glyphRef',
          gradientTransform: 'gradientTransform',
          gradientUnits: 'gradientUnits',
          hanging: 0,
          horizAdvX: 'horiz-adv-x',
          horizOriginX: 'horiz-origin-x',
          ideographic: 0,
          imageRendering: 'image-rendering',
          in: 0,
          in2: 0,
          intercept: 0,
          k: 0,
          k1: 0,
          k2: 0,
          k3: 0,
          k4: 0,
          kernelMatrix: 'kernelMatrix',
          kernelUnitLength: 'kernelUnitLength',
          kerning: 0,
          keyPoints: 'keyPoints',
          keySplines: 'keySplines',
          keyTimes: 'keyTimes',
          lengthAdjust: 'lengthAdjust',
          letterSpacing: 'letter-spacing',
          lightingColor: 'lighting-color',
          limitingConeAngle: 'limitingConeAngle',
          local: 0,
          markerEnd: 'marker-end',
          markerMid: 'marker-mid',
          markerStart: 'marker-start',
          markerHeight: 'markerHeight',
          markerUnits: 'markerUnits',
          markerWidth: 'markerWidth',
          mask: 0,
          maskContentUnits: 'maskContentUnits',
          maskUnits: 'maskUnits',
          mathematical: 0,
          mode: 0,
          numOctaves: 'numOctaves',
          offset: 0,
          opacity: 0,
          operator: 0,
          order: 0,
          orient: 0,
          orientation: 0,
          origin: 0,
          overflow: 0,
          overlinePosition: 'overline-position',
          overlineThickness: 'overline-thickness',
          paintOrder: 'paint-order',
          panose1: 'panose-1',
          pathLength: 'pathLength',
          patternContentUnits: 'patternContentUnits',
          patternTransform: 'patternTransform',
          patternUnits: 'patternUnits',
          pointerEvents: 'pointer-events',
          points: 0,
          pointsAtX: 'pointsAtX',
          pointsAtY: 'pointsAtY',
          pointsAtZ: 'pointsAtZ',
          preserveAlpha: 'preserveAlpha',
          preserveAspectRatio: 'preserveAspectRatio',
          primitiveUnits: 'primitiveUnits',
          r: 0,
          radius: 0,
          refX: 'refX',
          refY: 'refY',
          renderingIntent: 'rendering-intent',
          repeatCount: 'repeatCount',
          repeatDur: 'repeatDur',
          requiredExtensions: 'requiredExtensions',
          requiredFeatures: 'requiredFeatures',
          restart: 0,
          result: 0,
          rotate: 0,
          rx: 0,
          ry: 0,
          scale: 0,
          seed: 0,
          shapeRendering: 'shape-rendering',
          slope: 0,
          spacing: 0,
          specularConstant: 'specularConstant',
          specularExponent: 'specularExponent',
          speed: 0,
          spreadMethod: 'spreadMethod',
          startOffset: 'startOffset',
          stdDeviation: 'stdDeviation',
          stemh: 0,
          stemv: 0,
          stitchTiles: 'stitchTiles',
          stopColor: 'stop-color',
          stopOpacity: 'stop-opacity',
          strikethroughPosition: 'strikethrough-position',
          strikethroughThickness: 'strikethrough-thickness',
          string: 0,
          stroke: 0,
          strokeDasharray: 'stroke-dasharray',
          strokeDashoffset: 'stroke-dashoffset',
          strokeLinecap: 'stroke-linecap',
          strokeLinejoin: 'stroke-linejoin',
          strokeMiterlimit: 'stroke-miterlimit',
          strokeOpacity: 'stroke-opacity',
          strokeWidth: 'stroke-width',
          surfaceScale: 'surfaceScale',
          systemLanguage: 'systemLanguage',
          tableValues: 'tableValues',
          targetX: 'targetX',
          targetY: 'targetY',
          textAnchor: 'text-anchor',
          textDecoration: 'text-decoration',
          textRendering: 'text-rendering',
          textLength: 'textLength',
          to: 0,
          transform: 0,
          u1: 0,
          u2: 0,
          underlinePosition: 'underline-position',
          underlineThickness: 'underline-thickness',
          unicode: 0,
          unicodeBidi: 'unicode-bidi',
          unicodeRange: 'unicode-range',
          unitsPerEm: 'units-per-em',
          vAlphabetic: 'v-alphabetic',
          vHanging: 'v-hanging',
          vIdeographic: 'v-ideographic',
          vMathematical: 'v-mathematical',
          values: 0,
          vectorEffect: 'vector-effect',
          version: 0,
          vertAdvY: 'vert-adv-y',
          vertOriginX: 'vert-origin-x',
          vertOriginY: 'vert-origin-y',
          viewBox: 'viewBox',
          viewTarget: 'viewTarget',
          visibility: 0,
          widths: 0,
          wordSpacing: 'word-spacing',
          writingMode: 'writing-mode',
          x: 0,
          xHeight: 'x-height',
          x1: 0,
          x2: 0,
          xChannelSelector: 'xChannelSelector',
          xlinkActuate: 'xlink:actuate',
          xlinkArcrole: 'xlink:arcrole',
          xlinkHref: 'xlink:href',
          xlinkRole: 'xlink:role',
          xlinkShow: 'xlink:show',
          xlinkTitle: 'xlink:title',
          xlinkType: 'xlink:type',
          xmlBase: 'xml:base',
          xmlLang: 'xml:lang',
          xmlSpace: 'xml:space',
          y: 0,
          y1: 0,
          y2: 0,
          yChannelSelector: 'yChannelSelector',
          z: 0,
          zoomAndPan: 'zoomAndPan',
        }

        var SVGDOMPropertyConfig = {
          Properties: {},
          DOMAttributeNamespaces: {
            xlinkActuate: NS.xlink,
            xlinkArcrole: NS.xlink,
            xlinkHref: NS.xlink,
            xlinkRole: NS.xlink,
            xlinkShow: NS.xlink,
            xlinkTitle: NS.xlink,
            xlinkType: NS.xlink,
            xmlBase: NS.xml,
            xmlLang: NS.xml,
            xmlSpace: NS.xml,
          },
          DOMAttributeNames: {},
        }

        Object.keys(ATTRS).forEach(function (key) {
          SVGDOMPropertyConfig.Properties[key] = 0
          if (ATTRS[key]) {
            SVGDOMPropertyConfig.DOMAttributeNames[key] = ATTRS[key]
          }
        })

        module.exports = SVGDOMPropertyConfig
      },
      {},
    ],
    295: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SelectEventPlugin
         */

        'use strict'

        var EventConstants = require('./EventConstants')
        var EventPropagators = require('./EventPropagators')
        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
        var ReactDOMComponentTree = require('./ReactDOMComponentTree')
        var ReactInputSelection = require('./ReactInputSelection')
        var SyntheticEvent = require('./SyntheticEvent')

        var getActiveElement = require('fbjs/lib/getActiveElement')
        var isTextInputElement = require('./isTextInputElement')
        var keyOf = require('fbjs/lib/keyOf')
        var shallowEqual = require('fbjs/lib/shallowEqual')

        var topLevelTypes = EventConstants.topLevelTypes

        var skipSelectionChangeEvent =
          ExecutionEnvironment.canUseDOM &&
          'documentMode' in document &&
          document.documentMode <= 11

        var eventTypes = {
          select: {
            phasedRegistrationNames: {
              bubbled: keyOf({ onSelect: null }),
              captured: keyOf({ onSelectCapture: null }),
            },
            dependencies: [
              topLevelTypes.topBlur,
              topLevelTypes.topContextMenu,
              topLevelTypes.topFocus,
              topLevelTypes.topKeyDown,
              topLevelTypes.topMouseDown,
              topLevelTypes.topMouseUp,
              topLevelTypes.topSelectionChange,
            ],
          },
        }

        var activeElement = null
        var activeElementInst = null
        var lastSelection = null
        var mouseDown = false

        // Track whether a listener exists for this plugin. If none exist, we do
        // not extract events. See #3639.
        var hasListener = false
        var ON_SELECT_KEY = keyOf({ onSelect: null })

        /**
         * Get an object which is a unique representation of the current selection.
         *
         * The return value will not be consistent across nodes or browsers, but
         * two identical selections on the same node will return identical objects.
         *
         * @param {DOMElement} node
         * @return {object}
         */
        function getSelection(node) {
          if (
            'selectionStart' in node &&
            ReactInputSelection.hasSelectionCapabilities(node)
          ) {
            return {
              start: node.selectionStart,
              end: node.selectionEnd,
            }
          } else if (window.getSelection) {
            var selection = window.getSelection()
            return {
              anchorNode: selection.anchorNode,
              anchorOffset: selection.anchorOffset,
              focusNode: selection.focusNode,
              focusOffset: selection.focusOffset,
            }
          } else if (document.selection) {
            var range = document.selection.createRange()
            return {
              parentElement: range.parentElement(),
              text: range.text,
              top: range.boundingTop,
              left: range.boundingLeft,
            }
          }
        }

        /**
         * Poll selection to see whether it's changed.
         *
         * @param {object} nativeEvent
         * @return {?SyntheticEvent}
         */
        function constructSelectEvent(nativeEvent, nativeEventTarget) {
          // Ensure we have the right element, and that the user is not dragging a
          // selection (this matches native `select` event behavior). In HTML5, select
          // fires only on input and textarea thus if there's no focused element we
          // won't dispatch.
          if (
            mouseDown ||
            activeElement == null ||
            activeElement !== getActiveElement()
          ) {
            return null
          }

          // Only fire when selection has actually changed.
          var currentSelection = getSelection(activeElement)
          if (
            !lastSelection ||
            !shallowEqual(lastSelection, currentSelection)
          ) {
            lastSelection = currentSelection

            var syntheticEvent = SyntheticEvent.getPooled(
              eventTypes.select,
              activeElementInst,
              nativeEvent,
              nativeEventTarget,
            )

            syntheticEvent.type = 'select'
            syntheticEvent.target = activeElement

            EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent)

            return syntheticEvent
          }

          return null
        }

        /**
         * This plugin creates an `onSelect` event that normalizes select events
         * across form elements.
         *
         * Supported elements are:
         * - input (see `isTextInputElement`)
         * - textarea
         * - contentEditable
         *
         * This differs from native browser implementations in the following ways:
         * - Fires on contentEditable fields as well as inputs.
         * - Fires for collapsed selection.
         * - Fires after user input.
         */
        var SelectEventPlugin = {
          eventTypes: eventTypes,

          extractEvents: function (
            topLevelType,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            if (!hasListener) {
              return null
            }

            var targetNode = targetInst
              ? ReactDOMComponentTree.getNodeFromInstance(targetInst)
              : window

            switch (topLevelType) {
              // Track the input node that has focus.
              case topLevelTypes.topFocus:
                if (
                  isTextInputElement(targetNode) ||
                  targetNode.contentEditable === 'true'
                ) {
                  activeElement = targetNode
                  activeElementInst = targetInst
                  lastSelection = null
                }
                break
              case topLevelTypes.topBlur:
                activeElement = null
                activeElementInst = null
                lastSelection = null
                break

              // Don't fire the event while the user is dragging. This matches the
              // semantics of the native select event.
              case topLevelTypes.topMouseDown:
                mouseDown = true
                break
              case topLevelTypes.topContextMenu:
              case topLevelTypes.topMouseUp:
                mouseDown = false
                return constructSelectEvent(nativeEvent, nativeEventTarget)

              // Chrome and IE fire non-standard event when selection is changed (and
              // sometimes when it hasn't). IE's event fires out of order with respect
              // to key and input events on deletion, so we discard it.
              //
              // Firefox doesn't support selectionchange, so check selection status
              // after each key entry. The selection changes after keydown and before
              // keyup, but we check on keydown as well in the case of holding down a
              // key, when multiple keydown events are fired but only one keyup is.
              // This is also our approach for IE handling, for the reason above.
              case topLevelTypes.topSelectionChange:
                if (skipSelectionChangeEvent) {
                  break
                }
              // falls through
              case topLevelTypes.topKeyDown:
              case topLevelTypes.topKeyUp:
                return constructSelectEvent(nativeEvent, nativeEventTarget)
            }

            return null
          },

          didPutListener: function (inst, registrationName, listener) {
            if (registrationName === ON_SELECT_KEY) {
              hasListener = true
            }
          },
        }

        module.exports = SelectEventPlugin
      },
      {
        './EventConstants': 219,
        './EventPropagators': 223,
        './ReactDOMComponentTree': 244,
        './ReactInputSelection': 271,
        './SyntheticEvent': 301,
        './isTextInputElement': 332,
        'fbjs/lib/ExecutionEnvironment': 28,
        'fbjs/lib/getActiveElement': 37,
        'fbjs/lib/keyOf': 46,
        'fbjs/lib/shallowEqual': 51,
      },
    ],
    296: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule SimpleEventPlugin
           */

          'use strict'

          var EventConstants = require('./EventConstants')
          var EventListener = require('fbjs/lib/EventListener')
          var EventPropagators = require('./EventPropagators')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var SyntheticAnimationEvent = require('./SyntheticAnimationEvent')
          var SyntheticClipboardEvent = require('./SyntheticClipboardEvent')
          var SyntheticEvent = require('./SyntheticEvent')
          var SyntheticFocusEvent = require('./SyntheticFocusEvent')
          var SyntheticKeyboardEvent = require('./SyntheticKeyboardEvent')
          var SyntheticMouseEvent = require('./SyntheticMouseEvent')
          var SyntheticDragEvent = require('./SyntheticDragEvent')
          var SyntheticTouchEvent = require('./SyntheticTouchEvent')
          var SyntheticTransitionEvent = require('./SyntheticTransitionEvent')
          var SyntheticUIEvent = require('./SyntheticUIEvent')
          var SyntheticWheelEvent = require('./SyntheticWheelEvent')

          var emptyFunction = require('fbjs/lib/emptyFunction')
          var getEventCharCode = require('./getEventCharCode')
          var invariant = require('fbjs/lib/invariant')
          var keyOf = require('fbjs/lib/keyOf')

          var topLevelTypes = EventConstants.topLevelTypes

          var eventTypes = {
            abort: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onAbort: true }),
                captured: keyOf({ onAbortCapture: true }),
              },
            },
            animationEnd: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onAnimationEnd: true }),
                captured: keyOf({ onAnimationEndCapture: true }),
              },
            },
            animationIteration: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onAnimationIteration: true }),
                captured: keyOf({ onAnimationIterationCapture: true }),
              },
            },
            animationStart: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onAnimationStart: true }),
                captured: keyOf({ onAnimationStartCapture: true }),
              },
            },
            blur: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onBlur: true }),
                captured: keyOf({ onBlurCapture: true }),
              },
            },
            canPlay: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onCanPlay: true }),
                captured: keyOf({ onCanPlayCapture: true }),
              },
            },
            canPlayThrough: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onCanPlayThrough: true }),
                captured: keyOf({ onCanPlayThroughCapture: true }),
              },
            },
            click: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onClick: true }),
                captured: keyOf({ onClickCapture: true }),
              },
            },
            contextMenu: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onContextMenu: true }),
                captured: keyOf({ onContextMenuCapture: true }),
              },
            },
            copy: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onCopy: true }),
                captured: keyOf({ onCopyCapture: true }),
              },
            },
            cut: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onCut: true }),
                captured: keyOf({ onCutCapture: true }),
              },
            },
            doubleClick: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDoubleClick: true }),
                captured: keyOf({ onDoubleClickCapture: true }),
              },
            },
            drag: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDrag: true }),
                captured: keyOf({ onDragCapture: true }),
              },
            },
            dragEnd: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragEnd: true }),
                captured: keyOf({ onDragEndCapture: true }),
              },
            },
            dragEnter: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragEnter: true }),
                captured: keyOf({ onDragEnterCapture: true }),
              },
            },
            dragExit: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragExit: true }),
                captured: keyOf({ onDragExitCapture: true }),
              },
            },
            dragLeave: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragLeave: true }),
                captured: keyOf({ onDragLeaveCapture: true }),
              },
            },
            dragOver: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragOver: true }),
                captured: keyOf({ onDragOverCapture: true }),
              },
            },
            dragStart: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDragStart: true }),
                captured: keyOf({ onDragStartCapture: true }),
              },
            },
            drop: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDrop: true }),
                captured: keyOf({ onDropCapture: true }),
              },
            },
            durationChange: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onDurationChange: true }),
                captured: keyOf({ onDurationChangeCapture: true }),
              },
            },
            emptied: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onEmptied: true }),
                captured: keyOf({ onEmptiedCapture: true }),
              },
            },
            encrypted: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onEncrypted: true }),
                captured: keyOf({ onEncryptedCapture: true }),
              },
            },
            ended: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onEnded: true }),
                captured: keyOf({ onEndedCapture: true }),
              },
            },
            error: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onError: true }),
                captured: keyOf({ onErrorCapture: true }),
              },
            },
            focus: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onFocus: true }),
                captured: keyOf({ onFocusCapture: true }),
              },
            },
            input: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onInput: true }),
                captured: keyOf({ onInputCapture: true }),
              },
            },
            invalid: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onInvalid: true }),
                captured: keyOf({ onInvalidCapture: true }),
              },
            },
            keyDown: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onKeyDown: true }),
                captured: keyOf({ onKeyDownCapture: true }),
              },
            },
            keyPress: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onKeyPress: true }),
                captured: keyOf({ onKeyPressCapture: true }),
              },
            },
            keyUp: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onKeyUp: true }),
                captured: keyOf({ onKeyUpCapture: true }),
              },
            },
            load: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onLoad: true }),
                captured: keyOf({ onLoadCapture: true }),
              },
            },
            loadedData: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onLoadedData: true }),
                captured: keyOf({ onLoadedDataCapture: true }),
              },
            },
            loadedMetadata: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onLoadedMetadata: true }),
                captured: keyOf({ onLoadedMetadataCapture: true }),
              },
            },
            loadStart: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onLoadStart: true }),
                captured: keyOf({ onLoadStartCapture: true }),
              },
            },
            // Note: We do not allow listening to mouseOver events. Instead, use the
            // onMouseEnter/onMouseLeave created by `EnterLeaveEventPlugin`.
            mouseDown: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onMouseDown: true }),
                captured: keyOf({ onMouseDownCapture: true }),
              },
            },
            mouseMove: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onMouseMove: true }),
                captured: keyOf({ onMouseMoveCapture: true }),
              },
            },
            mouseOut: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onMouseOut: true }),
                captured: keyOf({ onMouseOutCapture: true }),
              },
            },
            mouseOver: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onMouseOver: true }),
                captured: keyOf({ onMouseOverCapture: true }),
              },
            },
            mouseUp: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onMouseUp: true }),
                captured: keyOf({ onMouseUpCapture: true }),
              },
            },
            paste: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onPaste: true }),
                captured: keyOf({ onPasteCapture: true }),
              },
            },
            pause: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onPause: true }),
                captured: keyOf({ onPauseCapture: true }),
              },
            },
            play: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onPlay: true }),
                captured: keyOf({ onPlayCapture: true }),
              },
            },
            playing: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onPlaying: true }),
                captured: keyOf({ onPlayingCapture: true }),
              },
            },
            progress: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onProgress: true }),
                captured: keyOf({ onProgressCapture: true }),
              },
            },
            rateChange: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onRateChange: true }),
                captured: keyOf({ onRateChangeCapture: true }),
              },
            },
            reset: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onReset: true }),
                captured: keyOf({ onResetCapture: true }),
              },
            },
            scroll: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onScroll: true }),
                captured: keyOf({ onScrollCapture: true }),
              },
            },
            seeked: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onSeeked: true }),
                captured: keyOf({ onSeekedCapture: true }),
              },
            },
            seeking: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onSeeking: true }),
                captured: keyOf({ onSeekingCapture: true }),
              },
            },
            stalled: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onStalled: true }),
                captured: keyOf({ onStalledCapture: true }),
              },
            },
            submit: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onSubmit: true }),
                captured: keyOf({ onSubmitCapture: true }),
              },
            },
            suspend: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onSuspend: true }),
                captured: keyOf({ onSuspendCapture: true }),
              },
            },
            timeUpdate: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTimeUpdate: true }),
                captured: keyOf({ onTimeUpdateCapture: true }),
              },
            },
            touchCancel: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTouchCancel: true }),
                captured: keyOf({ onTouchCancelCapture: true }),
              },
            },
            touchEnd: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTouchEnd: true }),
                captured: keyOf({ onTouchEndCapture: true }),
              },
            },
            touchMove: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTouchMove: true }),
                captured: keyOf({ onTouchMoveCapture: true }),
              },
            },
            touchStart: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTouchStart: true }),
                captured: keyOf({ onTouchStartCapture: true }),
              },
            },
            transitionEnd: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onTransitionEnd: true }),
                captured: keyOf({ onTransitionEndCapture: true }),
              },
            },
            volumeChange: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onVolumeChange: true }),
                captured: keyOf({ onVolumeChangeCapture: true }),
              },
            },
            waiting: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onWaiting: true }),
                captured: keyOf({ onWaitingCapture: true }),
              },
            },
            wheel: {
              phasedRegistrationNames: {
                bubbled: keyOf({ onWheel: true }),
                captured: keyOf({ onWheelCapture: true }),
              },
            },
          }

          var topLevelEventsToDispatchConfig = {
            topAbort: eventTypes.abort,
            topAnimationEnd: eventTypes.animationEnd,
            topAnimationIteration: eventTypes.animationIteration,
            topAnimationStart: eventTypes.animationStart,
            topBlur: eventTypes.blur,
            topCanPlay: eventTypes.canPlay,
            topCanPlayThrough: eventTypes.canPlayThrough,
            topClick: eventTypes.click,
            topContextMenu: eventTypes.contextMenu,
            topCopy: eventTypes.copy,
            topCut: eventTypes.cut,
            topDoubleClick: eventTypes.doubleClick,
            topDrag: eventTypes.drag,
            topDragEnd: eventTypes.dragEnd,
            topDragEnter: eventTypes.dragEnter,
            topDragExit: eventTypes.dragExit,
            topDragLeave: eventTypes.dragLeave,
            topDragOver: eventTypes.dragOver,
            topDragStart: eventTypes.dragStart,
            topDrop: eventTypes.drop,
            topDurationChange: eventTypes.durationChange,
            topEmptied: eventTypes.emptied,
            topEncrypted: eventTypes.encrypted,
            topEnded: eventTypes.ended,
            topError: eventTypes.error,
            topFocus: eventTypes.focus,
            topInput: eventTypes.input,
            topInvalid: eventTypes.invalid,
            topKeyDown: eventTypes.keyDown,
            topKeyPress: eventTypes.keyPress,
            topKeyUp: eventTypes.keyUp,
            topLoad: eventTypes.load,
            topLoadedData: eventTypes.loadedData,
            topLoadedMetadata: eventTypes.loadedMetadata,
            topLoadStart: eventTypes.loadStart,
            topMouseDown: eventTypes.mouseDown,
            topMouseMove: eventTypes.mouseMove,
            topMouseOut: eventTypes.mouseOut,
            topMouseOver: eventTypes.mouseOver,
            topMouseUp: eventTypes.mouseUp,
            topPaste: eventTypes.paste,
            topPause: eventTypes.pause,
            topPlay: eventTypes.play,
            topPlaying: eventTypes.playing,
            topProgress: eventTypes.progress,
            topRateChange: eventTypes.rateChange,
            topReset: eventTypes.reset,
            topScroll: eventTypes.scroll,
            topSeeked: eventTypes.seeked,
            topSeeking: eventTypes.seeking,
            topStalled: eventTypes.stalled,
            topSubmit: eventTypes.submit,
            topSuspend: eventTypes.suspend,
            topTimeUpdate: eventTypes.timeUpdate,
            topTouchCancel: eventTypes.touchCancel,
            topTouchEnd: eventTypes.touchEnd,
            topTouchMove: eventTypes.touchMove,
            topTouchStart: eventTypes.touchStart,
            topTransitionEnd: eventTypes.transitionEnd,
            topVolumeChange: eventTypes.volumeChange,
            topWaiting: eventTypes.waiting,
            topWheel: eventTypes.wheel,
          }

          for (var type in topLevelEventsToDispatchConfig) {
            topLevelEventsToDispatchConfig[type].dependencies = [type]
          }

          var ON_CLICK_KEY = keyOf({ onClick: null })
          var onClickListeners = {}

          var SimpleEventPlugin = {
            eventTypes: eventTypes,

            extractEvents: function (
              topLevelType,
              targetInst,
              nativeEvent,
              nativeEventTarget,
            ) {
              var dispatchConfig = topLevelEventsToDispatchConfig[topLevelType]
              if (!dispatchConfig) {
                return null
              }
              var EventConstructor
              switch (topLevelType) {
                case topLevelTypes.topAbort:
                case topLevelTypes.topCanPlay:
                case topLevelTypes.topCanPlayThrough:
                case topLevelTypes.topDurationChange:
                case topLevelTypes.topEmptied:
                case topLevelTypes.topEncrypted:
                case topLevelTypes.topEnded:
                case topLevelTypes.topError:
                case topLevelTypes.topInput:
                case topLevelTypes.topInvalid:
                case topLevelTypes.topLoad:
                case topLevelTypes.topLoadedData:
                case topLevelTypes.topLoadedMetadata:
                case topLevelTypes.topLoadStart:
                case topLevelTypes.topPause:
                case topLevelTypes.topPlay:
                case topLevelTypes.topPlaying:
                case topLevelTypes.topProgress:
                case topLevelTypes.topRateChange:
                case topLevelTypes.topReset:
                case topLevelTypes.topSeeked:
                case topLevelTypes.topSeeking:
                case topLevelTypes.topStalled:
                case topLevelTypes.topSubmit:
                case topLevelTypes.topSuspend:
                case topLevelTypes.topTimeUpdate:
                case topLevelTypes.topVolumeChange:
                case topLevelTypes.topWaiting:
                  // HTML Events
                  // @see http://www.w3.org/TR/html5/index.html#events-0
                  EventConstructor = SyntheticEvent
                  break
                case topLevelTypes.topKeyPress:
                  // Firefox creates a keypress event for function keys too. This removes
                  // the unwanted keypress events. Enter is however both printable and
                  // non-printable. One would expect Tab to be as well (but it isn't).
                  if (getEventCharCode(nativeEvent) === 0) {
                    return null
                  }
                /* falls through */
                case topLevelTypes.topKeyDown:
                case topLevelTypes.topKeyUp:
                  EventConstructor = SyntheticKeyboardEvent
                  break
                case topLevelTypes.topBlur:
                case topLevelTypes.topFocus:
                  EventConstructor = SyntheticFocusEvent
                  break
                case topLevelTypes.topClick:
                  // Firefox creates a click event on right mouse clicks. This removes the
                  // unwanted click events.
                  if (nativeEvent.button === 2) {
                    return null
                  }
                /* falls through */
                case topLevelTypes.topContextMenu:
                case topLevelTypes.topDoubleClick:
                case topLevelTypes.topMouseDown:
                case topLevelTypes.topMouseMove:
                case topLevelTypes.topMouseOut:
                case topLevelTypes.topMouseOver:
                case topLevelTypes.topMouseUp:
                  EventConstructor = SyntheticMouseEvent
                  break
                case topLevelTypes.topDrag:
                case topLevelTypes.topDragEnd:
                case topLevelTypes.topDragEnter:
                case topLevelTypes.topDragExit:
                case topLevelTypes.topDragLeave:
                case topLevelTypes.topDragOver:
                case topLevelTypes.topDragStart:
                case topLevelTypes.topDrop:
                  EventConstructor = SyntheticDragEvent
                  break
                case topLevelTypes.topTouchCancel:
                case topLevelTypes.topTouchEnd:
                case topLevelTypes.topTouchMove:
                case topLevelTypes.topTouchStart:
                  EventConstructor = SyntheticTouchEvent
                  break
                case topLevelTypes.topAnimationEnd:
                case topLevelTypes.topAnimationIteration:
                case topLevelTypes.topAnimationStart:
                  EventConstructor = SyntheticAnimationEvent
                  break
                case topLevelTypes.topTransitionEnd:
                  EventConstructor = SyntheticTransitionEvent
                  break
                case topLevelTypes.topScroll:
                  EventConstructor = SyntheticUIEvent
                  break
                case topLevelTypes.topWheel:
                  EventConstructor = SyntheticWheelEvent
                  break
                case topLevelTypes.topCopy:
                case topLevelTypes.topCut:
                case topLevelTypes.topPaste:
                  EventConstructor = SyntheticClipboardEvent
                  break
              }
              !EventConstructor
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'SimpleEventPlugin: Unhandled event type, `%s`.',
                      topLevelType,
                    )
                  : invariant(false)
                : void 0
              var event = EventConstructor.getPooled(
                dispatchConfig,
                targetInst,
                nativeEvent,
                nativeEventTarget,
              )
              EventPropagators.accumulateTwoPhaseDispatches(event)
              return event
            },

            didPutListener: function (inst, registrationName, listener) {
              // Mobile Safari does not fire properly bubble click events on
              // non-interactive elements, which means delegated click listeners do not
              // fire. The workaround for this bug involves attaching an empty click
              // listener on the target node.
              if (registrationName === ON_CLICK_KEY) {
                var id = inst._rootNodeID
                var node = ReactDOMComponentTree.getNodeFromInstance(inst)
                if (!onClickListeners[id]) {
                  onClickListeners[id] = EventListener.listen(
                    node,
                    'click',
                    emptyFunction,
                  )
                }
              }
            },

            willDeleteListener: function (inst, registrationName) {
              if (registrationName === ON_CLICK_KEY) {
                var id = inst._rootNodeID
                onClickListeners[id].remove()
                delete onClickListeners[id]
              }
            },
          }

          module.exports = SimpleEventPlugin
        }).call(this, require('_process'))
      },
      {
        './EventConstants': 219,
        './EventPropagators': 223,
        './ReactDOMComponentTree': 244,
        './SyntheticAnimationEvent': 297,
        './SyntheticClipboardEvent': 298,
        './SyntheticDragEvent': 300,
        './SyntheticEvent': 301,
        './SyntheticFocusEvent': 302,
        './SyntheticKeyboardEvent': 304,
        './SyntheticMouseEvent': 305,
        './SyntheticTouchEvent': 306,
        './SyntheticTransitionEvent': 307,
        './SyntheticUIEvent': 308,
        './SyntheticWheelEvent': 309,
        './getEventCharCode': 321,
        _process: 162,
        'fbjs/lib/EventListener': 27,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/keyOf': 46,
      },
    ],
    297: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticAnimationEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        /**
         * @interface Event
         * @see http://www.w3.org/TR/css3-animations/#AnimationEvent-interface
         * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent
         */
        var AnimationEventInterface = {
          animationName: null,
          elapsedTime: null,
          pseudoElement: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticEvent}
         */
        function SyntheticAnimationEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(
          SyntheticAnimationEvent,
          AnimationEventInterface,
        )

        module.exports = SyntheticAnimationEvent
      },
      { './SyntheticEvent': 301 },
    ],
    298: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticClipboardEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        /**
         * @interface Event
         * @see http://www.w3.org/TR/clipboard-apis/
         */
        var ClipboardEventInterface = {
          clipboardData: function (event) {
            return 'clipboardData' in event
              ? event.clipboardData
              : window.clipboardData
          },
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticClipboardEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(
          SyntheticClipboardEvent,
          ClipboardEventInterface,
        )

        module.exports = SyntheticClipboardEvent
      },
      { './SyntheticEvent': 301 },
    ],
    299: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticCompositionEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        /**
         * @interface Event
         * @see http://www.w3.org/TR/DOM-Level-3-Events/#events-compositionevents
         */
        var CompositionEventInterface = {
          data: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticCompositionEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(
          SyntheticCompositionEvent,
          CompositionEventInterface,
        )

        module.exports = SyntheticCompositionEvent
      },
      { './SyntheticEvent': 301 },
    ],
    300: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticDragEvent
         */

        'use strict'

        var SyntheticMouseEvent = require('./SyntheticMouseEvent')

        /**
         * @interface DragEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var DragEventInterface = {
          dataTransfer: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticDragEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticMouseEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticMouseEvent.augmentClass(SyntheticDragEvent, DragEventInterface)

        module.exports = SyntheticDragEvent
      },
      { './SyntheticMouseEvent': 305 },
    ],
    301: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule SyntheticEvent
           */

          'use strict'

          var _assign = require('object-assign')

          var PooledClass = require('./PooledClass')

          var emptyFunction = require('fbjs/lib/emptyFunction')
          var warning = require('fbjs/lib/warning')

          var didWarnForAddedNewProperty = false
          var isProxySupported = typeof Proxy === 'function'

          var shouldBeReleasedProperties = [
            'dispatchConfig',
            '_targetInst',
            'nativeEvent',
            'isDefaultPrevented',
            'isPropagationStopped',
            '_dispatchListeners',
            '_dispatchInstances',
          ]

          /**
           * @interface Event
           * @see http://www.w3.org/TR/DOM-Level-3-Events/
           */
          var EventInterface = {
            type: null,
            target: null,
            // currentTarget is set when dispatching; no use in copying it here
            currentTarget: emptyFunction.thatReturnsNull,
            eventPhase: null,
            bubbles: null,
            cancelable: null,
            timeStamp: function (event) {
              return event.timeStamp || Date.now()
            },
            defaultPrevented: null,
            isTrusted: null,
          }

          /**
           * Synthetic events are dispatched by event plugins, typically in response to a
           * top-level event delegation handler.
           *
           * These systems should generally use pooling to reduce the frequency of garbage
           * collection. The system should check `isPersistent` to determine whether the
           * event should be released into the pool after being dispatched. Users that
           * need a persisted event should invoke `persist`.
           *
           * Synthetic events (and subclasses) implement the DOM Level 3 Events API by
           * normalizing browser quirks. Subclasses do not necessarily have to implement a
           * DOM interface; custom application-specific events can also subclass this.
           *
           * @param {object} dispatchConfig Configuration used to dispatch this event.
           * @param {*} targetInst Marker identifying the event target.
           * @param {object} nativeEvent Native browser event.
           * @param {DOMEventTarget} nativeEventTarget Target node.
           */
          function SyntheticEvent(
            dispatchConfig,
            targetInst,
            nativeEvent,
            nativeEventTarget,
          ) {
            if (process.env.NODE_ENV !== 'production') {
              // these have a getter/setter for warnings
              delete this.nativeEvent
              delete this.preventDefault
              delete this.stopPropagation
            }

            this.dispatchConfig = dispatchConfig
            this._targetInst = targetInst
            this.nativeEvent = nativeEvent

            var Interface = this.constructor.Interface
            for (var propName in Interface) {
              if (!Interface.hasOwnProperty(propName)) {
                continue
              }
              if (process.env.NODE_ENV !== 'production') {
                delete this[propName] // this has a getter/setter for warnings
              }
              var normalize = Interface[propName]
              if (normalize) {
                this[propName] = normalize(nativeEvent)
              } else {
                if (propName === 'target') {
                  this.target = nativeEventTarget
                } else {
                  this[propName] = nativeEvent[propName]
                }
              }
            }

            var defaultPrevented =
              nativeEvent.defaultPrevented != null
                ? nativeEvent.defaultPrevented
                : nativeEvent.returnValue === false
            if (defaultPrevented) {
              this.isDefaultPrevented = emptyFunction.thatReturnsTrue
            } else {
              this.isDefaultPrevented = emptyFunction.thatReturnsFalse
            }
            this.isPropagationStopped = emptyFunction.thatReturnsFalse
            return this
          }

          _assign(SyntheticEvent.prototype, {
            preventDefault: function () {
              this.defaultPrevented = true
              var event = this.nativeEvent
              if (!event) {
                return
              }

              if (event.preventDefault) {
                event.preventDefault()
              } else {
                event.returnValue = false
              }
              this.isDefaultPrevented = emptyFunction.thatReturnsTrue
            },

            stopPropagation: function () {
              var event = this.nativeEvent
              if (!event) {
                return
              }

              if (event.stopPropagation) {
                event.stopPropagation()
              } else {
                event.cancelBubble = true
              }
              this.isPropagationStopped = emptyFunction.thatReturnsTrue
            },

            /**
             * We release all dispatched `SyntheticEvent`s after each event loop, adding
             * them back into the pool. This allows a way to hold onto a reference that
             * won't be added back into the pool.
             */
            persist: function () {
              this.isPersistent = emptyFunction.thatReturnsTrue
            },

            /**
             * Checks if this event should be released back into the pool.
             *
             * @return {boolean} True if this should not be released, false otherwise.
             */
            isPersistent: emptyFunction.thatReturnsFalse,

            /**
             * `PooledClass` looks for `destructor` on each instance it releases.
             */
            destructor: function () {
              var Interface = this.constructor.Interface
              for (var propName in Interface) {
                if (process.env.NODE_ENV !== 'production') {
                  Object.defineProperty(
                    this,
                    propName,
                    getPooledWarningPropertyDefinition(
                      propName,
                      Interface[propName],
                    ),
                  )
                } else {
                  this[propName] = null
                }
              }
              for (var i = 0; i < shouldBeReleasedProperties.length; i++) {
                this[shouldBeReleasedProperties[i]] = null
              }
              if (process.env.NODE_ENV !== 'production') {
                var noop = require('fbjs/lib/emptyFunction')
                Object.defineProperty(
                  this,
                  'nativeEvent',
                  getPooledWarningPropertyDefinition('nativeEvent', null),
                )
                Object.defineProperty(
                  this,
                  'preventDefault',
                  getPooledWarningPropertyDefinition('preventDefault', noop),
                )
                Object.defineProperty(
                  this,
                  'stopPropagation',
                  getPooledWarningPropertyDefinition('stopPropagation', noop),
                )
              }
            },
          })

          SyntheticEvent.Interface = EventInterface

          if (process.env.NODE_ENV !== 'production') {
            if (isProxySupported) {
              /*eslint-disable no-func-assign */
              SyntheticEvent = new Proxy(SyntheticEvent, {
                construct: function (target, args) {
                  return this.apply(
                    target,
                    Object.create(target.prototype),
                    args,
                  )
                },
                apply: function (constructor, that, args) {
                  return new Proxy(constructor.apply(that, args), {
                    set: function (target, prop, value) {
                      if (
                        prop !== 'isPersistent' &&
                        !target.constructor.Interface.hasOwnProperty(prop) &&
                        shouldBeReleasedProperties.indexOf(prop) === -1
                      ) {
                        process.env.NODE_ENV !== 'production'
                          ? warning(
                              didWarnForAddedNewProperty ||
                                target.isPersistent(),
                              "This synthetic event is reused for performance reasons. If you're " +
                                "seeing this, you're adding a new property in the synthetic event object. " +
                                'The property is never released. See ' +
                                'https://fb.me/react-event-pooling for more information.',
                            )
                          : void 0
                        didWarnForAddedNewProperty = true
                      }
                      target[prop] = value
                      return true
                    },
                  })
                },
              })
              /*eslint-enable no-func-assign */
            }
          }
          /**
           * Helper to reduce boilerplate when creating subclasses.
           *
           * @param {function} Class
           * @param {?object} Interface
           */
          SyntheticEvent.augmentClass = function (Class, Interface) {
            var Super = this

            var E = function () {}
            E.prototype = Super.prototype
            var prototype = new E()

            _assign(prototype, Class.prototype)
            Class.prototype = prototype
            Class.prototype.constructor = Class

            Class.Interface = _assign({}, Super.Interface, Interface)
            Class.augmentClass = Super.augmentClass

            PooledClass.addPoolingTo(Class, PooledClass.fourArgumentPooler)
          }

          PooledClass.addPoolingTo(
            SyntheticEvent,
            PooledClass.fourArgumentPooler,
          )

          module.exports = SyntheticEvent

          /**
           * Helper to nullify syntheticEvent instance properties when destructing
           *
           * @param {object} SyntheticEvent
           * @param {String} propName
           * @return {object} defineProperty object
           */
          function getPooledWarningPropertyDefinition(propName, getVal) {
            var isFunction = typeof getVal === 'function'
            return {
              configurable: true,
              set: set,
              get: get,
            }

            function set(val) {
              var action = isFunction
                ? 'setting the method'
                : 'setting the property'
              warn(action, 'This is effectively a no-op')
              return val
            }

            function get() {
              var action = isFunction
                ? 'accessing the method'
                : 'accessing the property'
              var result = isFunction
                ? 'This is a no-op function'
                : 'This is set to null'
              warn(action, result)
              return getVal
            }

            function warn(action, result) {
              var warningCondition = false
              process.env.NODE_ENV !== 'production'
                ? warning(
                    warningCondition,
                    "This synthetic event is reused for performance reasons. If you're seeing this, " +
                      "you're %s `%s` on a released/nullified synthetic event. %s. " +
                      'If you must keep the original synthetic event around, use event.persist(). ' +
                      'See https://fb.me/react-event-pooling for more information.',
                    action,
                    propName,
                    result,
                  )
                : void 0
            }
          }
        }).call(this, require('_process'))
      },
      {
        './PooledClass': 228,
        _process: 162,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    302: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticFocusEvent
         */

        'use strict'

        var SyntheticUIEvent = require('./SyntheticUIEvent')

        /**
         * @interface FocusEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var FocusEventInterface = {
          relatedTarget: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticFocusEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticUIEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticUIEvent.augmentClass(SyntheticFocusEvent, FocusEventInterface)

        module.exports = SyntheticFocusEvent
      },
      { './SyntheticUIEvent': 308 },
    ],
    303: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticInputEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        /**
         * @interface Event
         * @see http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105
         *      /#events-inputevents
         */
        var InputEventInterface = {
          data: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticInputEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(SyntheticInputEvent, InputEventInterface)

        module.exports = SyntheticInputEvent
      },
      { './SyntheticEvent': 301 },
    ],
    304: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticKeyboardEvent
         */

        'use strict'

        var SyntheticUIEvent = require('./SyntheticUIEvent')

        var getEventCharCode = require('./getEventCharCode')
        var getEventKey = require('./getEventKey')
        var getEventModifierState = require('./getEventModifierState')

        /**
         * @interface KeyboardEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var KeyboardEventInterface = {
          key: getEventKey,
          location: null,
          ctrlKey: null,
          shiftKey: null,
          altKey: null,
          metaKey: null,
          repeat: null,
          locale: null,
          getModifierState: getEventModifierState,
          // Legacy Interface
          charCode: function (event) {
            // `charCode` is the result of a KeyPress event and represents the value of
            // the actual printable character.

            // KeyPress is deprecated, but its replacement is not yet final and not
            // implemented in any major browser. Only KeyPress has charCode.
            if (event.type === 'keypress') {
              return getEventCharCode(event)
            }
            return 0
          },
          keyCode: function (event) {
            // `keyCode` is the result of a KeyDown/Up event and represents the value of
            // physical keyboard key.

            // The actual meaning of the value depends on the users' keyboard layout
            // which cannot be detected. Assuming that it is a US keyboard layout
            // provides a surprisingly accurate mapping for US and European users.
            // Due to this, it is left to the user to implement at this time.
            if (event.type === 'keydown' || event.type === 'keyup') {
              return event.keyCode
            }
            return 0
          },
          which: function (event) {
            // `which` is an alias for either `keyCode` or `charCode` depending on the
            // type of the event.
            if (event.type === 'keypress') {
              return getEventCharCode(event)
            }
            if (event.type === 'keydown' || event.type === 'keyup') {
              return event.keyCode
            }
            return 0
          },
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticKeyboardEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticUIEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticUIEvent.augmentClass(
          SyntheticKeyboardEvent,
          KeyboardEventInterface,
        )

        module.exports = SyntheticKeyboardEvent
      },
      {
        './SyntheticUIEvent': 308,
        './getEventCharCode': 321,
        './getEventKey': 322,
        './getEventModifierState': 323,
      },
    ],
    305: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticMouseEvent
         */

        'use strict'

        var SyntheticUIEvent = require('./SyntheticUIEvent')
        var ViewportMetrics = require('./ViewportMetrics')

        var getEventModifierState = require('./getEventModifierState')

        /**
         * @interface MouseEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var MouseEventInterface = {
          screenX: null,
          screenY: null,
          clientX: null,
          clientY: null,
          ctrlKey: null,
          shiftKey: null,
          altKey: null,
          metaKey: null,
          getModifierState: getEventModifierState,
          button: function (event) {
            // Webkit, Firefox, IE9+
            // which:  1 2 3
            // button: 0 1 2 (standard)
            var button = event.button
            if ('which' in event) {
              return button
            }
            // IE<9
            // which:  undefined
            // button: 0 0 0
            // button: 1 4 2 (onmouseup)
            return button === 2 ? 2 : button === 4 ? 1 : 0
          },
          buttons: null,
          relatedTarget: function (event) {
            return (
              event.relatedTarget ||
              (event.fromElement === event.srcElement
                ? event.toElement
                : event.fromElement)
            )
          },
          // "Proprietary" Interface.
          pageX: function (event) {
            return 'pageX' in event
              ? event.pageX
              : event.clientX + ViewportMetrics.currentScrollLeft
          },
          pageY: function (event) {
            return 'pageY' in event
              ? event.pageY
              : event.clientY + ViewportMetrics.currentScrollTop
          },
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticMouseEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticUIEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticUIEvent.augmentClass(SyntheticMouseEvent, MouseEventInterface)

        module.exports = SyntheticMouseEvent
      },
      {
        './SyntheticUIEvent': 308,
        './ViewportMetrics': 311,
        './getEventModifierState': 323,
      },
    ],
    306: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticTouchEvent
         */

        'use strict'

        var SyntheticUIEvent = require('./SyntheticUIEvent')

        var getEventModifierState = require('./getEventModifierState')

        /**
         * @interface TouchEvent
         * @see http://www.w3.org/TR/touch-events/
         */
        var TouchEventInterface = {
          touches: null,
          targetTouches: null,
          changedTouches: null,
          altKey: null,
          metaKey: null,
          ctrlKey: null,
          shiftKey: null,
          getModifierState: getEventModifierState,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticUIEvent}
         */
        function SyntheticTouchEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticUIEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticUIEvent.augmentClass(SyntheticTouchEvent, TouchEventInterface)

        module.exports = SyntheticTouchEvent
      },
      { './SyntheticUIEvent': 308, './getEventModifierState': 323 },
    ],
    307: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticTransitionEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        /**
         * @interface Event
         * @see http://www.w3.org/TR/2009/WD-css3-transitions-20090320/#transition-events-
         * @see https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent
         */
        var TransitionEventInterface = {
          propertyName: null,
          elapsedTime: null,
          pseudoElement: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticEvent}
         */
        function SyntheticTransitionEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(
          SyntheticTransitionEvent,
          TransitionEventInterface,
        )

        module.exports = SyntheticTransitionEvent
      },
      { './SyntheticEvent': 301 },
    ],
    308: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticUIEvent
         */

        'use strict'

        var SyntheticEvent = require('./SyntheticEvent')

        var getEventTarget = require('./getEventTarget')

        /**
         * @interface UIEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var UIEventInterface = {
          view: function (event) {
            if (event.view) {
              return event.view
            }

            var target = getEventTarget(event)
            if (target != null && target.window === target) {
              // target is a window object
              return target
            }

            var doc = target.ownerDocument
            // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.
            if (doc) {
              return doc.defaultView || doc.parentWindow
            } else {
              return window
            }
          },
          detail: function (event) {
            return event.detail || 0
          },
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticEvent}
         */
        function SyntheticUIEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticEvent.augmentClass(SyntheticUIEvent, UIEventInterface)

        module.exports = SyntheticUIEvent
      },
      { './SyntheticEvent': 301, './getEventTarget': 324 },
    ],
    309: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule SyntheticWheelEvent
         */

        'use strict'

        var SyntheticMouseEvent = require('./SyntheticMouseEvent')

        /**
         * @interface WheelEvent
         * @see http://www.w3.org/TR/DOM-Level-3-Events/
         */
        var WheelEventInterface = {
          deltaX: function (event) {
            return 'deltaX' in event
              ? event.deltaX
              : // Fallback to `wheelDeltaX` for Webkit and normalize (right is positive).
                'wheelDeltaX' in event
                ? -event.wheelDeltaX
                : 0
          },
          deltaY: function (event) {
            return 'deltaY' in event
              ? event.deltaY
              : // Fallback to `wheelDeltaY` for Webkit and normalize (down is positive).
                'wheelDeltaY' in event
                ? -event.wheelDeltaY
                : // Fallback to `wheelDelta` for IE<9 and normalize (down is positive).
                  'wheelDelta' in event
                  ? -event.wheelDelta
                  : 0
          },
          deltaZ: null,

          // Browsers without "deltaMode" is reporting in raw wheel delta where one
          // notch on the scroll is always +/- 120, roughly equivalent to pixels.
          // A good approximation of DOM_DELTA_LINE (1) is 5% of viewport size or
          // ~40 pixels, for DOM_DELTA_SCREEN (2) it is 87.5% of viewport size.
          deltaMode: null,
        }

        /**
         * @param {object} dispatchConfig Configuration used to dispatch this event.
         * @param {string} dispatchMarker Marker identifying the event target.
         * @param {object} nativeEvent Native browser event.
         * @extends {SyntheticMouseEvent}
         */
        function SyntheticWheelEvent(
          dispatchConfig,
          dispatchMarker,
          nativeEvent,
          nativeEventTarget,
        ) {
          return SyntheticMouseEvent.call(
            this,
            dispatchConfig,
            dispatchMarker,
            nativeEvent,
            nativeEventTarget,
          )
        }

        SyntheticMouseEvent.augmentClass(
          SyntheticWheelEvent,
          WheelEventInterface,
        )

        module.exports = SyntheticWheelEvent
      },
      { './SyntheticMouseEvent': 305 },
    ],
    310: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule Transaction
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           * `Transaction` creates a black box that is able to wrap any method such that
           * certain invariants are maintained before and after the method is invoked
           * (Even if an exception is thrown while invoking the wrapped method). Whoever
           * instantiates a transaction can provide enforcers of the invariants at
           * creation time. The `Transaction` class itself will supply one additional
           * automatic invariant for you - the invariant that any transaction instance
           * should not be run while it is already being run. You would typically create a
           * single instance of a `Transaction` for reuse multiple times, that potentially
           * is used to wrap several different methods. Wrappers are extremely simple -
           * they only require implementing two methods.
           *
           * <pre>
           *                       wrappers (injected at creation time)
           *                                      +        +
           *                                      |        |
           *                    +-----------------|--------|--------------+
           *                    |                 v        |              |
           *                    |      +---------------+   |              |
           *                    |   +--|    wrapper1   |---|----+         |
           *                    |   |  +---------------+   v    |         |
           *                    |   |          +-------------+  |         |
           *                    |   |     +----|   wrapper2  |--------+   |
           *                    |   |     |    +-------------+  |     |   |
           *                    |   |     |                     |     |   |
           *                    |   v     v                     v     v   | wrapper
           *                    | +---+ +---+   +---------+   +---+ +---+ | invariants
           * perform(anyMethod) | |   | |   |   |         |   |   | |   | | maintained
           * +----------------->|-|---|-|---|-->|anyMethod|---|---|-|---|-|-------->
           *                    | |   | |   |   |         |   |   | |   | |
           *                    | |   | |   |   |         |   |   | |   | |
           *                    | |   | |   |   |         |   |   | |   | |
           *                    | +---+ +---+   +---------+   +---+ +---+ |
           *                    |  initialize                    close    |
           *                    +-----------------------------------------+
           * </pre>
           *
           * Use cases:
           * - Preserving the input selection ranges before/after reconciliation.
           *   Restoring selection even in the event of an unexpected error.
           * - Deactivating events while rearranging the DOM, preventing blurs/focuses,
           *   while guaranteeing that afterwards, the event system is reactivated.
           * - Flushing a queue of collected DOM mutations to the main UI thread after a
           *   reconciliation takes place in a worker thread.
           * - Invoking any collected `componentDidUpdate` callbacks after rendering new
           *   content.
           * - (Future use case): Wrapping particular flushes of the `ReactWorker` queue
           *   to preserve the `scrollTop` (an automatic scroll aware DOM).
           * - (Future use case): Layout calculations before and after DOM updates.
           *
           * Transactional plugin API:
           * - A module that has an `initialize` method that returns any precomputation.
           * - and a `close` method that accepts the precomputation. `close` is invoked
           *   when the wrapped process is completed, or has failed.
           *
           * @param {Array<TransactionalWrapper>} transactionWrapper Wrapper modules
           * that implement `initialize` and `close`.
           * @return {Transaction} Single transaction for reuse in thread.
           *
           * @class Transaction
           */
          var Mixin = {
            /**
             * Sets up this instance so that it is prepared for collecting metrics. Does
             * so such that this setup method may be used on an instance that is already
             * initialized, in a way that does not consume additional memory upon reuse.
             * That can be useful if you decide to make your subclass of this mixin a
             * "PooledClass".
             */
            reinitializeTransaction: function () {
              this.transactionWrappers = this.getTransactionWrappers()
              if (this.wrapperInitData) {
                this.wrapperInitData.length = 0
              } else {
                this.wrapperInitData = []
              }
              this._isInTransaction = false
            },

            _isInTransaction: false,

            /**
             * @abstract
             * @return {Array<TransactionWrapper>} Array of transaction wrappers.
             */
            getTransactionWrappers: null,

            isInTransaction: function () {
              return !!this._isInTransaction
            },

            /**
             * Executes the function within a safety window. Use this for the top level
             * methods that result in large amounts of computation/mutations that would
             * need to be safety checked. The optional arguments helps prevent the need
             * to bind in many cases.
             *
             * @param {function} method Member of scope to call.
             * @param {Object} scope Scope to invoke from.
             * @param {Object?=} a Argument to pass to the method.
             * @param {Object?=} b Argument to pass to the method.
             * @param {Object?=} c Argument to pass to the method.
             * @param {Object?=} d Argument to pass to the method.
             * @param {Object?=} e Argument to pass to the method.
             * @param {Object?=} f Argument to pass to the method.
             *
             * @return {*} Return value from `method`.
             */
            perform: function (method, scope, a, b, c, d, e, f) {
              !!this.isInTransaction()
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Transaction.perform(...): Cannot initialize a transaction when there ' +
                        'is already an outstanding transaction.',
                    )
                  : invariant(false)
                : void 0
              var errorThrown
              var ret
              try {
                this._isInTransaction = true
                // Catching errors makes debugging more difficult, so we start with
                // errorThrown set to true before setting it to false after calling
                // close -- if it's still set to true in the finally block, it means
                // one of these calls threw.
                errorThrown = true
                this.initializeAll(0)
                ret = method.call(scope, a, b, c, d, e, f)
                errorThrown = false
              } finally {
                try {
                  if (errorThrown) {
                    // If `method` throws, prefer to show that stack trace over any thrown
                    // by invoking `closeAll`.
                    try {
                      this.closeAll(0)
                    } catch (err) {}
                  } else {
                    // Since `method` didn't throw, we don't want to silence the exception
                    // here.
                    this.closeAll(0)
                  }
                } finally {
                  this._isInTransaction = false
                }
              }
              return ret
            },

            initializeAll: function (startIndex) {
              var transactionWrappers = this.transactionWrappers
              for (var i = startIndex; i < transactionWrappers.length; i++) {
                var wrapper = transactionWrappers[i]
                try {
                  // Catching errors makes debugging more difficult, so we start with the
                  // OBSERVED_ERROR state before overwriting it with the real return value
                  // of initialize -- if it's still set to OBSERVED_ERROR in the finally
                  // block, it means wrapper.initialize threw.
                  this.wrapperInitData[i] = Transaction.OBSERVED_ERROR
                  this.wrapperInitData[i] = wrapper.initialize
                    ? wrapper.initialize.call(this)
                    : null
                } finally {
                  if (this.wrapperInitData[i] === Transaction.OBSERVED_ERROR) {
                    // The initializer for wrapper i threw an error; initialize the
                    // remaining wrappers but silence any exceptions from them to ensure
                    // that the first error is the one to bubble up.
                    try {
                      this.initializeAll(i + 1)
                    } catch (err) {}
                  }
                }
              }
            },

            /**
             * Invokes each of `this.transactionWrappers.close[i]` functions, passing into
             * them the respective return values of `this.transactionWrappers.init[i]`
             * (`close`rs that correspond to initializers that failed will not be
             * invoked).
             */
            closeAll: function (startIndex) {
              !this.isInTransaction()
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Transaction.closeAll(): Cannot close transaction when none are open.',
                    )
                  : invariant(false)
                : void 0
              var transactionWrappers = this.transactionWrappers
              for (var i = startIndex; i < transactionWrappers.length; i++) {
                var wrapper = transactionWrappers[i]
                var initData = this.wrapperInitData[i]
                var errorThrown
                try {
                  // Catching errors makes debugging more difficult, so we start with
                  // errorThrown set to true before setting it to false after calling
                  // close -- if it's still set to true in the finally block, it means
                  // wrapper.close threw.
                  errorThrown = true
                  if (
                    initData !== Transaction.OBSERVED_ERROR &&
                    wrapper.close
                  ) {
                    wrapper.close.call(this, initData)
                  }
                  errorThrown = false
                } finally {
                  if (errorThrown) {
                    // The closer for wrapper i threw an error; close the remaining
                    // wrappers but silence any exceptions from them to ensure that the
                    // first error is the one to bubble up.
                    try {
                      this.closeAll(i + 1)
                    } catch (e) {}
                  }
                }
              }
              this.wrapperInitData.length = 0
            },
          }

          var Transaction = {
            Mixin: Mixin,

            /**
             * Token to look for to determine if an error occurred.
             */
            OBSERVED_ERROR: {},
          }

          module.exports = Transaction
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    311: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule ViewportMetrics
         */

        'use strict'

        var ViewportMetrics = {
          currentScrollLeft: 0,

          currentScrollTop: 0,

          refreshScrollValues: function (scrollPosition) {
            ViewportMetrics.currentScrollLeft = scrollPosition.x
            ViewportMetrics.currentScrollTop = scrollPosition.y
          },
        }

        module.exports = ViewportMetrics
      },
      {},
    ],
    312: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2014-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule accumulateInto
           */

          'use strict'

          var invariant = require('fbjs/lib/invariant')

          /**
           *
           * Accumulates items that must not be null or undefined into the first one. This
           * is used to conserve memory by avoiding array allocations, and thus sacrifices
           * API cleanness. Since `current` can be null before being passed in and not
           * null after this function, make sure to assign it back to `current`:
           *
           * `a = accumulateInto(a, b);`
           *
           * This API should be sparingly used. Try `accumulate` for something cleaner.
           *
           * @return {*|array<*>} An accumulation of items.
           */

          function accumulateInto(current, next) {
            !(next != null)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'accumulateInto(...): Accumulated items must not be null or undefined.',
                  )
                : invariant(false)
              : void 0
            if (current == null) {
              return next
            }

            // Both are not empty. Warning: Never call x.concat(y) when you are not
            // certain that x is an Array (x could be a string with concat method).
            var currentIsArray = Array.isArray(current)
            var nextIsArray = Array.isArray(next)

            if (currentIsArray && nextIsArray) {
              current.push.apply(current, next)
              return current
            }

            if (currentIsArray) {
              current.push(next)
              return current
            }

            if (nextIsArray) {
              // A bit too dangerous to mutate `next`.
              return [current].concat(next)
            }

            return [current, next]
          }

          module.exports = accumulateInto
        }).call(this, require('_process'))
      },
      { _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    313: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule adler32
         */

        'use strict'

        var MOD = 65521

        // adler32 is not cryptographically strong, and is only used to sanity check that
        // markup generated on the server matches the markup generated on the client.
        // This implementation (a modified version of the SheetJS version) has been optimized
        // for our use case, at the expense of conforming to the adler32 specification
        // for non-ascii inputs.
        function adler32(data) {
          var a = 1
          var b = 0
          var i = 0
          var l = data.length
          var m = l & ~0x3
          while (i < m) {
            var n = Math.min(i + 4096, m)
            for (; i < n; i += 4) {
              b +=
                (a += data.charCodeAt(i)) +
                (a += data.charCodeAt(i + 1)) +
                (a += data.charCodeAt(i + 2)) +
                (a += data.charCodeAt(i + 3))
            }
            a %= MOD
            b %= MOD
          }
          for (; i < l; i++) {
            b += a += data.charCodeAt(i)
          }
          a %= MOD
          b %= MOD
          return a | (b << 16)
        }

        module.exports = adler32
      },
      {},
    ],
    314: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule canDefineProperty
           */

          'use strict'

          var canDefineProperty = false
          if (process.env.NODE_ENV !== 'production') {
            try {
              Object.defineProperty({}, 'x', { get: function () {} })
              canDefineProperty = true
            } catch (x) {
              // IE will fail on defineProperty
            }
          }

          module.exports = canDefineProperty
        }).call(this, require('_process'))
      },
      { _process: 162 },
    ],
    315: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule createMicrosoftUnsafeLocalFunction
         */

        /* globals MSApp */

        'use strict'

        /**
         * Create a function which has 'unsafe' privileges (required by windows8 apps)
         */

        var createMicrosoftUnsafeLocalFunction = function (func) {
          if (typeof MSApp !== 'undefined' && MSApp.execUnsafeLocalFunction) {
            return function (arg0, arg1, arg2, arg3) {
              MSApp.execUnsafeLocalFunction(function () {
                return func(arg0, arg1, arg2, arg3)
              })
            }
          } else {
            return func
          }
        }

        module.exports = createMicrosoftUnsafeLocalFunction
      },
      {},
    ],
    316: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule dangerousStyleValue
           */

          'use strict'

          var CSSProperty = require('./CSSProperty')
          var warning = require('fbjs/lib/warning')

          var isUnitlessNumber = CSSProperty.isUnitlessNumber
          var styleWarnings = {}

          /**
           * Convert a value into the proper css writable value. The style name `name`
           * should be logical (no hyphens), as specified
           * in `CSSProperty.isUnitlessNumber`.
           *
           * @param {string} name CSS property name such as `topMargin`.
           * @param {*} value CSS property value such as `10px`.
           * @param {ReactDOMComponent} component
           * @return {string} Normalized style value with dimensions applied.
           */
          function dangerousStyleValue(name, value, component) {
            // Note that we've removed escapeTextForBrowser() calls here since the
            // whole string will be escaped when the attribute is injected into
            // the markup. If you provide unsafe user data here they can inject
            // arbitrary CSS which may be problematic (I couldn't repro this):
            // https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet
            // http://www.thespanner.co.uk/2007/11/26/ultimate-xss-css-injection/
            // This is not an XSS hole but instead a potential CSS injection issue
            // which has lead to a greater discussion about how we're going to
            // trust URLs moving forward. See #2115901

            var isEmpty =
              value == null || typeof value === 'boolean' || value === ''
            if (isEmpty) {
              return ''
            }

            var isNonNumeric = isNaN(value)
            if (
              isNonNumeric ||
              value === 0 ||
              (isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])
            ) {
              return '' + value // cast to string
            }

            if (typeof value === 'string') {
              if (process.env.NODE_ENV !== 'production') {
                if (component) {
                  var owner = component._currentElement._owner
                  var ownerName = owner ? owner.getName() : null
                  if (ownerName && !styleWarnings[ownerName]) {
                    styleWarnings[ownerName] = {}
                  }
                  var warned = false
                  if (ownerName) {
                    var warnings = styleWarnings[ownerName]
                    warned = warnings[name]
                    if (!warned) {
                      warnings[name] = true
                    }
                  }
                  if (!warned) {
                    process.env.NODE_ENV !== 'production'
                      ? warning(
                          false,
                          'a `%s` tag (owner: `%s`) was passed a numeric string value ' +
                            'for CSS property `%s` (value: `%s`) which will be treated ' +
                            'as a unitless number in a future version of React.',
                          component._currentElement.type,
                          ownerName || 'unknown',
                          name,
                          value,
                        )
                      : void 0
                  }
                }
              }
              value = value.trim()
            }
            return value + 'px'
          }

          module.exports = dangerousStyleValue
        }).call(this, require('_process'))
      },
      { './CSSProperty': 206, _process: 162, 'fbjs/lib/warning': 52 },
    ],
    317: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule escapeTextContentForBrowser
         */

        'use strict'

        var ESCAPE_LOOKUP = {
          '&': '&amp;',
          '>': '&gt;',
          '<': '&lt;',
          '"': '&quot;',
          "'": '&#x27;',
        }

        var ESCAPE_REGEX = /[&><"']/g

        function escaper(match) {
          return ESCAPE_LOOKUP[match]
        }

        /**
         * Escapes text to prevent scripting attacks.
         *
         * @param {*} text Text value to escape.
         * @return {string} An escaped string.
         */
        function escapeTextContentForBrowser(text) {
          return ('' + text).replace(ESCAPE_REGEX, escaper)
        }

        module.exports = escapeTextContentForBrowser
      },
      {},
    ],
    318: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule findDOMNode
           */

          'use strict'

          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactDOMComponentTree = require('./ReactDOMComponentTree')
          var ReactInstanceMap = require('./ReactInstanceMap')

          var getNativeComponentFromComposite = require('./getNativeComponentFromComposite')
          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          /**
           * Returns the DOM node rendered by this element.
           *
           * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.finddomnode
           *
           * @param {ReactComponent|DOMElement} componentOrElement
           * @return {?DOMElement} The root node of this element.
           */
          function findDOMNode(componentOrElement) {
            if (process.env.NODE_ENV !== 'production') {
              var owner = ReactCurrentOwner.current
              if (owner !== null) {
                process.env.NODE_ENV !== 'production'
                  ? warning(
                      owner._warnedAboutRefsInRender,
                      '%s is accessing findDOMNode inside its render(). ' +
                        'render() should be a pure function of props and state. It should ' +
                        'never access something that requires stale data from the previous ' +
                        'render, such as refs. Move this logic to componentDidMount and ' +
                        'componentDidUpdate instead.',
                      owner.getName() || 'A component',
                    )
                  : void 0
                owner._warnedAboutRefsInRender = true
              }
            }
            if (componentOrElement == null) {
              return null
            }
            if (componentOrElement.nodeType === 1) {
              return componentOrElement
            }

            var inst = ReactInstanceMap.get(componentOrElement)
            if (inst) {
              inst = getNativeComponentFromComposite(inst)
              return inst
                ? ReactDOMComponentTree.getNodeFromInstance(inst)
                : null
            }

            if (typeof componentOrElement.render === 'function') {
              !false
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'findDOMNode was called on an unmounted component.',
                    )
                  : invariant(false)
                : void 0
            } else {
              !false
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Element appears to be neither ReactComponent nor DOMNode (keys: %s)',
                      Object.keys(componentOrElement),
                    )
                  : invariant(false)
                : void 0
            }
          }

          module.exports = findDOMNode
        }).call(this, require('_process'))
      },
      {
        './ReactCurrentOwner': 239,
        './ReactDOMComponentTree': 244,
        './ReactInstanceMap': 272,
        './getNativeComponentFromComposite': 326,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    319: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule flattenChildren
           */

          'use strict'

          var KeyEscapeUtils = require('./KeyEscapeUtils')
          var traverseAllChildren = require('./traverseAllChildren')
          var warning = require('fbjs/lib/warning')

          /**
           * @param {function} traverseContext Context passed through traversal.
           * @param {?ReactComponent} child React child component.
           * @param {!string} name String name of key path to child.
           */
          function flattenSingleChildIntoContext(traverseContext, child, name) {
            // We found a component instance.
            var result = traverseContext
            var keyUnique = result[name] === undefined
            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    keyUnique,
                    'flattenChildren(...): Encountered two children with the same key, ' +
                      '`%s`. Child keys must be unique; when two children share a key, only ' +
                      'the first child will be used.',
                    KeyEscapeUtils.unescape(name),
                  )
                : void 0
            }
            if (keyUnique && child != null) {
              result[name] = child
            }
          }

          /**
           * Flattens children that are typically specified as `props.children`. Any null
           * children will not be included in the resulting object.
           * @return {!object} flattened children keyed by name.
           */
          function flattenChildren(children) {
            if (children == null) {
              return children
            }
            var result = {}
            traverseAllChildren(children, flattenSingleChildIntoContext, result)
            return result
          }

          module.exports = flattenChildren
        }).call(this, require('_process'))
      },
      {
        './KeyEscapeUtils': 226,
        './traverseAllChildren': 339,
        _process: 162,
        'fbjs/lib/warning': 52,
      },
    ],
    320: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule forEachAccumulated
         */

        'use strict'

        /**
         * @param {array} arr an "accumulation" of items which is either an Array or
         * a single item. Useful when paired with the `accumulate` module. This is a
         * simple utility that allows us to reason about a collection of items, but
         * handling the case when there is exactly one item (and we do not need to
         * allocate an array).
         */

        var forEachAccumulated = function (arr, cb, scope) {
          if (Array.isArray(arr)) {
            arr.forEach(cb, scope)
          } else if (arr) {
            cb.call(scope, arr)
          }
        }

        module.exports = forEachAccumulated
      },
      {},
    ],
    321: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getEventCharCode
         */

        'use strict'

        /**
         * `charCode` represents the actual "character code" and is safe to use with
         * `String.fromCharCode`. As such, only keys that correspond to printable
         * characters produce a valid `charCode`, the only exception to this is Enter.
         * The Tab-key is considered non-printable and does not have a `charCode`,
         * presumably because it does not produce a tab-character in browsers.
         *
         * @param {object} nativeEvent Native browser event.
         * @return {number} Normalized `charCode` property.
         */

        function getEventCharCode(nativeEvent) {
          var charCode
          var keyCode = nativeEvent.keyCode

          if ('charCode' in nativeEvent) {
            charCode = nativeEvent.charCode

            // FF does not set `charCode` for the Enter-key, check against `keyCode`.
            if (charCode === 0 && keyCode === 13) {
              charCode = 13
            }
          } else {
            // IE8 does not implement `charCode`, but `keyCode` has the correct value.
            charCode = keyCode
          }

          // Some non-printable keys are reported in `charCode`/`keyCode`, discard them.
          // Must not discard the (non-)printable Enter-key.
          if (charCode >= 32 || charCode === 13) {
            return charCode
          }

          return 0
        }

        module.exports = getEventCharCode
      },
      {},
    ],
    322: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getEventKey
         */

        'use strict'

        var getEventCharCode = require('./getEventCharCode')

        /**
         * Normalization of deprecated HTML5 `key` values
         * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names
         */
        var normalizeKey = {
          Esc: 'Escape',
          Spacebar: ' ',
          Left: 'ArrowLeft',
          Up: 'ArrowUp',
          Right: 'ArrowRight',
          Down: 'ArrowDown',
          Del: 'Delete',
          Win: 'OS',
          Menu: 'ContextMenu',
          Apps: 'ContextMenu',
          Scroll: 'ScrollLock',
          MozPrintableKey: 'Unidentified',
        }

        /**
         * Translation from legacy `keyCode` to HTML5 `key`
         * Only special keys supported, all others depend on keyboard layout or browser
         * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names
         */
        var translateToKey = {
          8: 'Backspace',
          9: 'Tab',
          12: 'Clear',
          13: 'Enter',
          16: 'Shift',
          17: 'Control',
          18: 'Alt',
          19: 'Pause',
          20: 'CapsLock',
          27: 'Escape',
          32: ' ',
          33: 'PageUp',
          34: 'PageDown',
          35: 'End',
          36: 'Home',
          37: 'ArrowLeft',
          38: 'ArrowUp',
          39: 'ArrowRight',
          40: 'ArrowDown',
          45: 'Insert',
          46: 'Delete',
          112: 'F1',
          113: 'F2',
          114: 'F3',
          115: 'F4',
          116: 'F5',
          117: 'F6',
          118: 'F7',
          119: 'F8',
          120: 'F9',
          121: 'F10',
          122: 'F11',
          123: 'F12',
          144: 'NumLock',
          145: 'ScrollLock',
          224: 'Meta',
        }

        /**
         * @param {object} nativeEvent Native browser event.
         * @return {string} Normalized `key` property.
         */
        function getEventKey(nativeEvent) {
          if (nativeEvent.key) {
            // Normalize inconsistent values reported by browsers due to
            // implementations of a working draft specification.

            // FireFox implements `key` but returns `MozPrintableKey` for all
            // printable characters (normalized to `Unidentified`), ignore it.
            var key = normalizeKey[nativeEvent.key] || nativeEvent.key
            if (key !== 'Unidentified') {
              return key
            }
          }

          // Browser does not implement `key`, polyfill as much of it as we can.
          if (nativeEvent.type === 'keypress') {
            var charCode = getEventCharCode(nativeEvent)

            // The enter-key is technically both printable and non-printable and can
            // thus be captured by `keypress`, no other non-printable key should.
            return charCode === 13 ? 'Enter' : String.fromCharCode(charCode)
          }
          if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {
            // While user keyboard layout determines the actual meaning of each
            // `keyCode` value, almost all function keys have a universal value.
            return translateToKey[nativeEvent.keyCode] || 'Unidentified'
          }
          return ''
        }

        module.exports = getEventKey
      },
      { './getEventCharCode': 321 },
    ],
    323: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getEventModifierState
         */

        'use strict'

        /**
         * Translation from modifier key to the associated property in the event.
         * @see http://www.w3.org/TR/DOM-Level-3-Events/#keys-Modifiers
         */

        var modifierKeyToProp = {
          Alt: 'altKey',
          Control: 'ctrlKey',
          Meta: 'metaKey',
          Shift: 'shiftKey',
        }

        // IE8 does not implement getModifierState so we simply map it to the only
        // modifier keys exposed by the event itself, does not support Lock-keys.
        // Currently, all major browsers except Chrome seems to support Lock-keys.
        function modifierStateGetter(keyArg) {
          var syntheticEvent = this
          var nativeEvent = syntheticEvent.nativeEvent
          if (nativeEvent.getModifierState) {
            return nativeEvent.getModifierState(keyArg)
          }
          var keyProp = modifierKeyToProp[keyArg]
          return keyProp ? !!nativeEvent[keyProp] : false
        }

        function getEventModifierState(nativeEvent) {
          return modifierStateGetter
        }

        module.exports = getEventModifierState
      },
      {},
    ],
    324: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getEventTarget
         */

        'use strict'

        /**
         * Gets the target node from a native browser event by accounting for
         * inconsistencies in browser DOM APIs.
         *
         * @param {object} nativeEvent Native browser event.
         * @return {DOMEventTarget} Target node.
         */

        function getEventTarget(nativeEvent) {
          var target = nativeEvent.target || nativeEvent.srcElement || window

          // Normalize SVG <use> element events #4963
          if (target.correspondingUseElement) {
            target = target.correspondingUseElement
          }

          // Safari may fire events on text nodes (Node.TEXT_NODE is 3).
          // @see http://www.quirksmode.org/js/events_properties.html
          return target.nodeType === 3 ? target.parentNode : target
        }

        module.exports = getEventTarget
      },
      {},
    ],
    325: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getIteratorFn
         */

        'use strict'

        /* global Symbol */

        var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator
        var FAUX_ITERATOR_SYMBOL = '@@iterator' // Before Symbol spec.

        /**
         * Returns the iterator method function contained on the iterable object.
         *
         * Be sure to invoke the function with the iterable as context:
         *
         *     var iteratorFn = getIteratorFn(myIterable);
         *     if (iteratorFn) {
         *       var iterator = iteratorFn.call(myIterable);
         *       ...
         *     }
         *
         * @param {?object} maybeIterable
         * @return {?function}
         */
        function getIteratorFn(maybeIterable) {
          var iteratorFn =
            maybeIterable &&
            ((ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL]) ||
              maybeIterable[FAUX_ITERATOR_SYMBOL])
          if (typeof iteratorFn === 'function') {
            return iteratorFn
          }
        }

        module.exports = getIteratorFn
      },
      {},
    ],
    326: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getNativeComponentFromComposite
         */

        'use strict'

        var ReactNodeTypes = require('./ReactNodeTypes')

        function getNativeComponentFromComposite(inst) {
          var type

          while ((type = inst._renderedNodeType) === ReactNodeTypes.COMPOSITE) {
            inst = inst._renderedComponent
          }

          if (type === ReactNodeTypes.NATIVE) {
            return inst._renderedComponent
          } else if (type === ReactNodeTypes.EMPTY) {
            return null
          }
        }

        module.exports = getNativeComponentFromComposite
      },
      { './ReactNodeTypes': 281 },
    ],
    327: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getNodeForCharacterOffset
         */

        'use strict'

        /**
         * Given any node return the first leaf node without children.
         *
         * @param {DOMElement|DOMTextNode} node
         * @return {DOMElement|DOMTextNode}
         */

        function getLeafNode(node) {
          while (node && node.firstChild) {
            node = node.firstChild
          }
          return node
        }

        /**
         * Get the next sibling within a container. This will walk up the
         * DOM if a node's siblings have been exhausted.
         *
         * @param {DOMElement|DOMTextNode} node
         * @return {?DOMElement|DOMTextNode}
         */
        function getSiblingNode(node) {
          while (node) {
            if (node.nextSibling) {
              return node.nextSibling
            }
            node = node.parentNode
          }
        }

        /**
         * Get object describing the nodes which contain characters at offset.
         *
         * @param {DOMElement|DOMTextNode} root
         * @param {number} offset
         * @return {?object}
         */
        function getNodeForCharacterOffset(root, offset) {
          var node = getLeafNode(root)
          var nodeStart = 0
          var nodeEnd = 0

          while (node) {
            if (node.nodeType === 3) {
              nodeEnd = nodeStart + node.textContent.length

              if (nodeStart <= offset && nodeEnd >= offset) {
                return {
                  node: node,
                  offset: offset - nodeStart,
                }
              }

              nodeStart = nodeEnd
            }

            node = getLeafNode(getSiblingNode(node))
          }
        }

        module.exports = getNodeForCharacterOffset
      },
      {},
    ],
    328: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getTextContentAccessor
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

        var contentKey = null

        /**
         * Gets the key used to access text content on a DOM node.
         *
         * @return {?string} Key used to access text content.
         * @internal
         */
        function getTextContentAccessor() {
          if (!contentKey && ExecutionEnvironment.canUseDOM) {
            // Prefer textContent to innerText because many browsers support both but
            // SVG <text> elements don't support innerText even when <div> does.
            contentKey =
              'textContent' in document.documentElement
                ? 'textContent'
                : 'innerText'
          }
          return contentKey
        }

        module.exports = getTextContentAccessor
      },
      { 'fbjs/lib/ExecutionEnvironment': 28 },
    ],
    329: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule getVendorPrefixedEventName
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

        /**
         * Generate a mapping of standard vendor prefixes using the defined style property and event name.
         *
         * @param {string} styleProp
         * @param {string} eventName
         * @returns {object}
         */
        function makePrefixMap(styleProp, eventName) {
          var prefixes = {}

          prefixes[styleProp.toLowerCase()] = eventName.toLowerCase()
          prefixes['Webkit' + styleProp] = 'webkit' + eventName
          prefixes['Moz' + styleProp] = 'moz' + eventName
          prefixes['ms' + styleProp] = 'MS' + eventName
          prefixes['O' + styleProp] = 'o' + eventName.toLowerCase()

          return prefixes
        }

        /**
         * A list of event names to a configurable list of vendor prefixes.
         */
        var vendorPrefixes = {
          animationend: makePrefixMap('Animation', 'AnimationEnd'),
          animationiteration: makePrefixMap('Animation', 'AnimationIteration'),
          animationstart: makePrefixMap('Animation', 'AnimationStart'),
          transitionend: makePrefixMap('Transition', 'TransitionEnd'),
        }

        /**
         * Event names that have already been detected and prefixed (if applicable).
         */
        var prefixedEventNames = {}

        /**
         * Element to check for prefixes on.
         */
        var style = {}

        /**
         * Bootstrap if a DOM exists.
         */
        if (ExecutionEnvironment.canUseDOM) {
          style = document.createElement('div').style

          // On some platforms, in particular some releases of Android 4.x,
          // the un-prefixed "animation" and "transition" properties are defined on the
          // style object but the events that fire will still be prefixed, so we need
          // to check if the un-prefixed events are usable, and if not remove them from the map.
          if (!('AnimationEvent' in window)) {
            delete vendorPrefixes.animationend.animation
            delete vendorPrefixes.animationiteration.animation
            delete vendorPrefixes.animationstart.animation
          }

          // Same as above
          if (!('TransitionEvent' in window)) {
            delete vendorPrefixes.transitionend.transition
          }
        }

        /**
         * Attempts to determine the correct vendor prefixed event name.
         *
         * @param {string} eventName
         * @returns {string}
         */
        function getVendorPrefixedEventName(eventName) {
          if (prefixedEventNames[eventName]) {
            return prefixedEventNames[eventName]
          } else if (!vendorPrefixes[eventName]) {
            return eventName
          }

          var prefixMap = vendorPrefixes[eventName]

          for (var styleProp in prefixMap) {
            if (prefixMap.hasOwnProperty(styleProp) && styleProp in style) {
              return (prefixedEventNames[eventName] = prefixMap[styleProp])
            }
          }

          return ''
        }

        module.exports = getVendorPrefixedEventName
      },
      { 'fbjs/lib/ExecutionEnvironment': 28 },
    ],
    330: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule instantiateReactComponent
           */

          'use strict'

          var _assign = require('object-assign')

          var ReactCompositeComponent = require('./ReactCompositeComponent')
          var ReactEmptyComponent = require('./ReactEmptyComponent')
          var ReactNativeComponent = require('./ReactNativeComponent')
          var ReactInstrumentation = require('./ReactInstrumentation')

          var invariant = require('fbjs/lib/invariant')
          var warning = require('fbjs/lib/warning')

          // To avoid a cyclic dependency, we create the final class in this module
          var ReactCompositeComponentWrapper = function (element) {
            this.construct(element)
          }
          _assign(
            ReactCompositeComponentWrapper.prototype,
            ReactCompositeComponent.Mixin,
            {
              _instantiateReactComponent: instantiateReactComponent,
            },
          )

          function getDeclarationErrorAddendum(owner) {
            if (owner) {
              var name = owner.getName()
              if (name) {
                return ' Check the render method of `' + name + '`.'
              }
            }
            return ''
          }

          function getDisplayName(instance) {
            var element = instance._currentElement
            if (element == null) {
              return '#empty'
            } else if (
              typeof element === 'string' ||
              typeof element === 'number'
            ) {
              return '#text'
            } else if (typeof element.type === 'string') {
              return element.type
            } else if (instance.getName) {
              return instance.getName() || 'Unknown'
            } else {
              return element.type.displayName || element.type.name || 'Unknown'
            }
          }

          /**
           * Check if the type reference is a known internal type. I.e. not a user
           * provided composite type.
           *
           * @param {function} type
           * @return {boolean} Returns true if this is a valid internal type.
           */
          function isInternalComponentType(type) {
            return (
              typeof type === 'function' &&
              typeof type.prototype !== 'undefined' &&
              typeof type.prototype.mountComponent === 'function' &&
              typeof type.prototype.receiveComponent === 'function'
            )
          }

          var nextDebugID = 1

          /**
           * Given a ReactNode, create an instance that will actually be mounted.
           *
           * @param {ReactNode} node
           * @return {object} A new instance of the element's constructor.
           * @protected
           */
          function instantiateReactComponent(node) {
            var instance

            var isEmpty = node === null || node === false
            if (isEmpty) {
              instance = ReactEmptyComponent.create(instantiateReactComponent)
            } else if (typeof node === 'object') {
              var element = node
              !(
                element &&
                (typeof element.type === 'function' ||
                  typeof element.type === 'string')
              )
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Element type is invalid: expected a string (for built-in components) ' +
                        'or a class/function (for composite components) but got: %s.%s',
                      element.type == null ? element.type : typeof element.type,
                      getDeclarationErrorAddendum(element._owner),
                    )
                  : invariant(false)
                : void 0

              // Special case string values
              if (typeof element.type === 'string') {
                instance = ReactNativeComponent.createInternalComponent(element)
              } else if (isInternalComponentType(element.type)) {
                // This is temporarily available for custom components that are not string
                // representations. I.e. ART. Once those are updated to use the string
                // representation, we can drop this code path.
                instance = new element.type(element)
              } else {
                instance = new ReactCompositeComponentWrapper(element)
              }
            } else if (typeof node === 'string' || typeof node === 'number') {
              instance = ReactNativeComponent.createInstanceForText(node)
            } else {
              !false
                ? process.env.NODE_ENV !== 'production'
                  ? invariant(
                      false,
                      'Encountered invalid React node of type %s',
                      typeof node,
                    )
                  : invariant(false)
                : void 0
            }

            if (process.env.NODE_ENV !== 'production') {
              process.env.NODE_ENV !== 'production'
                ? warning(
                    typeof instance.mountComponent === 'function' &&
                      typeof instance.receiveComponent === 'function' &&
                      typeof instance.getNativeNode === 'function' &&
                      typeof instance.unmountComponent === 'function',
                    'Only React Components can be mounted.',
                  )
                : void 0
            }

            // These two fields are used by the DOM and ART diffing algorithms
            // respectively. Instead of using expandos on components, we should be
            // storing the state needed by the diffing algorithms elsewhere.
            instance._mountIndex = 0
            instance._mountImage = null

            if (process.env.NODE_ENV !== 'production') {
              instance._isOwnerNecessary = false
              instance._warnedAboutRefsInRender = false
            }

            if (process.env.NODE_ENV !== 'production') {
              var debugID = isEmpty ? 0 : nextDebugID++
              instance._debugID = debugID

              if (debugID !== 0) {
                var displayName = getDisplayName(instance)
                ReactInstrumentation.debugTool.onSetDisplayName(
                  debugID,
                  displayName,
                )
                var owner = node && node._owner
                if (owner) {
                  ReactInstrumentation.debugTool.onSetOwner(
                    debugID,
                    owner._debugID,
                  )
                }
              }
            }

            // Internal instances should fully constructed at this point, so they should
            // not get any new fields added to them at this point.
            if (process.env.NODE_ENV !== 'production') {
              if (Object.preventExtensions) {
                Object.preventExtensions(instance)
              }
            }

            return instance
          }

          module.exports = instantiateReactComponent
        }).call(this, require('_process'))
      },
      {
        './ReactCompositeComponent': 238,
        './ReactEmptyComponent': 265,
        './ReactInstrumentation': 273,
        './ReactNativeComponent': 279,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    331: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule isEventSupported
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

        var useHasFeature
        if (ExecutionEnvironment.canUseDOM) {
          useHasFeature =
            document.implementation &&
            document.implementation.hasFeature &&
            // always returns true in newer browsers as per the standard.
            // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature
            document.implementation.hasFeature('', '') !== true
        }

        /**
         * Checks if an event is supported in the current execution environment.
         *
         * NOTE: This will not work correctly for non-generic events such as `change`,
         * `reset`, `load`, `error`, and `select`.
         *
         * Borrows from Modernizr.
         *
         * @param {string} eventNameSuffix Event name, e.g. "click".
         * @param {?boolean} capture Check if the capture phase is supported.
         * @return {boolean} True if the event is supported.
         * @internal
         * @license Modernizr 3.0.0pre (Custom Build) | MIT
         */
        function isEventSupported(eventNameSuffix, capture) {
          if (
            !ExecutionEnvironment.canUseDOM ||
            (capture && !('addEventListener' in document))
          ) {
            return false
          }

          var eventName = 'on' + eventNameSuffix
          var isSupported = eventName in document

          if (!isSupported) {
            var element = document.createElement('div')
            element.setAttribute(eventName, 'return;')
            isSupported = typeof element[eventName] === 'function'
          }

          if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {
            // This is the only way to test support for the `wheel` event in IE9+.
            isSupported = document.implementation.hasFeature(
              'Events.wheel',
              '3.0',
            )
          }

          return isSupported
        }

        module.exports = isEventSupported
      },
      { 'fbjs/lib/ExecutionEnvironment': 28 },
    ],
    332: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule isTextInputElement
         */

        'use strict'

        /**
         * @see http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary
         */

        var supportedInputTypes = {
          color: true,
          date: true,
          datetime: true,
          'datetime-local': true,
          email: true,
          month: true,
          number: true,
          password: true,
          range: true,
          search: true,
          tel: true,
          text: true,
          time: true,
          url: true,
          week: true,
        }

        function isTextInputElement(elem) {
          var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase()
          return (
            nodeName &&
            ((nodeName === 'input' && supportedInputTypes[elem.type]) ||
              nodeName === 'textarea')
          )
        }

        module.exports = isTextInputElement
      },
      {},
    ],
    333: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule onlyChild
           */
          'use strict'

          var ReactElement = require('./ReactElement')

          var invariant = require('fbjs/lib/invariant')

          /**
           * Returns the first child in a collection of children and verifies that there
           * is only one child in the collection.
           *
           * See https://facebook.github.io/react/docs/top-level-api.html#react.children.only
           *
           * The current implementation of this function assumes that a single child gets
           * passed without a wrapper, but the purpose of this helper function is to
           * abstract away the particular structure of children.
           *
           * @param {?object} children Child collection structure.
           * @return {ReactElement} The first and only `ReactElement` contained in the
           * structure.
           */
          function onlyChild(children) {
            !ReactElement.isValidElement(children)
              ? process.env.NODE_ENV !== 'production'
                ? invariant(
                    false,
                    'onlyChild must be passed a children with exactly one child.',
                  )
                : invariant(false)
              : void 0
            return children
          }

          module.exports = onlyChild
        }).call(this, require('_process'))
      },
      { './ReactElement': 263, _process: 162, 'fbjs/lib/invariant': 42 },
    ],
    334: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule quoteAttributeValueForBrowser
         */

        'use strict'

        var escapeTextContentForBrowser = require('./escapeTextContentForBrowser')

        /**
         * Escapes attribute value to prevent scripting attacks.
         *
         * @param {*} value Value to escape.
         * @return {string} An escaped string.
         */
        function quoteAttributeValueForBrowser(value) {
          return '"' + escapeTextContentForBrowser(value) + '"'
        }

        module.exports = quoteAttributeValueForBrowser
      },
      { './escapeTextContentForBrowser': 317 },
    ],
    335: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule renderSubtreeIntoContainer
         */

        'use strict'

        var ReactMount = require('./ReactMount')

        module.exports = ReactMount.renderSubtreeIntoContainer
      },
      { './ReactMount': 276 },
    ],
    336: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule setInnerHTML
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')

        var WHITESPACE_TEST = /^[ \r\n\t\f]/
        var NONVISIBLE_TEST =
          /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/

        var createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction')

        /**
         * Set the innerHTML property of a node, ensuring that whitespace is preserved
         * even in IE8.
         *
         * @param {DOMElement} node
         * @param {string} html
         * @internal
         */
        var setInnerHTML = createMicrosoftUnsafeLocalFunction(
          function (node, html) {
            node.innerHTML = html
          },
        )

        if (ExecutionEnvironment.canUseDOM) {
          // IE8: When updating a just created node with innerHTML only leading
          // whitespace is removed. When updating an existing node with innerHTML
          // whitespace in root TextNodes is also collapsed.
          // @see quirksmode.org/bugreports/archives/2004/11/innerhtml_and_t.html

          // Feature detection; only IE8 is known to behave improperly like this.
          var testElement = document.createElement('div')
          testElement.innerHTML = ' '
          if (testElement.innerHTML === '') {
            setInnerHTML = function (node, html) {
              // Magic theory: IE8 supposedly differentiates between added and updated
              // nodes when processing innerHTML, innerHTML on updated nodes suffers
              // from worse whitespace behavior. Re-adding a node like this triggers
              // the initial and more favorable whitespace behavior.
              // TODO: What to do on a detached node?
              if (node.parentNode) {
                node.parentNode.replaceChild(node, node)
              }

              // We also implement a workaround for non-visible tags disappearing into
              // thin air on IE8, this only happens if there is no visible text
              // in-front of the non-visible tags. Piggyback on the whitespace fix
              // and simply check if any non-visible tags appear in the source.
              if (
                WHITESPACE_TEST.test(html) ||
                (html[0] === '<' && NONVISIBLE_TEST.test(html))
              ) {
                // Recover leading whitespace by temporarily prepending any character.
                // \uFEFF has the potential advantage of being zero-width/invisible.
                // UglifyJS drops U+FEFF chars when parsing, so use String.fromCharCode
                // in hopes that this is preserved even if "\uFEFF" is transformed to
                // the actual Unicode character (by Babel, for example).
                // https://github.com/mishoo/UglifyJS2/blob/v2.4.20/lib/parse.js#L216
                node.innerHTML = String.fromCharCode(0xfeff) + html

                // deleteData leaves an empty `TextNode` which offsets the index of all
                // children. Definitely want to avoid this.
                var textNode = node.firstChild
                if (textNode.data.length === 1) {
                  node.removeChild(textNode)
                } else {
                  textNode.deleteData(0, 1)
                }
              } else {
                node.innerHTML = html
              }
            }
          }
          testElement = null
        }

        module.exports = setInnerHTML
      },
      {
        './createMicrosoftUnsafeLocalFunction': 315,
        'fbjs/lib/ExecutionEnvironment': 28,
      },
    ],
    337: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule setTextContent
         */

        'use strict'

        var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment')
        var escapeTextContentForBrowser = require('./escapeTextContentForBrowser')
        var setInnerHTML = require('./setInnerHTML')

        /**
         * Set the textContent property of a node, ensuring that whitespace is preserved
         * even in IE8. innerText is a poor substitute for textContent and, among many
         * issues, inserts <br> instead of the literal newline chars. innerHTML behaves
         * as it should.
         *
         * @param {DOMElement} node
         * @param {string} text
         * @internal
         */
        var setTextContent = function (node, text) {
          node.textContent = text
        }

        if (ExecutionEnvironment.canUseDOM) {
          if (!('textContent' in document.documentElement)) {
            setTextContent = function (node, text) {
              setInnerHTML(node, escapeTextContentForBrowser(text))
            }
          }
        }

        module.exports = setTextContent
      },
      {
        './escapeTextContentForBrowser': 317,
        './setInnerHTML': 336,
        'fbjs/lib/ExecutionEnvironment': 28,
      },
    ],
    338: [
      function (require, module, exports) {
        /**
         * Copyright 2013-present, Facebook, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the BSD-style license found in the
         * LICENSE file in the root directory of this source tree. An additional grant
         * of patent rights can be found in the PATENTS file in the same directory.
         *
         * @providesModule shouldUpdateReactComponent
         */

        'use strict'

        /**
         * Given a `prevElement` and `nextElement`, determines if the existing
         * instance should be updated as opposed to being destroyed or replaced by a new
         * instance. Both arguments are elements. This ensures that this logic can
         * operate on stateless trees without any backing instance.
         *
         * @param {?object} prevElement
         * @param {?object} nextElement
         * @return {boolean} True if the existing instance should be updated.
         * @protected
         */

        function shouldUpdateReactComponent(prevElement, nextElement) {
          var prevEmpty = prevElement === null || prevElement === false
          var nextEmpty = nextElement === null || nextElement === false
          if (prevEmpty || nextEmpty) {
            return prevEmpty === nextEmpty
          }

          var prevType = typeof prevElement
          var nextType = typeof nextElement
          if (prevType === 'string' || prevType === 'number') {
            return nextType === 'string' || nextType === 'number'
          } else {
            return (
              nextType === 'object' &&
              prevElement.type === nextElement.type &&
              prevElement.key === nextElement.key
            )
          }
        }

        module.exports = shouldUpdateReactComponent
      },
      {},
    ],
    339: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2013-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule traverseAllChildren
           */

          'use strict'

          var ReactCurrentOwner = require('./ReactCurrentOwner')
          var ReactElement = require('./ReactElement')

          var getIteratorFn = require('./getIteratorFn')
          var invariant = require('fbjs/lib/invariant')
          var KeyEscapeUtils = require('./KeyEscapeUtils')
          var warning = require('fbjs/lib/warning')

          var SEPARATOR = '.'
          var SUBSEPARATOR = ':'

          /**
           * TODO: Test that a single child and an array with one item have the same key
           * pattern.
           */

          var didWarnAboutMaps = false

          /**
           * Generate a key string that identifies a component within a set.
           *
           * @param {*} component A component that could contain a manual key.
           * @param {number} index Index that is used if a manual key is not provided.
           * @return {string}
           */
          function getComponentKey(component, index) {
            // Do some typechecking here since we call this blindly. We want to ensure
            // that we don't block potential future ES APIs.
            if (
              component &&
              typeof component === 'object' &&
              component.key != null
            ) {
              // Explicit key
              return KeyEscapeUtils.escape(component.key)
            }
            // Implicit key determined by the index in the set
            return index.toString(36)
          }

          /**
           * @param {?*} children Children tree container.
           * @param {!string} nameSoFar Name of the key path so far.
           * @param {!function} callback Callback to invoke with each child found.
           * @param {?*} traverseContext Used to pass information throughout the traversal
           * process.
           * @return {!number} The number of children in this subtree.
           */
          function traverseAllChildrenImpl(
            children,
            nameSoFar,
            callback,
            traverseContext,
          ) {
            var type = typeof children

            if (type === 'undefined' || type === 'boolean') {
              // All of the above are perceived as null.
              children = null
            }

            if (
              children === null ||
              type === 'string' ||
              type === 'number' ||
              ReactElement.isValidElement(children)
            ) {
              callback(
                traverseContext,
                children,
                // If it's the only child, treat the name as if it was wrapped in an array
                // so that it's consistent if the number of children grows.
                nameSoFar === ''
                  ? SEPARATOR + getComponentKey(children, 0)
                  : nameSoFar,
              )
              return 1
            }

            var child
            var nextName
            var subtreeCount = 0 // Count of children found in the current subtree.
            var nextNamePrefix =
              nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR

            if (Array.isArray(children)) {
              for (var i = 0; i < children.length; i++) {
                child = children[i]
                nextName = nextNamePrefix + getComponentKey(child, i)
                subtreeCount += traverseAllChildrenImpl(
                  child,
                  nextName,
                  callback,
                  traverseContext,
                )
              }
            } else {
              var iteratorFn = getIteratorFn(children)
              if (iteratorFn) {
                var iterator = iteratorFn.call(children)
                var step
                if (iteratorFn !== children.entries) {
                  var ii = 0
                  while (!(step = iterator.next()).done) {
                    child = step.value
                    nextName = nextNamePrefix + getComponentKey(child, ii++)
                    subtreeCount += traverseAllChildrenImpl(
                      child,
                      nextName,
                      callback,
                      traverseContext,
                    )
                  }
                } else {
                  if (process.env.NODE_ENV !== 'production') {
                    process.env.NODE_ENV !== 'production'
                      ? warning(
                          didWarnAboutMaps,
                          'Using Maps as children is not yet fully supported. It is an ' +
                            'experimental feature that might be removed. Convert it to a ' +
                            'sequence / iterable of keyed ReactElements instead.',
                        )
                      : void 0
                    didWarnAboutMaps = true
                  }
                  // Iterator will provide entry [k,v] tuples rather than values.
                  while (!(step = iterator.next()).done) {
                    var entry = step.value
                    if (entry) {
                      child = entry[1]
                      nextName =
                        nextNamePrefix +
                        KeyEscapeUtils.escape(entry[0]) +
                        SUBSEPARATOR +
                        getComponentKey(child, 0)
                      subtreeCount += traverseAllChildrenImpl(
                        child,
                        nextName,
                        callback,
                        traverseContext,
                      )
                    }
                  }
                }
              } else if (type === 'object') {
                var addendum = ''
                if (process.env.NODE_ENV !== 'production') {
                  addendum =
                    ' If you meant to render a collection of children, use an array ' +
                    'instead or wrap the object using createFragment(object) from the ' +
                    'React add-ons.'
                  if (children._isReactElement) {
                    addendum =
                      " It looks like you're using an element created by a different " +
                      'version of React. Make sure to use only one copy of React.'
                  }
                  if (ReactCurrentOwner.current) {
                    var name = ReactCurrentOwner.current.getName()
                    if (name) {
                      addendum += ' Check the render method of `' + name + '`.'
                    }
                  }
                }
                var childrenString = String(children)
                !false
                  ? process.env.NODE_ENV !== 'production'
                    ? invariant(
                        false,
                        'Objects are not valid as a React child (found: %s).%s',
                        childrenString === '[object Object]'
                          ? 'object with keys {' +
                              Object.keys(children).join(', ') +
                              '}'
                          : childrenString,
                        addendum,
                      )
                    : invariant(false)
                  : void 0
              }
            }

            return subtreeCount
          }

          /**
           * Traverses children that are typically specified as `props.children`, but
           * might also be specified through attributes:
           *
           * - `traverseAllChildren(this.props.children, ...)`
           * - `traverseAllChildren(this.props.leftPanelChildren, ...)`
           *
           * The `traverseContext` is an optional argument that is passed through the
           * entire traversal. It can be used to store accumulations or anything else that
           * the callback might find relevant.
           *
           * @param {?*} children Children tree object.
           * @param {!function} callback To invoke upon traversing each child.
           * @param {?*} traverseContext Context for traversal.
           * @return {!number} The number of children in this subtree.
           */
          function traverseAllChildren(children, callback, traverseContext) {
            if (children == null) {
              return 0
            }

            return traverseAllChildrenImpl(
              children,
              '',
              callback,
              traverseContext,
            )
          }

          module.exports = traverseAllChildren
        }).call(this, require('_process'))
      },
      {
        './KeyEscapeUtils': 226,
        './ReactCurrentOwner': 239,
        './ReactElement': 263,
        './getIteratorFn': 325,
        _process: 162,
        'fbjs/lib/invariant': 42,
        'fbjs/lib/warning': 52,
      },
    ],
    340: [
      function (require, module, exports) {
        ;(function (process) {
          /**
           * Copyright 2015-present, Facebook, Inc.
           * All rights reserved.
           *
           * This source code is licensed under the BSD-style license found in the
           * LICENSE file in the root directory of this source tree. An additional grant
           * of patent rights can be found in the PATENTS file in the same directory.
           *
           * @providesModule validateDOMNesting
           */

          'use strict'

          var _assign = require('object-assign')

          var emptyFunction = require('fbjs/lib/emptyFunction')
          var warning = require('fbjs/lib/warning')

          var validateDOMNesting = emptyFunction

          if (process.env.NODE_ENV !== 'production') {
            // This validation code was written based on the HTML5 parsing spec:
            // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope
            //
            // Note: this does not catch all invalid nesting, nor does it try to (as it's
            // not clear what practical benefit doing so provides); instead, we warn only
            // for cases where the parser will give a parse tree differing from what React
            // intended. For example, <b><div></div></b> is invalid but we don't warn
            // because it still parses correctly; we do warn for other cases like nested
            // <p> tags where the beginning of the second element implicitly closes the
            // first, causing a confusing mess.

            // https://html.spec.whatwg.org/multipage/syntax.html#special
            var specialTags = [
              'address',
              'applet',
              'area',
              'article',
              'aside',
              'base',
              'basefont',
              'bgsound',
              'blockquote',
              'body',
              'br',
              'button',
              'caption',
              'center',
              'col',
              'colgroup',
              'dd',
              'details',
              'dir',
              'div',
              'dl',
              'dt',
              'embed',
              'fieldset',
              'figcaption',
              'figure',
              'footer',
              'form',
              'frame',
              'frameset',
              'h1',
              'h2',
              'h3',
              'h4',
              'h5',
              'h6',
              'head',
              'header',
              'hgroup',
              'hr',
              'html',
              'iframe',
              'img',
              'input',
              'isindex',
              'li',
              'link',
              'listing',
              'main',
              'marquee',
              'menu',
              'menuitem',
              'meta',
              'nav',
              'noembed',
              'noframes',
              'noscript',
              'object',
              'ol',
              'p',
              'param',
              'plaintext',
              'pre',
              'script',
              'section',
              'select',
              'source',
              'style',
              'summary',
              'table',
              'tbody',
              'td',
              'template',
              'textarea',
              'tfoot',
              'th',
              'thead',
              'title',
              'tr',
              'track',
              'ul',
              'wbr',
              'xmp',
            ]

            // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope
            var inScopeTags = [
              'applet',
              'caption',
              'html',
              'table',
              'td',
              'th',
              'marquee',
              'object',
              'template',

              // https://html.spec.whatwg.org/multipage/syntax.html#html-integration-point
              // TODO: Distinguish by namespace here -- for <title>, including it here
              // errs on the side of fewer warnings
              'foreignObject',
              'desc',
              'title',
            ]

            // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-button-scope
            var buttonScopeTags = inScopeTags.concat(['button'])

            // https://html.spec.whatwg.org/multipage/syntax.html#generate-implied-end-tags
            var impliedEndTags = [
              'dd',
              'dt',
              'li',
              'option',
              'optgroup',
              'p',
              'rp',
              'rt',
            ]

            var emptyAncestorInfo = {
              current: null,

              formTag: null,
              aTagInScope: null,
              buttonTagInScope: null,
              nobrTagInScope: null,
              pTagInButtonScope: null,

              listItemTagAutoclosing: null,
              dlItemTagAutoclosing: null,
            }

            var updatedAncestorInfo = function (oldInfo, tag, instance) {
              var ancestorInfo = _assign({}, oldInfo || emptyAncestorInfo)
              var info = { tag: tag, instance: instance }

              if (inScopeTags.indexOf(tag) !== -1) {
                ancestorInfo.aTagInScope = null
                ancestorInfo.buttonTagInScope = null
                ancestorInfo.nobrTagInScope = null
              }
              if (buttonScopeTags.indexOf(tag) !== -1) {
                ancestorInfo.pTagInButtonScope = null
              }

              // See rules for 'li', 'dd', 'dt' start tags in
              // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody
              if (
                specialTags.indexOf(tag) !== -1 &&
                tag !== 'address' &&
                tag !== 'div' &&
                tag !== 'p'
              ) {
                ancestorInfo.listItemTagAutoclosing = null
                ancestorInfo.dlItemTagAutoclosing = null
              }

              ancestorInfo.current = info

              if (tag === 'form') {
                ancestorInfo.formTag = info
              }
              if (tag === 'a') {
                ancestorInfo.aTagInScope = info
              }
              if (tag === 'button') {
                ancestorInfo.buttonTagInScope = info
              }
              if (tag === 'nobr') {
                ancestorInfo.nobrTagInScope = info
              }
              if (tag === 'p') {
                ancestorInfo.pTagInButtonScope = info
              }
              if (tag === 'li') {
                ancestorInfo.listItemTagAutoclosing = info
              }
              if (tag === 'dd' || tag === 'dt') {
                ancestorInfo.dlItemTagAutoclosing = info
              }

              return ancestorInfo
            }

            /**
             * Returns whether
             */
            var isTagValidWithParent = function (tag, parentTag) {
              // First, let's check if we're in an unusual parsing mode...
              switch (parentTag) {
                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inselect
                case 'select':
                  return (
                    tag === 'option' || tag === 'optgroup' || tag === '#text'
                  )
                case 'optgroup':
                  return tag === 'option' || tag === '#text'
                // Strictly speaking, seeing an <option> doesn't mean we're in a <select>
                // but
                case 'option':
                  return tag === '#text'

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intd
                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incaption
                // No special behavior since these rules fall back to "in body" mode for
                // all except special table nodes which cause bad parsing behavior anyway.

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intr
                case 'tr':
                  return (
                    tag === 'th' ||
                    tag === 'td' ||
                    tag === 'style' ||
                    tag === 'script' ||
                    tag === 'template'
                  )

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intbody
                case 'tbody':
                case 'thead':
                case 'tfoot':
                  return (
                    tag === 'tr' ||
                    tag === 'style' ||
                    tag === 'script' ||
                    tag === 'template'
                  )

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incolgroup
                case 'colgroup':
                  return tag === 'col' || tag === 'template'

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intable
                case 'table':
                  return (
                    tag === 'caption' ||
                    tag === 'colgroup' ||
                    tag === 'tbody' ||
                    tag === 'tfoot' ||
                    tag === 'thead' ||
                    tag === 'style' ||
                    tag === 'script' ||
                    tag === 'template'
                  )

                // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inhead
                case 'head':
                  return (
                    tag === 'base' ||
                    tag === 'basefont' ||
                    tag === 'bgsound' ||
                    tag === 'link' ||
                    tag === 'meta' ||
                    tag === 'title' ||
                    tag === 'noscript' ||
                    tag === 'noframes' ||
                    tag === 'style' ||
                    tag === 'script' ||
                    tag === 'template'
                  )

                // https://html.spec.whatwg.org/multipage/semantics.html#the-html-element
                case 'html':
                  return tag === 'head' || tag === 'body'
                case '#document':
                  return tag === 'html'
              }

              // Probably in the "in body" parsing mode, so we outlaw only tag combos
              // where the parsing rules cause implicit opens or closes to be added.
              // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody
              switch (tag) {
                case 'h1':
                case 'h2':
                case 'h3':
                case 'h4':
                case 'h5':
                case 'h6':
                  return (
                    parentTag !== 'h1' &&
                    parentTag !== 'h2' &&
                    parentTag !== 'h3' &&
                    parentTag !== 'h4' &&
                    parentTag !== 'h5' &&
                    parentTag !== 'h6'
                  )

                case 'rp':
                case 'rt':
                  return impliedEndTags.indexOf(parentTag) === -1

                case 'body':
                case 'caption':
                case 'col':
                case 'colgroup':
                case 'frame':
                case 'head':
                case 'html':
                case 'tbody':
                case 'td':
                case 'tfoot':
                case 'th':
                case 'thead':
                case 'tr':
                  // These tags are only valid with a few parents that have special child
                  // parsing rules -- if we're down here, then none of those matched and
                  // so we allow it only if we don't know what the parent is, as all other
                  // cases are invalid.
                  return parentTag == null
              }

              return true
            }

            /**
             * Returns whether
             */
            var findInvalidAncestorForTag = function (tag, ancestorInfo) {
              switch (tag) {
                case 'address':
                case 'article':
                case 'aside':
                case 'blockquote':
                case 'center':
                case 'details':
                case 'dialog':
                case 'dir':
                case 'div':
                case 'dl':
                case 'fieldset':
                case 'figcaption':
                case 'figure':
                case 'footer':
                case 'header':
                case 'hgroup':
                case 'main':
                case 'menu':
                case 'nav':
                case 'ol':
                case 'p':
                case 'section':
                case 'summary':
                case 'ul':

                case 'pre':
                case 'listing':

                case 'table':

                case 'hr':

                case 'xmp':

                case 'h1':
                case 'h2':
                case 'h3':
                case 'h4':
                case 'h5':
                case 'h6':
                  return ancestorInfo.pTagInButtonScope

                case 'form':
                  return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope

                case 'li':
                  return ancestorInfo.listItemTagAutoclosing

                case 'dd':
                case 'dt':
                  return ancestorInfo.dlItemTagAutoclosing

                case 'button':
                  return ancestorInfo.buttonTagInScope

                case 'a':
                  // Spec says something about storing a list of markers, but it sounds
                  // equivalent to this check.
                  return ancestorInfo.aTagInScope

                case 'nobr':
                  return ancestorInfo.nobrTagInScope
              }

              return null
            }

            /**
             * Given a ReactCompositeComponent instance, return a list of its recursive
             * owners, starting at the root and ending with the instance itself.
             */
            var findOwnerStack = function (instance) {
              if (!instance) {
                return []
              }

              var stack = []
              do {
                stack.push(instance)
              } while ((instance = instance._currentElement._owner))
              stack.reverse()
              return stack
            }

            var didWarn = {}

            validateDOMNesting = function (
              childTag,
              childInstance,
              ancestorInfo,
            ) {
              ancestorInfo = ancestorInfo || emptyAncestorInfo
              var parentInfo = ancestorInfo.current
              var parentTag = parentInfo && parentInfo.tag

              var invalidParent = isTagValidWithParent(childTag, parentTag)
                ? null
                : parentInfo
              var invalidAncestor = invalidParent
                ? null
                : findInvalidAncestorForTag(childTag, ancestorInfo)
              var problematic = invalidParent || invalidAncestor

              if (problematic) {
                var ancestorTag = problematic.tag
                var ancestorInstance = problematic.instance

                var childOwner =
                  childInstance && childInstance._currentElement._owner
                var ancestorOwner =
                  ancestorInstance && ancestorInstance._currentElement._owner

                var childOwners = findOwnerStack(childOwner)
                var ancestorOwners = findOwnerStack(ancestorOwner)

                var minStackLen = Math.min(
                  childOwners.length,
                  ancestorOwners.length,
                )
                var i

                var deepestCommon = -1
                for (i = 0; i < minStackLen; i++) {
                  if (childOwners[i] === ancestorOwners[i]) {
                    deepestCommon = i
                  } else {
                    break
                  }
                }

                var UNKNOWN = '(unknown)'
                var childOwnerNames = childOwners
                  .slice(deepestCommon + 1)
                  .map(function (inst) {
                    return inst.getName() || UNKNOWN
                  })
                var ancestorOwnerNames = ancestorOwners
                  .slice(deepestCommon + 1)
                  .map(function (inst) {
                    return inst.getName() || UNKNOWN
                  })
                var ownerInfo = []
                  .concat(
                    // If the parent and child instances have a common owner ancestor, start
                    // with that -- otherwise we just start with the parent's owners.
                    deepestCommon !== -1
                      ? childOwners[deepestCommon].getName() || UNKNOWN
                      : [],
                    ancestorOwnerNames,
                    ancestorTag,
                    // If we're warning about an invalid (non-parent) ancestry, add '...'
                    invalidAncestor ? ['...'] : [],
                    childOwnerNames,
                    childTag,
                  )
                  .join(' > ')

                var warnKey =
                  !!invalidParent +
                  '|' +
                  childTag +
                  '|' +
                  ancestorTag +
                  '|' +
                  ownerInfo
                if (didWarn[warnKey]) {
                  return
                }
                didWarn[warnKey] = true

                var tagDisplayName = childTag
                if (childTag !== '#text') {
                  tagDisplayName = '<' + childTag + '>'
                }

                if (invalidParent) {
                  var info = ''
                  if (ancestorTag === 'table' && childTag === 'tr') {
                    info +=
                      ' Add a <tbody> to your code to match the DOM tree generated by ' +
                      'the browser.'
                  }
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'validateDOMNesting(...): %s cannot appear as a child of <%s>. ' +
                          'See %s.%s',
                        tagDisplayName,
                        ancestorTag,
                        ownerInfo,
                        info,
                      )
                    : void 0
                } else {
                  process.env.NODE_ENV !== 'production'
                    ? warning(
                        false,
                        'validateDOMNesting(...): %s cannot appear as a descendant of ' +
                          '<%s>. See %s.',
                        tagDisplayName,
                        ancestorTag,
                        ownerInfo,
                      )
                    : void 0
                }
              }
            }

            validateDOMNesting.updatedAncestorInfo = updatedAncestorInfo

            // For testing
            validateDOMNesting.isTagValidInContext = function (
              tag,
              ancestorInfo,
            ) {
              ancestorInfo = ancestorInfo || emptyAncestorInfo
              var parentInfo = ancestorInfo.current
              var parentTag = parentInfo && parentInfo.tag
              return (
                isTagValidWithParent(tag, parentTag) &&
                !findInvalidAncestorForTag(tag, ancestorInfo)
              )
            }
          }

          module.exports = validateDOMNesting
        }).call(this, require('_process'))
      },
      {
        _process: 162,
        'fbjs/lib/emptyFunction': 34,
        'fbjs/lib/warning': 52,
        'object-assign': 161,
      },
    ],
    341: [
      function (require, module, exports) {
        'use strict'

        module.exports = require('./lib/React')
      },
      { './lib/React': 229 },
    ],
    342: [
      function (require, module, exports) {
        'use strict'

        exports.__esModule = true
        exports.ActionTypes = undefined
        exports['default'] = createStore

        var _isPlainObject = require('lodash/isPlainObject')

        var _isPlainObject2 = _interopRequireDefault(_isPlainObject)

        var _symbolObservable = require('symbol-observable')

        var _symbolObservable2 = _interopRequireDefault(_symbolObservable)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * These are private action types reserved by Redux.
         * For any unknown actions, you must return the current state.
         * If the current state is undefined, you must return the initial state.
         * Do not reference these action types directly in your code.
         */
        var ActionTypes = (exports.ActionTypes = {
          INIT: '@@redux/INIT',

          /**
           * Creates a Redux store that holds the state tree.
           * The only way to change the data in the store is to call `dispatch()` on it.
           *
           * There should only be a single store in your app. To specify how different
           * parts of the state tree respond to actions, you may combine several reducers
           * into a single reducer function by using `combineReducers`.
           *
           * @param {Function} reducer A function that returns the next state tree, given
           * the current state tree and the action to handle.
           *
           * @param {any} [preloadedState] The initial state. You may optionally specify it
           * to hydrate the state from the server in universal apps, or to restore a
           * previously serialized user session.
           * If you use `combineReducers` to produce the root reducer function, this must be
           * an object with the same shape as `combineReducers` keys.
           *
           * @param {Function} [enhancer] The store enhancer. You may optionally specify it
           * to enhance the store with third-party capabilities such as middleware,
           * time travel, persistence, etc. The only store enhancer that ships with Redux
           * is `applyMiddleware()`.
           *
           * @returns {Store} A Redux store that lets you read the state, dispatch actions
           * and subscribe to changes.
           */
        })
        function createStore(reducer, preloadedState, enhancer) {
          var _ref2

          if (
            typeof preloadedState === 'function' &&
            typeof enhancer === 'undefined'
          ) {
            enhancer = preloadedState
            preloadedState = undefined
          }

          if (typeof enhancer !== 'undefined') {
            if (typeof enhancer !== 'function') {
              throw new Error('Expected the enhancer to be a function.')
            }

            return enhancer(createStore)(reducer, preloadedState)
          }

          if (typeof reducer !== 'function') {
            throw new Error('Expected the reducer to be a function.')
          }

          var currentReducer = reducer
          var currentState = preloadedState
          var currentListeners = []
          var nextListeners = currentListeners
          var isDispatching = false

          function ensureCanMutateNextListeners() {
            if (nextListeners === currentListeners) {
              nextListeners = currentListeners.slice()
            }
          }

          /**
           * Reads the state tree managed by the store.
           *
           * @returns {any} The current state tree of your application.
           */
          function getState() {
            return currentState
          }

          /**
           * Adds a change listener. It will be called any time an action is dispatched,
           * and some part of the state tree may potentially have changed. You may then
           * call `getState()` to read the current state tree inside the callback.
           *
           * You may call `dispatch()` from a change listener, with the following
           * caveats:
           *
           * 1. The subscriptions are snapshotted just before every `dispatch()` call.
           * If you subscribe or unsubscribe while the listeners are being invoked, this
           * will not have any effect on the `dispatch()` that is currently in progress.
           * However, the next `dispatch()` call, whether nested or not, will use a more
           * recent snapshot of the subscription list.
           *
           * 2. The listener should not expect to see all state changes, as the state
           * might have been updated multiple times during a nested `dispatch()` before
           * the listener is called. It is, however, guaranteed that all subscribers
           * registered before the `dispatch()` started will be called with the latest
           * state by the time it exits.
           *
           * @param {Function} listener A callback to be invoked on every dispatch.
           * @returns {Function} A function to remove this change listener.
           */
          function subscribe(listener) {
            if (typeof listener !== 'function') {
              throw new Error('Expected listener to be a function.')
            }

            var isSubscribed = true

            ensureCanMutateNextListeners()
            nextListeners.push(listener)

            return function unsubscribe() {
              if (!isSubscribed) {
                return
              }

              isSubscribed = false

              ensureCanMutateNextListeners()
              var index = nextListeners.indexOf(listener)
              nextListeners.splice(index, 1)
            }
          }

          /**
           * Dispatches an action. It is the only way to trigger a state change.
           *
           * The `reducer` function, used to create the store, will be called with the
           * current state tree and the given `action`. Its return value will
           * be considered the **next** state of the tree, and the change listeners
           * will be notified.
           *
           * The base implementation only supports plain object actions. If you want to
           * dispatch a Promise, an Observable, a thunk, or something else, you need to
           * wrap your store creating function into the corresponding middleware. For
           * example, see the documentation for the `redux-thunk` package. Even the
           * middleware will eventually dispatch plain object actions using this method.
           *
           * @param {Object} action A plain object representing “what changed”. It is
           * a good idea to keep actions serializable so you can record and replay user
           * sessions, or use the time travelling `redux-devtools`. An action must have
           * a `type` property which may not be `undefined`. It is a good idea to use
           * string constants for action types.
           *
           * @returns {Object} For convenience, the same action object you dispatched.
           *
           * Note that, if you use a custom middleware, it may wrap `dispatch()` to
           * return something else (for example, a Promise you can await).
           */
          function dispatch(action) {
            if (!(0, _isPlainObject2['default'])(action)) {
              throw new Error(
                'Actions must be plain objects. ' +
                  'Use custom middleware for async actions.',
              )
            }

            if (typeof action.type === 'undefined') {
              throw new Error(
                'Actions may not have an undefined "type" property. ' +
                  'Have you misspelled a constant?',
              )
            }

            if (isDispatching) {
              throw new Error('Reducers may not dispatch actions.')
            }

            try {
              isDispatching = true
              currentState = currentReducer(currentState, action)
            } finally {
              isDispatching = false
            }

            var listeners = (currentListeners = nextListeners)
            for (var i = 0; i < listeners.length; i++) {
              var listener = listeners[i]
              listener()
            }

            return action
          }

          /**
           * Replaces the reducer currently used by the store to calculate the state.
           *
           * You might need this if your app implements code splitting and you want to
           * load some of the reducers dynamically. You might also need this if you
           * implement a hot reloading mechanism for Redux.
           *
           * @param {Function} nextReducer The reducer for the store to use instead.
           * @returns {void}
           */
          function replaceReducer(nextReducer) {
            if (typeof nextReducer !== 'function') {
              throw new Error('Expected the nextReducer to be a function.')
            }

            currentReducer = nextReducer
            dispatch({ type: ActionTypes.INIT })
          }

          /**
           * Interoperability point for observable/reactive libraries.
           * @returns {observable} A minimal observable of state changes.
           * For more information, see the observable proposal:
           * https://github.com/tc39/proposal-observable
           */
          function observable() {
            var _ref

            var outerSubscribe = subscribe
            return (
              (_ref = {
                /**
                 * The minimal observable subscription method.
                 * @param {Object} observer Any object that can be used as an observer.
                 * The observer object should have a `next` method.
                 * @returns {subscription} An object with an `unsubscribe` method that can
                 * be used to unsubscribe the observable from the store, and prevent further
                 * emission of values from the observable.
                 */
                subscribe: function subscribe(observer) {
                  if (typeof observer !== 'object') {
                    throw new TypeError(
                      'Expected the observer to be an object.',
                    )
                  }

                  function observeState() {
                    if (observer.next) {
                      observer.next(getState())
                    }
                  }

                  observeState()
                  var unsubscribe = outerSubscribe(observeState)
                  return { unsubscribe: unsubscribe }
                },
              }),
              (_ref[_symbolObservable2['default']] = function () {
                return this
              }),
              _ref
            )
          }

          // When a store is created, an "INIT" action is dispatched so that every
          // reducer returns their initial state. This effectively populates
          // the initial state tree.
          dispatch({ type: ActionTypes.INIT })

          return (
            (_ref2 = {
              dispatch: dispatch,
              subscribe: subscribe,
              getState: getState,
              replaceReducer: replaceReducer,
            }),
            (_ref2[_symbolObservable2['default']] = observable),
            _ref2
          )
        }
      },
      { 'lodash/isPlainObject': 148, 'symbol-observable': 343 },
    ],
    343: [
      function (require, module, exports) {
        ;(function (global) {
          'use strict'

          Object.defineProperty(exports, '__esModule', {
            value: true,
          })

          var _ponyfill = require('./ponyfill.js')

          var _ponyfill2 = _interopRequireDefault(_ponyfill)

          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj }
          }

          var root /* global window */

          if (typeof self !== 'undefined') {
            root = self
          } else if (typeof window !== 'undefined') {
            root = window
          } else if (typeof global !== 'undefined') {
            root = global
          } else if (typeof module !== 'undefined') {
            root = module
          } else {
            root = Function('return this')()
          }

          var result = (0, _ponyfill2['default'])(root)
          exports['default'] = result
        }).call(
          this,
          typeof global !== 'undefined'
            ? global
            : typeof self !== 'undefined'
              ? self
              : typeof window !== 'undefined'
                ? window
                : {},
        )
      },
      { './ponyfill.js': 344 },
    ],
    344: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports['default'] = symbolObservablePonyfill
        function symbolObservablePonyfill(root) {
          var result
          var _Symbol = root.Symbol

          if (typeof _Symbol === 'function') {
            if (_Symbol.observable) {
              result = _Symbol.observable
            } else {
              result = _Symbol('observable')
              _Symbol.observable = result
            }
          } else {
            result = '@@observable'
          }

          return result
        }
      },
      {},
    ],
    345: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDnd = require('react-dnd')

        var _reactDndHtml5Backend = require('react-dnd-html5-backend')

        var _reactDndHtml5Backend2 = _interopRequireDefault(
          _reactDndHtml5Backend,
        )

        var _WidgetBody = require('../components/WidgetBody.js')

        var _WidgetBody2 = _interopRequireDefault(_WidgetBody)

        var _CustomerMainArea = require('../components/CustomerMainArea.js')

        var _CustomerMainArea2 = _interopRequireDefault(_CustomerMainArea)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CustomerApp
         * props.uiData
         */

        var CustomerApp = (function (_React$Component) {
          _inherits(CustomerApp, _React$Component)

          function CustomerApp() {
            _classCallCheck(this, CustomerApp)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(CustomerApp).apply(this, arguments),
            )
          }

          _createClass(CustomerApp, [
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'div',
                  { className: 'brUCCustomerApp' },
                  _react2.default.createElement(
                    _WidgetBody2.default,
                    {
                      uiData: props.uiData,
                      modalOverlayClassName: 'brUCCustomerApp',
                    },
                    _react2.default.createElement(_CustomerMainArea2.default, {
                      uiData: props.uiData,
                    }),
                  ),
                )
              },
            },
          ])

          return CustomerApp
        })(_react2.default.Component)

        exports.default = (0, _reactDnd.DragDropContext)(
          _reactDndHtml5Backend2.default,
        )(CustomerApp)
      },
      {
        '../components/CustomerMainArea.js': 367,
        '../components/WidgetBody.js': 386,
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dnd': 186,
        'react-dnd-html5-backend': 171,
      },
    ],
    346: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _DndableSafe = require('./DndableSafe.js')

        var _DndableSafe2 = _interopRequireDefault(_DndableSafe)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * BgColorEditForm
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.showingDialogVersion
         * props.uiData.preferenceWorkTable
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.exportObjectURL = null
            _this.mustScroll = false
            _this.state = {
              editCount: 0,
              nowEditing: null,
              editingType: '',
              editingFormat: '',
              editingData: '',
              editingColor: '',
              editingCustomColor: '',
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props

                if (this.mustScroll) {
                  this.mustScroll = false
                  var div = _reactDom2.default.findDOMNode(
                    this.refs['bgColorEditEntries'],
                  )
                  if (div) {
                    div.scrollTop = div.scrollHeight
                  }
                }
              },
            },
            {
              key: 'componentWillUnmount',
              value: function componentWillUnmount() {
                var props = this.props

                if (this.exportObjectURL) {
                  URL.revokeObjectURL(this.exportObjectURL)
                }
              },
            },
            {
              key: 'getFormat',
              value: function getFormat(bgInfo) {
                var props = this.props

                var type = (0, _strings.string)(bgInfo && bgInfo.type)
                var data = (0, _strings.string)(bgInfo && bgInfo.data)

                if (
                  type === 'subject' ||
                  type === 'group' ||
                  type === 'user_id' ||
                  type === 'name'
                ) {
                  if (data[0] === '^') {
                    if (data[data.length - 1] === '$') {
                      return 'exact'
                    } else {
                      return 'forward'
                    }
                  } else {
                    if (data[data.length - 1] === '$') {
                      return 'backward'
                    } else {
                      return 'partial'
                    }
                  }
                } else {
                  return data
                }
              },
            },
            {
              key: 'getData',
              value: function getData(bgInfo) {
                var props = this.props

                var data = (0, _strings.string)(bgInfo && bgInfo.data)
                if (bgInfo.type === 'conf_type') {
                  data = ''
                } else if (
                  bgInfo.type === 'subject' ||
                  bgInfo.type === 'group' ||
                  bgInfo.type === 'user_id' ||
                  bgInfo.type === 'name'
                ) {
                  if (data[0] === '^') {
                    data = data.substring(1)
                  }
                  if (data[data.length - 1] === '$') {
                    data = data.substring(0, data.length - 1)
                  }
                }
                return data
              },
            },
            {
              key: 'localizeType',
              value: function localizeType(type) {
                if (type === 'conf_type') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_CONF_TYPE
                } else if (type === 'subject') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_SUBJECT
                } else if (type === 'group') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_GROUP
                } else if (type === 'user_id') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_USER_ID
                } else if (type === 'name') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_NAME
                } else if (type === 'tag') {
                  return _uawmsgs2.default.LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_TAG
                } else {
                  return type
                }
              },
            },
            {
              key: 'localizeFormat',
              value: function localizeFormat(format) {
                if (format === 'exact') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_EXACT
                } else if (format === 'forward') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_FORWARD
                } else if (format === 'backward') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_BACKWARD
                } else if (format === 'partial') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_PARTIAL
                } else if (format === '^userchatconf$') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_USERCHATCONF
                } else if (format === '^webchat$') {
                  return _uawmsgs2.default
                    .LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_WEBCHAT
                } else {
                  return format
                }
              },
            },
            {
              key: 'handleBgColorEditAddButtonClick',
              value: function handleBgColorEditAddButtonClick(ev) {
                var props = this.props

                // stop editing
                if (this.state.nowEditing !== null) {
                  this.handleBgColorEditEntryItemEditButtonClick(
                    this.state.nowEditing,
                  )
                }

                // work
                var preferenceWork =
                  props.uiData.preferenceWorkTable &&
                  props.uiData.preferenceWorkTable[
                    props.params && props.params.panelCode
                  ]
                var chatBgColorObject = null
                try {
                  chatBgColorObject = JSON.parse(preferenceWork.chatBgColor)
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                  return
                }
                if (
                  !chatBgColorObject ||
                  !chatBgColorObject.list ||
                  !chatBgColorObject.list.splice
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'empty chatBgColorObject.list')
                  return
                }

                // change
                var bgInfo = {
                  type: 'conf_type',
                  data: '^userchatconf$',
                  color: '#ffffff',
                }
                chatBgColorObject.list.push(bgInfo)
                preferenceWork.chatBgColor = JSON.stringify(chatBgColorObject)

                // start editing
                this.setState({
                  nowEditing: chatBgColorObject.list.length - 1,
                  editingType: bgInfo.type,
                  editingFormat: this.getFormat(bgInfo),
                  editingData: this.getData(bgInfo),
                  editingColor: bgInfo.color,
                  editingCustomColor: '',
                  editCount: this.state.editCount + 1,
                })

                // scroll
                this.mustScroll = true
              },
            },
            {
              key: 'handleBgColorEditImportButtonClick',
              value: function handleBgColorEditImportButtonClick(ev) {
                var props = this.props

                // stop editing
                if (this.state.nowEditing !== null) {
                  this.handleBgColorEditEntryItemEditButtonClick(
                    this.state.nowEditing,
                  )
                }

                _reactDom2.default
                  .findDOMNode(this.refs['bgColorEditImportInput'])
                  .click()
              },
            },
            {
              key: 'handleBgColorEditImportInputChange',
              value: function handleBgColorEditImportInputChange(ev) {
                var _this2 = this

                var props = this.props

                var file =
                  ev && ev.target && ev.target.files && ev.target.files[0]
                if (!file) {
                  props.uiData.ucUiStore.getLogger().log('warn', 'empty file')
                  return
                }

                // read file
                var reader = new FileReader()
                reader.onload = function () {
                  var chatBgColorImported = reader.result

                  // check json
                  try {
                    var chatBgColorImportedObject =
                      JSON.parse(chatBgColorImported)
                    chatBgColorImportedObject.list.forEach(function (element) {
                      return element.type.toString()
                    })
                  } catch (ex) {
                    props.uiData.ucUiStore.getLogger().log('warn', ex)
                    return
                  }

                  // work
                  var preferenceWork =
                    props.uiData.preferenceWorkTable &&
                    props.uiData.preferenceWorkTable[
                      props.params && props.params.panelCode
                    ]
                  if (!preferenceWork || !preferenceWork.chatBgColor) {
                    props.uiData.ucUiStore
                      .getLogger()
                      .log('warn', 'empty preferenceWork.chatBgColor')
                    return
                  }

                  // change
                  preferenceWork.chatBgColor = chatBgColorImported

                  // render
                  _this2.setState({ editCount: _this2.state.editCount + 1 })
                }
                reader.readAsText(file)
              },
            },
            {
              key: 'handleBgColorEditExportButtonClick',
              value: function handleBgColorEditExportButtonClick(ev) {
                var props = this.props

                // stop editing
                if (this.state.nowEditing !== null) {
                  this.handleBgColorEditEntryItemEditButtonClick(
                    this.state.nowEditing,
                  )
                }

                // work
                var preferenceWork =
                  props.uiData.preferenceWorkTable &&
                  props.uiData.preferenceWorkTable[
                    props.params && props.params.panelCode
                  ]
                if (!preferenceWork || !preferenceWork.chatBgColor) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'empty preferenceWork.chatBgColor')
                  return
                }

                // export
                if (this.exportObjectURL) {
                  URL.revokeObjectURL(this.exportObjectURL)
                }
                var blob = new Blob([preferenceWork.chatBgColor], {
                  type: 'text/plain',
                })
                this.exportObjectURL = URL.createObjectURL(blob)
                var link = _reactDom2.default.findDOMNode(
                  this.refs['bgColorEditExportLink'],
                )
                link.href = this.exportObjectURL
                link.download = 'chatbgcolor_' + Date.now() + '.dat'
                link.click()
              },
            },
            {
              key: 'handleBgColorEditDrop',
              value: function handleBgColorEditDrop(dropTargetInfo, ev) {
                var props = this.props

                if (!(dropTargetInfo && ev && ev.dragSourceInfo)) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'invalid dragSourceInfo, dropTargetInfo')
                  return
                }
                // parameters
                var dragSourceInfoType = ev.dragSourceInfo.dragSourceInfoType
                var dragSourceInfoCode = ev.dragSourceInfo.dragSourceInfoCode
                var dropTargetInfoType = dropTargetInfo.dropTargetInfoType
                var dropTargetInfoCode = dropTargetInfo.dropTargetInfoCode
                if (
                  dragSourceInfoType !== 'bgColorEditEntryItem' ||
                  dropTargetInfoType !== 'bgColorEditEntryItem'
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'invalid dragSourceInfoType, dropTargetInfoType',
                    )
                  return
                }

                // work
                var preferenceWork =
                  props.uiData.preferenceWorkTable &&
                  props.uiData.preferenceWorkTable[
                    props.params && props.params.panelCode
                  ]
                var chatBgColorObject = null
                try {
                  chatBgColorObject = JSON.parse(preferenceWork.chatBgColor)
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                  return
                }
                if (
                  !chatBgColorObject ||
                  !chatBgColorObject.list ||
                  !chatBgColorObject.list.splice
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'empty chatBgColorObject.list')
                  return
                }

                // change
                var item = chatBgColorObject.list.splice(
                  dragSourceInfoCode,
                  1,
                )[0]
                chatBgColorObject.list.splice(dropTargetInfoCode, 0, item)
                preferenceWork.chatBgColor = JSON.stringify(chatBgColorObject)

                // render
                this.setState({ editCount: this.state.editCount + 1 })
              },
            },
            {
              key: 'handleBgColorEditEntryItemTypeMenuItemClick',
              value: function handleBgColorEditEntryItemTypeMenuItemClick(
                type,
                ev,
              ) {
                var props = this.props

                if (
                  type === 'conf_type' &&
                  ['^userchatconf$', '^webchat$'].indexOf(
                    this.state.editingFormat,
                  ) === -1
                ) {
                  this.setState({
                    editingType: type,
                    editingFormat: '^userchatconf$',
                  })
                } else if (
                  type !== 'conf_type' &&
                  ['exact', 'forward', 'backward', 'partial'].indexOf(
                    this.state.editingFormat,
                  ) === -1
                ) {
                  this.setState({
                    editingType: type,
                    editingFormat: 'exact',
                  })
                } else {
                  this.setState({
                    editingType: type,
                  })
                }
              },
            },
            {
              key: 'handleBgColorEditEntryItemFormatMenuItemClick',
              value: function handleBgColorEditEntryItemFormatMenuItemClick(
                format,
                ev,
              ) {
                var props = this.props

                this.setState({ editingFormat: format })
              },
            },
            {
              key: 'handleBgColorEditEntryItemDataInputChange',
              value: function handleBgColorEditEntryItemDataInputChange(ev) {
                var props = this.props

                this.setState({
                  editingData: (0, _strings.string)(ev.target.value),
                })
              },
            },
            {
              key: 'handleBgColorEditEntryItemColorMenuItemClick',
              value: function handleBgColorEditEntryItemColorMenuItemClick(
                color,
                ev,
              ) {
                var props = this.props

                this.setState({ editingColor: color })
              },
            },
            {
              key: 'handleBgColorEditEntryItemColorMenuItemCustomColorColorClick',
              value:
                function handleBgColorEditEntryItemColorMenuItemCustomColorColorClick(
                  ev,
                ) {
                  var props = this.props

                  this.setState({ editingColor: this.state.editingCustomColor })
                  props.uiData.showingDialogVersion++
                },
            },
            {
              key: 'handleBgColorEditEntryItemColorMenuItemCustomColorInputChange',
              value:
                function handleBgColorEditEntryItemColorMenuItemCustomColorInputChange(
                  ev,
                ) {
                  var props = this.props

                  this.setState({
                    editingCustomColor: (0, _strings.string)(ev.target.value),
                  })
                },
            },
            {
              key: 'handleBgColorEditEntryItemColorMenuItemCustomColorInputKeyDown',
              value:
                function handleBgColorEditEntryItemColorMenuItemCustomColorInputKeyDown(
                  ev,
                ) {
                  var props = this.props

                  if (ev && ev.keyCode === 13 && !ev.shiftKey) {
                    this.setState({
                      editingColor: this.state.editingCustomColor,
                    })
                    props.uiData.showingDialogVersion++
                    ev.stopPropagation()
                  }
                },
            },
            {
              key: 'handleBgColorEditEntryItemEditButtonClick',
              value: function handleBgColorEditEntryItemEditButtonClick(i, ev) {
                var props = this.props

                // work
                var preferenceWork =
                  props.uiData.preferenceWorkTable &&
                  props.uiData.preferenceWorkTable[
                    props.params && props.params.panelCode
                  ]
                var chatBgColorObject = null
                try {
                  chatBgColorObject = JSON.parse(preferenceWork.chatBgColor)
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                  return
                }
                if (
                  !chatBgColorObject ||
                  !chatBgColorObject.list ||
                  !chatBgColorObject.list.splice
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'empty chatBgColorObject.list')
                  return
                }
                var bgInfo = chatBgColorObject.list[i]
                if (!bgInfo) {
                  props.uiData.ucUiStore.getLogger().log('warn', 'empty bgInfo')
                  return
                }

                // start / stop editing
                if (this.state.nowEditing !== i) {
                  this.setState({
                    nowEditing: i,
                    editingType: bgInfo.type,
                    editingFormat: this.getFormat(bgInfo),
                    editingData: this.getData(bgInfo),
                    editingColor: bgInfo.color,
                    editingCustomColor: '',
                  })
                } else {
                  // change
                  var type = (0, _strings.string)(this.state.editingType)
                  var format = (0, _strings.string)(this.state.editingFormat)
                  var data = (0, _strings.string)(this.state.editingData)
                  var color = (0, _strings.string)(this.state.editingColor)
                  if (type === 'conf_type') {
                    data = format
                  } else if (
                    type === 'subject' ||
                    type === 'group' ||
                    type === 'user_id' ||
                    type === 'name'
                  ) {
                    if (format === 'exact' || format === 'forward') {
                      data = '^' + data
                    }
                    if (format === 'exact' || format === 'backward') {
                      data = data + '$'
                    }
                  }
                  bgInfo.type = type
                  bgInfo.data = data
                  bgInfo.color = color
                  preferenceWork.chatBgColor = JSON.stringify(chatBgColorObject)
                  this.setState({
                    nowEditing: null,
                    editCount: this.state.editCount + 1,
                  })
                }
              },
            },
            {
              key: 'handleBgColorEditEntryItemDeleteButtonClick',
              value: function handleBgColorEditEntryItemDeleteButtonClick(
                i,
                ev,
              ) {
                var props = this.props

                // work
                var preferenceWork =
                  props.uiData.preferenceWorkTable &&
                  props.uiData.preferenceWorkTable[
                    props.params && props.params.panelCode
                  ]
                var chatBgColorObject = null
                try {
                  chatBgColorObject = JSON.parse(preferenceWork.chatBgColor)
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                  return
                }
                if (
                  !chatBgColorObject ||
                  !chatBgColorObject.list ||
                  !chatBgColorObject.list.splice
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'empty chatBgColorObject.list')
                  return
                }

                // change
                chatBgColorObject.list.splice(i, 1)
                preferenceWork.chatBgColor = JSON.stringify(chatBgColorObject)

                // render
                this.setState({ editCount: this.state.editCount + 1 })
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this3 = this

                var props = this.props
                var preferenceWork =
                  (props.uiData.preferenceWorkTable &&
                    props.uiData.preferenceWorkTable[
                      props.params && props.params.panelCode
                    ]) ||
                  {}
                var chatBgColorList = []
                try {
                  chatBgColorList = [].concat(
                    JSON.parse(
                      (0, _strings.string)(preferenceWork.chatBgColor) || '{}',
                    ).list || [],
                  )
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                }
                var colorCands = [
                  '#fcf8ff',
                  '#f8faff',
                  '#f8ffff',
                  '#f8fff8',
                  '#fefff6',
                  '#fffbf6',
                  '#fff8fa',
                ]
                if (
                  props.uiData.configurations &&
                  props.uiData.configurations.colorCands
                ) {
                  try {
                    colorCands = JSON.parse(
                      props.uiData.configurations.colorCands,
                    )
                  } catch (ex) {
                    props.uiData.ucUiStore.getLogger().log('warn', ex)
                  }
                }
                chatBgColorList
                  .slice()
                  .reverse()
                  .forEach(function (bgInfo) {
                    if (
                      bgInfo &&
                      bgInfo.color &&
                      colorCands.indexOf(bgInfo.color) === -1
                    ) {
                      colorCands.unshift(bgInfo.color)
                    }
                  })
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brBgColorEditForm brEditCount' + this.state.editCount,
                  },
                  _react2.default.createElement(
                    'table',
                    { className: 'brBgColorEditTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            'div',
                            { className: 'brBgColorEditButtons' },
                            _react2.default.createElement(
                              _ButtonIconic2.default,
                              {
                                className:
                                  'brBgColorEditButton brBgColorEditAddButton br_bi_icon_plus_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_PREFERENCE_CHAT_BG_COLOR_ADD_BUTTON_TOOLTIP,
                                onClick:
                                  this.handleBgColorEditAddButtonClick.bind(
                                    this,
                                  ),
                              },
                            ),
                            _react2.default.createElement(
                              _ButtonIconic2.default,
                              {
                                className:
                                  'brBgColorEditButton brBgColorEditImportButton br_bi_icon_upload_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_PREFERENCE_CHAT_BG_COLOR_IMPORT_BUTTON_TOOLTIP,
                                onClick:
                                  this.handleBgColorEditImportButtonClick.bind(
                                    this,
                                  ),
                              },
                            ),
                            _react2.default.createElement(
                              _ButtonIconic2.default,
                              {
                                className:
                                  'brBgColorEditButton brBgColorEditExportButton br_bi_icon_download_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_PREFERENCE_CHAT_BG_COLOR_EXPORT_BUTTON_TOOLTIP,
                                onClick:
                                  this.handleBgColorEditExportButtonClick.bind(
                                    this,
                                  ),
                              },
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'brBgColorEditFileElements' },
                              _react2.default.createElement('input', {
                                ref: 'bgColorEditImportInput',
                                type: 'file',
                                className: 'brBgColorEditImportInput',
                                onChange:
                                  this.handleBgColorEditImportInputChange.bind(
                                    this,
                                  ),
                              }),
                              _react2.default.createElement('a', {
                                ref: 'bgColorEditExportLink',
                                className: 'brBgColorEditExportLink',
                              }),
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            'div',
                            {
                              ref: 'bgColorEditEntries',
                              className: 'brBgColorEditEntries',
                            },
                            chatBgColorList.map(function (element, i) {
                              var bgInfo = element || {}
                              if (_this3.state.nowEditing !== i) {
                                return _react2.default.createElement(
                                  _DndableSafe2.default,
                                  {
                                    uiData: props.uiData,
                                    className:
                                      'brBgColorEditEntryItem brBgInfoType_' +
                                      bgInfo.type,
                                    key: i,
                                    dragSourceInfo: {
                                      dragSourceInfoType:
                                        'bgColorEditEntryItem',
                                      dragSourceInfoCode: i,
                                    },
                                    onCheckCanDrop: function onCheckCanDrop(
                                      ev,
                                    ) {
                                      return (
                                        _this3.state.nowEditing === null &&
                                        ev.dragSourceInfo &&
                                        ev.dragSourceInfo.dragSourceInfoType ===
                                          'bgColorEditEntryItem' &&
                                        ev.dragSourceInfo.dragSourceInfoCode !==
                                          i
                                      )
                                    },
                                    onDrop: _this3.handleBgColorEditDrop.bind(
                                      _this3,
                                      {
                                        dropTargetInfoType:
                                          'bgColorEditEntryItem',
                                        dropTargetInfoCode: i,
                                      },
                                    ),
                                  },
                                  _react2.default.createElement(
                                    'div',
                                    {
                                      className: 'brBgColorEditEntryItemArea',
                                      title: _this3.getData(bgInfo),
                                    },
                                    _react2.default.createElement(
                                      'span',
                                      {
                                        className:
                                          'brBgColorEditEntryItemLabelArea',
                                      },
                                      _react2.default.createElement(
                                        'span',
                                        {
                                          className:
                                            'brBgColorEditEntryItemType',
                                        },
                                        _this3.localizeType(bgInfo.type),
                                      ),
                                      _react2.default.createElement('br', {
                                        className: 'brBr1',
                                      }),
                                      _react2.default.createElement(
                                        'span',
                                        {
                                          className:
                                            'brBgColorEditEntryItemFormat',
                                        },
                                        _this3.localizeFormat(
                                          _this3.getFormat(bgInfo),
                                        ),
                                      ),
                                      _react2.default.createElement('br', {
                                        className: 'brBr2',
                                      }),
                                      _react2.default.createElement(
                                        'span',
                                        {
                                          className:
                                            'brBgColorEditEntryItemData',
                                        },
                                        _this3.getData(bgInfo),
                                      ),
                                    ),
                                    _react2.default.createElement('span', {
                                      className: 'brBgColorEditEntryItemColor',
                                      title: bgInfo.color,
                                      style: { backgroundColor: bgInfo.color },
                                    }),
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brBgColorEditEntryItemEditButton br_bi_icon_edit_svg',
                                        hidden:
                                          _this3.state.nowEditing !== null,
                                        title:
                                          _uawmsgs2.default
                                            .LBL_PREFERENCE_CHAT_BG_COLOR_EDIT_BUTTON_TOOLTIP,
                                        onClick:
                                          _this3.handleBgColorEditEntryItemEditButtonClick.bind(
                                            _this3,
                                            i,
                                          ),
                                      },
                                    ),
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brBgColorEditEntryItemDeleteButton br_bi_icon_close_svg',
                                        hidden:
                                          _this3.state.nowEditing !== null,
                                        title:
                                          _uawmsgs2.default
                                            .LBL_PREFERENCE_CHAT_BG_COLOR_DELETE_BUTTON_TOOLTIP,
                                        onClick:
                                          _this3.handleBgColorEditEntryItemDeleteButtonClick.bind(
                                            _this3,
                                            i,
                                          ),
                                      },
                                    ),
                                  ),
                                )
                              } else {
                                return _react2.default.createElement(
                                  'div',
                                  {
                                    uiData: props.uiData,
                                    className:
                                      'brBgColorEditEntryItem brNowEditing brBgInfoType_' +
                                      _this3.state.editingType,
                                    key: i,
                                  },
                                  _react2.default.createElement(
                                    'div',
                                    { className: 'brBgColorEditEntryItemArea' },
                                    _react2.default.createElement(
                                      'span',
                                      {
                                        className:
                                          'brBgColorEditEntryItemInputArea',
                                      },
                                      _react2.default.createElement(
                                        _DropDownMenu2.default,
                                        {
                                          uiData: props.uiData,
                                          className:
                                            'brBgColorEditEntryItemTypeMenu',
                                          dialogClassName:
                                            'brBgColorEditEntryItemDialog',
                                          text: _this3.localizeType(
                                            _this3.state.editingType,
                                          ),
                                        },
                                        [
                                          'conf_type',
                                          'subject',
                                          'group',
                                          'user_id',
                                          'name',
                                          'tag',
                                        ].map(function (type) {
                                          return _react2.default.createElement(
                                            _MenuItem2.default,
                                            {
                                              key: type,
                                              className:
                                                'brBgColorEditEntryItemTypeMenuItem',
                                              dropDown: true,
                                              onClick:
                                                _this3.handleBgColorEditEntryItemTypeMenuItemClick.bind(
                                                  _this3,
                                                  type,
                                                ),
                                            },
                                            _this3.localizeType(type),
                                          )
                                        }),
                                      ),
                                      _react2.default.createElement('br', {
                                        className: 'brBr1',
                                      }),
                                      _react2.default.createElement(
                                        _DropDownMenu2.default,
                                        {
                                          uiData: props.uiData,
                                          className:
                                            'brBgColorEditEntryItemFormatMenu',
                                          dialogClassName:
                                            'brBgColorEditEntryItemDialog',
                                          text: _this3.localizeFormat(
                                            _this3.state.editingFormat,
                                          ),
                                        },
                                        (_this3.state.editingType ===
                                        'conf_type'
                                          ? ['^userchatconf$', '^webchat$']
                                          : [
                                              'exact',
                                              'forward',
                                              'backward',
                                              'partial',
                                            ]
                                        ).map(function (format) {
                                          return _react2.default.createElement(
                                            _MenuItem2.default,
                                            {
                                              key: format,
                                              className:
                                                'brBgColorEditEntryItemFormatMenuItem',
                                              dropDown: true,
                                              onClick:
                                                _this3.handleBgColorEditEntryItemFormatMenuItemClick.bind(
                                                  _this3,
                                                  format,
                                                ),
                                            },
                                            _this3.localizeFormat(format),
                                          )
                                        }),
                                      ),
                                      _react2.default.createElement('br', {
                                        className: 'brBr2',
                                      }),
                                      _react2.default.createElement(
                                        _TextBox2.default,
                                        {
                                          className:
                                            'brBgColorEditEntryItemDataInput',
                                          value: _this3.state.editingData,
                                          onChange:
                                            _this3.handleBgColorEditEntryItemDataInputChange.bind(
                                              _this3,
                                            ),
                                        },
                                      ),
                                      _react2.default.createElement(
                                        _DropDownMenu2.default,
                                        {
                                          uiData: props.uiData,
                                          className:
                                            'brBgColorEditEntryItemColorMenu',
                                          dialogClassName:
                                            'brBgColorEditEntryItemDialog',
                                          text: _react2.default.createElement(
                                            'span',
                                            {
                                              className:
                                                'brBgColorEditEntryItemColorMenuColor',
                                              title: _this3.state.editingColor,
                                              style: {
                                                backgroundColor:
                                                  _this3.state.editingColor,
                                              },
                                            },
                                          ),
                                        },
                                        colorCands.map(function (color) {
                                          return _react2.default.createElement(
                                            _MenuItem2.default,
                                            {
                                              key: color,
                                              className:
                                                'brBgColorEditEntryItemColorMenuItem',
                                              dropDown: true,
                                              onClick:
                                                _this3.handleBgColorEditEntryItemColorMenuItemClick.bind(
                                                  _this3,
                                                  color,
                                                ),
                                            },
                                            _react2.default.createElement(
                                              'span',
                                              {
                                                className:
                                                  'brBgColorEditEntryItemColorMenuItemColor',
                                                title: color,
                                                style: {
                                                  backgroundColor: color,
                                                },
                                              },
                                            ),
                                            _react2.default.createElement(
                                              'span',
                                              {
                                                className:
                                                  'brBgColorEditEntryItemColorMenuItemLabel',
                                                title: color,
                                              },
                                              color,
                                            ),
                                          )
                                        }),
                                        _react2.default.createElement(
                                          'div',
                                          {
                                            key: '_',
                                            className:
                                              'brBgColorEditEntryItemColorMenuItem',
                                            dropDown: true,
                                          },
                                          _react2.default.createElement(
                                            'span',
                                            {
                                              className:
                                                'brBgColorEditEntryItemColorMenuItemCustomColorColor',
                                              title:
                                                _this3.state.editingCustomColor,
                                              style: {
                                                backgroundColor:
                                                  _this3.state
                                                    .editingCustomColor,
                                              },
                                              onClick:
                                                _this3.handleBgColorEditEntryItemColorMenuItemCustomColorColorClick.bind(
                                                  _this3,
                                                ),
                                            },
                                          ),
                                          _react2.default.createElement(
                                            _TextBox2.default,
                                            {
                                              className:
                                                'brBgColorEditEntryItemColorMenuItemCustomColorInput',
                                              value:
                                                _this3.state.editingCustomColor,
                                              onChange:
                                                _this3.handleBgColorEditEntryItemColorMenuItemCustomColorInputChange.bind(
                                                  _this3,
                                                ),
                                              onKeyDown:
                                                _this3.handleBgColorEditEntryItemColorMenuItemCustomColorInputKeyDown.bind(
                                                  _this3,
                                                ),
                                            },
                                          ),
                                        ),
                                      ),
                                    ),
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brBgColorEditEntryItemEditButton br_bi_icon_ook_svg',
                                        title: _uawmsgs2.default.CMN_OK,
                                        onClick:
                                          _this3.handleBgColorEditEntryItemEditButtonClick.bind(
                                            _this3,
                                            i,
                                          ),
                                      },
                                    ),
                                  ),
                                )
                              }
                            }),
                          ),
                        ),
                      ),
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './DndableSafe.js': 375,
        './DropDownMenu.js': 376,
        './MenuItem.js': 379,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    347: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _NameEmbeddedSpan = require('./NameEmbeddedSpan.js')

        var _NameEmbeddedSpan2 = _interopRequireDefault(_NameEmbeddedSpan)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * BroadcastForm
         * props.uiData
         * props.uiData.ucUiAction
         * props.uiData.ucUiStore
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.initialSelectedBuddyTable = {}
            var mutableSelectedBuddyTable = {}
            var broadcastMark = true
            try {
              var localStoragePreference =
                props.uiData.ucUiStore.getLocalStoragePreference({
                  keyList: ['broadcastSelectedBuddyTable', 'broadcastMark'],
                })
              if (localStoragePreference[1] === 'false') {
                broadcastMark = false
              }
              var stringSelectedBuddyTable = localStoragePreference[0]
              _this.initialSelectedBuddyTable = JSON.parse(
                stringSelectedBuddyTable,
              )
              mutableSelectedBuddyTable = JSON.parse(stringSelectedBuddyTable)
            } catch (ex) {}
            _this.state = {
              text: '',
              selectedGroupName: '',
              selectedBuddyTable: mutableSelectedBuddyTable,
              broadcastMark: broadcastMark,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var broadcastTextTextarea = _reactDom2.default.findDOMNode(
                  this.refs['broadcastTextTextarea'],
                )
                setTimeout(function () {
                  broadcastTextTextarea.focus()
                }, 0)
              },
            },
            {
              key: 'componentWillUnmount',
              value: function componentWillUnmount() {
                var props = this.props
                props.uiData.ucUiAction.setLocalStoragePreference({
                  keyValueList: [
                    {
                      key: 'broadcastSelectedBuddyTable',
                      value: JSON.stringify(this.state.selectedBuddyTable),
                    },
                    {
                      key: 'broadcastMark',
                      value: (0, _strings.string)(this.state.broadcastMark),
                    },
                  ],
                })
              },
            },
            {
              key: 'handleBroadcastGroupItemClick',
              value: function handleBroadcastGroupItemClick(groupName, ev) {
                var props = this.props
                var profile = props.uiData.ucUiStore
                  .getChatClient()
                  .getProfile()
                var buddyTable =
                  props.uiData.ucUiStore.getBuddyTable()[profile.tenant] || {}
                var selectedBuddyTable = {}
                Object.keys(buddyTable).forEach(function (key) {
                  var buddy = buddyTable[key]
                  if (
                    !buddy.isMe &&
                    buddy.isBuddy &&
                    !buddy.isTemporaryBuddy &&
                    buddy.group === groupName &&
                    groupName
                  ) {
                    if (!selectedBuddyTable[buddy.tenant]) {
                      selectedBuddyTable[buddy.tenant] = {}
                    }
                    selectedBuddyTable[buddy.tenant][buddy.user_id] = true
                  }
                })
                this.setState({
                  selectedGroupName: groupName,
                  selectedBuddyTable: selectedBuddyTable,
                })
                var broadcastTextTextarea = _reactDom2.default.findDOMNode(
                  this.refs['broadcastTextTextarea'],
                )
                setTimeout(function () {
                  broadcastTextTextarea.focus()
                }, 0)
              },
            },
            {
              key: 'handleBroadcastMarkCheckClick',
              value: function handleBroadcastMarkCheckClick(ev) {
                var props = this.props
                this.setState({
                  broadcastMark: !this.state.broadcastMark,
                })
              },
            },
            {
              key: 'handleBroadcastBuddyItemClick',
              value: function handleBroadcastBuddyItemClick(buddy, ev) {
                var props = this.props
                var selectedBuddyTable = this.state.selectedBuddyTable
                if (!selectedBuddyTable[buddy.tenant]) {
                  selectedBuddyTable[buddy.tenant] = {}
                }
                if (!selectedBuddyTable[buddy.tenant][buddy.user_id]) {
                  selectedBuddyTable[buddy.tenant][buddy.user_id] = true
                } else {
                  delete selectedBuddyTable[buddy.tenant][buddy.user_id]
                }
                this.setState({ selectedBuddyTable: selectedBuddyTable })
                var broadcastTextTextarea = _reactDom2.default.findDOMNode(
                  this.refs['broadcastTextTextarea'],
                )
                setTimeout(function () {
                  broadcastTextTextarea.focus()
                }, 0)
              },
            },
            {
              key: 'handleBroadcastTextTextareaChange',
              value: function handleBroadcastTextTextareaChange(ev) {
                var props = this.props
                this.setState({ text: (0, _strings.string)(ev.target.value) })
              },
            },
            {
              key: 'handleBroadcastTextTextareaKeyDown',
              value: function handleBroadcastTextTextareaKeyDown(ev) {
                var _this2 = this

                var props = this.props
                if (ev && ev.keyCode === 13 && !ev.shiftKey) {
                  setTimeout(function () {
                    try {
                      var node = _reactDom2.default.findDOMNode(_this2)
                      var button =
                        node &&
                        node.ownerDocument &&
                        node.ownerDocument.querySelector &&
                        node.ownerDocument.querySelector(
                          'button.brModalOKButton',
                        )
                      if (button && typeof button.click === 'function') {
                        button.click()
                      }
                    } catch (ex) {
                      props.uiData.ucUiStore.getLogger().log('warn', ex)
                    }
                  }, 0)
                  ev.preventDefault()
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this3 = this

                var props = this.props
                var profile = props.uiData.ucUiStore
                  .getChatClient()
                  .getProfile()
                var buddyTable =
                  props.uiData.ucUiStore.getBuddyTable()[profile.tenant] || {}
                var groupTable = {}
                groupTable[''] = -1
                var buddies = Object.keys(buddyTable)
                  .filter(function (key) {
                    return (
                      !buddyTable[key].isMe &&
                      buddyTable[key].isBuddy &&
                      !buddyTable[key].isTemporaryBuddy
                    )
                  })
                  .sort(function (key1, key2) {
                    return (
                      ((_this3.initialSelectedBuddyTable[
                        buddyTable[key2].tenant
                      ] || {})[key2]
                        ? 1
                        : 0) -
                        ((_this3.initialSelectedBuddyTable[
                          buddyTable[key1].tenant
                        ] || {})[key1]
                          ? 1
                          : 0) ||
                      (buddyTable[key1].groupIndex >>> 0) -
                        (buddyTable[key2].groupIndex >>> 0) ||
                      (0, _strings.int)(buddyTable[key1].buddyIndex) -
                        (0, _strings.int)(buddyTable[key2].buddyIndex)
                    )
                  })
                  .map(function (key) {
                    var buddy = buddyTable[key]
                    var groupName = (0, _strings.string)(buddy.group)
                    if (groupName && !groupTable[groupName]) {
                      groupTable[groupName] = (0, _strings.int)(
                        buddy.groupIndex,
                      )
                    }
                    return {
                      tenant: buddy.tenant,
                      user_id: buddy.user_id,
                      selected:
                        _this3.state.selectedBuddyTable &&
                        _this3.state.selectedBuddyTable[buddy.tenant] &&
                        _this3.state.selectedBuddyTable[buddy.tenant][
                          buddy.user_id
                        ],
                    }
                  })
                return _react2.default.createElement(
                  'div',
                  { className: 'brBroadcastForm' },
                  _react2.default.createElement(
                    'table',
                    { className: 'brBroadcastTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_BROADCAST_GROUP,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            _DropDownMenu2.default,
                            {
                              uiData: props.uiData,
                              className: 'brBroadcastGroupMenu',
                              text:
                                this.state.selectedGroupName ||
                                _uawmsgs2.default.LBL_BROADCAST_GROUP_NONE,
                            },
                            Object.keys(groupTable)
                              .sort(function (groupName1, groupName2) {
                                return (
                                  groupTable[groupName1] -
                                  groupTable[groupName2]
                                )
                              })
                              .map(function (groupName) {
                                return _react2.default.createElement(
                                  _MenuItem2.default,
                                  {
                                    key: groupName,
                                    className:
                                      'brBroadcastFormMenuItem brBroadcastGroupItem',
                                    dropDown: true,
                                    onClick:
                                      _this3.handleBroadcastGroupItemClick.bind(
                                        _this3,
                                        groupName,
                                      ),
                                  },
                                  groupName ||
                                    _uawmsgs2.default.LBL_BROADCAST_GROUP_NONE,
                                )
                              }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'span',
                            { className: 'brBroadcastBuddiesCaptionArea' },
                            _uawmsgs2.default.LBL_BROADCAST_BUDDIES,
                          ),
                          _react2.default.createElement(
                            'span',
                            { className: 'brBroadcastMarkArea' },
                            _react2.default.createElement(
                              'span',
                              {
                                className: 'brBroadcastMarkCheck',
                                onClick:
                                  this.handleBroadcastMarkCheckClick.bind(this),
                              },
                              _react2.default.createElement('span', {
                                className:
                                  'brBroadcastMarkCheckIcon' +
                                  (this.state.broadcastMark
                                    ? ' brSelected br_bi_icon_check_svg'
                                    : ' br_bi_icon_square_svg'),
                              }),
                              _react2.default.createElement(
                                'span',
                                { className: 'brBroadcastMarkCheckCaption' },
                                _uawmsgs2.default
                                  .LBL_BROADCAST_MARK_CHECK_CAPTION,
                              ),
                              _react2.default.createElement('span', {
                                className:
                                  'brBroadcastMarkIcon br_bi_icon_broadcasting_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_BROADCAST_MARK_ICON_TOOLTIP,
                              }),
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'div',
                            { className: 'brBroadcastBuddies' },
                            buddies.map(function (buddy) {
                              return _react2.default.createElement(
                                'div',
                                {
                                  className:
                                    'brBroadcastBuddyItem' +
                                    (buddy.selected
                                      ? ' brSelected br_bi_icon_check_svg'
                                      : ' br_bi_icon_square_svg'),
                                  key: JSON.stringify({
                                    tenant: buddy.tenant,
                                    user_id: buddy.user_id,
                                  }),
                                  onClick:
                                    _this3.handleBroadcastBuddyItemClick.bind(
                                      _this3,
                                      {
                                        tenant: buddy.tenant,
                                        user_id: buddy.user_id,
                                      },
                                    ),
                                },
                                _react2.default.createElement(
                                  _NameEmbeddedSpan2.default,
                                  {
                                    ucUiStore: props.uiData.ucUiStore,
                                    format: '{0}',
                                    title: '{0}',
                                    buddy: buddy,
                                  },
                                ),
                              )
                            }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'div',
                            { className: 'brBroadcastTextArea' },
                            _react2.default.createElement('textarea', {
                              ref: 'broadcastTextTextarea',
                              className: 'brBroadcastTextTextarea',
                              placeholder:
                                _uawmsgs2.default
                                  .LBL_BROADCAST_TEXT_TEXTAREA_PLACEHOLDER,
                              value: this.state.text,
                              onChange:
                                this.handleBroadcastTextTextareaChange.bind(
                                  this,
                                ),
                              onKeyDown:
                                this.handleBroadcastTextTextareaKeyDown.bind(
                                  this,
                                ),
                            }),
                          ),
                        ),
                      ),
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './DropDownMenu.js': 376,
        './MenuItem.js': 379,
        './NameEmbeddedSpan.js': 381,
        react: 341,
        'react-dom': 195,
      },
    ],
    348: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ButtonIconic
         * props.className
         * props.disabled
         * props.hidden
         * props.title
         * props.style
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (!props.disabled) {
                  if (typeof props.onClick === 'function') {
                    props.onClick(ev)
                  }
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brButtonIconic' +
                      (props.disabled ? ' brDisabled' : '') +
                      (props.hidden ? ' brHidden' : '') +
                      (props.className ? ' ' + props.className : ''),
                    title: props.title,
                    style: props.style || {},
                    onClick: this.handleClick.bind(this),
                  },
                  props.children,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    349: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ButtonLabeled
         * props.className
         * props.disabled
         * props.hidden
         * props.progress
         * props.vivid
         * props.ghost
         * props.title
         * props.style
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (!props.disabled) {
                  if (typeof props.onClick === 'function') {
                    props.onClick(ev)
                  }
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'button',
                  {
                    className:
                      'brButtonLabeled' +
                      (props.disabled ? ' brDisabled' : '') +
                      (props.hidden ? ' brHidden' : '') +
                      (props.progress ? ' brProgress' : '') +
                      (props.vivid ? ' brVivid' : '') +
                      (props.ghost ? ' brGhost' : '') +
                      (props.className ? ' ' + props.className : ''),
                    title: props.title,
                    style: props.style || {},
                    onClick: this.handleClick.bind(this),
                  },
                  props.children,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    350: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CallAudio
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.phone
         * props.sessionId
         * props.streamMarker
         * props.isLocal
         * props.deviceId
         * props.className
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  node.setAttribute('autoplay', '')
                  this.play(node)
                }
              },
            },
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate(prevProps) {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  if (
                    !prevProps ||
                    props.sessionId != prevProps.sessionId ||
                    props.streamMarker != prevProps.streamMarker
                  ) {
                    this.play(node)
                  } else if (
                    !prevProps ||
                    props.deviceId != prevProps.deviceId
                  ) {
                    this.setSinkId(node)
                  }
                }
              },
            },
            {
              key: 'play',
              value: function play(node) {
                var props = this.props
                var stream = null
                var url = ''
                if (props.uiData.phone) {
                  var session =
                    props.uiData.phone &&
                    props.uiData.phone.getSession(props.sessionId)
                  if (session) {
                    if (props.isLocal) {
                      stream = session.localStreamObject || null
                      url = session.localStreamUrl || ''
                    } else {
                      stream = session.remoteStreamObject || null
                      url = session.remoteStreamUrl || ''
                    }
                  }
                }
                if (typeof node.srcObject !== 'undefined') {
                  try {
                    node.srcObject = stream
                  } catch (e) {
                    try {
                      node.src = url
                    } catch (e) {}
                  }
                } else {
                  try {
                    node.src = url
                  } catch (e) {}
                }
                this.setSinkId(node)
              },
            },
            {
              key: 'setSinkId',
              value: function setSinkId(node) {
                var props = this.props
                try {
                  node
                    .setSinkId((0, _strings.string)(props.deviceId))
                    .then(function () {})
                    .catch(function (error) {
                      props.uiData.ucUiStore.getLogger().log('warn', error)
                    })
                } catch (ex) {
                  props.uiData.ucUiStore.getLogger().log('warn', ex)
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var className =
                  'brCallAudio' + (props.className ? ' ' + props.className : '')
                return _react2.default.createElement('audio', {
                  className: className,
                })
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    351: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CallTimer
         * props.startTime
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              secondsElapsed: 0,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                this.interval = setInterval(this.tick.bind(this), 500)
              },
            },
            {
              key: 'componentWillUnmount',
              value: function componentWillUnmount() {
                clearInterval(this.interval)
              },
            },
            {
              key: 'tick',
              value: function tick() {
                var props = this.props
                if (props.startTime) {
                  this.setState({
                    secondsElapsed: (0, _strings.int)(
                      (+new Date() - (0, _strings.int)(props.startTime)) / 1000,
                    ),
                  })
                } else if (this.state.secondsElapsed) {
                  this.setState({ secondsElapsed: 0 })
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                if (props.startTime) {
                  return _react2.default.createElement(
                    'span',
                    {
                      className: 'brCallTimer',
                    },
                    (this.state.secondsElapsed < 600 ? '0' : '') +
                      (0, _strings.int)(this.state.secondsElapsed / 60) +
                      ':' +
                      ('0' + (this.state.secondsElapsed % 60)).slice(-2),
                  )
                } else {
                  return _react2.default.createElement('span', {
                    className: 'brCallTimer',
                  })
                }
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    352: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CallVideo
         * props.uiData
         * props.uiData.phone
         * props.sessionId
         * props.videoClientSessionId
         * props.streamMarker
         * props.isLocal
         * props.className
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  node.setAttribute('autoplay', '')
                  node.setAttribute('muted', '')
                  node.setAttribute('playsinline', '')
                  this.play(node)
                }
              },
            },
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate(prevProps) {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  if (
                    !prevProps ||
                    props.sessionId != prevProps.sessionId ||
                    props.videoClientSessionId !=
                      prevProps.videoClientSessionId ||
                    props.streamMarker != prevProps.streamMarker
                  ) {
                    this.play(node)
                  }
                }
              },
            },
            {
              key: 'play',
              value: function play(node) {
                var props = this.props
                var stream = null
                var url = ''
                if (props.uiData.phone) {
                  var session =
                    props.uiData.phone &&
                    props.uiData.phone.getSession(props.sessionId)
                  if (session) {
                    if (props.isLocal) {
                      stream = session.localVideoStreamObject || null
                      url = session.localVideoStreamUrl || ''
                    } else if (
                      session.videoClientSessionTable &&
                      session.videoClientSessionTable[
                        props.videoClientSessionId
                      ]
                    ) {
                      stream =
                        session.videoClientSessionTable[
                          props.videoClientSessionId
                        ].remoteStreamObject || null
                      url =
                        session.videoClientSessionTable[
                          props.videoClientSessionId
                        ].remoteStreamUrl || ''
                    }
                  }
                }
                if (typeof node.srcObject !== 'undefined') {
                  try {
                    node.srcObject = stream
                  } catch (e) {
                    try {
                      node.src = url
                    } catch (e) {}
                  }
                } else {
                  try {
                    node.src = url
                  } catch (e) {}
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var className =
                  'brCallVideo' + (props.className ? ' ' + props.className : '')
                return _react2.default.createElement('video', {
                  className: className,
                })
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    353: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatFileDownloadButton
         * props.uiData
         * props.uiData.ucUiAction
         * props.message
         * props.message.messageFile
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              clicked: false,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (
                  this.state.clicked ||
                  props.message.messageFile.status !==
                    _constants2.default.FILE_STATUS_UNACCEPTED
                ) {
                  this.setState({ clicked: true })
                  return
                }
                this.setState({ clicked: true })
                // acceptFile
                props.uiData.ucUiAction.acceptFile({
                  file_id: props.message.messageFile.file_id,
                  form: _reactDom2.default.findDOMNode(this.refs.form),
                })
                this.render()
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var linkClassName = 'brChatFileDownloadButtonLink'
                var linkHref = null
                var linkTitle = ''
                var linkDownload = null
                var linkOnClick = null
                var iconClassName =
                  'brChatFileDownloadButtonIcon br_bi_icon_download_svg'
                var iconTitle = _uawmsgs2.default.LBL_CHAT_FILE_ICON_TOOLTIP
                if (
                  props.message.messageFile.status ===
                  _constants2.default.FILE_STATUS_UNACCEPTED
                ) {
                  if (!this.state.clicked) {
                    linkClassName += ' brEnabled brCancelChatAreaClick'
                    linkHref = 'javascript:void(0)'
                    linkTitle = props.message.messageFile.name
                    linkOnClick = this.handleClick.bind(this)
                    iconClassName += ' brEnabled brCancelChatAreaClick'
                    iconTitle = props.message.messageFile.name
                  }
                } else if (
                  props.message.messageFile.inlineImage &&
                  props.message.messageFile.inlineImage.url
                ) {
                  if (!this.state.clicked) {
                    linkClassName += ' brEnabled brCancelChatAreaClick'
                    linkTitle = props.message.messageFile.name
                    iconClassName += ' brEnabled brCancelChatAreaClick'
                    iconTitle = props.message.messageFile.name
                  } else {
                    linkClassName += ' brUnclickable'
                  }
                  linkHref = props.message.messageFile.inlineImage.url
                  linkDownload = props.message.messageFile.name
                  linkOnClick = this.handleClick.bind(this)
                }
                return _react2.default.createElement(
                  'span',
                  { className: 'brChatFileDownloadButton' },
                  _react2.default.createElement(
                    'a',
                    {
                      className: linkClassName,
                      href: linkHref,
                      title: linkTitle,
                      download: linkDownload,
                      onClick: linkOnClick,
                    },
                    _react2.default.createElement('span', {
                      className: iconClassName,
                      title: iconTitle,
                    }),
                    props.message.messageFile.name,
                  ),
                  _react2.default.createElement(
                    'span',
                    { style: { display: 'none' } },
                    _react2.default.createElement('form', {
                      ref: 'form',
                      target: 'iframe_' + props.message.messageFile.file_id,
                    }),
                    _react2.default.createElement('iframe', {
                      name: 'iframe_' + props.message.messageFile.file_id,
                    }),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    354: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatFileDownloadLargeButton
         * props.uiData
         * props.uiData.ucUiAction
         * props.message
         * props.message.messageFile
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              clicked: false,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (
                  this.state.clicked ||
                  props.message.messageFile.status !==
                    _constants2.default.FILE_STATUS_UNACCEPTED
                ) {
                  this.setState({ clicked: true })
                  return
                }
                this.setState({ clicked: true })
                // acceptFile
                props.uiData.ucUiAction.acceptFile({
                  file_id: props.message.messageFile.file_id,
                  form: _reactDom2.default.findDOMNode(this.refs.form),
                })
                this.render()
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var className = 'brChatFileDownloadLargeButton'
                var title = _uawmsgs2.default.LBL_CHAT_FILE_ICON_TOOLTIP
                var onClick = null
                if (
                  props.message.messageFile.status ===
                  _constants2.default.FILE_STATUS_UNACCEPTED
                ) {
                  if (!this.state.clicked) {
                    className += ' brEnabled brCancelChatAreaClick'
                    title = props.message.messageFile.name
                    onClick = this.handleClick.bind(this)
                  }
                } else if (
                  props.message.messageFile.status ===
                  _constants2.default.FILE_STATUS_TRANSFERRING
                ) {
                  className += ' brReadonly'
                  if (props.message.messageFile.progress === 0) {
                    className += ' brAnimation1'
                  } else if (props.message.messageFile.progress <= 98) {
                    className += ' brAnimation2'
                  }
                }
                return _react2.default.createElement(
                  'span',
                  {
                    className: className,
                    title: title,
                    onClick: onClick,
                  },
                  _react2.default.createElement(
                    'span',
                    {
                      className:
                        'brChatFileDownloadLargeButtonIcon br_bi_icon_file_svg',
                    },
                    _react2.default.createElement('span', {
                      className:
                        'brChatFileDownloadLargeButtonIconInner br_bi_icon_download_svg',
                    }),
                  ),
                  _react2.default.createElement(
                    'span',
                    { style: { display: 'none' } },
                    _react2.default.createElement('form', {
                      ref: 'form',
                      target: 'iframe_' + props.message.messageFile.file_id,
                    }),
                    _react2.default.createElement('iframe', {
                      name: 'iframe_' + props.message.messageFile.file_id,
                    }),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    355: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ChatSysmsg = require('./ChatSysmsg.js')

        var _ChatSysmsg2 = _interopRequireDefault(_ChatSysmsg)

        var _ChatParagraph = require('./ChatParagraph.js')

        var _ChatParagraph2 = _interopRequireDefault(_ChatParagraph)

        var _ChatShowmorelink = require('./ChatShowmorelink.js')

        var _ChatShowmorelink2 = _interopRequireDefault(_ChatShowmorelink)

        var _uiconstants = require('../utilities/uiconstants.js')

        var _uiconstants2 = _interopRequireDefault(_uiconstants)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatList
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.chatListOpenDetailLink_onClick
         * props.panelType
         * props.panelCode
         * props.onScrollRequested
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.firstShowmorelinkNodeKey = ''
            _this.secondNodeKey = ''
            _this.secondNodeTop = 0
            _this.soonAfterScrollTop = 0
            _this.scrolledUpwardManuallyFirst = false
            _this.lastScrollTop = 0
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                if (this.secondNodeKey) {
                  var chatList = props.uiData.ucUiStore.getChatList({
                    chatType: props.panelType,
                    chatCode: props.panelCode,
                  })
                  if (chatList[1] && chatList[1].key === this.secondNodeKey) {
                    // not added yet
                  } else {
                    var prevSecondNode = _reactDom2.default.findDOMNode(
                      this.refs[this.secondNodeKey],
                    )
                    if (prevSecondNode) {
                      this.soonAfterScrollTop = 1
                      var rect = prevSecondNode.getBoundingClientRect()
                      if (typeof props.onScrollRequested === 'function') {
                        props.onScrollRequested({
                          top: rect.top - this.secondNodeTop,
                        })
                      }
                    }
                    this.secondNodeKey = ''
                  }
                }
              },
            },
            {
              key: 'savePositionBeforeReceiveMore',
              value: function savePositionBeforeReceiveMore() {
                var props = this.props
                if (this.firstShowmorelinkNodeKey) {
                  var chatList = props.uiData.ucUiStore.getChatList({
                    chatType: props.panelType,
                    chatCode: props.panelCode,
                  })
                  if (
                    chatList.length >= 2 &&
                    chatList[0].type === 'showmorelink'
                  ) {
                    var secondNode = _reactDom2.default.findDOMNode(
                      this.refs[chatList[1].key],
                    )
                    if (secondNode) {
                      var rect = secondNode.getBoundingClientRect()
                      this.secondNodeKey = chatList[1].key
                      this.secondNodeTop = rect.top
                    }
                  }
                }
              },
            },
            {
              key: 'parentScrolled',
              value: function parentScrolled(ev) {
                var props = this.props
                if (ev.top < this.lastScrollTop) {
                  this.scrolledUpwardManuallyFirst = true
                }
                this.lastScrollTop = ev.top
                if (this.scrolledUpwardManuallyFirst) {
                  if (this.soonAfterScrollTop === 1) {
                    // scrolled to secondNodeTop -> can ignore
                    this.soonAfterScrollTop = 2
                    return
                  } else if (this.soonAfterScrollTop === 2) {
                    // might be scrolled to 0 by dnd -> must ignore
                    this.soonAfterScrollTop = 0
                    return
                  }
                } else {
                  this.soonAfterScrollTop = 0
                }
                var chatShowmorelink =
                  this.firstShowmorelinkNodeKey &&
                  this.refs[this.firstShowmorelinkNodeKey]
                var node =
                  chatShowmorelink &&
                  _reactDom2.default.findDOMNode(chatShowmorelink)
                if (
                  ev &&
                  node &&
                  ev.top < node.offsetHeight &&
                  !props.uiData.configurations.iconicShowmorelink
                ) {
                  chatShowmorelink.handleClick && chatShowmorelink.handleClick()
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                var chatNodes = []
                var previousParagraph = null
                this.firstShowmorelinkNodeKey = ''
                var displayPeriodBegin = 0
                var filtered = false
                var messageCount = 0
                var showmorelinkTried = false
                if (
                  props.uiData.configurations.displayPeriodEnabled &&
                  props.panelType === 'CHAT'
                ) {
                  var displayPeriod =
                    (0, _strings.int)(
                      props.uiData.ucUiStore.getOptionalSetting({
                        key: 'display_period',
                      }),
                    ) || 15
                  var now = new Date()
                  var today = new Date(
                    now.getFullYear(),
                    now.getMonth(),
                    now.getDate(),
                  )
                  displayPeriodBegin = +today - (displayPeriod - 1) * 86400000
                }
                props.uiData.ucUiStore
                  .getChatList({
                    chatType: props.panelType,
                    chatCode: props.panelCode,
                  })
                  .forEach(function (chat, index, array) {
                    if (chat.type === 'sysmsg') {
                      chatNodes.push(
                        _react2.default.createElement(_ChatSysmsg2.default, {
                          key: chat.key,
                          ref: chat.key,
                          uiData: props.uiData,
                          sysmsg: chat,
                          nextChat: array[index + 1],
                        }),
                      )
                    } else if (chat.type === 'paragraph') {
                      var paragraphFiltered = false
                      if (displayPeriodBegin) {
                        var messageList = chat.messageList
                        var lastMessage =
                          messageList && messageList[messageList.length - 1]
                        var lastSentTimeValue =
                          lastMessage && lastMessage.sentTimeValue
                        if (
                          lastSentTimeValue &&
                          lastSentTimeValue < displayPeriodBegin
                        ) {
                          paragraphFiltered = true
                          filtered = true
                        }
                      }
                      if (!paragraphFiltered) {
                        chatNodes.push(
                          _react2.default.createElement(
                            _ChatParagraph2.default,
                            {
                              key: chat.key,
                              ref: chat.key,
                              uiData: props.uiData,
                              panelType: props.panelType,
                              panelCode: props.panelCode,
                              paragraph: chat,
                              previousParagraph: previousParagraph,
                              isLast: index === array.length - 1,
                            },
                          ),
                        )
                        previousParagraph = chat
                      }
                      messageCount += (0, _strings.int)(
                        chat.messageList && chat.messageList.length,
                      )
                    } else if (chat.type === 'showmorelink') {
                      if (index === 0) {
                        _this2.firstShowmorelinkNodeKey = chat.key
                      }
                      var showmorelinkEntry =
                        props.uiData.ucUiStore.getShowmorelinkTable()[
                          chat.showmorelink_id
                        ] || {}
                      if (
                        !showmorelinkEntry.nowReceiving &&
                        showmorelinkEntry.tried
                      ) {
                        showmorelinkTried = true
                      }
                      chatNodes.push(
                        _react2.default.createElement(
                          _ChatShowmorelink2.default,
                          {
                            key: chat.key,
                            ref: chat.key,
                            uiData: props.uiData,
                            showmorelink: chat,
                            isFirst: index === 0,
                            isIconicShowmorelink:
                              props.uiData.configurations.iconicShowmorelink,
                            begin: displayPeriodBegin,
                            onClick:
                              _this2.savePositionBeforeReceiveMore.bind(_this2),
                          },
                        ),
                      )
                    }
                  })
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brChatList' +
                      (filtered ||
                      (displayPeriodBegin &&
                        messageCount <
                          _uiconstants2.default.SEARCH_PREV_NEXT_TEXTS_MAX &&
                        showmorelinkTried)
                        ? ' brFiltered'
                        : ''),
                  },
                  _react2.default.createElement(
                    'a',
                    {
                      className: 'brChatListOpenDetailLink',
                      href: 'javascript:void(0)',
                      onClick: props.uiData.fire.bind(
                        props.uiData,
                        'chatListOpenDetailLink_onClick',
                        props.panelType,
                        props.panelCode,
                      ),
                    },
                    _uawmsgs2.default.LBL_CHAT_LIST_OPEN_DETAIL_LINK_CONTENT,
                  ),
                  chatNodes,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        '../utilities/uiconstants.js': 394,
        './ChatParagraph.js': 358,
        './ChatShowmorelink.js': 359,
        './ChatSysmsg.js': 360,
        react: 341,
        'react-dom': 195,
      },
    ],
    356: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _NameEmbeddedSpan = require('./NameEmbeddedSpan.js')

        var _NameEmbeddedSpan2 = _interopRequireDefault(_NameEmbeddedSpan)

        var _ChatFileDownloadButton = require('./ChatFileDownloadButton.js')

        var _ChatFileDownloadButton2 = _interopRequireDefault(
          _ChatFileDownloadButton,
        )

        var _ChatFileDownloadLargeButton = require('./ChatFileDownloadLargeButton.js')

        var _ChatFileDownloadLargeButton2 = _interopRequireDefault(
          _ChatFileDownloadLargeButton,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        var urlRegExp = new RegExp(
          "https?://[\\w!#\\$%&'\\(\\)\\*\\+,\\-\\./:;=\\?@~]+",
          'g',
        )
        var urlRegExpNG = new RegExp(
          '"https?://[\\w!#\\$%&\'\\(\\)\\*\\+,\\-\\./:;=\\?@~]+',
          'g',
        )

        /**
         * ChatMessage
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.chatFileOpenInNewWindowButton_onClick
         * props.uiData.chatFileCancelButton_onClick
         * props.uiData.chatInlineImage_onClick
         * props.uiData.chatInlineImage_onLoad
         * props.message
         * props.message.senderInfo
         * props.message.ctype
         * props.message.messageText
         * props.message.errorType
         * props.message.errorDetail
         * props.message.messageFile
         * props.message.replyEnabled
         * props.message.sentTimeValue
         * props.isLastOfLast
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var profile = props.uiData.ucUiStore
                  .getChatClient()
                  .getProfile()
                var className = 'brChatMessage'
                var chatMessageInnerElements = []
                if (props.message.ctype === _constants2.default.CTYPE_TEXT) {
                  // messageError
                  if (props.message.errorType) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement('span', {
                        key: 'error',
                        className: 'brChatMessageError br_bi_icon_error_svg',
                        title:
                          _uawmsgs2.default[props.message.errorType] +
                          '\n\n' +
                          props.message.errorDetail,
                      }),
                    )
                  }
                  // messageText
                  var messageText = props.message.messageText
                  // url to link
                  if (!messageText.match(urlRegExpNG)) {
                    messageText = messageText.replace(
                      urlRegExp,
                      '<a href="$&" class="brChatUrlLink brCancelChatAreaClick" target="_blank">$&</a>',
                    )
                  }
                  // brReplyButton to brReplyButton brDisabled
                  if (
                    !props.message.replyEnabled ||
                    (
                      props.uiData.ucUiStore.getBuddyUserForUi(
                        props.message.senderInfo,
                      ) || {}
                    ).isMe
                  ) {
                    messageText = messageText.replace(
                      /class="[^"]*brReplyButton[^"]*/g,
                      '$& brDisabled',
                    )
                  } else if (
                    profile.user_type <
                      (props.uiData.configurations.replyButtonEnabledUserType ||
                        4) &&
                    !props.isLastOfLast &&
                    !props.uiData.configurations.replyButtonRepeatable
                  ) {
                    messageText = messageText.replace(
                      /class="[^"]*brReplyButton[^"]*/g,
                      '$& brDisabled',
                    )
                    messageText = messageText.replace(
                      /class="[^"]*brAgent[^"]*brRepeatable[^"]*brDisabled/g,
                      '$&Not',
                    )
                    messageText = messageText.replace(
                      /class="[^"]*brRepeatable[^"]*brAgent[^"]*brDisabled/g,
                      '$&Not',
                    )
                  } else if (
                    profile.user_type <
                    (props.uiData.configurations.replyButtonEnabledUserType ||
                      4)
                  ) {
                    messageText = messageText.replace(
                      /class="[^"]*brReplyButton[^"]*/g,
                      '$& brDisabled',
                    )
                    messageText = messageText.replace(
                      /class="[^"]*brAgent[^"]*brDisabled/g,
                      '$&Not',
                    )
                  } else if (
                    !props.isLastOfLast &&
                    !props.uiData.configurations.replyButtonRepeatable
                  ) {
                    messageText = messageText.replace(
                      /class="[^"]*brReplyButton[^"]*/g,
                      '$& brDisabled',
                    )
                    messageText = messageText.replace(
                      /class="[^"]*brRepeatable[^"]*brDisabled/g,
                      '$&Not',
                    )
                  }
                  chatMessageInnerElements.push(
                    _react2.default.createElement('span', {
                      key: 'text',
                      dangerouslySetInnerHTML: { __html: messageText },
                    }),
                  )
                } else if (
                  props.message.ctype ===
                    _constants2.default.CTYPE_FILE_REQUEST &&
                  props.message.messageFile
                ) {
                  className += ' brChatFileMessage'
                  if (
                    props.message.messageFile.status ===
                      _constants2.default.FILE_STATUS_LOCAL_CANCEL ||
                    props.message.messageFile.status ===
                      _constants2.default.FILE_STATUS_REMOTE_CANCEL
                  ) {
                    className += ' brChatFileMessageCanceled'
                  }
                  // messageError
                  if (props.message.errorType) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement('span', {
                        key: 'error',
                        className: 'brChatMessageError br_bi_icon_error_svg',
                        title:
                          _uawmsgs2.default[props.message.errorType] +
                          '\n\n' +
                          props.message.errorDetail,
                      }),
                    )
                  } else if (props.message.messageFile.messageFileError) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement('span', {
                        key: 'error',
                        className: 'brChatMessageError br_bi_icon_error_svg',
                        title: props.message.messageFile.messageFileError,
                      }),
                    )
                  } else if (
                    props.message.messageFile.status ===
                    _constants2.default.FILE_STATUS_ERROR
                  ) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement('span', {
                        key: 'error',
                        className: 'brChatMessageError br_bi_icon_error_svg',
                        title: _uawmsgs2.default.MSG_FILE_STATUS_ERROR,
                      }),
                    )
                  }
                  // fileName
                  if (
                    props.uiData.ucUiStore.getBuddyUserForUi(
                      props.message.messageFile.receiverInfo,
                    ).isMe
                  ) {
                    // receiver is me
                    if (
                      props.message.messageFile.status !==
                      _constants2.default.FILE_STATUS_UNPREPARED
                    ) {
                      // file download button
                      chatMessageInnerElements.push(
                        _react2.default.createElement(
                          _ChatFileDownloadButton2.default,
                          {
                            key: 'name',
                            uiData: props.uiData,
                            message: props.message,
                          },
                        ),
                      )
                    } else {
                      // display only file name
                      chatMessageInnerElements.push(
                        _react2.default.createElement(
                          'span',
                          { key: 'name' },
                          _react2.default.createElement('span', {
                            className:
                              'brChatMessageFileIcon br_bi_icon_download_svg',
                            title: _uawmsgs2.default.LBL_CHAT_FILE_ICON_TOOLTIP,
                          }),
                          props.message.messageFile.name,
                        ),
                      )
                    }
                  } else {
                    // display file name with receiver
                    chatMessageInnerElements.push(
                      _react2.default.createElement(
                        'span',
                        { key: 'name' },
                        _react2.default.createElement('span', {
                          className:
                            'brChatMessageFileIcon br_bi_icon_upload_svg',
                          title: _uawmsgs2.default.LBL_CHAT_FILE_ICON_TOOLTIP,
                        }),
                        props.message.messageFile.name,
                        _react2.default.createElement(
                          _NameEmbeddedSpan2.default,
                          {
                            ucUiStore: props.uiData.ucUiStore,
                            format: ' → {0}',
                            buddy: props.message.messageFile.receiverInfo,
                          },
                        ),
                      ),
                    )
                  }
                  // openInNewWindowButton
                  if (
                    props.message.messageFile.inlineImage &&
                    props.message.messageFile.inlineImage.url
                  ) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement(_ButtonIconic2.default, {
                        key: 'open',
                        className:
                          'brChatFileOpenInNewWindowButton br_bi_icon_externallink_svg',
                        title:
                          _uawmsgs2.default
                            .LBL_CHAT_FILE_FILE_OPEN_IN_NEW_WINDOW_BUTTON_TOOLTIP,
                        onClick: props.uiData.fire.bind(
                          props.uiData,
                          'chatFileOpenInNewWindowButton_onClick',
                          props.message.messageFile.inlineImage.url,
                        ),
                      }),
                    )
                  }
                  // fileSize
                  if (
                    props.message.messageFile.status !==
                    _constants2.default.FILE_STATUS_UNPREPARED
                  ) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement(
                        'span',
                        { key: 'size' },
                        _react2.default.createElement('br', null),
                        (0, _strings.formatFileSize)(
                          props.message.messageFile.size,
                        ),
                        (props.message.messageFile.progress < 10 ? ' ' : '') + // &numsp; (figure space)
                          ' (' +
                          props.message.messageFile.progress +
                          '%)',
                      ),
                    )
                  }
                  // cancelButton
                  chatMessageInnerElements.push(
                    _react2.default.createElement(_ButtonIconic2.default, {
                      key: 'cancelbutton',
                      className: 'brChatFileCancelButton br_bi_icon_cancel_svg',
                      hidden:
                        props.message.messageFile.status !==
                          _constants2.default.FILE_STATUS_UNACCEPTED &&
                        props.message.messageFile.status !==
                          _constants2.default.FILE_STATUS_TRANSFERRING,
                      title:
                        _uawmsgs2.default.LBL_CHAT_FILE_CANCEL_BUTTON_TOOLTIP,
                      onClick: props.uiData.fire.bind(
                        props.uiData,
                        'chatFileCancelButton_onClick',
                        props.message.messageFile,
                      ),
                    }),
                  )
                  // inlineImage
                  if (props.message.messageFile.inlineImage) {
                    if (props.message.messageFile.inlineImage.url) {
                      chatMessageInnerElements.push(
                        _react2.default.createElement(
                          'span',
                          { key: 'inlineimage' },
                          _react2.default.createElement('br', null),
                          _react2.default.createElement(
                            'span',
                            {
                              className: 'brChatInlineImageArea',
                              title:
                                _uawmsgs2.default
                                  .LBL_CHAT_FILE_INLINE_IMAGE_TOOLTIP,
                            },
                            _react2.default.createElement('img', {
                              className:
                                'brChatInlineImage brCancelChatAreaClick',
                              src: props.message.messageFile.inlineImage.url,
                              draggable: 'false',
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'chatInlineImage_onClick',
                                props.message.messageFile.inlineImage.url,
                              ),
                              onLoad: props.uiData.fire.bind(
                                props.uiData,
                                'chatInlineImage_onLoad',
                                props.message.messageFile,
                              ),
                            }),
                          ),
                        ),
                      )
                    } else if (props.message.messageFile.inlineImage.loading) {
                      chatMessageInnerElements.push(
                        _react2.default.createElement(
                          'span',
                          { key: 'inlineimage' },
                          _react2.default.createElement('br', null),
                          _react2.default.createElement(
                            'span',
                            { className: 'brChatInlineImageProgress' },
                            _react2.default.createElement('img', {
                              className: 'brChatInlineImageDummy',
                            }),
                          ),
                        ),
                      )
                    }
                  }
                  // download large button
                  if (
                    props.uiData.ucUiStore.getBuddyUserForUi(
                      props.message.messageFile.receiverInfo,
                    ).isMe &&
                    props.message.messageFile.status !==
                      _constants2.default.FILE_STATUS_UNPREPARED &&
                    !(
                      props.message.messageFile.inlineImage &&
                      (props.message.messageFile.inlineImage.url ||
                        props.message.messageFile.inlineImage.loading)
                    )
                  ) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement(
                        'span',
                        { key: 'downloadlargebutton' },
                        _react2.default.createElement('br', null),
                        _react2.default.createElement(
                          _ChatFileDownloadLargeButton2.default,
                          { uiData: props.uiData, message: props.message },
                        ),
                      ),
                    )
                  }
                } else if (
                  props.message.ctype === _constants2.default.CTYPE_CALL_RESULT
                ) {
                  var callResult = {}
                  try {
                    callResult = JSON.parse(props.message.messageText) || {}
                  } catch (ex) {}
                  var senderUser =
                    (!callResult.externalincoming &&
                      props.uiData.ucUiStore.getBuddyUserForUi(
                        props.message.senderInfo,
                      )) ||
                    {}
                  var min = Math.floor(
                    (0, _strings.int)(callResult.talklen) / 60000,
                  )
                  var sec =
                    0 < callResult.talklen && callResult.talklen < 1000
                      ? 1
                      : Math.floor(
                          ((0, _strings.int)(callResult.talklen) % 60000) /
                            1000,
                        )
                  // messageCallResultIcon
                  chatMessageInnerElements.push(
                    _react2.default.createElement(
                      'span',
                      {
                        key: 'callresulticon',
                        className:
                          'brChatMessageCallResultIcon br_bi_icon_phone_svg' +
                          (senderUser.isMe ? '' : ' brIncoming') +
                          (callResult.talklen ? '' : ' brMissed'),
                        title: senderUser.isMe
                          ? callResult.talklen
                            ? _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING
                            : _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING_MISSED
                          : callResult.talklen
                            ? _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING
                            : _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING_MISSED,
                      },
                      _react2.default.createElement('span', {
                        className:
                          'brChatMessageCallResultIconIcon br_bi_icon_close_svg',
                      }),
                    ),
                  )
                  // messageCallResultMessage
                  chatMessageInnerElements.push(
                    _react2.default.createElement(
                      'span',
                      {
                        key: 'callresultmessage',
                        className: 'brChatMessageCallResultMessage',
                      },
                      _react2.default.createElement(
                        'span',
                        { className: 'brChatMessageCallResultMessageTime' },
                        (0, _strings.string)(
                          props.message.sentTimeValue &&
                            (0, _strings.formatTime)(
                              (0, _strings.int)(props.message.sentTimeValue) -
                                (0, _strings.int)(callResult.talklen),
                            ),
                        ),
                      ),
                      _react2.default.createElement(
                        'span',
                        {
                          className: 'brChatMessageCallResultMessageDirection',
                        },
                        senderUser.isMe
                          ? callResult.talklen
                            ? _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING
                            : _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING_MISSED
                          : callResult.talklen
                            ? _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING
                            : _uawmsgs2.default
                                .LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING_MISSED,
                      ),
                      _react2.default.createElement(
                        'span',
                        { className: 'brChatMessageCallResultMessageLength' },
                        min > 0
                          ? (0, _strings.formatStr)(
                              _uawmsgs2.default.LBL_CHAT_CALL_RESULT_LENGTH_MIN,
                              min,
                              sec,
                            )
                          : sec > 0
                            ? (0, _strings.formatStr)(
                                _uawmsgs2.default
                                  .LBL_CHAT_CALL_RESULT_LENGTH_SEC,
                                sec,
                              )
                            : '',
                      ),
                    ),
                  )
                } else if (
                  props.message.ctype === _constants2.default.CTYPE_OBJECT &&
                  props.message.messageText
                ) {
                  // messageError
                  if (props.message.errorType) {
                    chatMessageInnerElements.push(
                      _react2.default.createElement('span', {
                        key: 'error',
                        className: 'brChatMessageError br_bi_icon_error_svg',
                        title:
                          _uawmsgs2.default[props.message.errorType] +
                          '\n\n' +
                          props.message.errorDetail,
                      }),
                    )
                  }
                  // messageText
                  var _messageText = props.message.messageText
                  chatMessageInnerElements.push(
                    _react2.default.createElement('span', {
                      key: 'text',
                      dangerouslySetInnerHTML: { __html: _messageText },
                    }),
                  )
                } else {
                  // messageError
                  chatMessageInnerElements.push(
                    _react2.default.createElement('span', {
                      key: 'error',
                      className: 'brChatMessageError br_bi_icon_error_svg',
                      title: _uawmsgs2.default.MSG_UNKNOWN_CONTENTS,
                    }),
                  )
                }
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      className + (props.isLastOfLast ? ' brLastOfLast' : ''),
                  },
                  chatMessageInnerElements,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './ChatFileDownloadButton.js': 353,
        './ChatFileDownloadLargeButton.js': 354,
        './NameEmbeddedSpan.js': 381,
        react: 341,
      },
    ],
    357: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _ChatMessage = require('./ChatMessage.js')

        var _ChatMessage2 = _interopRequireDefault(_ChatMessage)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * ChatMessageList
         * props.uiData
         * props.uiData.ucUiStore
         * props.messageList
         * props.isLast
         */

        exports.default = function (props) {
          var messageNodes = props.messageList.map(
            function (message, index, array) {
              return _react2.default.createElement(_ChatMessage2.default, {
                key: message.key,
                uiData: props.uiData,
                message: message,
                isLastOfLast: props.isLast && index === array.length - 1,
              })
            },
          )
          return _react2.default.createElement(
            'div',
            { className: 'brChatMessageList' },
            messageNodes,
          )
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ChatMessage.js': 356,
        react: 341,
      },
    ],
    358: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _ChatMessageList = require('./ChatMessageList.js')

        var _ChatMessageList2 = _interopRequireDefault(_ChatMessageList)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatParagraph
         * props.uiData
         * props.uiData.ucUiStore
         * props.panelType
         * props.panelCode
         * props.paragraph
         * props.paragraph.messageList
         * props.previousParagraph
         * props.isLast
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.mailSubject = null
            return _this
          }

          _createClass(_class, [
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var firstMessage = props.paragraph.messageList[0]
                var senderInfo = firstMessage && firstMessage.senderInfo
                var user =
                  senderInfo &&
                  props.uiData.ucUiStore.getBuddyUserForUi(senderInfo)
                var user_name =
                  firstMessage.conf_type === 'webchat'
                    ? (0, _strings.string)(user && user.display_name)
                    : (0, _strings.string)(user && user.name)
                var isMe = Boolean(user && user.isMe)
                var paragraphClassIndex = (0, _strings.int)(
                  user && user.paragraphClassIndex,
                )
                var profile_image_url = (0, _strings.string)(
                  user && user.profile_image_url,
                )
                var topic_id = (0, _strings.string)(
                  firstMessage && firstMessage.topic_id,
                )
                var errorType = (0, _strings.string)(
                  firstMessage && firstMessage.errorType,
                )
                var unreached = Boolean(firstMessage && firstMessage.unreached)
                var messageTimeValue = (0, _strings.int)(
                  firstMessage && firstMessage.sentTimeValue,
                )
                var messageTime = (0, _strings.string)(
                  messageTimeValue &&
                    (0, _strings.formatMessageDateTime)(messageTimeValue),
                )
                var previousFirstMessage =
                  props.previousParagraph &&
                  props.previousParagraph.messageList &&
                  props.previousParagraph.messageList[0]
                var previous_topic_id = (0, _strings.string)(
                  previousFirstMessage && previousFirstMessage.topic_id,
                )
                var previousMessageTimeValue = (0, _strings.int)(
                  previousFirstMessage && previousFirstMessage.sentTimeValue,
                )
                if (!this.mailSubject && this.mailSubject !== '') {
                  this.mailSubject =
                    firstMessage &&
                    firstMessage.messageExtInfo &&
                    firstMessage.messageExtInfo.mailSubject
                  if (!this.mailSubject && this.mailSubject !== '') {
                    if (props.panelType === 'CONFERENCE') {
                      var conf_id = (
                        props.uiData.ucUiStore.getChatHeaderInfo({
                          chatType: props.panelType,
                          chatCode: props.panelCode,
                        }) || {}
                      ).conf_id
                      var conference =
                        conf_id &&
                        props.uiData.ucUiStore
                          .getChatClient()
                          .getConference(conf_id)
                      this.mailSubject = conference
                        ? props.uiData.ucUiStore.getMailSubject(conference)
                        : ''
                    } else {
                      this.mailSubject = ''
                    }
                  }
                }
                var className =
                  'brChatParagraph brParagraph' + paragraphClassIndex
                if (isMe) {
                  className += ' brIsMe'
                }
                if (errorType) {
                  className += ' brHasError'
                }
                if (unreached) {
                  className += ' brUnreached'
                }
                var topicSplitter = ''
                if (
                  topic_id &&
                  previous_topic_id &&
                  topic_id !== previous_topic_id
                ) {
                  className += ' brWithTopicSplitter'
                  if (
                    new Date(messageTimeValue).toDateString() !==
                    new Date(previousMessageTimeValue).toDateString()
                  ) {
                    topicSplitter = _react2.default.createElement(
                      'div',
                      { className: 'brTopicSplitter' },
                      _react2.default.createElement(
                        'span',
                        { className: 'brTopicSplitterDate brWithDate' },
                        (0, _strings.string)(
                          messageTimeValue &&
                            (0, _strings.formatMessageDate)(messageTimeValue),
                        ),
                      ),
                    )
                  } else {
                    topicSplitter = _react2.default.createElement(
                      'div',
                      { className: 'brTopicSplitter' },
                      _react2.default.createElement('span', {
                        className: 'brTopicSplitterDate',
                      }),
                    )
                  }
                }
                var callResult = {}
                if (
                  firstMessage &&
                  firstMessage.ctype === _constants2.default.CTYPE_CALL_RESULT
                ) {
                  try {
                    callResult = JSON.parse(firstMessage.messageText) || {}
                  } catch (ex) {}
                }
                return _react2.default.createElement(
                  'div',
                  { className: className },
                  topicSplitter,
                  _react2.default.createElement('div', {
                    className:
                      'brChatMessageImage' +
                      (!callResult.externalincoming && profile_image_url
                        ? ''
                        : ' brNoImage') +
                      (profile_image_url &&
                      (0, _strings.string)(profile_image_url).indexOf(
                        _constants2.default.PROFILE_IMAGE_URL_DOWNLOAD,
                      ) === -1
                        ? ' brMyProfileImageUrl'
                        : ''),
                    title: !callResult.externalincoming ? user_name : '',
                    style:
                      !callResult.externalincoming && profile_image_url
                        ? { backgroundImage: 'url(' + profile_image_url + ')' }
                        : {},
                  }),
                  _react2.default.createElement(
                    'div',
                    { className: 'brChatMessageName' },
                    !callResult.externalincoming ? user_name : '',
                  ),
                  _react2.default.createElement('span', null, ' '),
                  _react2.default.createElement(
                    'div',
                    { className: 'brChatMessageTime' },
                    messageTime,
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'brChatMessageMailSubject' },
                    (0, _strings.string)(this.mailSubject),
                  ),
                  _react2.default.createElement(_ChatMessageList2.default, {
                    uiData: props.uiData,
                    messageList: props.paragraph.messageList,
                    isLast: props.isLast,
                  }),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ChatMessageList.js': 357,
        react: 341,
      },
    ],
    359: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatShowmorelink
         * props.uiData
         * props.uiData.ucUiAction
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.showmorelink
         * props.showmorelink.showmorelink_id
         * props.showmorelink.unread
         * props.isFirst
         * props.isIconicShowmorelink
         * props.begin
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (
                  !(ev && ev.button >= 0) &&
                  (
                    props.uiData.ucUiStore.getShowmorelinkTable()[
                      props.showmorelink.showmorelink_id
                    ] || {}
                  ).errorType
                ) {
                  // auto (not mouse) and error
                  return
                }
                if (typeof props.onClick === 'function') {
                  props.onClick(ev)
                }
                // receiveMore
                props.uiData.ucUiAction.receiveMore({
                  showmorelink_id: props.showmorelink.showmorelink_id,
                  begin: props.begin,
                })
                this.render()
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var showmorelinkEntry =
                  props.uiData.ucUiStore.getShowmorelinkTable()[
                    props.showmorelink.showmorelink_id
                  ] || {}
                var className = 'brChatShowmorelink'
                if (props.showmorelink.unread) {
                  className += ' brChatUnread'
                }
                if (props.isFirst) {
                  className += ' brFirst'
                }
                if (props.isIconicShowmorelink) {
                  className += ' brIconicShowmorelink'
                }
                if (showmorelinkEntry.nowReceiving) {
                  className += ' brProgress'
                }
                if (showmorelinkEntry.errorType) {
                  className += ' brError br_bi_icon_error_svg'
                }
                if (
                  props.isIconicShowmorelink &&
                  !showmorelinkEntry.nowReceiving &&
                  !showmorelinkEntry.errorType
                ) {
                  className += props.isFirst
                    ? ' br_bi_icon_chevron_up_svg'
                    : ' br_bi_icon_chevron_down_svg'
                }
                if (props.uiData.configurations.moreMessages) {
                  return _react2.default.createElement(
                    'div',
                    {
                      className: className,
                      title:
                        (_uawmsgs2.default[showmorelinkEntry.errorType] ||
                          showmorelinkEntry.errorType) +
                        (showmorelinkEntry.errorDetail
                          ? ' (' + showmorelinkEntry.errorDetail + ')'
                          : ''),
                    },
                    _react2.default.createElement(
                      'a',
                      {
                        className:
                          'brChatShowmorelinkLink brCancelChatAreaClick',
                        href: 'javascript:void(0)',
                        onClick: this.handleClick.bind(this),
                      },
                      _uawmsgs2.default.LBL_CHAT_SHOWMORELINK_CONTENT,
                    ),
                    _react2.default.createElement(
                      'span',
                      { className: 'brChatUnreadContent' },
                      _uawmsgs2.default.LBL_CHAT_UNREAD_CONTENT,
                    ),
                    _react2.default.createElement('div', {
                      className: 'brChatShowmorelinkInner',
                    }),
                  )
                } else {
                  return _react2.default.createElement('div', null)
                }
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    360: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _NameEmbeddedSpan = require('./NameEmbeddedSpan.js')

        var _NameEmbeddedSpan2 = _interopRequireDefault(_NameEmbeddedSpan)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ChatSysmsg
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.sysmsg
         * props.sysmsg.sysmsgLevel
         * props.sysmsg.sysmsgType
         * props.sysmsg.buddy
         * props.sysmsg.sysmsgData
         * props.nextChat
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var className = 'brChatSysmsg'
                if (props.sysmsg.sysmsgLevel === 'error') {
                  className += ' brChatError'
                }
                if (
                  props.sysmsg.sysmsgType === 'MSG_CONFERENCE_MEMBER_OFFLINE'
                ) {
                  className += ' brConferenceMemberOffline'
                }
                if (
                  props.sysmsg.sysmsgType === 'MSG_CONFERENCE_MEMBER_ONLINE'
                ) {
                  className += ' brConferenceMemberOnline'
                }
                if (!props.nextChat) {
                  className += ' brEndOfChatList'
                } else if (
                  props.nextChat.type === 'sysmsg' &&
                  props.nextChat.sysmsgType === 'MSG_CONFERENCE_MEMBER_ONLINE'
                ) {
                  className += ' brBeforeOnline'
                }
                var style = {}
                if (props.uiData.configurations.sysmsgDelay) {
                  style.animationDelay = props.uiData.configurations.sysmsgDelay
                }
                var format = _uawmsgs2.default[props.sysmsg.sysmsgType] || '{0}'
                return _react2.default.createElement(
                  'div',
                  { className: className, style: style },
                  props.sysmsg.sysmsgData
                    ? format.split('{0}').join(props.sysmsg.sysmsgData)
                    : _react2.default.createElement(
                        _NameEmbeddedSpan2.default,
                        {
                          ucUiStore: props.uiData.ucUiStore,
                          format: format,
                          buddy: props.sysmsg.buddy,
                        },
                      ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './NameEmbeddedSpan.js': 381,
        react: 341,
      },
    ],
    361: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _NameEmbeddedSpan = require('./NameEmbeddedSpan.js')

        var _NameEmbeddedSpan2 = _interopRequireDefault(_NameEmbeddedSpan)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * ChatTyping
         * props.uiData
         * props.uiData.ucUiStore
         * props.panelType
         * props.panelCode
         */

        exports.default = function (props) {
          var typingBuddy = props.uiData.ucUiStore.getTypingBuddy({
            chatType: props.panelType,
            chatCode: props.panelCode,
          })
          if (typingBuddy && typingBuddy.user_id) {
            return _react2.default.createElement(
              'div',
              { className: 'brChatTyping brVisible' },
              _react2.default.createElement(_NameEmbeddedSpan2.default, {
                ucUiStore: props.uiData.ucUiStore,
                format: _uawmsgs2.default.MSG_TYPING,
                buddy: typingBuddy,
              }),
            )
          } else {
            return _react2.default.createElement(
              'div',
              { className: 'brChatTyping' },
              String.fromCharCode(160) /* &nbsp; */,
            )
          }
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './NameEmbeddedSpan.js': 381,
        react: 341,
      },
    ],
    362: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _NameEmbeddedSpan = require('./NameEmbeddedSpan.js')

        var _NameEmbeddedSpan2 = _interopRequireDefault(_NameEmbeddedSpan)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ConferenceInviteForm
         * props.uiData
         * props.uiData.ucUiStore
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              subject: _uawmsgs2.default.LBL_CONFERENCE_INVITE_SUBJECT_NONE,
              subjectError: '',
              selectedGroupName: '',
              selectedBuddyTable: {},
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var conferenceInviteSubjectInput =
                  _reactDom2.default.findDOMNode(
                    this.refs['conferenceInviteSubjectInput'],
                  )
                setTimeout(function () {
                  conferenceInviteSubjectInput.focus()
                  conferenceInviteSubjectInput.select()
                }, 0)
              },
            },
            {
              key: 'handleConferenceInviteSubjectInputChange',
              value: function handleConferenceInviteSubjectInputChange(ev) {
                var props = this.props
                this.setState({
                  subject: (0, _strings.string)(ev.target.value),
                })
              },
            },
            {
              key: 'handleConferenceInviteSubjectInputBlur',
              value: function handleConferenceInviteSubjectInputBlur(ev) {
                var props = this.props
                var newState = {
                  subject: (0, _strings.string)(ev.target.value),
                }
                if (!newState.subject) {
                  newState.subjectError =
                    _uawmsgs2.default.MSG_CONFERENCE_INVITE_SUBJECT_REQUIRED
                } else if (this.state.subjectError) {
                  newState.subjectError = ''
                }
                this.setState(newState)
              },
            },
            {
              key: 'handleConferenceInviteSubjectInputKeyDown',
              value: function handleConferenceInviteSubjectInputKeyDown(ev) {
                var props = this.props
                if (ev && ev.keyCode === 13 && !ev.shiftKey) {
                  var newState = {
                    subject: (0, _strings.string)(ev.target.value),
                  }
                  if (!newState.subject) {
                    newState.subjectError =
                      _uawmsgs2.default.MSG_CONFERENCE_INVITE_SUBJECT_REQUIRED
                  } else if (this.state.subjectError) {
                    newState.subjectError = ''
                  }
                  this.setState(newState)
                }
              },
            },
            {
              key: 'handleConferenceInviteGroupItemClick',
              value: function handleConferenceInviteGroupItemClick(
                groupName,
                ev,
              ) {
                var props = this.props
                var profile = props.uiData.ucUiStore
                  .getChatClient()
                  .getProfile()
                var buddyTable =
                  props.uiData.ucUiStore.getBuddyTable()[profile.tenant] || {}
                var selectedBuddyTable = {}
                Object.keys(buddyTable).forEach(function (key) {
                  var buddy = buddyTable[key]
                  if (
                    !buddy.isMe &&
                    buddy.isBuddy &&
                    !buddy.isTemporaryBuddy &&
                    buddy.group === groupName &&
                    groupName
                  ) {
                    if (!selectedBuddyTable[buddy.tenant]) {
                      selectedBuddyTable[buddy.tenant] = {}
                    }
                    selectedBuddyTable[buddy.tenant][buddy.user_id] = true
                  }
                })
                this.setState({
                  selectedGroupName: groupName,
                  selectedBuddyTable: selectedBuddyTable,
                })
              },
            },
            {
              key: 'handleConferenceInviteBuddyItemClick',
              value: function handleConferenceInviteBuddyItemClick(buddy, ev) {
                var props = this.props
                var selectedBuddyTable = this.state.selectedBuddyTable
                if (!selectedBuddyTable[buddy.tenant]) {
                  selectedBuddyTable[buddy.tenant] = {}
                }
                if (!selectedBuddyTable[buddy.tenant][buddy.user_id]) {
                  selectedBuddyTable[buddy.tenant][buddy.user_id] = true
                } else {
                  delete selectedBuddyTable[buddy.tenant][buddy.user_id]
                }
                this.setState({ selectedBuddyTable: selectedBuddyTable })
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                var conference =
                  props.params &&
                  props.params.panelType === 'CONFERENCE' &&
                  props.uiData.ucUiStore
                    .getChatClient()
                    .getConference(
                      (0, _strings.string)(
                        props.uiData.ucUiStore.getChatHeaderInfo({
                          chatType: props.params.panelType,
                          chatCode: props.params.panelCode,
                        }).conf_id,
                      ),
                    )
                var profile = props.uiData.ucUiStore
                  .getChatClient()
                  .getProfile()
                var buddyTable =
                  props.uiData.ucUiStore.getBuddyTable()[profile.tenant] || {}
                var groupTable = {}
                groupTable[''] = -1
                var buddies = Object.keys(buddyTable)
                  .filter(function (key) {
                    return (
                      !buddyTable[key].isMe &&
                      buddyTable[key].isBuddy &&
                      !buddyTable[key].isTemporaryBuddy
                    )
                  })
                  .sort(function (key1, key2) {
                    return (
                      (buddyTable[key1].groupIndex >>> 0) -
                        (buddyTable[key2].groupIndex >>> 0) ||
                      (0, _strings.int)(buddyTable[key1].buddyIndex) -
                        (0, _strings.int)(buddyTable[key2].buddyIndex)
                    )
                  })
                  .map(function (key) {
                    var buddy = buddyTable[key]
                    var groupName = (0, _strings.string)(buddy.group)
                    if (groupName && !groupTable[groupName]) {
                      groupTable[groupName] = (0, _strings.int)(
                        buddy.groupIndex,
                      )
                    }
                    return {
                      tenant: buddy.tenant,
                      user_id: buddy.user_id,
                      selected:
                        _this2.state.selectedBuddyTable &&
                        _this2.state.selectedBuddyTable[buddy.tenant] &&
                        _this2.state.selectedBuddyTable[buddy.tenant][
                          buddy.user_id
                        ],
                      disabled:
                        conference &&
                        conference.user.some(function (u) {
                          return (
                            u.tenant === buddy.tenant &&
                            u.user_id === buddy.user_id &&
                            (u.conf_status ===
                              _constants2.default.CONF_STATUS_INVITED ||
                              u.conf_status ===
                                _constants2.default.CONF_STATUS_JOINED)
                          )
                        }),
                      hidden:
                        props.uiData.ucUiStore
                          .getChatClient()
                          .getBuddyStatus(buddy).status ===
                        _constants2.default.STATUS_OFFLINE,
                    }
                  })
                return _react2.default.createElement(
                  'div',
                  { className: 'brConferenceInviteForm' },
                  _react2.default.createElement(
                    'table',
                    { className: 'brConferenceInviteTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_CONFERENCE_INVITE_SUBJECT,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(_TextBox2.default, {
                            ref: 'conferenceInviteSubjectInput',
                            type: 'text',
                            className: 'brConferenceInviteSubjectInput',
                            value: conference
                              ? conference.subject
                              : this.state.subject,
                            disabled: conference,
                            onChange:
                              this.handleConferenceInviteSubjectInputChange.bind(
                                this,
                              ),
                            onBlur:
                              this.handleConferenceInviteSubjectInputBlur.bind(
                                this,
                              ),
                            onKeyDown:
                              this.handleConferenceInviteSubjectInputKeyDown.bind(
                                this,
                              ),
                          }),
                          _react2.default.createElement(
                            'div',
                            {
                              className:
                                'brConferenceInviteSubjectError' +
                                (this.state.subjectError ? ' brError' : ''),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brConferenceInviteSubjectErrorIcon br_bi_icon_error_svg',
                            }),
                            this.state.subjectError,
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_CONFERENCE_INVITE_GROUP,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            _DropDownMenu2.default,
                            {
                              uiData: props.uiData,
                              className: 'brConferenceInviteGroupMenu',
                              disabled: conference,
                              text: conference
                                ? ''
                                : this.state.selectedGroupName ||
                                  _uawmsgs2.default
                                    .LBL_CONFERENCE_INVITE_GROUP_NONE,
                            },
                            Object.keys(groupTable)
                              .sort(function (groupName1, groupName2) {
                                return (
                                  groupTable[groupName1] -
                                  groupTable[groupName2]
                                )
                              })
                              .map(function (groupName) {
                                return _react2.default.createElement(
                                  _MenuItem2.default,
                                  {
                                    key: groupName,
                                    className:
                                      'brConferenceInviteFormMenuItem brConferenceInviteGroupItem',
                                    dropDown: true,
                                    onClick:
                                      _this2.handleConferenceInviteGroupItemClick.bind(
                                        _this2,
                                        groupName,
                                      ),
                                  },
                                  groupName ||
                                    _uawmsgs2.default
                                      .LBL_CONFERENCE_INVITE_GROUP_NONE,
                                )
                              }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _uawmsgs2.default.LBL_CONFERENCE_INVITE_BUDDIES,
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'div',
                            { className: 'brConferenceInviteBuddies' },
                            buddies.map(function (buddy) {
                              return _react2.default.createElement(
                                'div',
                                {
                                  className:
                                    'brConferenceInviteBuddyItem' +
                                    (buddy.hidden ? ' brHidden' : '') +
                                    (buddy.disabled ? ' brDisabled' : '') +
                                    (buddy.selected || buddy.disabled
                                      ? ' brSelected br_bi_icon_check_svg'
                                      : ' br_bi_icon_square_svg'),
                                  key: JSON.stringify({
                                    tenant: buddy.tenant,
                                    user_id: buddy.user_id,
                                  }),
                                  onClick: buddy.disabled
                                    ? function () {}
                                    : _this2.handleConferenceInviteBuddyItemClick.bind(
                                        _this2,
                                        {
                                          tenant: buddy.tenant,
                                          user_id: buddy.user_id,
                                        },
                                      ),
                                },
                                _react2.default.createElement(
                                  _NameEmbeddedSpan2.default,
                                  {
                                    ucUiStore: props.uiData.ucUiStore,
                                    format: '{0}',
                                    title: '{0}',
                                    buddy: buddy,
                                  },
                                ),
                              )
                            }),
                          ),
                        ),
                      ),
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './DropDownMenu.js': 376,
        './MenuItem.js': 379,
        './NameEmbeddedSpan.js': 381,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    363: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * ConfirmForm
         * props.uiData
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              text: (0, _strings.string)(props.params && props.params.text),
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var confirmTextInput = _reactDom2.default.findDOMNode(
                  this.refs['confirmTextInput'],
                )
                setTimeout(function () {
                  confirmTextInput.focus()
                }, 0)
              },
            },
            {
              key: 'handleConfirmTextInputChange',
              value: function handleConfirmTextInputChange(ev) {
                var props = this.props
                this.setState({ text: (0, _strings.string)(ev.target.value) })
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'div',
                  { className: 'brConfirmForm' },
                  _react2.default.createElement(
                    'div',
                    { className: 'brConfirmMessage' },
                    (0, _strings.string)(props.params && props.params.message),
                  ),
                  _react2.default.createElement(_TextBox2.default, {
                    ref: 'confirmTextInput',
                    className: 'brConfirmTextInput',
                    value: this.state.text,
                    type: 'text',
                    placeholder: (0, _strings.string)(
                      props.params && props.params.placeholder,
                    ),
                    autoCapitalize: props.params && props.params.autoCapitalize,
                    onChange: this.handleConfirmTextInputChange.bind(this),
                  }),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    364: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol
                  ? 'symbol'
                  : typeof obj
              }

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _reactDraggable = require('react-draggable')

        var _reactDraggable2 = _interopRequireDefault(_reactDraggable)

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _CallAudio = require('./CallAudio.js')

        var _CallAudio2 = _interopRequireDefault(_CallAudio)

        var _CallVideo = require('./CallVideo.js')

        var _CallVideo2 = _interopRequireDefault(_CallVideo)

        var _CallTimer = require('./CallTimer.js')

        var _CallTimer2 = _interopRequireDefault(_CallTimer)

        var _MenuBalloonDialog = require('./MenuBalloonDialog.js')

        var _MenuBalloonDialog2 = _interopRequireDefault(_MenuBalloonDialog)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _MultipleAudio = require('../components/MultipleAudio.js')

        var _MultipleAudio2 = _interopRequireDefault(_MultipleAudio)

        var _currentscript = require('../utilities/currentscript.js')

        var _currentscript2 = _interopRequireDefault(_currentscript)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CustomerCallArea
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.phone
         * props.uiData.cameraOff
         * props.uiData.isScreen
         * props.uiData.configurations
         * props.uiData.showingDialogVersion
         * props.uiData.callAreaExpanded
         * props.uiData.callAreaTheater
         * props.uiData.callVideoOptionsHidden
         * props.uiData.showingDialog_update
         * props.uiData.callArea_onClick
         * props.uiData.callArea_onSwipedDown
         * props.uiData.callArea_onSwipedUp
         * props.uiData.callAreaTheaterButton_onClick
         * props.uiData.callMuteMicButton_onClick
         * props.uiData.callMuteCamButton_onClick
         * props.uiData.callScreenButton_onClick
         * props.uiData.callHangUpButton_onClick
         * props.uiData.callAnswerButton_onClick
         * props.uiData.callAnswerWithVideoButton_onClick
         * props.uiData.callDeclineButton_onClick
         * props.withMenuOptions
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.fullscreenEntered = false
            _this.state = {
              callVideoOptionsMenuShowingDialogVersion: null,
              callVideoOptionsMenuShowingDialogVideoClientSessionId: null,
              touchStartX: 0,
              touchStartY: 0,
              touchStartTime: 0,
              touchMoveX: 0,
              touchMoveY: 0,
              swipedTime: 0,
              callLocalVideoX: -40,
              callLocalVideoY: -40,
              videoOptionsPanelTime: {},
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                var session =
                  props.uiData.phone && props.uiData.phone.getSession()
                if (!session) {
                  // no call
                  if (this.fullscreenEntered) {
                    var doc = props.uiData.ownerDocument
                    if (doc) {
                      try {
                        var p = (
                          doc.exitFullscreen ||
                          doc.webkitExitFullscreen ||
                          doc.mozCancelFullScreen ||
                          doc.msExitFullscreen ||
                          function () {}
                        ).call(doc)
                        if (p && p.catch) {
                          p.catch(function (error) {
                            props.uiData.ucUiStore
                              .getLogger()
                              .log('warn', error)
                          })
                        }
                      } catch (ex) {
                        props.uiData.ucUiStore.getLogger().log('warn', ex)
                      }
                    }
                    this.fullscreenEntered = false
                  }
                }
              },
            },
            {
              key: 'handleEvent',
              value: function handleEvent(ev) {
                var props = this.props
                if (ev.type === 'click') {
                  if (+new Date() - this.state.swipedTime > 500) {
                    props.uiData.fire('callArea_onClick', ev)
                  }
                } else if (ev.type === 'touchstart') {
                  if (ev.touches && ev.touches[0]) {
                    this.setState({
                      touchStartX: ev.touches[0].pageX,
                      touchStartY: ev.touches[0].pageY,
                      touchStartTime: +new Date(),
                      touchMoveX: ev.touches[0].pageX,
                      touchMoveY: ev.touches[0].pageY,
                    })
                  }
                } else if (ev.type === 'touchmove') {
                  if (ev.touches && ev.changedTouches[0]) {
                    this.setState({
                      touchMoveX: ev.changedTouches[0].pageX,
                      touchMoveY: ev.changedTouches[0].pageY,
                    })
                  }
                } else if (ev.type === 'touchend') {
                  var nowTime = +new Date()
                  var dTime = nowTime - this.state.touchStartTime
                  var dY = this.state.touchMoveY - this.state.touchStartY
                  if (dTime < 1000) {
                    if (24 < dY && dY < 200) {
                      this.setState({ swipedTime: nowTime })
                      props.uiData.fire('callArea_onSwipedDown', ev)
                    } else if (-200 < dY && dY < -24) {
                      this.setState({ swipedTime: nowTime })
                      props.uiData.fire('callArea_onSwipedUp', ev)
                    }
                  }
                }
              },
            },
            {
              key: 'handleFullscreenButtonClick',
              value: function handleFullscreenButtonClick(ev) {
                var props = this.props
                var v = _reactDom2.default.findDOMNode(
                  this.refs['callVideoArea'],
                )
                if (v) {
                  try {
                    var p = (
                      v.requestFullscreen ||
                      v.webkitRequestFullScreen ||
                      v.mozRequestFullScreen ||
                      v.msRequestFullscreen ||
                      function () {}
                    ).call(v)
                    if (p && p.catch) {
                      p.catch(function (error) {
                        props.uiData.ucUiStore.getLogger().log('warn', error)
                      })
                    }
                  } catch (ex) {
                    props.uiData.ucUiStore.getLogger().log('warn', ex)
                  }
                  this.fullscreenEntered = true
                }
              },
            },
            {
              key: 'handleCallRemoteVideoClick',
              value: function handleCallRemoteVideoClick(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                props.uiData.callVideoOptionsHidden = false
                this.state.videoOptionsPanelTime[videoClientSessionId] =
                  +new Date()
                this.setState({
                  videoOptionsPanelTime: this.state.videoOptionsPanelTime,
                })
                setTimeout(this.setState.bind(this, {}), 2000)
                setTimeout(this.setState.bind(this, {}), 3000)
              },
            },
            {
              key: 'handleCallRemoteVideoMouseMove',
              value: function handleCallRemoteVideoMouseMove(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                this.state.videoOptionsPanelTime[videoClientSessionId] =
                  +new Date()
                this.setState({
                  videoOptionsPanelTime: this.state.videoOptionsPanelTime,
                })
                setTimeout(this.setState.bind(this, {}), 2000)
                setTimeout(this.setState.bind(this, {}), 3000)
              },
            },
            {
              key: 'handleCallRemoteVideoMouseLeave',
              value: function handleCallRemoteVideoMouseLeave(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                delete this.state.videoOptionsPanelTime[videoClientSessionId]
                this.setState({
                  videoOptionsPanelTime: this.state.videoOptionsPanelTime,
                })
              },
            },
            {
              key: 'handleCallVideoOptionsOptionsButtonClick',
              value: function handleCallVideoOptionsOptionsButtonClick(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                if (
                  props.uiData.showingDialogVersion !==
                    this.state.callVideoOptionsMenuShowingDialogVersion ||
                  videoClientSessionId !==
                    this.state
                      .callVideoOptionsMenuShowingDialogVideoClientSessionId
                ) {
                  this.setState({
                    callVideoOptionsMenuShowingDialogVersion: ++props.uiData
                      .showingDialogVersion,
                    callVideoOptionsMenuShowingDialogVideoClientSessionId:
                      videoClientSessionId,
                  })
                  ev.stopPropagation()
                  props.uiData.fire('showingDialog_update')
                }
              },
            },
            {
              key: 'handleCallVideoOptionsHideMenuItemClick',
              value: function handleCallVideoOptionsHideMenuItemClick(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                props.uiData.callVideoOptionsHidden = true
                ev.stopPropagation()
              },
            },
            {
              key: 'handleCallVideoOptionsFullscreenButtonClick',
              value: function handleCallVideoOptionsFullscreenButtonClick(
                videoClientSessionId,
                ev,
              ) {
                var props = this.props
                var v = _reactDom2.default.findDOMNode(
                  this.refs['callRemoteVideo' + videoClientSessionId],
                )
                if (v) {
                  var doc = props.uiData.ownerDocument
                  if (!(doc && doc.fullscreenElement === v)) {
                    try {
                      var p = (
                        v.requestFullscreen ||
                        v.webkitRequestFullScreen ||
                        v.mozRequestFullScreen ||
                        v.msRequestFullscreen ||
                        function () {}
                      ).call(v)
                      if (p && p.catch) {
                        p.catch(function (error) {
                          props.uiData.ucUiStore.getLogger().log('warn', error)
                        })
                      }
                    } catch (ex) {
                      props.uiData.ucUiStore.getLogger().log('warn', ex)
                    }
                    this.fullscreenEntered = true
                  } else {
                    try {
                      var _p = (
                        doc.exitFullscreen ||
                        doc.webkitExitFullscreen ||
                        doc.mozCancelFullScreen ||
                        doc.msExitFullscreen ||
                        function () {}
                      ).call(doc)
                      if (_p && _p.catch) {
                        _p.catch(function (error) {
                          props.uiData.ucUiStore.getLogger().log('warn', error)
                        })
                      }
                    } catch (ex) {
                      props.uiData.ucUiStore.getLogger().log('warn', ex)
                    }
                    this.fullscreenEntered = false
                  }
                }
                delete this.state.videoOptionsPanelTime[videoClientSessionId]
                this.setState({
                  videoOptionsPanelTime: this.state.videoOptionsPanelTime,
                })
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                if (props.uiData.phone) {
                  var _ret = (function () {
                    var session =
                      props.uiData.phone && props.uiData.phone.getSession()
                    var className = 'brCallArea'
                    var videos = []
                    var startTime = 0
                    var remoteBuddies =
                      Object.values(
                        props.uiData.ucUiStore.getBuddyTable(),
                      )[0] || {}
                    var imcomingRemoteBuddy =
                      props.uiData.ucUiStore.getBuddyUserForUi({
                        user_id: (0, _strings.string)(
                          session &&
                            session.rtcSession &&
                            session.rtcSession.remote_identity &&
                            session.rtcSession.remote_identity.uri &&
                            session.rtcSession.remote_identity.uri.user,
                        ),
                      })
                    if (
                      !imcomingRemoteBuddy.name &&
                      !imcomingRemoteBuddy.profile_image_url
                    ) {
                      imcomingRemoteBuddy =
                        props.uiData.ucUiStore.getBuddyUserForUi(
                          Object.values(remoteBuddies).filter(function (b) {
                            return !b.isMe
                          })[0],
                        )
                    }
                    if (props.withMenuOptions) {
                      className += ' brWithMenuOptions'
                    }
                    if (
                      props.uiData.configurations &&
                      props.uiData.configurations.cameraButton
                    ) {
                      className += ' brWithCameraButton'
                    }
                    if (
                      props.uiData.configurations &&
                      props.uiData.configurations.screenButton
                    ) {
                      className += ' brWithScreenButton'
                    }
                    if (
                      props.uiData.configurations &&
                      props.uiData.configurations.fullscreenButton
                    ) {
                      className += ' brWithFullscreenButton'
                    }
                    if (session) {
                      if (props.uiData.callAreaExpanded) {
                        className += ' brExpanded'
                      } else {
                        className += ' brContracted'
                      }
                      if (props.uiData.callAreaTheater) {
                        className += ' brTheater'
                      } else if (
                        session.withVideo &&
                        session.remoteUserOptionsTable &&
                        Object.keys(session.remoteUserOptionsTable).some(
                          function (user) {
                            var remoteSoundOnly = false
                            try {
                              remoteSoundOnly = JSON.parse(
                                session.remoteUserOptionsTable[user].exInfo,
                              ).soundOnly
                            } catch (ex) {}
                            return (
                              session.remoteUserOptionsTable[user] &&
                              session.remoteUserOptionsTable[user].withVideo &&
                              !remoteSoundOnly
                            )
                          },
                        )
                      ) {
                        className += ' brNonTheaterLarge'
                      } else if (session.withVideo) {
                        className += ' brNonTheaterSmall'
                      } else {
                        className += ' brNonTheaterHidden'
                      }
                      if (
                        session.rtcSession &&
                        session.rtcSession.direction === 'incoming' &&
                        session.sessionStatus === 'progress' &&
                        !session.answering
                      ) {
                        className += ' brIncomingProgress'
                      }
                      if (session.muted.main) {
                        className += ' brMicMuted'
                      }
                      if (props.uiData.cameraOff) {
                        className += ' brCameraOff'
                      }
                      if (props.uiData.isScreen) {
                        className += ' brIsScreen'
                      }
                      if (session.withVideo) {
                        className += ' brWithVideo'
                        if (session.videoClientSessionTable) {
                          ;(function () {
                            var keys = Object.keys(
                              session.videoClientSessionTable,
                            )
                            var width =
                              Math.floor(
                                100 / Math.ceil(Math.sqrt(keys.length)),
                              ) + '%'
                            var height =
                              Math.floor(
                                100 /
                                  Math.ceil(
                                    (Math.sqrt(4 * keys.length + 1) - 1) / 2,
                                  ),
                              ) + '%'
                            videos = keys.map(
                              function (videoClientSessionId, index) {
                                return _react2.default.createElement(
                                  'div',
                                  {
                                    key: videoClientSessionId,
                                    ref:
                                      'callRemoteVideo' + videoClientSessionId,
                                    className: 'brCallRemoteVideo',
                                    style: { width: width, height: height },
                                    onClick:
                                      _this2.handleCallRemoteVideoClick.bind(
                                        _this2,
                                        videoClientSessionId,
                                      ),
                                    onTouchStart:
                                      _this2.handleCallRemoteVideoClick.bind(
                                        _this2,
                                        videoClientSessionId,
                                      ),
                                    onMouseMove:
                                      _this2.handleCallRemoteVideoMouseMove.bind(
                                        _this2,
                                        videoClientSessionId,
                                      ),
                                    onMouseLeave:
                                      _this2.handleCallRemoteVideoMouseLeave.bind(
                                        _this2,
                                        videoClientSessionId,
                                      ),
                                  },
                                  _react2.default.createElement(
                                    _CallVideo2.default,
                                    {
                                      uiData: props.uiData,
                                      sessionId: (0, _strings.string)(
                                        session && session.sessionId,
                                      ),
                                      videoClientSessionId:
                                        videoClientSessionId,
                                      streamMarker: (0, _strings.string)(
                                        session &&
                                          session.videoClientSessionTable &&
                                          session.videoClientSessionTable[
                                            videoClientSessionId
                                          ] &&
                                          session.videoClientSessionTable[
                                            videoClientSessionId
                                          ].remoteStreamObject &&
                                          session.videoClientSessionTable[
                                            videoClientSessionId
                                          ].remoteStreamObject.id,
                                      ),
                                      isLocal: false,
                                      className: props.uiData.callAreaExpanded
                                        ? 'brCancelCallAreaClick'
                                        : '',
                                    },
                                  ),
                                  _react2.default.createElement(
                                    'div',
                                    { className: 'brCallVideoName' },
                                    (function (user) {
                                      return (
                                        remoteBuddies[user] ||
                                        remoteBuddies[
                                          Object.keys(remoteBuddies).find(
                                            function (user_id) {
                                              return (
                                                user.indexOf(
                                                  (0, _strings.string)(
                                                    user_id,
                                                  ).replace('#', ''),
                                                ) !== -1
                                              )
                                            },
                                          )
                                        ] || { name: user }
                                      )
                                    })(
                                      (0, _strings.string)(
                                        session &&
                                          session.videoClientSessionTable &&
                                          session.videoClientSessionTable[
                                            videoClientSessionId
                                          ] &&
                                          session.videoClientSessionTable[
                                            videoClientSessionId
                                          ].user,
                                      ),
                                    ).name,
                                  ),
                                  _react2.default.createElement(
                                    'div',
                                    {
                                      className:
                                        'brCallVideoOptionsPanel brCancelCallAreaClick' +
                                        (props.uiData.callVideoOptionsHidden ||
                                        !props.uiData.callAreaExpanded
                                          ? ' brHidden'
                                          : '') +
                                        (+new Date() <
                                        (0, _strings.int)(
                                          _this2.state.videoOptionsPanelTime[
                                            videoClientSessionId
                                          ],
                                        ) +
                                          1500
                                          ? ' brVisible'
                                          : '') +
                                        (+new Date() <
                                        (0, _strings.int)(
                                          _this2.state.videoOptionsPanelTime[
                                            videoClientSessionId
                                          ],
                                        ) +
                                          2500
                                          ? ' brEnabled'
                                          : ''),
                                    },
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brCallVideoOptionsOptionsButton brCancelCallAreaClick',
                                        onClick:
                                          _this2.handleCallVideoOptionsOptionsButtonClick.bind(
                                            _this2,
                                            videoClientSessionId,
                                          ),
                                      },
                                      _react2.default.createElement('span', {
                                        className:
                                          'brCallVideoOptionsOptionsButtonIcon br_bi_icon_more_svg',
                                      }),
                                    ),
                                    _react2.default.createElement(
                                      _MenuBalloonDialog2.default,
                                      {
                                        showing:
                                          props.uiData.showingDialogVersion ===
                                            _this2.state
                                              .callVideoOptionsMenuShowingDialogVersion &&
                                          videoClientSessionId ===
                                            _this2.state
                                              .callVideoOptionsMenuShowingDialogVideoClientSessionId,
                                        className:
                                          'brCallVideoOptionsMenuBalloon',
                                      },
                                      _react2.default.createElement(
                                        _MenuItem2.default,
                                        {
                                          className:
                                            'brCallVideoOptionsMenuItem brCallVideoOptionsHideMenuItem brCancelCallAreaClick',
                                          onClick:
                                            _this2.handleCallVideoOptionsHideMenuItemClick.bind(
                                              _this2,
                                              videoClientSessionId,
                                            ),
                                        },
                                        _uawmsgs2.default
                                          .LBL_CALL_VIDEO_OPTIONS_HIDE_MENU,
                                      ),
                                    ),
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brCallVideoOptionsFullscreenButton brCancelCallAreaClick',
                                        onClick:
                                          _this2.handleCallVideoOptionsFullscreenButtonClick.bind(
                                            _this2,
                                            videoClientSessionId,
                                          ),
                                      },
                                      _react2.default.createElement('span', {
                                        className:
                                          'brCallVideoOptionsFullscreenButtonIcon brCancelCallAreaClick' +
                                          (props.uiData.ownerDocument &&
                                          props.uiData.ownerDocument
                                            .fullscreenElement &&
                                          (0, _strings.string)(
                                            props.uiData.ownerDocument
                                              .fullscreenElement.className,
                                          ).indexOf('brCallRemoteVideo') !== -1
                                            ? ' br_bi_icon_collapse_svg'
                                            : ' br_bi_icon_expand_svg'),
                                      }),
                                    ),
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brCallVideoOptionsTheaterButton',
                                        hidden:
                                          !(
                                            props.uiData.configurations &&
                                            props.uiData.configurations
                                              .theaterButton
                                          ) ||
                                          (props.uiData.ownerDocument &&
                                            props.uiData.ownerDocument
                                              .fullscreenElement &&
                                            (0, _strings.string)(
                                              props.uiData.ownerDocument
                                                .fullscreenElement.className,
                                            ).indexOf('brCallRemoteVideo') !==
                                              -1),
                                        onClick: props.uiData.fire.bind(
                                          props.uiData,
                                          'callAreaTheaterButton_onClick',
                                        ),
                                      },
                                      _react2.default.createElement('span', {
                                        className:
                                          'brCallVideoOptionsTheaterButtonIcon' +
                                          (props.uiData.callAreaTheater
                                            ? ' br_bi_icon_chevron_up_svg'
                                            : ' br_bi_icon_chevron_down_svg'),
                                      }),
                                    ),
                                  ),
                                )
                              },
                            )
                          })()
                        }
                        if (props.uiData.callAreaExpanded) {
                          videos.push(
                            _react2.default.createElement(
                              _reactDraggable2.default,
                              {
                                key: 'local',
                                bounds: 'parent',
                                defaultPosition: {
                                  x: _this2.state.callLocalVideoX,
                                  y: _this2.state.callLocalVideoY,
                                },
                                onStop: function onStop(e, position) {
                                  return _this2.setState({
                                    callLocalVideoX: position.x,
                                    callLocalVideoY: position.y,
                                  })
                                },
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  className: 'brCallLocalVideo',
                                },
                                _react2.default.createElement(
                                  _CallVideo2.default,
                                  {
                                    uiData: props.uiData,
                                    sessionId: (0, _strings.string)(
                                      session && session.sessionId,
                                    ),
                                    streamMarker: (0, _strings.string)(
                                      session &&
                                        session.localVideoStreamObject &&
                                        session.localVideoStreamObject.id,
                                    ),
                                    isLocal: true,
                                    className: 'brCancelCallAreaClick',
                                  },
                                ),
                              ),
                            ),
                          )
                        } else {
                          videos.push(
                            _react2.default.createElement(
                              'div',
                              {
                                key: 'local',
                                className: 'brCallLocalVideo',
                              },
                              _react2.default.createElement(
                                _CallVideo2.default,
                                {
                                  uiData: props.uiData,
                                  sessionId: (0, _strings.string)(
                                    session && session.sessionId,
                                  ),
                                  streamMarker: (0, _strings.string)(
                                    session &&
                                      session.localVideoStreamObject &&
                                      session.localVideoStreamObject.id,
                                  ),
                                  isLocal: true,
                                },
                              ),
                            ),
                          )
                        }
                      }
                      if (session.rtcSession && session.rtcSession.start_time) {
                        startTime = +session.rtcSession.start_time
                      }
                    }
                    return {
                      v: _react2.default.createElement(
                        'div',
                        {
                          className: className,
                          onClick: _this2.handleEvent.bind(_this2),
                          onTouchStart: _this2.handleEvent.bind(_this2),
                          onTouchMove: _this2.handleEvent.bind(_this2),
                          onTouchEnd: _this2.handleEvent.bind(_this2),
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'brCallHeaderArea' },
                          _react2.default.createElement(
                            'button',
                            {
                              className:
                                'brCallMuteMicButton brCallAreaButton brCancelCallAreaClick',
                              title:
                                session && session.muted && session.muted.main
                                  ? _uawmsgs2.default
                                      .LBL_CALL_MICROPHONE_UNMUTE_BUTTON_TOOLTIP
                                  : _uawmsgs2.default
                                      .LBL_CALL_MICROPHONE_MUTE_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callMuteMicButton_onClick',
                              ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brCallMuteMicIcon brCallAreaIcon brCancelCallAreaClick br_bi_icon_block_microphone_svg',
                            }),
                          ),
                          _react2.default.createElement(
                            'button',
                            {
                              className:
                                'brCallMuteCamButton brCallAreaButton brCancelCallAreaClick',
                              title: props.uiData.cameraOff
                                ? _uawmsgs2.default
                                    .LBL_CALL_CAMERA_UNMUTE_BUTTON_TOOLTIP
                                : _uawmsgs2.default
                                    .LBL_CALL_CAMERA_MUTE_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callMuteCamButton_onClick',
                              ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brCallMuteCamIcon brCallAreaIcon brCancelCallAreaClick br_bi_icon_no_video_svg',
                            }),
                          ),
                          _react2.default.createElement(
                            'button',
                            {
                              className:
                                'brCallScreenButton brCallAreaButton brCancelCallAreaClick',
                              title: props.uiData.isScreen
                                ? _uawmsgs2.default
                                    .LBL_CALL_SCREEN_END_BUTTON_TOOLTIP
                                : _uawmsgs2.default
                                    .LBL_CALL_SCREEN_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callScreenButton_onClick',
                              ),
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                className:
                                  'brCallScreenIconArea brCallAreaIconArea',
                              },
                              _react2.default.createElement('span', {
                                className:
                                  'brCallScreenIcon brCallAreaIconAreaIcon brCancelCallAreaClick br_bi_icon_channel_mosaic_1_svg',
                              }),
                            ),
                          ),
                          _react2.default.createElement(
                            'button',
                            {
                              className:
                                'brCallHangUpButton brCallAreaButton brCancelCallAreaClick',
                              title:
                                _uawmsgs2.default
                                  .LBL_CALL_HANG_UP_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callHangUpButton_onClick',
                              ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brCallHangUpIcon brCallAreaIcon brCancelCallAreaClick br_bi_icon_end_call_svg',
                            }),
                          ),
                          _react2.default.createElement('button', {
                            className:
                              'brCallFullscreenButton brCallAreaButton brCancelCallAreaClick br_bi_icon_expand_svg',
                            title:
                              _uawmsgs2.default
                                .LBL_CALL_FULLSCREEN_BUTTON_TOOLTIP,
                            onClick:
                              _this2.handleFullscreenButtonClick.bind(_this2),
                          }),
                          _react2.default.createElement(_CallTimer2.default, {
                            startTime: startTime,
                          }),
                        ),
                        _react2.default.createElement(
                          'div',
                          {
                            className: 'brCallAnswerArea brCancelCallAreaClick',
                          },
                          _react2.default.createElement(
                            'div',
                            {
                              className:
                                'brCallIncomingArea brCancelCallAreaClick',
                            },
                            _react2.default.createElement('img', {
                              className:
                                'brCallIncomingIcon brCancelCallAreaClick',
                              src: imcomingRemoteBuddy.profile_image_url,
                            }),
                            _react2.default.createElement(
                              'span',
                              {
                                className:
                                  'brCallIncomingMessageArea brCancelCallAreaClick',
                              },
                              _react2.default.createElement(
                                'span',
                                {
                                  className:
                                    'brCallIncomingName brCancelCallAreaClick',
                                },
                                imcomingRemoteBuddy.name,
                              ),
                              _react2.default.createElement('br', null),
                              _react2.default.createElement(
                                'span',
                                {
                                  className:
                                    'brCallIncomingMessage brCancelCallAreaClick',
                                },
                                _uawmsgs2.default.LBL_CALL_INCOMING,
                              ),
                            ),
                          ),
                          _react2.default.createElement(
                            'div',
                            {
                              className:
                                'brCallAnswerButtonArea brCancelCallAreaClick',
                            },
                            _react2.default.createElement('button', {
                              className:
                                'brCallAnswerButton brCallAnswerAreaButton brCancelCallAreaClick',
                              title:
                                _uawmsgs2.default
                                  .LBL_CALL_ANSWER_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callAnswerButton_onClick',
                              ),
                            }),
                            _react2.default.createElement('button', {
                              className:
                                'brCallAnswerWithVideoButton brCallAnswerAreaButton brCancelCallAreaClick',
                              title:
                                _uawmsgs2.default
                                  .LBL_CALL_ANSWER_WITH_VIDEO_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callAnswerWithVideoButton_onClick',
                              ),
                            }),
                            _react2.default.createElement('button', {
                              className:
                                'brCallDeclineButton brCallAnswerAreaButton brCancelCallAreaClick',
                              title:
                                _uawmsgs2.default
                                  .LBL_CALL_DECLINE_BUTTON_TOOLTIP,
                              onClick: props.uiData.fire.bind(
                                props.uiData,
                                'callDeclineButton_onClick',
                              ),
                            }),
                          ),
                        ),
                        _react2.default.createElement(
                          'div',
                          {
                            ref: 'callVideoArea',
                            className:
                              'brCallVideoArea' +
                              (Object.keys(
                                (session && session.videoClientSessionTable) ||
                                  {},
                              ).length >= 2
                                ? ' brMultiRemoteVideo'
                                : ''),
                          },
                          videos,
                        ),
                        _react2.default.createElement(_MultipleAudio2.default, {
                          uiData: props.uiData,
                          className: 'brRingMultipleAudio',
                          src:
                            _currentscript2.default.DIR +
                            '../../../sounds/ring.mp3',
                          loop: true,
                          playing:
                            props.uiData.configurations &&
                            props.uiData.configurations.ringTone &&
                            session &&
                            session.rtcSession &&
                            session.rtcSession.direction === 'incoming' &&
                            session.sessionStatus === 'progress' &&
                            !session.answering,
                        }),
                        _react2.default.createElement(_MultipleAudio2.default, {
                          uiData: props.uiData,
                          className: 'brRingbackMultipleAudio',
                          src:
                            _currentscript2.default.DIR +
                            '../../../sounds/ringback.mp3',
                          loop: true,
                          playing:
                            props.uiData.configurations &&
                            props.uiData.configurations.ringbackTone &&
                            session &&
                            !session.remoteStreamObject &&
                            session.rtcSession &&
                            session.rtcSession.direction === 'outgoing' &&
                            session.sessionStatus === 'progress',
                        }),
                        _react2.default.createElement(_CallAudio2.default, {
                          uiData: props.uiData,
                          sessionId: (0, _strings.string)(
                            session && session.sessionId,
                          ),
                          streamMarker:
                            (0, _strings.string)(
                              session &&
                                session.remoteStreamObject &&
                                session.remoteStreamObject.id,
                            ) +
                            (0, _strings.string)(
                              session && session.remoteStreamUrl,
                            ),
                          isLocal: false,
                          className: 'brCallRemoteAudio',
                        }),
                      ),
                    }
                  })()

                  if (
                    (typeof _ret === 'undefined'
                      ? 'undefined'
                      : _typeof(_ret)) === 'object'
                  )
                    return _ret.v
                } else {
                  return _react2.default.createElement('div', null)
                }
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../components/MultipleAudio.js': 380,
        '../utilities/constants.js': 388,
        '../utilities/currentscript.js': 389,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './CallAudio.js': 350,
        './CallTimer.js': 351,
        './CallVideo.js': 352,
        './MenuBalloonDialog.js': 378,
        './MenuItem.js': 379,
        react: 341,
        'react-dom': 195,
        'react-draggable': 196,
      },
    ],
    365: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ButtonLabeled = require('./ButtonLabeled.js')

        var _ButtonLabeled2 = _interopRequireDefault(_ButtonLabeled)

        var _ChatTyping = require('./ChatTyping.js')

        var _ChatTyping2 = _interopRequireDefault(_ChatTyping)

        var _ChatList = require('./ChatList.js')

        var _ChatList2 = _interopRequireDefault(_ChatList)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CustomerChatArea
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.chatArea_onClick
         * props.uiData.chatArea_onSwipedDown
         * props.uiData.chatArea_onSwipedUp
         * props.uiData.customerChatReconnectButton_onClick
         * props.panelType
         * props.panelCode
         * props.withMenuOptions
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.shouldScrollBottom = 0
            _this.state = {
              touchStartX: 0,
              touchStartY: 0,
              touchStartTime: 0,
              touchMoveX: 0,
              touchMoveY: 0,
              swipedTime: 0,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  if (
                    0 < this.shouldScrollBottom &&
                    this.shouldScrollBottom < node.scrollHeight
                  ) {
                    node.scrollTop = node.scrollHeight
                  }
                }
                this.checkScrolledToBottom()
              },
            },
            {
              key: 'checkScrolledToBottom',
              value: function checkScrolledToBottom() {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  if (
                    node.scrollTop + node.offsetHeight >=
                    node.scrollHeight - 100
                  ) {
                    this.shouldScrollBottom = node.scrollHeight
                  } else {
                    this.shouldScrollBottom = 0
                  }
                }
              },
            },
            {
              key: 'handleScroll',
              value: function handleScroll(ev) {
                var props = this.props
                this.checkScrolledToBottom()
              },
            },
            {
              key: 'handleEvent',
              value: function handleEvent(ev) {
                var props = this.props
                if (ev.type === 'click') {
                  if (+new Date() - this.state.swipedTime > 500) {
                    props.uiData.fire(
                      'chatArea_onClick',
                      props.panelType,
                      props.panelCode,
                      ev,
                    )
                  }
                } else if (ev.type === 'touchstart') {
                  if (ev.touches && ev.touches[0]) {
                    this.setState({
                      touchStartX: ev.touches[0].pageX,
                      touchStartY: ev.touches[0].pageY,
                      touchStartTime: +new Date(),
                      touchMoveX: ev.touches[0].pageX,
                      touchMoveY: ev.touches[0].pageY,
                    })
                  }
                } else if (ev.type === 'touchmove') {
                  if (ev.touches && ev.changedTouches[0]) {
                    this.setState({
                      touchMoveX: ev.changedTouches[0].pageX,
                      touchMoveY: ev.changedTouches[0].pageY,
                    })
                  }
                } else if (ev.type === 'touchend') {
                  var nowTime = +new Date()
                  var dTime = nowTime - this.state.touchStartTime
                  var dY = this.state.touchMoveY - this.state.touchStartY
                  if (dTime < 1000) {
                    if (24 < dY && dY < 200) {
                      this.setState({ swipedTime: nowTime })
                      props.uiData.fire(
                        'chatArea_onSwipedDown',
                        props.panelType,
                        props.panelCode,
                        ev,
                      )
                    } else if (-200 < dY && dY < -24) {
                      this.setState({ swipedTime: nowTime })
                      props.uiData.fire(
                        'chatArea_onSwipedUp',
                        props.panelType,
                        props.panelCode,
                        ev,
                      )
                    }
                  }
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var className = 'brChatArea'
                if (props.withMenuOptions) {
                  className += ' brWithMenuOptions'
                }
                if (
                  props.uiData.configurations &&
                  props.uiData.configurations.casualChat
                ) {
                  className += ' brCasualChatArea'
                }
                return _react2.default.createElement(
                  'div',
                  {
                    className: className,
                    onClick: this.handleEvent.bind(this),
                    onTouchStart: this.handleEvent.bind(this),
                    onTouchMove: this.handleEvent.bind(this),
                    onTouchEnd: this.handleEvent.bind(this),
                    onScroll: this.handleScroll.bind(this),
                  },
                  _react2.default.createElement(_ChatList2.default, {
                    uiData: props.uiData,
                    panelType: props.panelType,
                    panelCode: props.panelCode,
                  }),
                  _react2.default.createElement(
                    _ButtonLabeled2.default,
                    {
                      className: 'brCustomerChatReconnectButton',
                      hidden: !(
                        props.uiData.ucUiStore.getSignInStatus() === 0 &&
                        (props.uiData.ucUiStore.getLastSignOutReason() || {})
                          .reSignInTime
                      ),
                      vivid: true,
                      title:
                        _uawmsgs2.default
                          .LBL_CUSTOMER_CHAT_RECONNECT_BUTTON_TOOLTIP,
                      onClick: props.uiData.fire.bind(
                        props.uiData,
                        'customerChatReconnectButton_onClick',
                        props.panelType,
                        props.panelCode,
                      ),
                    },
                    _uawmsgs2.default.LBL_CUSTOMER_CHAT_RECONNECT_BUTTON,
                  ),
                  _react2.default.createElement(_ChatTyping2.default, {
                    uiData: props.uiData,
                    panelType: props.panelType,
                    panelCode: props.panelCode,
                  }),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonLabeled.js': 349,
        './ChatList.js': 355,
        './ChatTyping.js': 361,
        react: 341,
        'react-dom': 195,
      },
    ],
    366: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _MenuBalloonDialog = require('./MenuBalloonDialog.js')

        var _MenuBalloonDialog2 = _interopRequireDefault(_MenuBalloonDialog)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CustomerEditorArea
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.phoneSettings
         * props.uiData.configurations
         * props.uiData.showingDialogVersion
         * props.uiData.showingDialog_update
         * props.uiData.reportMailStatus
         * props.uiData.reportEmailAddress
         * props.uiData.editorEditEmailLink_onClick
         * props.uiData.editorEndChatLink_onClick
         * props.uiData.editorMakeCallLink_onClick
         * props.uiData.editorReportMailLink_onClick
         * props.uiData.editorSendButton_onClick
         * props.uiData.editorSendFileLink_onClick
         * props.uiData.editorTextarea_onKeyDown
         * props.panelType
         * props.panelCode
         * props.withMenuOptions
         * props.disabled
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              showingDialogVersion: null,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var editorTextarea = _reactDom2.default.findDOMNode(
                  this.refs['editorTextarea'],
                )
                editorTextarea.focus()
              },
            },
            {
              key: 'componentWillUnmount',
              value: function componentWillUnmount() {
                var props = this.props
                props.uiData.removeHandler(this)
              },
            },
            {
              key: 'handleSendButtonClick',
              value: function handleSendButtonClick(ev) {
                var props = this.props
                var editorTextarea = _reactDom2.default.findDOMNode(
                  this.refs['editorTextarea'],
                )
                props.uiData.fire(
                  'editorSendButton_onClick',
                  props.panelType,
                  props.panelCode,
                  editorTextarea,
                  ev,
                )
              },
            },
            {
              key: 'handleOptionsLinkClick',
              value: function handleOptionsLinkClick(ev) {
                var props = this.props
                if (
                  props.uiData.showingDialogVersion !==
                  this.state.showingDialogVersion
                ) {
                  this.setState({
                    showingDialogVersion: ++props.uiData.showingDialogVersion,
                  })
                  ev.stopPropagation()
                  props.uiData.fire('showingDialog_update')
                }
              },
            },
            {
              key: 'handleMenuOptionsItemClick',
              value: function handleMenuOptionsItemClick(
                eventName,
                enabled,
                ev,
              ) {
                var props = this.props
                if (enabled) {
                  props.uiData.fire(
                    eventName,
                    props.panelType,
                    props.panelCode,
                    ev,
                  )
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                var settings = props.uiData.ucUiStore
                  .getChatClient()
                  .getSettings()
                var myUcCimUserType = (0, _strings.int)(
                  props.uiData.ucUiStore.getUcCimUserType(),
                )
                var signedIn = props.uiData.ucUiStore.getSignInStatus() === 3
                var disabled = props.disabled || !signedIn
                var className = 'brEditorArea'
                var menuOptions = []
                if (props.withMenuOptions) {
                  className += ' brWithMenuOptions'
                }
                if (
                  props.uiData.configurations &&
                  props.uiData.configurations.sendButton
                ) {
                  className += ' brWithSendButton'
                }
                if (
                  props.uiData.configurations &&
                  props.uiData.configurations.menuOptions &&
                  props.uiData.configurations.menuOptions.length
                ) {
                  ;(function () {
                    var optionInfoTable = {
                      end: {
                        eventName: 'editorEndChatLink_onClick',
                        label: _uawmsgs2.default.LBL_EDITOR_END_CHAT_LINK,
                        enabled: signedIn,
                      },
                      file: {
                        eventName: 'editorSendFileLink_onClick',
                        label: _uawmsgs2.default.LBL_EDITOR_SEND_FILE_LINK,
                        enabled: signedIn,
                      },
                      call: {
                        eventName: 'editorMakeCallLink_onClick',
                        label: _uawmsgs2.default.LBL_EDITOR_MAKE_CALL_LINK,
                        enabled:
                          signedIn &&
                          (!(
                            props.uiData.phoneSettings &&
                            props.uiData.phoneSettings.call_target ===
                              props.uiData.phoneSettings.customer_sip_user &&
                            props.uiData.phoneSettings.customer_call_target ===
                              props.uiData.phoneSettings.conf_ext
                          ) ||
                            props.uiData.ucUiStore
                              .getChatClient()
                              .getConference(
                                props.uiData.ucUiStore.getGuestConfId(),
                              ).assigned.user_id),
                      },
                      transcript: {
                        eventName: 'editorReportMailLink_onClick',
                        label: _react2.default.createElement(
                          'span',
                          null,
                          _react2.default.createElement('span', {
                            className:
                              'brEditorReportMailLinkIcon' +
                              ((settings &&
                                settings.optional_settings &&
                                settings.optional_settings.send_report_mail) ||
                              props.uiData.reportMailStatus[props.panelCode] ===
                                2
                                ? ' br_bi_icon_check_svg'
                                : ' br_bi_icon_square_svg'),
                          }),
                          _react2.default.createElement(
                            'span',
                            null,
                            _uawmsgs2.default.LBL_EDITOR_REPORT_MAIL_LINK,
                          ),
                        ),
                        enabled:
                          signedIn ||
                          props.uiData.reportMailStatus[props.panelCode] !== 2,
                      },
                    }
                    if (props.uiData.reportEmailAddress) {
                      optionInfoTable['email'] = {
                        eventName: 'editorEditEmailLink_onClick',
                        label: props.uiData.reportEmailAddress,
                        enabled:
                          signedIn ||
                          props.uiData.reportMailStatus[props.panelCode] !== 2,
                      }
                    }
                    if (
                      ((0, _strings.int)(
                        props.uiData.ucUiStore.getOptionalSetting({
                          key: 'fsp',
                        }),
                      ) &
                        myUcCimUserType) ===
                      myUcCimUserType
                    ) {
                      delete optionInfoTable.file
                    }
                    menuOptions = props.uiData.configurations.menuOptions.map(
                      function (s, i) {
                        if (optionInfoTable[s]) {
                          return _react2.default.createElement(
                            _MenuItem2.default,
                            {
                              key: i,
                              className: 'brEditorOptionsItem',
                              disabled: !optionInfoTable[s].enabled,
                              onClick: _this2.handleMenuOptionsItemClick.bind(
                                _this2,
                                optionInfoTable[s].eventName,
                                optionInfoTable[s].enabled,
                              ),
                            },
                            optionInfoTable[s].label,
                          )
                        } else if (s === 'separator') {
                          return _react2.default.createElement('div', {
                            key: i,
                            className: 'brEditorOptionsSeparator',
                          })
                        } else {
                          return _react2.default.createElement('span', {
                            key: i,
                          })
                        }
                      },
                    )
                  })()
                }
                if (disabled) {
                  className += ' brDisabled'
                }
                return _react2.default.createElement(
                  'div',
                  {
                    className: className,
                  },
                  _react2.default.createElement('textarea', {
                    ref: 'editorTextarea',
                    className: 'brEditorTextarea',
                    placeholder: disabled
                      ? ''
                      : _uawmsgs2.default.LBL_EDITOR_TEXTAREA_PLACEHOLDER,
                    onKeyDown: props.uiData.fire.bind(
                      props.uiData,
                      'editorTextarea_onKeyDown',
                      props.panelType,
                      props.panelCode,
                      disabled,
                    ),
                  }),
                  _react2.default.createElement(_ButtonIconic2.default, {
                    className: 'brEditorSendButton br_bi_icon_chat_svg',
                    title: _uawmsgs2.default.LBL_EDITOR_SEND_BUTTON_TOOLTIP,
                    onClick: this.handleSendButtonClick.bind(this),
                    disabled: disabled,
                  }),
                  _react2.default.createElement(
                    'button',
                    {
                      className: 'brEditorOptionsButton',
                      title: _uawmsgs2.default.LBL_EDITOR_OPTIONS_LINK,
                      onClick: this.handleOptionsLinkClick.bind(this),
                      disabled: !props.withMenuOptions,
                    },
                    _react2.default.createElement('span', {
                      className:
                        'brEditorOptionsIcon' +
                        (props.uiData.showingDialogVersion ===
                        this.state.showingDialogVersion
                          ? ' br_bi_icon_triangle_up_svg'
                          : ' br_bi_icon_triangle_down_svg'),
                    }),
                  ),
                  _react2.default.createElement(
                    _MenuBalloonDialog2.default,
                    {
                      showing:
                        props.uiData.showingDialogVersion ===
                        this.state.showingDialogVersion,
                      className: 'brEditorOptionsBalloon',
                    },
                    menuOptions,
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './MenuBalloonDialog.js': 378,
        './MenuItem.js': 379,
        react: 341,
        'react-dom': 195,
      },
    ],
    367: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _CustomerSignInArea = require('./CustomerSignInArea.js')

        var _CustomerSignInArea2 = _interopRequireDefault(_CustomerSignInArea)

        var _CustomerChatArea = require('./CustomerChatArea.js')

        var _CustomerChatArea2 = _interopRequireDefault(_CustomerChatArea)

        var _CustomerCallArea = require('./CustomerCallArea.js')

        var _CustomerCallArea2 = _interopRequireDefault(_CustomerCallArea)

        var _CustomerEditorArea = require('./CustomerEditorArea.js')

        var _CustomerEditorArea2 = _interopRequireDefault(_CustomerEditorArea)

        var _DndableSafe = require('./DndableSafe.js')

        var _DndableSafe2 = _interopRequireDefault(_DndableSafe)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * CustomerMainArea
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.mainArea_onDrop
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              editorAreaDisabled: false,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                var newState = {}
                var chatArea = _reactDom2.default.findDOMNode(
                  this.refs['chatArea'],
                )
                if (
                  chatArea &&
                  chatArea.querySelector &&
                  chatArea.querySelector(
                    '.brReplyButton:not(.brDisabled):not(.brEnableEditor)',
                  )
                ) {
                  if (!this.state.editorAreaDisabled) {
                    newState.editorAreaDisabled = true
                  }
                } else {
                  if (this.state.editorAreaDisabled) {
                    newState.editorAreaDisabled = false
                  }
                }
                if (Object.keys(newState).length) {
                  this.setState(newState)
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var myUcCimUserType = (0, _strings.int)(
                  props.uiData.ucUiStore.getUcCimUserType(),
                )
                var conf_id = props.uiData.ucUiStore.getGuestConfId()
                var panelCode = (0, _strings.string)(
                  props.uiData.ucUiStore.getChatCodeByConfId({
                    conf_id: conf_id,
                  }).chatCode,
                )
                var className = 'brMainArea'
                var withMenuOptions = false
                if (!conf_id) {
                  return _react2.default.createElement(
                    'div',
                    { className: className },
                    _react2.default.createElement(
                      _CustomerSignInArea2.default,
                      { uiData: props.uiData },
                    ),
                  )
                } else {
                  if (
                    props.uiData.configurations &&
                    props.uiData.configurations.menuOptions &&
                    props.uiData.configurations.menuOptions.length
                  ) {
                    className += ' brWithMenuOptions'
                    withMenuOptions = true
                  }
                  return _react2.default.createElement(
                    _DndableSafe2.default,
                    {
                      uiData: props.uiData,
                      dndableClass:
                        ((0, _strings.int)(
                          props.uiData.ucUiStore.getOptionalSetting({
                            key: 'fsp',
                          }),
                        ) &
                          myUcCimUserType) !==
                        myUcCimUserType
                          ? 'FileDndable'
                          : '',
                      className: className,
                      onDrop: props.uiData.fire.bind(
                        props.uiData,
                        'mainArea_onDrop',
                        'CONFERENCE',
                        panelCode,
                      ),
                    },
                    _react2.default.createElement(_CustomerCallArea2.default, {
                      uiData: props.uiData,
                      withMenuOptions: withMenuOptions,
                    }),
                    _react2.default.createElement(_CustomerChatArea2.default, {
                      ref: 'chatArea',
                      uiData: props.uiData,
                      panelType: 'CONFERENCE',
                      panelCode: panelCode,
                      withMenuOptions: withMenuOptions,
                    }),
                    _react2.default.createElement(
                      _CustomerEditorArea2.default,
                      {
                        uiData: props.uiData,
                        panelType: 'CONFERENCE',
                        panelCode: panelCode,
                        withMenuOptions: withMenuOptions,
                        disabled: this.state.editorAreaDisabled,
                      },
                    ),
                  )
                }
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './CustomerCallArea.js': 364,
        './CustomerChatArea.js': 365,
        './CustomerEditorArea.js': 366,
        './CustomerSignInArea.js': 368,
        './DndableSafe.js': 375,
        react: 341,
        'react-dom': 195,
      },
    ],
    368: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _CustomerSignInError = require('./CustomerSignInError.js')

        var _CustomerSignInError2 = _interopRequireDefault(_CustomerSignInError)

        var _CustomerSignInProfinfoInputs = require('./CustomerSignInProfinfoInputs.js')

        var _CustomerSignInProfinfoInputs2 = _interopRequireDefault(
          _CustomerSignInProfinfoInputs,
        )

        var _CustomerSignInWebchatOptionsSelect = require('./CustomerSignInWebchatOptionsSelect.js')

        var _CustomerSignInWebchatOptionsSelect2 = _interopRequireDefault(
          _CustomerSignInWebchatOptionsSelect,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInArea
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.signInButton_onClick
         */

        exports.default = function (props) {
          return _react2.default.createElement(
            'div',
            {
              className:
                'brSignInArea' +
                (props.uiData.configurations.autoSignIn &&
                props.uiData.ucUiStore.getSignInStatus() === 2
                  ? ' brAutoSigning'
                  : ''),
              style:
                (props.uiData.configurations.signInFormStyles &&
                  props.uiData.configurations.signInFormStyles.brSignInArea) ||
                {},
            },
            _react2.default.createElement(
              'div',
              {
                className: 'brSignInFormArea',
                style:
                  (props.uiData.configurations.signInFormStyles &&
                    props.uiData.configurations.signInFormStyles
                      .brSignInFormArea) ||
                  {},
              },
              _react2.default.createElement(_CustomerSignInError2.default, {
                uiData: props.uiData,
              }),
              _react2.default.createElement(
                _CustomerSignInProfinfoInputs2.default,
                { uiData: props.uiData },
              ),
              _react2.default.createElement(
                _CustomerSignInWebchatOptionsSelect2.default,
                { uiData: props.uiData },
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'brSignInButton',
                  style:
                    (props.uiData.configurations.signInFormStyles &&
                      props.uiData.configurations.signInFormStyles
                        .brSignInButton) ||
                    {},
                  disabled: props.uiData.ucUiStore.getSignInStatus() === 2,
                  onClick: props.uiData.fire.bind(
                    props.uiData,
                    'signInButton_onClick',
                  ),
                },
                props.uiData.configurations.signInButtonInnerHTML
                  ? _react2.default.createElement('span', {
                      dangerouslySetInnerHTML: {
                        __html:
                          props.uiData.configurations.signInButtonInnerHTML,
                      },
                    })
                  : props.uiData.configurations.signInButtonLabel ||
                      _uawmsgs2.default.LBL_SIGN_IN_BUTTON,
              ),
            ),
          )
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './CustomerSignInError.js': 369,
        './CustomerSignInProfinfoInputs.js': 372,
        './CustomerSignInWebchatOptionsSelect.js': 373,
        react: 341,
      },
    ],
    369: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _errors = require('../utilities/errors.js')

        var _errors2 = _interopRequireDefault(_errors)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInError
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.configurations
         * props.uiData.signInErrorMessage
         */

        exports.default = function (props) {
          return _react2.default.createElement(
            'div',
            {
              className:
                'brSignInErrorArea' +
                (props.uiData.signInErrorMessage ? ' brWithErrorMessage' : '') +
                (props.uiData.ucUiStore.getSignInStatus() === 1
                  ? ' brSignInFailed'
                  : '') +
                ((props.uiData.ucUiStore.getLastSignOutReason() || {}).code ===
                _errors2.default.ERROR_REENTER_CONF
                  ? ' brErrorReenterConf'
                  : ''),
              style:
                (props.uiData.configurations.signInFormStyles &&
                  props.uiData.configurations.signInFormStyles
                    .brSignInErrorArea) ||
                {},
            },
            _react2.default.createElement(
              'span',
              {
                className: 'brSignInErrorMessage',
                style:
                  (props.uiData.configurations.signInFormStyles &&
                    props.uiData.configurations.signInFormStyles
                      .brSignInErrorMessage) ||
                  {},
              },
              props.uiData.signInErrorMessage ||
                _uawmsgs2.default.MSG_SIGN_IN_FAILED,
            ),
          )
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/errors.js': 390,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    370: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInProfinfoInputInput
         * props.uiData
         * props.uiData.configurations
         * props.uiData.signInProfinfoInputsValue
         * props.uiData.signInProfileInfoInputInput_onChange
         * props.profinfoInput
         */

        exports.default = function (props) {
          return _react2.default.createElement('input', {
            type: 'text',
            className: 'brSignInProfinfoInputInput',
            style:
              (props.uiData.configurations.signInFormStyles &&
                props.uiData.configurations.signInFormStyles
                  .brSignInProfinfoInputInput) ||
              {},
            value: (0, _strings.string)(
              props.uiData.signInProfinfoInputsValue[props.profinfoInput.key],
            ),
            placeholder: props.profinfoInput.placeholder,
            autoCapitalize: props.profinfoInput.autoCapitalize,
            onChange: props.uiData.fire.bind(
              props.uiData,
              'signInProfileInfoInputInput_onChange',
              props.profinfoInput,
            ),
          })
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    371: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInProfinfoInputSelect
         * props.uiData
         * props.uiData.configurations
         * props.uiData.signInProfinfoInputsValue
         * props.uiData.signInProfileInfoInputSelect_onChange
         * props.profinfoInput
         */

        exports.default = function (props) {
          return _react2.default.createElement(
            'select',
            {
              className: 'brSignInProfinfoInputSelect',
              style:
                (props.uiData.configurations.signInFormStyles &&
                  props.uiData.configurations.signInFormStyles
                    .brSignInProfinfoInputSelect) ||
                {},
              value: (0, _strings.string)(
                props.uiData.signInProfinfoInputsValue[props.profinfoInput.key],
              ),
              onChange: props.uiData.fire.bind(
                props.uiData,
                'signInProfileInfoInputSelect_onChange',
                props.profinfoInput,
              ),
            },
            props.profinfoInput.options.map(function (o) {
              return _react2.default.createElement(
                'option',
                {
                  key: o,
                  value: o,
                },
                o,
              )
            }),
          )
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    372: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _CustomerSignInProfinfoInputSelect = require('./CustomerSignInProfinfoInputSelect.js')

        var _CustomerSignInProfinfoInputSelect2 = _interopRequireDefault(
          _CustomerSignInProfinfoInputSelect,
        )

        var _CustomerSignInProfinfoInputInput = require('./CustomerSignInProfinfoInputInput.js')

        var _CustomerSignInProfinfoInputInput2 = _interopRequireDefault(
          _CustomerSignInProfinfoInputInput,
        )

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInProfinfoInputs
         * props.uiData
         * props.uiData.configurations
         */

        exports.default = function (props) {
          if (
            props.uiData.configurations.profinfoInputs &&
            props.uiData.configurations.profinfoInputs.length
          ) {
            return _react2.default.createElement(
              'div',
              {
                className: 'brSignInProfinfoInputsArea',
                style:
                  (props.uiData.configurations.signInFormStyles &&
                    props.uiData.configurations.signInFormStyles
                      .brSignInProfinfoInputsArea) ||
                  {},
              },
              _react2.default.createElement(
                'div',
                {
                  className: 'brSignInProfinfoInputsLabel',
                  style:
                    (props.uiData.configurations.signInFormStyles &&
                      props.uiData.configurations.signInFormStyles
                        .brSignInProfinfoInputsLabel) ||
                    {},
                },
                props.uiData.configurations.profinfoInputsInnerHTML
                  ? _react2.default.createElement('span', {
                      dangerouslySetInnerHTML: {
                        __html:
                          props.uiData.configurations.profinfoInputsInnerHTML,
                      },
                    })
                  : (0, _strings.string)(
                      props.uiData.configurations.profinfoInputsLabel,
                    ),
              ),
              props.uiData.configurations.profinfoInputs.map(function (o) {
                return _react2.default.createElement(
                  'div',
                  {
                    key: o.key,
                    className:
                      'brSignInProfinfoInputArea' +
                      (o.mandatory ? ' brProfinfoInputMandatory' : ''),
                    style:
                      (props.uiData.configurations.signInFormStyles &&
                        props.uiData.configurations.signInFormStyles
                          .brSignInProfinfoInputArea) ||
                      {},
                  },
                  _react2.default.createElement(
                    'div',
                    {
                      className: 'brSignInProfinfoInputLabel',
                      style:
                        (props.uiData.configurations.signInFormStyles &&
                          props.uiData.configurations.signInFormStyles
                            .brSignInProfinfoInputLabel) ||
                        {},
                    },
                    o.innerHTML
                      ? _react2.default.createElement('span', {
                          dangerouslySetInnerHTML: { __html: o.innerHTML },
                        })
                      : (0, _strings.string)(o.label),
                  ),
                  o.options && o.options.length
                    ? _react2.default.createElement(
                        _CustomerSignInProfinfoInputSelect2.default,
                        { uiData: props.uiData, profinfoInput: o },
                      )
                    : _react2.default.createElement(
                        _CustomerSignInProfinfoInputInput2.default,
                        { uiData: props.uiData, profinfoInput: o },
                      ),
                )
              }),
            )
          } else {
            return _react2.default.createElement('div', null)
          }
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './CustomerSignInProfinfoInputInput.js': 370,
        './CustomerSignInProfinfoInputSelect.js': 371,
        react: 341,
      },
    ],
    373: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * CustomerSignInWebchatOptionsSelect
         * props.uiData
         * props.uiData.configurations
         * props.uiData.signInWebchatOptionsSelectIndex
         * props.uiData.signInWebchatOptionsInputValue
         * props.uiData.signInWebchatOptionsSelect_onChange
         * props.uiData.signInWebchatOptionsInput_onChange
         */

        exports.default = function (props) {
          if (
            props.uiData.configurations.webchatOptions &&
            props.uiData.configurations.webchatOptions.length
          ) {
            var op = props.uiData.configurations.webchatOptions.find(
              function (o, index) {
                return index === props.uiData.signInWebchatOptionsSelectIndex
              },
            )
            return _react2.default.createElement(
              'div',
              {
                className:
                  'brSignInWebchatOptionsArea' +
                  (props.uiData.configurations.webchatOptions.length >= 2
                    ? ' brWebchatOptionsMandatory'
                    : ' brWebchatOptionsFixed'),
                style:
                  (props.uiData.configurations.signInFormStyles &&
                    props.uiData.configurations.signInFormStyles
                      .brSignInWebchatOptionsArea) ||
                  {},
              },
              _react2.default.createElement(
                'div',
                {
                  className: 'brSignInWebchatOptionsLabel',
                  style:
                    (props.uiData.configurations.signInFormStyles &&
                      props.uiData.configurations.signInFormStyles
                        .brSignInWebchatOptionsLabel) ||
                    {},
                },
                props.uiData.configurations.webchatOptionsInnerHTML
                  ? _react2.default.createElement('span', {
                      dangerouslySetInnerHTML: {
                        __html:
                          props.uiData.configurations.webchatOptionsInnerHTML,
                      },
                    })
                  : (0, _strings.string)(
                      props.uiData.configurations.webchatOptionsLabel,
                    ),
              ),
              _react2.default.createElement(
                'select',
                {
                  className: 'brSignInWebchatOptionsSelect',
                  style:
                    (props.uiData.configurations.signInFormStyles &&
                      props.uiData.configurations.signInFormStyles
                        .brSignInWebchatOptionsSelect) ||
                    {},
                  value: props.uiData.signInWebchatOptionsSelectIndex,
                  onChange: props.uiData.fire.bind(
                    props.uiData,
                    'signInWebchatOptionsSelect_onChange',
                  ),
                },
                props.uiData.configurations.webchatOptions.map(
                  function (o, index) {
                    return _react2.default.createElement(
                      'option',
                      {
                        key: index,
                        value: index,
                      },
                      o.innerHTML
                        ? _react2.default.createElement('span', {
                            dangerouslySetInnerHTML: { __html: o.innerHTML },
                          })
                        : (0, _strings.string)(o.label),
                    )
                  },
                ),
              ),
              _react2.default.createElement('input', {
                type: 'text',
                className:
                  'brSignInWebchatOptionsInput' +
                  (op && op.value && op.value.indexOf('{0}') !== -1
                    ? ''
                    : ' brSignInWebchatOptionsHiddenInput'),
                style:
                  (props.uiData.configurations.signInFormStyles &&
                    props.uiData.configurations.signInFormStyles
                      .brSignInWebchatOptionsInput) ||
                  {},
                value: props.uiData.signInWebchatOptionsInputValue,
                onChange: props.uiData.fire.bind(
                  props.uiData,
                  'signInWebchatOptionsInput_onChange',
                ),
              }),
            )
          } else {
            return _react2.default.createElement('div', null)
          }
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    374: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDnd = require('react-dnd')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        var dragSourceSpec = {
          beginDrag: function beginDrag(props) {
            return {
              dragSourceInfo: props.dragSourceInfo,
            }
          },
          canDrag: function canDrag(props) {
            return props.dragSourceInfo
          },
        }

        function dragSourceCollect(connect, monitor) {
          return {
            connectDragSource: connect.dragSource(),
            isDragging: monitor.isDragging(),
            item: monitor.getItem(),
          }
        }

        var dropTargetSpec = {
          canDrop: function canDrop(props, monitor) {
            var item = props.item || {}
            var ev = {
              dragSourceInfo: item.dragSourceInfo,
            }
            return typeof props.onCheckCanDrop === 'function'
              ? props.onCheckCanDrop(ev)
              : false
          },
          drop: function drop(props, monitor) {
            var item = props.item || {}
            var ev = {
              dragSourceInfo: item.dragSourceInfo,
              didDrop: Boolean(monitor && monitor.didDrop && monitor.didDrop()),
            }
            if (typeof props.onDrop === 'function') {
              props.onDrop(ev)
            }
          },
        }

        function dropTargetCollect(connect, monitor) {
          return {
            connectDropTarget: connect.dropTarget(),
            isOver: monitor.isOver(),
            canDrop: monitor.canDrop(),
          }
        }

        /**
         * Dndable
         * props.className
         * props.style
         * props.dragSourceInfo
         * props.onCheckCanDrop
         * props.onDrop
         * props.onClick
         */

        var Dndable = (function (_React$Component) {
          _inherits(Dndable, _React$Component)

          function Dndable() {
            _classCallCheck(this, Dndable)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(Dndable).apply(this, arguments),
            )
          }

          _createClass(Dndable, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (typeof props.onClick === 'function') {
                  props.onClick(ev)
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return props.connectDragSource(
                  props.connectDropTarget(
                    _react2.default.createElement(
                      'div',
                      {
                        className:
                          'brDndable' +
                          (props.isDragging ? ' brIsDragging' : '') +
                          (props.isOver ? ' brIsOver' : '') +
                          (props.canDrop ? ' brCanDrop' : '') +
                          (props.className ? ' ' + props.className : ''),
                        style: props.style || {},
                        onClick: this.handleClick.bind(this),
                      },
                      props.children,
                    ),
                  ),
                )
              },
            },
          ])

          return Dndable
        })(_react2.default.Component)

        exports.default = (0, _reactDnd.DragSource)(
          'DND_TYPE_DNDABLE',
          dragSourceSpec,
          dragSourceCollect,
        )(
          (0, _reactDnd.DropTarget)(
            'DND_TYPE_DNDABLE',
            dropTargetSpec,
            dropTargetCollect,
          )(Dndable),
        )
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dnd': 186,
      },
    ],
    375: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _Dndable = require('./Dndable.js')

        var _Dndable2 = _interopRequireDefault(_Dndable)

        var _FileDndable = require('./FileDndable.js')

        var _FileDndable2 = _interopRequireDefault(_FileDndable)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * DndableSafe
         * props.uiData
         * props.uiData.ownerDocument
         * props.uiData.uiDataId
         * props.dndableClass
         * props.className
         * props.style
         * props.dragSourceInfo
         * props.onCheckCanDrop
         * props.onDrop
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleLegacyDragOver',
              value: function handleLegacyDragOver(ev) {
                var props = this.props
                if (ev && ev.preventDefault) {
                  ev.preventDefault()
                }
              },
            },
            {
              key: 'handleLegacyDrop',
              value: function handleLegacyDrop(ev) {
                var props = this.props
                if (ev && ev.preventDefault) {
                  ev.preventDefault()
                }
                if (typeof props.onDrop === 'function') {
                  props.onDrop(ev)
                }
              },
            },
            {
              key: 'handleLegacyClick',
              value: function handleLegacyClick(ev) {
                var props = this.props
                if (typeof props.onClick === 'function') {
                  props.onClick(ev)
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                if (
                  props.uiData &&
                  props.uiData.ownerDocument &&
                  props.uiData.ownerDocument.defaultView &&
                  props.uiData.ownerDocument.defaultView.$brUCDndEnabledApp &&
                  props.uiData.ownerDocument.defaultView.$brUCDndEnabledApp ===
                    props.uiData.uiDataId
                ) {
                  // react-dnd is enabled
                  if (props.dndableClass === 'FileDndable') {
                    return _react2.default.createElement(
                      _FileDndable2.default,
                      {
                        className:
                          'brDndableSafe' +
                          (props.className ? ' ' + props.className : ''),
                        style: props.style,
                        onDrop: props.onDrop,
                        onClick: props.onClick,
                      },
                      props.children,
                    )
                  } else {
                    return _react2.default.createElement(
                      _Dndable2.default,
                      {
                        className:
                          'brDndableSafe' +
                          (props.className ? ' ' + props.className : ''),
                        style: props.style,
                        dragSourceInfo: props.dragSourceInfo,
                        onCheckCanDrop: props.onCheckCanDrop,
                        onDrop: props.onDrop,
                        onClick: props.onClick,
                      },
                      props.children,
                    )
                  }
                } else {
                  // legacy (only able to drop files without effects)
                  return _react2.default.createElement(
                    'div',
                    {
                      className:
                        'brDndableSafe brLegacy' +
                        (props.className ? ' ' + props.className : ''),
                      style: props.style || {},
                      onDragOver: this.handleLegacyDragOver.bind(this),
                      onDrop: this.handleLegacyDrop.bind(this),
                      onClick: this.handleLegacyClick.bind(this),
                    },
                    props.children,
                  )
                }
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './Dndable.js': 374,
        './FileDndable.js': 377,
        react: 341,
      },
    ],
    376: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _MenuBalloonDialog = require('./MenuBalloonDialog.js')

        var _MenuBalloonDialog2 = _interopRequireDefault(_MenuBalloonDialog)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * DropDownMenu
         * props.uiData
         * props.uiData.showingDialogVersion
         * props.uiData.showingDialog_update
         * props.className
         * props.dialogClassName
         * props.disabled
         * props.hidden
         * props.style
         * props.text
         * props.onClick
         * props.onShowingDialogUpdate
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              showingDialogVersion: null,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                var nodeRect =
                  node &&
                  node.getBoundingClientRect &&
                  node.getBoundingClientRect()
                var reactroot =
                  node &&
                  node.ownerDocument &&
                  node.ownerDocument.querySelectorAll &&
                  Array.prototype.filter.call(
                    node.ownerDocument.querySelectorAll('[data-reactroot]'),
                    function (r) {
                      return r && r.contains && r.contains(node)
                    },
                  )[0]
                var dropDownMenuBalloonDialog = _reactDom2.default.findDOMNode(
                  this.refs['dropDownMenuBalloonDialog'],
                )
                if (
                  node &&
                  nodeRect &&
                  reactroot &&
                  dropDownMenuBalloonDialog &&
                  dropDownMenuBalloonDialog.style
                ) {
                  if (
                    props.uiData.showingDialogVersion ===
                    this.state.showingDialogVersion
                  ) {
                    if (dropDownMenuBalloonDialog.parentNode === node) {
                      reactroot.appendChild(
                        node.removeChild(dropDownMenuBalloonDialog),
                      )
                      dropDownMenuBalloonDialog.style.position = 'absolute'
                      dropDownMenuBalloonDialog.style.left =
                        nodeRect.left + 'px'
                      dropDownMenuBalloonDialog.style.top =
                        nodeRect.top + nodeRect.height + 'px'
                      dropDownMenuBalloonDialog.style.minWidth =
                        nodeRect.width + 'px'
                      dropDownMenuBalloonDialog.style.zIndex = '9999'
                    }
                  } else {
                    if (dropDownMenuBalloonDialog.parentNode === reactroot) {
                      node.appendChild(
                        reactroot.removeChild(dropDownMenuBalloonDialog),
                      )
                      dropDownMenuBalloonDialog.style.position = 'absolute'
                      dropDownMenuBalloonDialog.style.left = '0px'
                      dropDownMenuBalloonDialog.style.top =
                        nodeRect.height + 'px'
                      dropDownMenuBalloonDialog.style.minWidth = '0px'
                      dropDownMenuBalloonDialog.style.zIndex = '0'
                    }
                  }
                }
              },
            },
            {
              key: 'componentWillUnmount',
              value: function componentWillUnmount() {
                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                var reactroot =
                  node &&
                  node.ownerDocument &&
                  node.ownerDocument.querySelectorAll &&
                  Array.prototype.filter.call(
                    node.ownerDocument.querySelectorAll('[data-reactroot]'),
                    function (r) {
                      return r && r.contains && r.contains(node)
                    },
                  )[0]
                var dropDownMenuBalloonDialog = _reactDom2.default.findDOMNode(
                  this.refs['dropDownMenuBalloonDialog'],
                )
                if (node && reactroot && dropDownMenuBalloonDialog) {
                  if (dropDownMenuBalloonDialog.parentNode === reactroot) {
                    node.appendChild(
                      reactroot.removeChild(dropDownMenuBalloonDialog),
                    )
                  }
                }
              },
            },
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (!props.disabled) {
                  if (
                    props.uiData.showingDialogVersion !==
                    this.state.showingDialogVersion
                  ) {
                    this.setState({
                      showingDialogVersion: ++props.uiData.showingDialogVersion,
                    })
                    if (typeof props.onShowingDialogUpdate === 'function') {
                      props.onShowingDialogUpdate()
                    }
                    ev.stopPropagation()
                    props.uiData.fire('showingDialog_update')
                  } else {
                    this.setState({ showingDialogVersion: null })
                    ev.stopPropagation()
                  }
                  if (typeof props.onClick === 'function') {
                    props.onClick(ev)
                  }
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var title = ''
                if (typeof props.text === 'string') {
                  title = props.text
                } else if (
                  props.text &&
                  props.text.props &&
                  typeof props.text.props.children === 'string'
                ) {
                  title = props.text.props.children
                } else if (
                  props.text &&
                  props.text.props &&
                  props.text.props.children &&
                  typeof props.text.props.children.forEach === 'function'
                ) {
                  props.text.props.children.forEach(function (child) {
                    if (typeof child === 'string' && child) {
                      title = child
                    }
                  })
                }
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brDropDownMenu' +
                      (props.uiData.showingDialogVersion ===
                      this.state.showingDialogVersion
                        ? ' brFocus br_bi_icon_triangle_up_svg'
                        : ' br_bi_icon_triangle_down_svg') +
                      (props.disabled ? ' brDisabled' : '') +
                      (props.hidden ? ' brHidden' : '') +
                      (props.className ? ' ' + props.className : ''),
                    style: props.style || {},
                    title: title,
                    onClick: this.handleClick.bind(this),
                  },
                  props.text,
                  _react2.default.createElement(
                    _MenuBalloonDialog2.default,
                    {
                      ref: 'dropDownMenuBalloonDialog',
                      className:
                        'brDropDownMenuBalloonDialog' +
                        (props.dialogClassName
                          ? ' ' + props.dialogClassName
                          : ''),
                      showing:
                        props.uiData.showingDialogVersion ===
                          this.state.showingDialogVersion && !props.hidden,
                    },
                    props.children,
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './MenuBalloonDialog.js': 378,
        react: 341,
        'react-dom': 195,
      },
    ],
    377: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDnd = require('react-dnd')

        var _reactDndHtml5Backend = require('react-dnd-html5-backend')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        var dropTargetSpec = {
          canDrop: function canDrop(props, monitor) {
            // Browser doesn't allow reading "files" until the drop event.
            return true
          },
          drop: function drop(props, monitor) {
            var ev = {
              files:
                ((monitor && monitor.getItem && monitor.getItem()) || {})
                  .files || [],
              didDrop: Boolean(monitor && monitor.didDrop && monitor.didDrop()),
            }
            if (typeof props.onDrop === 'function') {
              props.onDrop(ev)
            }
          },
        }

        function dropTargetCollect(connect, monitor) {
          return {
            connectDropTarget: connect.dropTarget(),
            isOver: monitor.isOver(),
            canDrop: monitor.canDrop(),
          }
        }

        /**
         * FileDndable
         * props.className
         * props.style
         * props.onDrop
         * props.onClick
         */

        var FileDndable = (function (_React$Component) {
          _inherits(FileDndable, _React$Component)

          function FileDndable() {
            _classCallCheck(this, FileDndable)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(FileDndable).apply(this, arguments),
            )
          }

          _createClass(FileDndable, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (typeof props.onClick === 'function') {
                  props.onClick(ev)
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return props.connectDropTarget(
                  _react2.default.createElement(
                    'div',
                    {
                      className:
                        'brFileDndable' +
                        (props.isOver ? ' brIsOver' : '') +
                        (props.canDrop ? ' brCanDrop' : '') +
                        (props.className ? ' ' + props.className : ''),
                      style: props.style || {},
                      onClick: this.handleClick.bind(this),
                    },
                    props.children,
                  ),
                )
              },
            },
          ])

          return FileDndable
        })(_react2.default.Component)

        exports.default = (0, _reactDnd.DropTarget)(
          _reactDndHtml5Backend.NativeTypes.FILE,
          dropTargetSpec,
          dropTargetCollect,
        )(FileDndable)
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dnd': 186,
        'react-dnd-html5-backend': 171,
      },
    ],
    378: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * MenuBalloonDialog
         * props.showing
         * props.className
         * props.style
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (typeof props.onClick === 'function') {
                  props.onClick(ev)
                }
                if (
                  ev &&
                  !(
                    ev.target &&
                    ev.target.matches &&
                    ev.target.matches('.brMenuItem,.brMenuItem *')
                  )
                ) {
                  ev.stopPropagation()
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brMenuBalloonDialog' +
                      (props.showing ? '' : ' brHidden') +
                      (props.className ? ' ' + props.className : ''),
                    style: props.style || {},
                    onClick: this.handleClick.bind(this),
                  },
                  props.children,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    379: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * MenuItem
         * props.className
         * props.disabled
         * props.hidden
         * props.dropDown
         * props.style
         * props.onClick
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleClick',
              value: function handleClick(ev) {
                var props = this.props
                if (!props.disabled) {
                  if (typeof props.onClick === 'function') {
                    props.onClick(ev)
                  }
                }
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                var title = ''
                if (typeof props.children === 'string') {
                  title = props.children
                } else if (
                  props.children &&
                  props.children.props &&
                  typeof props.children.props.children === 'string'
                ) {
                  title = props.children.props.children
                } else if (
                  props.children &&
                  typeof props.children.forEach === 'function'
                ) {
                  props.children.forEach(function (child) {
                    if (typeof child === 'string' && child) {
                      title = child
                    } else if (
                      child &&
                      child.props &&
                      typeof child.props.children === 'string' &&
                      child.props.children
                    ) {
                      title = child.props.children
                    }
                  })
                }
                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brMenuItem' +
                      (props.disabled ? ' brDisabled' : '') +
                      (props.hidden ? ' brHidden' : '') +
                      (props.dropDown ? ' brDropDown' : '') +
                      (props.className ? ' ' + props.className : ''),
                    style: props.style || {},
                    title: title,
                    onClick: this.handleClick.bind(this),
                  },
                  props.children,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    380: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * MultipleAudio
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.phone
         * props.src
         * props.loop
         * props.playing
         * props.deviceId
         * props.localStoragePreferenceKey
         * props.className
         * props.audioClassName
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.lastDeviceId = null
            _this.mustSetSinkId = false
            _this.audioPlaying = false
            _this.state = {
              sinkIds: [''],
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var deviceId = (0, _strings.string)(
                  props.deviceId ||
                    props.uiData.ucUiStore.getLocalStoragePreference({
                      keyList: [
                        props.localStoragePreferenceKey || 'bellAudioTarget',
                      ],
                    })[0],
                )
                this.setSinkIdsState(deviceId)
                this.lastDeviceId = deviceId
              },
            },
            {
              key: 'componentDidUpdate',
              value: function componentDidUpdate() {
                var props = this.props
                var deviceId = (0, _strings.string)(
                  props.deviceId ||
                    props.uiData.ucUiStore.getLocalStoragePreference({
                      keyList: [
                        props.localStoragePreferenceKey || 'bellAudioTarget',
                      ],
                    })[0],
                )
                if (deviceId !== this.lastDeviceId) {
                  this.setSinkIdsState(deviceId)
                  this.lastDeviceId = deviceId
                } else {
                  this.setSinkIdAndPlay()
                }
              },
            },
            {
              key: 'setSinkIdsState',
              value: function setSinkIdsState(deviceId) {
                var _this2 = this

                var props = this.props
                if (deviceId === '_all_devices') {
                  if (
                    typeof navigator !== 'undefined' &&
                    navigator.mediaDevices &&
                    navigator.mediaDevices.enumerateDevices
                  ) {
                    navigator.mediaDevices
                      .enumerateDevices()
                      .then(function (devices) {
                        var audiooutputDeviceIds = devices
                          .filter(function (device) {
                            return (
                              device.kind === 'audiooutput' &&
                              device.deviceId !== 'default' &&
                              device.deviceId !== 'communications'
                            )
                          })
                          .map(function (device) {
                            return (0, _strings.string)(device.deviceId)
                          })
                        _this2.mustSetSinkId = true
                        _this2.audioPlaying = false
                        _this2.setState({
                          sinkIds:
                            audiooutputDeviceIds.length > 0
                              ? audiooutputDeviceIds
                              : [''],
                        })
                      })
                      .catch(function (error) {
                        props.uiData.ucUiStore.getLogger().log('warn', error)
                        _this2.mustSetSinkId = true
                        _this2.audioPlaying = false
                        _this2.setState({
                          sinkIds: [''],
                        })
                      })
                  } else {
                    props.uiData.ucUiStore
                      .getLogger()
                      .log('warn', 'enumerateDevices() not supported.')
                    this.mustSetSinkId = true
                    this.audioPlaying = false
                    this.setState({
                      sinkIds: [''],
                    })
                  }
                } else {
                  this.mustSetSinkId = true
                  this.audioPlaying = false
                  this.setState({
                    sinkIds: [(0, _strings.string)(deviceId)],
                  })
                }
              },
            },
            {
              key: 'setSinkIdAndPlay',
              value: function setSinkIdAndPlay() {
                var _this3 = this

                var props = this.props
                var node = _reactDom2.default.findDOMNode(this)
                if (node) {
                  ;(function () {
                    var children = node.children
                    if (
                      children &&
                      children.length === _this3.state.sinkIds.length
                    ) {
                      _this3.state.sinkIds.forEach(function (sinkId, i) {
                        var playOrPauseFunc = function playOrPauseFunc() {}
                        if (props.playing && !_this3.audioPlaying) {
                          // play
                          playOrPauseFunc = function playOrPauseFunc() {
                            try {
                              children[i]
                                .play()
                                .then(function () {})
                                .catch(function (error) {
                                  props.uiData.ucUiStore
                                    .getLogger()
                                    .log('warn', error)
                                })
                            } catch (ex) {
                              props.uiData.ucUiStore.getLogger().log('warn', ex)
                            }
                          }
                        } else if (!props.playing && _this3.audioPlaying) {
                          // pause
                          playOrPauseFunc = function playOrPauseFunc() {
                            try {
                              children[i].pause()
                              children[i].currentTime = 0
                            } catch (ex) {
                              props.uiData.ucUiStore.getLogger().log('warn', ex)
                            }
                          }
                        }
                        if (_this3.mustSetSinkId && sinkId) {
                          // setSinkId
                          try {
                            children[i]
                              .setSinkId((0, _strings.string)(sinkId))
                              .then(playOrPauseFunc)
                              .catch(function (error) {
                                props.uiData.ucUiStore
                                  .getLogger()
                                  .log('warn', error)
                                if (
                                  error &&
                                  (0, _strings.string)(error.message).indexOf(
                                    'permission',
                                  ) !== -1 &&
                                  !_this3.mustSetSinkId &&
                                  props.uiData.phone
                                ) {
                                  _this3.mustSetSinkId = true
                                  props.uiData.phone.checkUserMedia()
                                }
                                playOrPauseFunc()
                              })
                          } catch (ex) {
                            props.uiData.ucUiStore.getLogger().log('warn', ex)
                            playOrPauseFunc()
                          }
                        } else {
                          playOrPauseFunc()
                        }
                      })
                    } else {
                      props.uiData.ucUiStore
                        .getLogger()
                        .log(
                          'warn',
                          'setSinkId() error children.length=' +
                            (children && children.length) +
                            ' this.state.sinkIds.length=' +
                            _this3.state.sinkIds.length,
                        )
                    }
                  })()
                }
                this.mustSetSinkId = false
                this.audioPlaying = props.playing
              },
            },
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement(
                  'span',
                  {
                    className:
                      'brMultipleAudio' +
                      (props.className ? ' ' + props.className : ''),
                  },
                  this.state.sinkIds.map(function (sinkId) {
                    return _react2.default.createElement('audio', {
                      key: sinkId,
                      className:
                        'brMultipleAudioAudio' +
                        (props.audioClassName
                          ? ' ' + props.audioClassName
                          : ''),
                      src: props.src,
                      loop: Boolean(props.loop),
                    })
                  }),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    381: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        /**
         * NameEmbeddedSpan
         * props.ucUiStore
         * props.format
         * props.title
         * props.buddy
         */

        exports.default = function (props) {
          var format = (0, _strings.string)(props.format)
          var title = (0, _strings.string)(props.title)
          var messages = format.split('{0}')
          var titleMessages = title.split('{0}')
          var user =
            props.buddy && props.ucUiStore.getBuddyUserForUi(props.buddy)
          var user_name = (0, _strings.string)(user && user.name)
          var className = 'brNameEmbeddedSpan'
          if (user && user.isMe) {
            className += ' brIsMe'
          }
          if (user && user.isBuddy) {
            className += ' brIsBuddy'
          }
          if (user && user.isTemporaryBuddy) {
            className += ' brIsTemporaryBuddy'
          }
          return _react2.default.createElement(
            'span',
            { className: className, title: titleMessages.join(user_name) },
            messages.join(user_name),
          )
        }
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    382: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * OutgoingWebchatForm
         * props.uiData
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            var defaultReplyType = (0, _strings.string)(
              props &&
                props.params &&
                props.params.replyTypes &&
                props.params.replyTypes[0],
            )
            _this.state = {
              replyType: defaultReplyType,
              serviceId: (0, _strings.string)(
                props &&
                  props.params &&
                  props.params.webchatServiceIds &&
                  props.params.webchatServiceIds[defaultReplyType] &&
                  props.params.webchatServiceIds[defaultReplyType][0],
              ),
              text: '',
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var outgoingWebchatTextInput = _reactDom2.default.findDOMNode(
                  this.refs['outgoingWebchatTextInput'],
                )
                setTimeout(function () {
                  outgoingWebchatTextInput.focus()
                }, 0)
              },
            },
            {
              key: 'handleOutgoingWebchatReplyTypeItemClick',
              value: function handleOutgoingWebchatReplyTypeItemClick(
                replyType,
                ev,
              ) {
                var props = this.props
                if (this.state.replyType !== replyType) {
                  this.setState({
                    replyType: replyType,
                    serviceId: (0, _strings.string)(
                      props &&
                        props.params &&
                        props.params.webchatServiceIds &&
                        props.params.webchatServiceIds[replyType] &&
                        props.params.webchatServiceIds[replyType][0],
                    ),
                  })
                }
              },
            },
            {
              key: 'handleOutgoingWebchatServiceIdItemClick',
              value: function handleOutgoingWebchatServiceIdItemClick(
                serviceId,
                ev,
              ) {
                var props = this.props
                if (this.state.serviceId !== serviceId) {
                  this.setState({
                    serviceId: serviceId,
                  })
                }
              },
            },
            {
              key: 'handleOutgoingWebchatTextInputChange',
              value: function handleOutgoingWebchatTextInputChange(ev) {
                var props = this.props
                this.setState({ text: (0, _strings.string)(ev.target.value) })
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                var replyTypes =
                  (props && props.params && props.params.replyTypes) || []
                var webchatServiceIds =
                  (props &&
                    props.params &&
                    props.params.webchatServiceIds &&
                    props.params.webchatServiceIds[this.state.replyType]) ||
                  []
                return _react2.default.createElement(
                  'div',
                  { className: 'brOutgoingWebchatForm' },
                  _react2.default.createElement(
                    'table',
                    { className: 'brOutgoingWebchatTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_OUTGOING_WEBCHAT_REPLY_TYPE,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            _DropDownMenu2.default,
                            {
                              uiData: props.uiData,
                              className: 'brOutgoingWebchatReplyTypeMenu',
                              text: this.state.replyType,
                            },
                            replyTypes.map(function (replyType) {
                              return _react2.default.createElement(
                                _MenuItem2.default,
                                {
                                  key: replyType,
                                  className:
                                    'brOutgoingWebchatFormMenuItem brOutgoingWebchatReplyTypeItem',
                                  dropDown: true,
                                  onClick:
                                    _this2.handleOutgoingWebchatReplyTypeItemClick.bind(
                                      _this2,
                                      replyType,
                                    ),
                                },
                                replyType,
                              )
                            }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        {
                          style:
                            webchatServiceIds.length < 2
                              ? { display: 'none' }
                              : {},
                        },
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_OUTGOING_WEBCHAT_SERVICE_ID,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            _DropDownMenu2.default,
                            {
                              uiData: props.uiData,
                              className: 'brOutgoingWebchatServiceIdMenu',
                              text: this.state.serviceId,
                            },
                            webchatServiceIds.map(function (serviceId) {
                              return _react2.default.createElement(
                                _MenuItem2.default,
                                {
                                  key: serviceId,
                                  className:
                                    'brOutgoingWebchatFormMenuItem brOutgoingWebchatServiceIdItem',
                                  dropDown: true,
                                  onClick:
                                    _this2.handleOutgoingWebchatServiceIdItemClick.bind(
                                      _this2,
                                      serviceId,
                                    ),
                                },
                                serviceId,
                              )
                            }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(_TextBox2.default, {
                            ref: 'outgoingWebchatTextInput',
                            className: 'brOutgoingWebchatTextInput',
                            value: this.state.text,
                            type: 'text',
                            placeholder:
                              _uawmsgs2.default
                                .LBL_OUTGOING_WEBCHAT_TEXT_PLACEHOLDER,
                            autoCapitalize: 'off',
                            onChange:
                              this.handleOutgoingWebchatTextInputChange.bind(
                                this,
                              ),
                          }),
                        ),
                      ),
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './DropDownMenu.js': 376,
        './MenuItem.js': 379,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    383: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _ButtonLabeled = require('./ButtonLabeled.js')

        var _ButtonLabeled2 = _interopRequireDefault(_ButtonLabeled)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * StatusDisplayForm
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.statusDisplayUseLaterButton_onClick
         * props.uiData.statusDisplayItemDeleteButton_onClick
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            _this.state = {
              inputValue: '',
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'componentDidMount',
              value: function componentDidMount() {
                var props = this.props
                var statusMe = props.uiData.ucUiStore
                  .getChatClient()
                  .getStatus()
                if (statusMe.display) {
                  this.setState({
                    inputValue: (0, _strings.string)(statusMe.display),
                  })
                }
                var statusDisplayInput = _reactDom2.default.findDOMNode(
                  this.refs['statusDisplayInput'],
                )
                setTimeout(function () {
                  statusDisplayInput.focus()
                  statusDisplayInput.select()
                }, 0)
              },
            },
            {
              key: 'handleStatusDisplayInputChange',
              value: function handleStatusDisplayInputChange(ev) {
                var props = this.props
                this.setState({
                  inputValue: (0, _strings.string)(ev.target.value),
                })
              },
            },
            {
              key: 'handleStatusDisplayUseLaterButtonClick',
              value: function handleStatusDisplayUseLaterButtonClick(ev) {
                var props = this.props
                var item = (0, _strings.string)(this.state.inputValue)
                this.setState({ inputValue: '' })
                var statusDisplayInput = _reactDom2.default.findDOMNode(
                  this.refs['statusDisplayInput'],
                )
                setTimeout(function () {
                  statusDisplayInput.focus()
                }, 0)
                props.uiData.fire('statusDisplayUseLaterButton_onClick', item)
              },
            },
            {
              key: 'handleStatusDisplayClearButtonClick',
              value: function handleStatusDisplayClearButtonClick(ev) {
                var props = this.props
                this.setState({ inputValue: '' })
                var statusDisplayInput = _reactDom2.default.findDOMNode(
                  this.refs['statusDisplayInput'],
                )
                setTimeout(function () {
                  statusDisplayInput.focus()
                }, 0)
              },
            },
            {
              key: 'handleStatusDisplayItemClick',
              value: function handleStatusDisplayItemClick(item, ev) {
                var _this2 = this

                var props = this.props
                this.setState({ inputValue: (0, _strings.string)(item) })
                setTimeout(function () {
                  var node = _reactDom2.default.findDOMNode(_this2)
                  var button =
                    node &&
                    node.ownerDocument &&
                    node.ownerDocument.querySelector &&
                    node.ownerDocument.querySelector('button.brModalOKButton')
                  if (button && typeof button.click === 'function') {
                    button.click()
                  }
                }, 0)
              },
            },
            {
              key: 'handleStatusDisplayItemEditButtonClick',
              value: function handleStatusDisplayItemEditButtonClick(item, ev) {
                var props = this.props
                ev.stopPropagation()
                this.setState({ inputValue: (0, _strings.string)(item) })
                var statusDisplayInput = _reactDom2.default.findDOMNode(
                  this.refs['statusDisplayInput'],
                )
                setTimeout(function () {
                  statusDisplayInput.focus()
                  statusDisplayInput.setSelectionRange(
                    (0, _strings.string)(item).length,
                    (0, _strings.string)(item).length,
                  )
                }, 0)
                props.uiData.fire('statusDisplayItemDeleteButton_onClick', item)
              },
            },
            {
              key: 'handleStatusDisplayItemDeleteButtonClick',
              value: function handleStatusDisplayItemDeleteButtonClick(
                item,
                ev,
              ) {
                var props = this.props
                ev.stopPropagation()
                props.uiData.fire('statusDisplayItemDeleteButton_onClick', item)
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this3 = this

                var props = this.props
                var settings = props.uiData.ucUiStore
                  .getChatClient()
                  .getSettings()
                return _react2.default.createElement(
                  'div',
                  { className: 'brStatusDisplayForm' },
                  _react2.default.createElement(
                    'table',
                    { className: 'brStatusDisplayTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            'div',
                            { className: 'brStatusDisplayInputArea' },
                            _react2.default.createElement(_TextBox2.default, {
                              ref: 'statusDisplayInput',
                              type: 'text',
                              className: 'brStatusDisplayInput',
                              value: this.state.inputValue,
                              onChange:
                                this.handleStatusDisplayInputChange.bind(this),
                            }),
                            _react2.default.createElement(
                              _ButtonIconic2.default,
                              {
                                className:
                                  'brStatusDisplayUseLaterButton br_bi_icon_download_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_STATUS_DISPLAY_USE_LATER_BUTTON_TOOLTIP,
                                onClick:
                                  this.handleStatusDisplayUseLaterButtonClick.bind(
                                    this,
                                  ),
                              },
                            ),
                            _react2.default.createElement(
                              _ButtonIconic2.default,
                              {
                                className:
                                  'brStatusDisplayClearButton br_bi_icon_close_svg',
                                title:
                                  _uawmsgs2.default
                                    .LBL_STATUS_DISPLAY_CLEAR_BUTTON_TOOLTIP,
                                onClick:
                                  this.handleStatusDisplayClearButtonClick.bind(
                                    this,
                                  ),
                              },
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            'div',
                            { className: 'brStatusDisplayItems' },
                            (
                              (settings &&
                                settings.optional_settings &&
                                settings.optional_settings
                                  .status_display_history) ||
                              []
                            ).map(function (item, i) {
                              return _react2.default.createElement(
                                'div',
                                {
                                  key: i,
                                  className: 'brStatusDisplayItem',
                                  onClick:
                                    _this3.handleStatusDisplayItemClick.bind(
                                      _this3,
                                      item,
                                    ),
                                },
                                item,
                                _react2.default.createElement(
                                  _ButtonIconic2.default,
                                  {
                                    className:
                                      'brStatusDisplayItemEditButton br_bi_icon_edit_svg',
                                    title:
                                      _uawmsgs2.default
                                        .LBL_STATUS_DISPLAY_ITEM_EDIT_BUTTON_TOOLTIP,
                                    onClick:
                                      _this3.handleStatusDisplayItemEditButtonClick.bind(
                                        _this3,
                                        item,
                                      ),
                                  },
                                ),
                                _react2.default.createElement(
                                  _ButtonIconic2.default,
                                  {
                                    className:
                                      'brStatusDisplayItemDeleteButton br_bi_icon_close_svg',
                                    title:
                                      _uawmsgs2.default
                                        .LBL_STATUS_DISPLAY_ITEM_DELETE_BUTTON_TOOLTIP,
                                    onClick:
                                      _this3.handleStatusDisplayItemDeleteButtonClick.bind(
                                        _this3,
                                        item,
                                      ),
                                  },
                                ),
                              )
                            }),
                          ),
                        ),
                      ),
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './ButtonLabeled.js': 349,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    384: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * TextBox
         * props.className
         * props.value
         * props.disabled
         * props.hidden
         * props.type
         * props.placeholder
         * props.autoCapitalize
         * props.style
         * props.onChange
         * props.onBlur
         * props.onKeyDown
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'render',
              value: function render() {
                var props = this.props
                return _react2.default.createElement('input', {
                  className:
                    'brTextBox' +
                    (props.hidden ? ' brHidden' : '') +
                    (props.className ? ' ' + props.className : ''),
                  value: props.value,
                  disabled: props.disabled,
                  type: props.type || 'text',
                  placeholder: props.placeholder || '',
                  autoCapitalize: props.autoCapitalize,
                  style: props.style || {},
                  onChange: props.onChange,
                  onBlur: props.onBlur,
                  onKeyDown: props.onKeyDown,
                })
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        react: 341,
      },
    ],
    385: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol
                  ? 'symbol'
                  : typeof obj
              }

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _ButtonIconic = require('./ButtonIconic.js')

        var _ButtonIconic2 = _interopRequireDefault(_ButtonIconic)

        var _ButtonLabeled = require('./ButtonLabeled.js')

        var _ButtonLabeled2 = _interopRequireDefault(_ButtonLabeled)

        var _DndableSafe = require('./DndableSafe.js')

        var _DndableSafe2 = _interopRequireDefault(_DndableSafe)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _MenuBalloonDialog = require('./MenuBalloonDialog.js')

        var _MenuBalloonDialog2 = _interopRequireDefault(_MenuBalloonDialog)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _TextBox = require('./TextBox.js')

        var _TextBox2 = _interopRequireDefault(_TextBox)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * UserListForm
         * props.uiData
         * props.uiData.ucUiStore
         * props.uiData.showingDialogVersion
         * props.uiData.showingDialog_update
         * props.params
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class(props) {
            _classCallCheck(this, _class)

            var _this = _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).call(this, props),
            )

            var buddylist = JSON.parse(
              JSON.stringify(
                (props && props.params && props.params.buddylist) || {},
              ),
            )
            _this.state = {
              buddylist: buddylist,
              usedCount: (buddylist.user || []).filter(
                buddylist.screened
                  ? function (buddy) {
                      return buddy && buddy.user_id && !buddy.delete
                    }
                  : function (buddy) {
                      return buddy && buddy.user_id
                    },
              ).length,
              saveOrder: false,
              selectedSortOrderKey: '_name',
              expandedGroupIds: {},
              groupMenuShowingDialogVersion: null,
              groupMenuShowingDialogId: null,
              createGroupShowingDialogVersion: null,
            }
            return _this
          }

          _createClass(_class, [
            {
              key: 'handleUserListAllUsersCheckClick',
              value: function handleUserListAllUsersCheckClick(ev) {
                var props = this.props
                if (props.params && props.params.allUsersCheckDisabled) {
                  return
                }
                var buddylist = this.state.buddylist
                buddylist.screened = !Boolean(buddylist.screened)
                this.setState({
                  buddylist: buddylist,
                  usedCount: (buddylist.user || []).filter(
                    buddylist.screened
                      ? function (buddy) {
                          return buddy && buddy.user_id && !buddy.delete
                        }
                      : function (buddy) {
                          return buddy && buddy.user_id
                        },
                  ).length,
                })
              },
            },
            {
              key: 'handleUserListSaveOrderCheckClick',
              value: function handleUserListSaveOrderCheckClick(ev) {
                var props = this.props
                if (
                  props.params &&
                  props.params.buddy_mode ===
                    _constants2.default.BUDDY_MODE_AUTO
                ) {
                  return
                }
                var saveOrder = !Boolean(this.state.saveOrder)
                var selectedSortOrderKey = saveOrder ? '_group' : '_name'
                this.setState({
                  saveOrder: saveOrder,
                  selectedSortOrderKey: selectedSortOrderKey,
                })
              },
            },
            {
              key: 'handleUserListSortOrderGroupCheckClick',
              value: function handleUserListSortOrderGroupCheckClick(ev) {
                var props = this.props
                this.setState({
                  selectedSortOrderKey:
                    this.state.selectedSortOrderKey === '_group'
                      ? '_name'
                      : '_group',
                })
              },
            },
            {
              key: 'handleUserListSortOrderItemClick',
              value: function handleUserListSortOrderItemClick(key, ev) {
                var props = this.props
                this.setState({
                  selectedSortOrderKey: key,
                })
              },
            },
            {
              key: 'handleUserListDrop',
              value: function handleUserListDrop(dropTargetInfo, ev) {
                var props = this.props
                if (!(dropTargetInfo && ev && ev.dragSourceInfo)) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'invalid dragSourceInfo, dropTargetInfo')
                  return
                }
                if (
                  !(
                    this.state.saveOrder &&
                    this.state.selectedSortOrderKey === '_group'
                  )
                ) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'invalid saveOrder, selectedSortOrderKey')
                  return
                }
                // parameters
                var dragSourceInfoType = ev.dragSourceInfo.dragSourceInfoType
                var dragSourceInfoCode = ev.dragSourceInfo.dragSourceInfoCode
                var dropTargetInfoType = dropTargetInfo.dropTargetInfoType
                var dropTargetInfoCode = dropTargetInfo.dropTargetInfoCode

                // get buddylist
                var buddylist = this.state.buddylist
                var buddies = buddylist.user
                if (!buddies || !buddies.length) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'buddylist.user is empty')
                  return
                }

                // get sourceBuddy, targetBuddy
                var sourceIndex = -1
                var sourceBuddy = null
                var targetIndex = -1
                var targetBuddy = null
                var sourcePredicate = null
                if (dragSourceInfoType === 'userListBuddyItem') {
                  try {
                    ;(function () {
                      var dragSourceInfoCodeObject =
                        JSON.parse(dragSourceInfoCode) || {}
                      sourcePredicate = function sourcePredicate(buddy) {
                        return (
                          buddy &&
                          buddy.user_id &&
                          buddy.tenant === dragSourceInfoCodeObject.tenant &&
                          buddy.user_id === dragSourceInfoCodeObject.user_id
                        )
                      }
                    })()
                  } catch (ex) {}
                } else if (dragSourceInfoType === 'userListGroupArea') {
                  sourcePredicate = function sourcePredicate(buddy) {
                    return buddy && buddy.id && buddy.id === dragSourceInfoCode
                  }
                }
                var targetPredicate = null
                if (dropTargetInfoType === 'userListBuddyItem') {
                  try {
                    ;(function () {
                      var dropTargetInfoCodeObject =
                        JSON.parse(dropTargetInfoCode) || {}
                      targetPredicate = function targetPredicate(buddy) {
                        return (
                          buddy &&
                          buddy.user_id &&
                          buddy.tenant === dropTargetInfoCodeObject.tenant &&
                          buddy.user_id === dropTargetInfoCodeObject.user_id
                        )
                      }
                    })()
                  } catch (ex) {}
                } else if (dropTargetInfoType === 'userListGroupArea') {
                  targetPredicate = function targetPredicate(buddy) {
                    return buddy && buddy.id && buddy.id === dropTargetInfoCode
                  }
                }
                buddies.forEach(function (buddy, index) {
                  if (sourcePredicate && sourcePredicate(buddy)) {
                    sourceIndex = index
                    sourcePredicate = null
                  }
                  if (targetPredicate && targetPredicate(buddy)) {
                    targetIndex = index
                    targetPredicate = null
                  }
                })
                sourceBuddy = buddies[sourceIndex]
                if (!sourceBuddy) {
                  props.uiData.ucUiStore
                    .getLogger()
                    .log('warn', 'sourceBuddy not found')
                  return
                }
                targetBuddy = buddies[targetIndex]
                if (!targetBuddy) {
                  if (
                    dragSourceInfoType === 'userListBuddyItem' &&
                    dropTargetInfoType === 'userListGroupArea'
                  ) {
                    targetBuddy = { id: '' } // root group
                  } else {
                    props.uiData.ucUiStore
                      .getLogger()
                      .log('warn', 'targetBuddy not found')
                    return
                  }
                }

                // edit buddylist
                if (
                  (dragSourceInfoType === 'userListBuddyItem' &&
                    dropTargetInfoType === 'userListBuddyItem') ||
                  (dragSourceInfoType === 'userListGroupArea' &&
                    dropTargetInfoType === 'userListGroupArea')
                ) {
                  if (sourceIndex < targetIndex) {
                    // drag downward
                    var newTargetIndex = targetIndex - 1 // after remove source
                    if (sourceBuddy.group === targetBuddy.group) {
                      // drag downward in the same group
                      // move sourceBuddy after targetBuddy
                      buddylist.user.splice(
                        newTargetIndex + 1,
                        0,
                        buddylist.user.splice(sourceIndex, 1)[0],
                      )
                    } else {
                      // drag downward to another group
                      // move sourceBuddy before targetBuddy
                      buddylist.user.splice(
                        newTargetIndex,
                        0,
                        buddylist.user.splice(sourceIndex, 1)[0],
                      )
                    }
                  } else {
                    // drag upward
                    // move sourceBuddy before targetBuddy
                    buddylist.user.splice(
                      targetIndex,
                      0,
                      buddylist.user.splice(sourceIndex, 1)[0],
                    )
                  }
                  sourceBuddy.group = targetBuddy.group
                } else if (
                  dragSourceInfoType === 'userListBuddyItem' &&
                  dropTargetInfoType === 'userListGroupArea'
                ) {
                  // move sourceBuddy to the last child of targetBuddy
                  buddylist.user.push(buddylist.user.splice(sourceIndex, 1)[0])
                  sourceBuddy.group = targetBuddy.id
                }

                // render buddylist
                this.setState({
                  buddylist: buddylist,
                })
              },
            },
            {
              key: 'handleUserListBuddyItemClick',
              value: function handleUserListBuddyItemClick(buddy, ev) {
                var props = this.props
                var buddylist = this.state.buddylist
                if (buddylist.screened) {
                  ;(buddylist.user || []).some(function (b) {
                    if (
                      b &&
                      b.tenant === buddy.tenant &&
                      b.user_id === buddy.user_id
                    ) {
                      if (b.delete) {
                        delete b.delete
                      } else {
                        b.delete = true
                      }
                      return true
                    }
                  })
                  this.setState({
                    buddylist: buddylist,
                    usedCount: (buddylist.user || []).filter(
                      buddylist.screened
                        ? function (buddy) {
                            return buddy && buddy.user_id && !buddy.delete
                          }
                        : function (buddy) {
                            return buddy && buddy.user_id
                          },
                    ).length,
                  })
                }
              },
            },
            {
              key: 'handleUserListGroupItemClick',
              value: function handleUserListGroupItemClick(buddy, ev) {
                var props = this.props
                var expandedGroupIds = this.state.expandedGroupIds
                var id = buddy && buddy.id
                if (expandedGroupIds[id]) {
                  delete expandedGroupIds[id]
                } else {
                  expandedGroupIds[id] = true
                }
                this.setState({ expandedGroupIds: expandedGroupIds })
              },
            },
            {
              key: 'handleUserListGroupMenuButtonClick',
              value: function handleUserListGroupMenuButtonClick(buddy, ev) {
                var props = this.props
                var id = buddy && buddy.id
                if (
                  props.uiData.showingDialogVersion !==
                    this.state.groupMenuShowingDialogVersion ||
                  id !== this.state.groupMenuShowingDialogId
                ) {
                  this.setState({
                    groupMenuShowingDialogVersion: ++props.uiData
                      .showingDialogVersion,
                    groupMenuShowingDialogId: id,
                  })
                  ev.stopPropagation()
                  props.uiData.fire('showingDialog_update')
                }
              },
            },
            {
              key: 'handleUserListGroupCheckAllMenuItemClick',
              value: function handleUserListGroupCheckAllMenuItemClick(
                buddies,
                check,
                ev,
              ) {
                var props = this.props
                var buddylist = this.state.buddylist
                if (buddylist.screened) {
                  buddies.some(function (buddy) {
                    if (buddy.user_id) {
                      ;(buddylist.user || []).some(function (b) {
                        if (
                          b &&
                          b.tenant === buddy.tenant &&
                          b.user_id === buddy.user_id
                        ) {
                          if (check) {
                            delete b.delete
                          } else {
                            b.delete = true
                          }
                          return true
                        }
                      })
                    } else {
                      return true // next group
                    }
                  })
                  this.setState({
                    buddylist: buddylist,
                    usedCount: (buddylist.user || []).filter(
                      buddylist.screened
                        ? function (buddy) {
                            return buddy && buddy.user_id && !buddy.delete
                          }
                        : function (buddy) {
                            return buddy && buddy.user_id
                          },
                    ).length,
                  })
                }
              },
            },
            {
              key: 'handleUserListGroupRemoveGroupMenuItemClick',
              value: function handleUserListGroupRemoveGroupMenuItemClick(
                id,
                ev,
              ) {
                var props = this.props
                if (
                  !(
                    this.state.saveOrder &&
                    this.state.selectedSortOrderKey === '_group'
                  )
                ) {
                  return
                }
                var buddylist = this.state.buddylist
                for (
                  var i =
                    (0, _strings.int)(
                      buddylist && buddylist.user && buddylist.user.length,
                    ) - 1;
                  i >= 0;
                  i--
                ) {
                  if (buddylist.user[i].id === id) {
                    buddylist.user.splice(i, 1)
                  } else if (buddylist.user[i].group === id) {
                    buddylist.user[i].group = ''
                  }
                }
                this.setState({
                  buddylist: buddylist,
                })
              },
            },
            {
              key: 'handleUserListCreateGroupButtonClick',
              value: function handleUserListCreateGroupButtonClick(ev) {
                var _this2 = this

                var props = this.props
                if (
                  props.uiData.showingDialogVersion !==
                  this.state.createGroupShowingDialogVersion
                ) {
                  ;(function () {
                    _this2.setState({
                      createGroupShowingDialogVersion: ++props.uiData
                        .showingDialogVersion,
                    })
                    ev.stopPropagation()
                    props.uiData.fire('showingDialog_update')
                    // focus
                    var input = _reactDom2.default.findDOMNode(
                      _this2.refs['userListCreateGroupInput'],
                    )
                    setTimeout(function () {
                      if (input) {
                        input.focus()
                        input.select()
                      }
                    }, 0)
                  })()
                }
              },
            },
            {
              key: 'handleUserListCreateGroupInputKeyDown',
              value: function handleUserListCreateGroupInputKeyDown(ev) {
                var props = this.props
                if (ev && ev.keyCode === 13 && !ev.shiftKey) {
                  this.handleUserListCreateGroupSubmitButtonClick(ev)
                  ev.stopPropagation()
                } else if (ev && ev.keyCode === 27 && !ev.shiftKey) {
                  this.setState({
                    createGroupShowingDialogVersion: null,
                  })
                  ev.stopPropagation()
                }
              },
            },
            {
              key: 'handleUserListCreateGroupSubmitButtonClick',
              value: function handleUserListCreateGroupSubmitButtonClick(ev) {
                var props = this.props
                var input = _reactDom2.default.findDOMNode(
                  this.refs['userListCreateGroupInput'],
                )
                var id = (0, _strings.string)(input && input.value)
                var buddylist = this.state.buddylist
                if (
                  this.state.saveOrder &&
                  this.state.selectedSortOrderKey === '_group' &&
                  id &&
                  !buddylist.user.some(function (buddy) {
                    return buddy && buddy.id === id
                  })
                ) {
                  buddylist.user.push({
                    id: id,
                    name: id,
                    group: '',
                  })
                  this.setState({
                    buddylist: buddylist,
                    createGroupShowingDialogVersion: null,
                  })
                  input.value = ''
                } else {
                  setTimeout(function () {
                    if (input) {
                      input.focus()
                    }
                  }, 0)
                }
              },
            },
            {
              key: 'sortBuddylist',
              value: function sortBuddylist(buddies, sortOrderKey) {
                var props = this.props
                if (sortOrderKey === '_name') {
                  buddies = buddies.sort(function (a, b) {
                    var name_a = (0, _strings.string)(
                      a && (a.name || a.user_id),
                    )
                    var name_b = (0, _strings.string)(
                      b && (b.name || b.user_id),
                    )
                    return name_a.localeCompare(name_b)
                  })
                } else if (sortOrderKey === '_user_id') {
                  buddies = buddies.sort(function (a, b) {
                    var user_id_a = (0, _strings.string)(a && a.user_id)
                    var user_id_b = (0, _strings.string)(b && b.user_id)
                    return user_id_a.localeCompare(user_id_b)
                  })
                } else if (sortOrderKey === '_group') {
                  ;(function () {
                    var groupPositions = {}
                    buddies = buddies.sort(function (a, b) {
                      var group_a =
                        a && a.user_id
                          ? (0, _strings.string)(a.group)
                          : (0, _strings.string)(a && a.id)
                      groupPositions[group_a] =
                        groupPositions[group_a] ||
                        buddies.findIndex(function (g) {
                          return g.id === group_a
                        }) + 1 ||
                        buddies.length + 1
                      var group_b =
                        b && b.user_id
                          ? (0, _strings.string)(b.group)
                          : (0, _strings.string)(b && b.id)
                      groupPositions[group_b] =
                        groupPositions[group_b] ||
                        buddies.findIndex(function (g) {
                          return g.id === group_b
                        }) + 1 ||
                        buddies.length + 1
                      if (groupPositions[group_a] !== groupPositions[group_b]) {
                        return groupPositions[group_a] - groupPositions[group_b]
                      } else {
                        return !a.user_id && b.user_id
                          ? -1
                          : a.user_id && !b.user_id
                            ? 1
                            : 0
                      }
                    })
                  })()
                } else {
                  ;(function () {
                    var buddiesOrg =
                      ((props && props.params && props.params.buddylist) || {})
                        .user || []
                    var orgPositions = {}
                    buddies = buddies.sort(function (a, b) {
                      var key_a = a && a.user_id + a.id
                      orgPositions[key_a] =
                        orgPositions[key_a] ||
                        buddiesOrg.findIndex(function (buddy) {
                          return (buddy && buddy.user_id + buddy.id) === key_a
                        }) + 1 ||
                        buddiesOrg.length + 1
                      var key_b = b && b.user_id + b.id
                      orgPositions[key_b] =
                        orgPositions[key_b] ||
                        buddiesOrg.findIndex(function (buddy) {
                          return (buddy && buddy.user_id + buddy.id) === key_b
                        }) + 1 ||
                        buddiesOrg.length + 1
                      return orgPositions[key_a] - orgPositions[key_b]
                    })
                  })()
                }
                return buddies
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this3 = this

                var props = this.props
                var nameDisplayMode = (0, _strings.int)(
                  props.uiData.ucUiStore.getOptionalSetting({
                    key: ['name_display_mode'],
                  }),
                )

                var sortOrders = []
                sortOrders.push({
                  key: '',
                  label: _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER_NONE,
                })
                sortOrders.push({
                  key: '_name',
                  label: _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER_NAME,
                })
                if (nameDisplayMode === 1) {
                  sortOrders.push({
                    key: '_user_id',
                    label: _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER_USER_ID,
                  })
                }
                sortOrders.push({
                  key: '_group',
                  label: _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER_GROUP,
                })

                var buddies = (this.state.buddylist.user || []).concat() // shallow copy
                var groupUserCountTable = {}
                if (this.state.selectedSortOrderKey !== '_group') {
                  buddies = buddies.filter(function (buddy) {
                    return buddy.user_id // is not a group
                  })
                  buddies = this.sortBuddylist(
                    buddies,
                    this.state.selectedSortOrderKey,
                  )
                } else {
                  ;(function () {
                    buddies = buddies.concat({
                      id: '',
                      name: _uawmsgs2.default.LBL_USER_LIST_NO_GROUP,
                      group: '',
                    })
                    buddies = _this3.sortBuddylist(
                      buddies,
                      _this3.state.selectedSortOrderKey,
                    )
                    var activeCount = 0
                    var totalCount = 0
                    buddies.reduceRight(function (a, buddy) {
                      if (buddy && buddy.user_id) {
                        if (!buddy.delete) {
                          activeCount++
                        }
                        totalCount++
                      } else if (buddy) {
                        groupUserCountTable[buddy.id] = {
                          activeCount: activeCount,
                          totalCount: totalCount,
                        }
                        activeCount = 0
                        totalCount = 0
                      }
                    }, null)
                  })()
                }

                var currentGroupId = null

                return _react2.default.createElement(
                  'div',
                  {
                    className:
                      'brUserListForm brBuddyMode' +
                      (0, _strings.int)(
                        props.params && props.params.buddy_mode,
                      ) +
                      (this.state.buddylist.screened ? ' brScreened' : '') +
                      (this.state.saveOrder ? ' brSaveOrder' : ''),
                  },
                  _react2.default.createElement(
                    'table',
                    { className: 'brUserListTable' },
                    _react2.default.createElement(
                      'tbody',
                      null,
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'span',
                            {
                              className:
                                'brUserListAllUsersCheck' +
                                (props.params &&
                                props.params.allUsersCheckDisabled
                                  ? ' brDisabled'
                                  : '') +
                                (props.params &&
                                props.params.allUsersCheckHidden
                                  ? ' brHidden'
                                  : ''),
                              onClick:
                                this.handleUserListAllUsersCheckClick.bind(
                                  this,
                                ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brUserListAllUsersCheckIcon' +
                                (this.state.buddylist.screened
                                  ? ' br_bi_icon_square_svg'
                                  : ' brSelected br_bi_icon_check_svg'),
                            }),
                            _react2.default.createElement(
                              'span',
                              { className: 'brUserListAllUsersCheckLabel' },
                              _uawmsgs2.default.LBL_USER_LIST_ALL_USERS_CHECK,
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'span',
                            {
                              className: 'brUserListSaveOrderCheck',
                              onClick:
                                this.handleUserListSaveOrderCheckClick.bind(
                                  this,
                                ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brUserListSaveOrderCheckIcon' +
                                (this.state.saveOrder
                                  ? ' brSelected br_bi_icon_check_svg'
                                  : ' br_bi_icon_square_svg'),
                            }),
                            _react2.default.createElement(
                              'span',
                              { className: 'brUserListSaveOrderCheckLabel' },
                              _uawmsgs2.default.LBL_USER_LIST_SAVE_ORDER_CHECK,
                            ),
                          ),
                          _react2.default.createElement(
                            'span',
                            {
                              className: 'brUserListSortOrderGroupCheck',
                              onClick:
                                this.handleUserListSortOrderGroupCheckClick.bind(
                                  this,
                                ),
                            },
                            _react2.default.createElement('span', {
                              className:
                                'brUserListSortOrderGroupCheckIcon' +
                                (this.state.selectedSortOrderKey === '_group'
                                  ? ' brSelected br_bi_icon_check_svg'
                                  : ' br_bi_icon_square_svg'),
                            }),
                            _react2.default.createElement(
                              'span',
                              {
                                className: 'brUserListSortOrderGroupCheckLabel',
                              },
                              _uawmsgs2.default
                                .LBL_USER_LIST_SORT_ORDER_GROUP_CHECK,
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        { style: { display: 'none' } },
                        _react2.default.createElement(
                          'td',
                          null,
                          _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER,
                        ),
                        _react2.default.createElement(
                          'td',
                          null,
                          _react2.default.createElement(
                            _DropDownMenu2.default,
                            {
                              uiData: props.uiData,
                              className: 'brUserListSortOrderMenu',
                              text:
                                (
                                  sortOrders.find(function (sortOrder) {
                                    return (
                                      sortOrder.key ===
                                      _this3.state.selectedSortOrderKey
                                    )
                                  }) || {}
                                ).label ||
                                _uawmsgs2.default.LBL_USER_LIST_SORT_ORDER_NONE,
                            },
                            sortOrders.map(function (sortOrder) {
                              return _react2.default.createElement(
                                _MenuItem2.default,
                                {
                                  key: sortOrder.key,
                                  className:
                                    'brUserListFormMenuItem brUserListSortOrderItem',
                                  dropDown: true,
                                  onClick:
                                    _this3.handleUserListSortOrderItemClick.bind(
                                      _this3,
                                      sortOrder.key,
                                    ),
                                },
                                sortOrder.label,
                              )
                            }),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'span',
                            { className: 'brUserListCaptionArea' },
                            _uawmsgs2.default.LBL_USER_LIST_CAPTION,
                          ),
                          _react2.default.createElement(
                            'span',
                            { className: 'brUserListCapacityArea' },
                            _react2.default.createElement(
                              'span',
                              { className: 'brUserListCapacityLabel' },
                              _uawmsgs2.default.LBL_USER_LIST_CAPACITY,
                            ),
                            _react2.default.createElement(
                              'span',
                              { className: 'brUserListCapacityValue' },
                              _react2.default.createElement(
                                'span',
                                {
                                  className:
                                    'brUserListCapacityUsed' +
                                    (this.state.usedCount >
                                    props.params.buddy_max
                                      ? ' brOver'
                                      : ''),
                                },
                                this.state.usedCount,
                              ),
                              _react2.default.createElement(
                                'span',
                                null,
                                ' / ',
                              ),
                              _react2.default.createElement(
                                'span',
                                { className: 'brUserListCapacityMax' },
                                props.params.buddy_max,
                              ),
                            ),
                          ),
                        ),
                      ),
                      _react2.default.createElement(
                        'tr',
                        null,
                        _react2.default.createElement(
                          'td',
                          { colSpan: '2' },
                          _react2.default.createElement(
                            'div',
                            { className: 'brUserListBuddies' },
                            buddies.map(function (buddy, i) {
                              if (buddy && buddy.user_id) {
                                var _ret7 = (function () {
                                  var key = JSON.stringify({
                                    tenant: buddy.tenant,
                                    user_id: buddy.user_id,
                                  })
                                  var label =
                                    (buddy.name || buddy.user_id) +
                                    (nameDisplayMode === 1
                                      ? ' (' + buddy.user_id + ')'
                                      : '')
                                  return {
                                    v: _react2.default.createElement(
                                      _DndableSafe2.default,
                                      {
                                        uiData: props.uiData,
                                        className:
                                          'brUserListBuddyItem' +
                                          (_this3.state.selectedSortOrderKey ===
                                            '_group' &&
                                          !_this3.state.expandedGroupIds[
                                            currentGroupId
                                          ]
                                            ? ' brCollapsed'
                                            : ''),
                                        key: key,
                                        style: { zIndex: buddies.length - 1 },
                                        dragSourceInfo: {
                                          dragSourceInfoType:
                                            'userListBuddyItem',
                                          dragSourceInfoCode: key,
                                        },
                                        onCheckCanDrop: function onCheckCanDrop(
                                          ev,
                                        ) {
                                          return (
                                            _this3.state.saveOrder &&
                                            _this3.state
                                              .selectedSortOrderKey ===
                                              '_group' &&
                                            ev.dragSourceInfo &&
                                            ev.dragSourceInfo
                                              .dragSourceInfoType ===
                                              'userListBuddyItem' &&
                                            ev.dragSourceInfo
                                              .dragSourceInfoCode !== key
                                          )
                                        },
                                        onDrop: _this3.handleUserListDrop.bind(
                                          _this3,
                                          {
                                            dropTargetInfoType:
                                              'userListBuddyItem',
                                            dropTargetInfoCode: key,
                                          },
                                        ),
                                        onClick:
                                          _this3.handleUserListBuddyItemClick.bind(
                                            _this3,
                                            buddy,
                                          ),
                                      },
                                      _react2.default.createElement('span', {
                                        className:
                                          'brUserListBuddyItemIcon' +
                                          (_this3.state.buddylist.screened &&
                                          buddy.delete
                                            ? ' br_bi_icon_square_svg'
                                            : ' brSelected br_bi_icon_check_svg'),
                                        title: label,
                                      }),
                                      _react2.default.createElement(
                                        'span',
                                        {
                                          className: 'brUserListBuddyItemLabel',
                                          title: label,
                                        },
                                        label,
                                      ),
                                    ),
                                  }
                                })()

                                if (
                                  (typeof _ret7 === 'undefined'
                                    ? 'undefined'
                                    : _typeof(_ret7)) === 'object'
                                )
                                  return _ret7.v
                              } else if (buddy) {
                                return _react2.default.createElement(
                                  _DndableSafe2.default,
                                  {
                                    uiData: props.uiData,
                                    className:
                                      'brUserListGroupArea' +
                                      (buddy.id ? ' brGroupId' : ''),
                                    key: (currentGroupId = buddy.id),
                                    style: { zIndex: buddies.length - i },
                                    dragSourceInfo: {
                                      dragSourceInfoType: 'userListGroupArea',
                                      dragSourceInfoCode: buddy.id,
                                    },
                                    onCheckCanDrop: function onCheckCanDrop(
                                      ev,
                                    ) {
                                      return (
                                        _this3.state.saveOrder &&
                                        _this3.state.selectedSortOrderKey ===
                                          '_group' &&
                                        ev.dragSourceInfo &&
                                        (ev.dragSourceInfo
                                          .dragSourceInfoType ===
                                          'userListBuddyItem' ||
                                          (ev.dragSourceInfo
                                            .dragSourceInfoType ===
                                            'userListGroupArea' &&
                                            ev.dragSourceInfo
                                              .dragSourceInfoCode !==
                                              buddy.id &&
                                            ev.dragSourceInfo
                                              .dragSourceInfoCode &&
                                            buddy.id))
                                      )
                                    },
                                    onDrop: _this3.handleUserListDrop.bind(
                                      _this3,
                                      {
                                        dropTargetInfoType: 'userListGroupArea',
                                        dropTargetInfoCode: buddy.id,
                                      },
                                    ),
                                  },
                                  _react2.default.createElement(
                                    'div',
                                    { className: 'brUserListGroupMenuArea' },
                                    _react2.default.createElement(
                                      _ButtonIconic2.default,
                                      {
                                        className:
                                          'brUserListGroupMenuButton br_bi_icon_more_svg',
                                        onClick:
                                          _this3.handleUserListGroupMenuButtonClick.bind(
                                            _this3,
                                            buddy,
                                          ),
                                      },
                                      _react2.default.createElement(
                                        _MenuBalloonDialog2.default,
                                        {
                                          showing:
                                            props.uiData
                                              .showingDialogVersion ===
                                              _this3.state
                                                .groupMenuShowingDialogVersion &&
                                            buddy.id ===
                                              _this3.state
                                                .groupMenuShowingDialogId,
                                          className:
                                            'brUserListGroupMenuBalloonDialog',
                                        },
                                        _react2.default.createElement(
                                          _MenuItem2.default,
                                          {
                                            className:
                                              'brUserListGroupMenuItem brCheckAll',
                                            disabled:
                                              !_this3.state.buddylist.screened,
                                            onClick:
                                              _this3.handleUserListGroupCheckAllMenuItemClick.bind(
                                                _this3,
                                                buddies.slice(i + 1),
                                                true,
                                              ),
                                          },
                                          _uawmsgs2.default
                                            .LBL_USER_LIST_GROUP_CHECK_ALL_MENU,
                                        ),
                                        _react2.default.createElement(
                                          _MenuItem2.default,
                                          {
                                            className:
                                              'brUserListGroupMenuItem brUncheckAll',
                                            disabled:
                                              !_this3.state.buddylist.screened,
                                            onClick:
                                              _this3.handleUserListGroupCheckAllMenuItemClick.bind(
                                                _this3,
                                                buddies.slice(i + 1),
                                                false,
                                              ),
                                          },
                                          _uawmsgs2.default
                                            .LBL_USER_LIST_GROUP_UNCHECK_ALL_MENU,
                                        ),
                                        _react2.default.createElement(
                                          _MenuItem2.default,
                                          {
                                            className:
                                              'brUserListGroupMenuItem brRemoveGroup',
                                            disabled: !(
                                              _this3.state.saveOrder && buddy.id
                                            ),
                                            onClick:
                                              _this3.handleUserListGroupRemoveGroupMenuItemClick.bind(
                                                _this3,
                                                buddy.id,
                                              ),
                                          },
                                          _uawmsgs2.default
                                            .LBL_USER_LIST_GROUP_REMOVE_GROUP_MENU,
                                        ),
                                      ),
                                    ),
                                  ),
                                  _react2.default.createElement(
                                    'div',
                                    {
                                      className:
                                        'brUserListGroupItem' +
                                        (_this3.state.expandedGroupIds[buddy.id]
                                          ? ' br_bi_icon_chevron_up_svg'
                                          : ' br_bi_icon_chevron_down_svg'),
                                      onClick:
                                        _this3.handleUserListGroupItemClick.bind(
                                          _this3,
                                          buddy,
                                        ),
                                    },
                                    (0, _strings.string)(
                                      groupUserCountTable[buddy.id] &&
                                        buddy.name +
                                          ' ' +
                                          (_this3.state.buddylist.screened
                                            ? groupUserCountTable[buddy.id]
                                                .activeCount
                                            : groupUserCountTable[buddy.id]
                                                .totalCount) +
                                          '/' +
                                          groupUserCountTable[buddy.id]
                                            .totalCount,
                                    ),
                                  ),
                                )
                              } else {
                                return _react2.default.createElement(
                                  'div',
                                  null,
                                )
                              }
                            }),
                          ),
                        ),
                      ),
                    ),
                  ),
                  _react2.default.createElement(_ButtonIconic2.default, {
                    className:
                      'brUserListCreateGroupButton br_bi_icon_add_folder_svg',
                    hidden: !(
                      this.state.saveOrder &&
                      this.state.selectedSortOrderKey === '_group'
                    ),
                    title:
                      _uawmsgs2.default
                        .LBL_USER_LIST_CREATE_GROUP_BUTTON_TOOLTIP,
                    onClick:
                      this.handleUserListCreateGroupButtonClick.bind(this),
                  }),
                  _react2.default.createElement(
                    _MenuBalloonDialog2.default,
                    {
                      showing:
                        props.uiData.showingDialogVersion ===
                        this.state.createGroupShowingDialogVersion,
                      className: 'brUserListCreateGroupBalloonDialog',
                    },
                    _react2.default.createElement(_TextBox2.default, {
                      ref: 'userListCreateGroupInput',
                      className: 'brUserListCreateGroupInput',
                      placeholder:
                        _uawmsgs2.default
                          .LBL_USER_LIST_CREATE_GROUP_INPUT_PLACEHOLDER,
                      onKeyDown:
                        this.handleUserListCreateGroupInputKeyDown.bind(this),
                    }),
                    _react2.default.createElement(
                      _ButtonLabeled2.default,
                      {
                        className: 'brUserListCreateGroupSubmitButton',
                        title:
                          _uawmsgs2.default
                            .LBL_USER_LIST_CREATE_GROUP_SUBMIT_BUTTON_TOOLTIP,
                        onClick:
                          this.handleUserListCreateGroupSubmitButtonClick.bind(
                            this,
                          ),
                      },
                      _uawmsgs2.default
                        .LBL_USER_LIST_CREATE_GROUP_SUBMIT_BUTTON,
                    ),
                  ),
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './ButtonIconic.js': 348,
        './ButtonLabeled.js': 349,
        './DndableSafe.js': 375,
        './DropDownMenu.js': 376,
        './MenuBalloonDialog.js': 378,
        './MenuItem.js': 379,
        './TextBox.js': 384,
        react: 341,
        'react-dom': 195,
      },
    ],
    386: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })

        var _createClass = (function () {
          function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i]
              descriptor.enumerable = descriptor.enumerable || false
              descriptor.configurable = true
              if ('value' in descriptor) descriptor.writable = true
              Object.defineProperty(target, descriptor.key, descriptor)
            }
          }
          return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps)
            if (staticProps) defineProperties(Constructor, staticProps)
            return Constructor
          }
        })()

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _uawmsgs = require('../utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('../utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('../utilities/strings.js')

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _reactModal = require('react-modal')

        var _reactModal2 = _interopRequireDefault(_reactModal)

        var _BgColorEditForm = require('./BgColorEditForm.js')

        var _BgColorEditForm2 = _interopRequireDefault(_BgColorEditForm)

        var _BroadcastForm = require('./BroadcastForm.js')

        var _BroadcastForm2 = _interopRequireDefault(_BroadcastForm)

        var _ButtonLabeled = require('./ButtonLabeled.js')

        var _ButtonLabeled2 = _interopRequireDefault(_ButtonLabeled)

        var _ConferenceInviteForm = require('./ConferenceInviteForm.js')

        var _ConferenceInviteForm2 = _interopRequireDefault(
          _ConferenceInviteForm,
        )

        var _ConfirmForm = require('./ConfirmForm.js')

        var _ConfirmForm2 = _interopRequireDefault(_ConfirmForm)

        var _DropDownMenu = require('./DropDownMenu.js')

        var _DropDownMenu2 = _interopRequireDefault(_DropDownMenu)

        var _MenuItem = require('./MenuItem.js')

        var _MenuItem2 = _interopRequireDefault(_MenuItem)

        var _OutgoingWebchatForm = require('./OutgoingWebchatForm.js')

        var _OutgoingWebchatForm2 = _interopRequireDefault(_OutgoingWebchatForm)

        var _StatusDisplayForm = require('./StatusDisplayForm.js')

        var _StatusDisplayForm2 = _interopRequireDefault(_StatusDisplayForm)

        var _UserListForm = require('./UserListForm.js')

        var _UserListForm2 = _interopRequireDefault(_UserListForm)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function')
          }
        }

        function _possibleConstructorReturn(self, call) {
          if (!self) {
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            )
          }
          return call &&
            (typeof call === 'object' || typeof call === 'function')
            ? call
            : self
        }

        function _inherits(subClass, superClass) {
          if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof superClass,
            )
          }
          subClass.prototype = Object.create(
            superClass && superClass.prototype,
            {
              constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true,
              },
            },
          )
          if (superClass)
            Object.setPrototypeOf
              ? Object.setPrototypeOf(subClass, superClass)
              : (subClass.__proto__ = superClass)
        }

        /**
         * WidgetBody
         * props.uiData
         * props.uiData.modalInfo
         * props.uiData.widgetBody_onClick
         * props.uiData.modalOk_onClick
         * props.uiData.modalCancel_onClick
         * props.uiData.modalThirdButton_onClick
         * props.modalOverlayClassName
         */

        var _class = (function (_React$Component) {
          _inherits(_class, _React$Component)

          function _class() {
            _classCallCheck(this, _class)

            return _possibleConstructorReturn(
              this,
              Object.getPrototypeOf(_class).apply(this, arguments),
            )
          }

          _createClass(_class, [
            {
              key: 'handleModalAfterOpen',
              value: function handleModalAfterOpen() {
                var modalTable = _reactDom2.default.findDOMNode(
                  this.refs['modalTable'],
                )
                if (
                  modalTable &&
                  modalTable.parentNode &&
                  modalTable.parentNode.style &&
                  modalTable.offsetHeight
                ) {
                  modalTable.parentNode.style.height =
                    modalTable.offsetHeight + 'px'
                }
                var modalOk = _reactDom2.default.findDOMNode(
                  this.refs['modalOk'],
                )
                if (modalOk && modalOk.focus) {
                  modalOk.focus()
                }
              },
            },
            {
              key: 'handleModalTableKeyDown',
              value: function handleModalTableKeyDown(ev) {
                var props = this.props
                var modalInfo = props.uiData.modalInfo
                if (ev && ev.keyCode === 13 && !ev.shiftKey) {
                  props.uiData.fire('modalOk_onClick', this.refs['content'])
                  ev.preventDefault()
                } else if (ev && ev.keyCode === 27 && !ev.shiftKey) {
                  props.uiData.fire(
                    modalInfo.cancelByThirdButton
                      ? 'modalThirdButton_onClick'
                      : 'modalCancel_onClick',
                    this.refs['content'],
                  )
                  ev.preventDefault()
                }
              },
            },
            {
              key: 'handleModalCheckBoxClick',
              value: function handleModalCheckBoxClick(ev) {
                var props = this.props
                var modalInfo = props.uiData.modalInfo
                if (modalInfo) {
                  modalInfo.checkBoxChecked = Boolean(
                    !modalInfo.checkBoxChecked,
                  )
                }
                this.setState({})
              },
            },
            {
              key: 'handleModalMenuItemClick',
              value: function handleModalMenuItemClick(index, ev) {
                var props = this.props
                var modalInfo = props.uiData.modalInfo
                if (
                  modalInfo &&
                  modalInfo.selectItemList &&
                  modalInfo.selectItemList.length
                ) {
                  for (var i = 0; i < modalInfo.selectItemList.length; i++) {
                    modalInfo.selectItemList[i].selected = i === index
                  }
                }
                this.setState({})
              },
            },
            {
              key: 'handleModalOKButtonClick',
              value: function handleModalOKButtonClick(ev) {
                var props = this.props
                props.uiData.fire('modalOk_onClick', this.refs['content'])
              },
            },
            {
              key: 'handleModalCancelButtonClick',
              value: function handleModalCancelButtonClick(ev) {
                var props = this.props
                props.uiData.fire('modalCancel_onClick', this.refs['content'])
              },
            },
            {
              key: 'handleModalThirdButtonClick',
              value: function handleModalThirdButtonClick(ev) {
                var props = this.props
                props.uiData.fire(
                  'modalThirdButton_onClick',
                  this.refs['content'],
                )
              },
            },
            {
              key: 'render',
              value: function render() {
                var _this2 = this

                var props = this.props
                var modalInfo = props.uiData.modalInfo
                var content =
                  modalInfo && modalInfo.contentClass === 'ConferenceInviteForm'
                    ? _react2.default.createElement(
                        _ConferenceInviteForm2.default,
                        {
                          ref: 'content',
                          uiData: props.uiData,
                          params: modalInfo.contentParams,
                        },
                      )
                    : modalInfo && modalInfo.contentClass === 'BroadcastForm'
                      ? _react2.default.createElement(_BroadcastForm2.default, {
                          ref: 'content',
                          uiData: props.uiData,
                          params: modalInfo.contentParams,
                        })
                      : modalInfo && modalInfo.contentClass === 'UserListForm'
                        ? _react2.default.createElement(
                            _UserListForm2.default,
                            {
                              ref: 'content',
                              uiData: props.uiData,
                              params: modalInfo.contentParams,
                            },
                          )
                        : modalInfo &&
                            modalInfo.contentClass === 'StatusDisplayForm'
                          ? _react2.default.createElement(
                              _StatusDisplayForm2.default,
                              {
                                ref: 'content',
                                uiData: props.uiData,
                                params: modalInfo.contentParams,
                              },
                            )
                          : modalInfo &&
                              modalInfo.contentClass === 'BgColorEditForm'
                            ? _react2.default.createElement(
                                _BgColorEditForm2.default,
                                {
                                  ref: 'content',
                                  uiData: props.uiData,
                                  params: modalInfo.contentParams,
                                },
                              )
                            : modalInfo &&
                                modalInfo.contentClass === 'OutgoingWebchatForm'
                              ? _react2.default.createElement(
                                  _OutgoingWebchatForm2.default,
                                  {
                                    ref: 'content',
                                    uiData: props.uiData,
                                    params: modalInfo.contentParams,
                                  },
                                )
                              : modalInfo &&
                                  modalInfo.contentClass === 'ConfirmForm'
                                ? _react2.default.createElement(
                                    _ConfirmForm2.default,
                                    {
                                      ref: 'content',
                                      uiData: props.uiData,
                                      params: modalInfo.contentParams,
                                    },
                                  )
                                : modalInfo &&
                                    modalInfo.contentParams &&
                                    modalInfo.contentParams.content
                                  ? _react2.default.createElement(
                                      'div',
                                      { ref: 'content' },
                                      modalInfo.contentParams.content,
                                    )
                                  : _react2.default.createElement('div', {
                                      ref: 'content',
                                    })
                return _react2.default.createElement(
                  'div',
                  {
                    className: 'brWidgetBody',
                    onClick: props.uiData.fire.bind(
                      props.uiData,
                      'widgetBody_onClick',
                    ),
                  },
                  _react2.default.createElement(
                    _reactModal2.default,
                    {
                      className:
                        'brWidgetBodyModal' +
                        (modalInfo && modalInfo.modalClassName
                          ? ' ' + modalInfo.modalClassName
                          : ''),
                      overlayClassName:
                        'brWidgetBodyModalOverlay' +
                        (props.modalOverlayClassName
                          ? ' ' + props.modalOverlayClassName
                          : '') +
                        (modalInfo && modalInfo.overlayClassName
                          ? ' ' + modalInfo.overlayClassName
                          : ''),
                      style: (modalInfo && modalInfo.modalStyle) || {},
                      isOpen: modalInfo !== null,
                      onAfterOpen: this.handleModalAfterOpen.bind(this),
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        ref: 'modalTable',
                        className:
                          'brModalTable' +
                          (modalInfo && modalInfo.tableClassName
                            ? ' ' + modalInfo.tableClassName
                            : ''),
                        onKeyDown: this.handleModalTableKeyDown.bind(this),
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'brModalTitle' },
                        modalInfo && modalInfo.title,
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'brModalContent' },
                        content,
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'brModalMessage' },
                        (modalInfo &&
                          (modalInfo.asHTML
                            ? _react2.default.createElement('span', {
                                dangerouslySetInnerHTML: {
                                  __html: modalInfo.message,
                                },
                              })
                            : modalInfo.message)) ||
                          '',
                        _react2.default.createElement(
                          'span',
                          {
                            className:
                              'brModalCheckBox' +
                              (modalInfo && modalInfo.checkBoxLabel
                                ? modalInfo.checkBoxChecked
                                  ? ' br_bi_icon_check_svg'
                                  : ' br_bi_icon_square_svg'
                                : ' brHidden'),
                            onClick: this.handleModalCheckBoxClick.bind(this),
                          },
                          modalInfo && modalInfo.checkBoxLabel,
                        ),
                        _react2.default.createElement(
                          _DropDownMenu2.default,
                          {
                            uiData: props.uiData,
                            className: 'brModalMenu',
                            hidden: !(
                              modalInfo &&
                              modalInfo.selectItemList &&
                              modalInfo.selectItemList.length
                            ),
                            text: (0, _strings.string)(
                              modalInfo &&
                                modalInfo.selectItemList &&
                                modalInfo.selectItemList.filter &&
                                modalInfo.selectItemList
                                  .filter(function (item) {
                                    return item.selected
                                  })
                                  .map(function (item) {
                                    return item.label
                                  })
                                  .pop(),
                            ),
                          },
                          modalInfo &&
                            modalInfo.selectItemList &&
                            modalInfo.selectItemList.map &&
                            modalInfo.selectItemList.map(function (item, i) {
                              return _react2.default.createElement(
                                _MenuItem2.default,
                                {
                                  key: i,
                                  dropDown: true,
                                  onClick: _this2.handleModalMenuItemClick.bind(
                                    _this2,
                                    i,
                                  ),
                                },
                                item.label,
                              )
                            }),
                        ),
                      ),
                      _react2.default.createElement(
                        _ButtonLabeled2.default,
                        {
                          ref: 'modalOk',
                          className:
                            'brModalOKButton ' +
                            (0, _strings.string)(
                              modalInfo && modalInfo.okClassName,
                            ),
                          vivid: true,
                          title:
                            (modalInfo && modalInfo.okCaption) ||
                            _uawmsgs2.default.CMN_OK,
                          onClick: this.handleModalOKButtonClick.bind(this),
                        },
                        (modalInfo && modalInfo.okCaption) ||
                          _uawmsgs2.default.CMN_OK,
                      ),
                      _react2.default.createElement(
                        _ButtonLabeled2.default,
                        {
                          className:
                            'brModalCancelButton ' +
                            (0, _strings.string)(
                              modalInfo && modalInfo.cancelClassName,
                            ),
                          title:
                            (modalInfo && modalInfo.cancelCaption) ||
                            _uawmsgs2.default.CMN_CANCEL,
                          hidden: !(modalInfo && modalInfo.cancelable),
                          onClick: this.handleModalCancelButtonClick.bind(this),
                        },
                        (modalInfo && modalInfo.cancelCaption) ||
                          _uawmsgs2.default.CMN_CANCEL,
                      ),
                      _react2.default.createElement(
                        _ButtonLabeled2.default,
                        {
                          className:
                            'brModalThirdButtonButton ' +
                            (0, _strings.string)(
                              modalInfo && modalInfo.thirdButtonClassName,
                            ),
                          title:
                            (modalInfo && modalInfo.thirdButtonCaption) ||
                            _uawmsgs2.default.CMN_CLOSE,
                          hidden: !(modalInfo && modalInfo.thirdButton),
                          onClick: this.handleModalThirdButtonClick.bind(this),
                        },
                        (modalInfo && modalInfo.thirdButtonCaption) ||
                          _uawmsgs2.default.CMN_CLOSE,
                      ),
                    ),
                  ),
                  props.children,
                )
              },
            },
          ])

          return _class
        })(_react2.default.Component)

        exports.default = _class
      },
      {
        '../utilities/constants.js': 388,
        '../utilities/strings.js': 392,
        '../utilities/uawmsgs.js': 393,
        './BgColorEditForm.js': 346,
        './BroadcastForm.js': 347,
        './ButtonLabeled.js': 349,
        './ConferenceInviteForm.js': 362,
        './ConfirmForm.js': 363,
        './DropDownMenu.js': 376,
        './MenuItem.js': 379,
        './OutgoingWebchatForm.js': 382,
        './StatusDisplayForm.js': 383,
        './UserListForm.js': 385,
        react: 341,
        'react-dom': 195,
        'react-modal': 203,
      },
    ],
    387: [
      function (require, module, exports) {
        'use strict'

        var _react = require('react')

        var _react2 = _interopRequireDefault(_react)

        var _reactDom = require('react-dom')

        var _reactDom2 = _interopRequireDefault(_reactDom)

        var _uawmsgs = require('./utilities/uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        var _constants = require('./utilities/constants.js')

        var _constants2 = _interopRequireDefault(_constants)

        var _strings = require('./utilities/strings.js')

        var _currentscript = require('./utilities/currentscript.js')

        var _currentscript2 = _interopRequireDefault(_currentscript)

        require('./utilities/polyfills.js')

        var _CustomerApp = require('./apps/CustomerApp.js')

        var _CustomerApp2 = _interopRequireDefault(_CustomerApp)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var Brekeke = (window.BLIB = window.Brekeke = window.Brekeke || {})
        Brekeke.UCClient =
          Brekeke.UCClient ||
          require('../../../web/js/brekeke/ucclient/ucclient.js')
        var UcUiAction = (Brekeke.UcUiAction =
          Brekeke.UcUiAction ||
          require('../../../web/js/brekeke/ucuiaction/ucuiaction.js'))
        var UcUiStore = (Brekeke.UcUiStore =
          Brekeke.UcUiStore ||
          require('../../../web/js/brekeke/ucuistore/ucuistore.js'))

        _currentscript2.default.init(/(^|.*\/)(uccustomerwidget.*\.js)(.*)/)
        _uawmsgs2.default.init(_currentscript2.default)

        /**
         * uiData class
         * option (optional)
         * option.parentElement
         * option.ucUiAction
         * option.ucUiStore
         * option.phone
         * option.ownerDocument (optional)
         * option.configurations (optional)
         * option.signInParams (optional)
         * option.dndEnabled (optional)
         * option.bindsFunctions (optional)
         * option.handler (optional)
         */
        var uiData = function uiData(option) {
          // data
          this.parentElement = null
          this.handlers = []
          this.ucUiAction = null
          this.ucUiStore = null
          this.chatClientHandlers = null
          this.phone = null
          this.phoneEventIds = {}
          this.phoneSettings = {}
          this.cameraOff = false
          this.soundOnlyStream = null
          this.isScreen = false
          this.iceConnectedOnceSessionId = null
          this.videoIceConnectedOnceSessionId = null
          this.warningMessages = {}
          this.ownerDocument = null
          this.configurations = {}
          this.signInParams = {}
          this.dndEnabled = {}
          this.uiDataId = ''
          this.showingDialogVersion = 0
          this.modalInfo = null
          this.signInErrorMessage = ''
          this.signInProfinfoInputsValue = {}
          this.signInWebchatOptionsSelectIndex = 0
          this.signInWebchatOptionsInputValue = ''
          this.callAreaExpanded = false
          this.callAreaTheater = false
          this.callVideoOptionsHidden = false
          this.reportMailStatus = {}
          this.reportOnForm = 0
          this.reportEmailAddress = ''
          this.reenterCodeSaved = null
          this.intentionalSignOutInfo = {}
          this.lastRenderedTime = 0
          this.nextRenderingTimer = 0

          // init
          if (option) {
            this.initApp(option)
          }
        }

        /**
         * initApp function
         * option
         * option.parentElement
         * option.ucUiAction
         * option.ucUiStore
         * option.phone
         * option.ownerDocument (optional)
         * option.configurations (optional)
         * option.signInParams (optional)
         * option.dndEnabled (optional)
         * option.bindsFunctions (optional)
         * option.handler (optional)
         */
        uiData.prototype.initApp = function (option) {
          var _this = this

          if (
            !option ||
            !option.parentElement ||
            !option.ucUiAction ||
            !option.ucUiStore
          ) {
            throw new Error('invalid argument')
          }
          this.parentElement = option.parentElement
          this.addHandler(this)
          if (option.handler) {
            this.addHandler(option.handler)
          }
          this.ownerDocument = option.ownerDocument || document
          this.ucUiAction = option.ucUiAction
          this.ucUiStore = option.ucUiStore
          this.ucUiStore.addHandler(this)
          this.chatClientHandlers = {
            conferenceMemberChanged:
              this.chatClient_conferenceMemberChanged.bind(this),
            confLeaveReceived: this.chatClient_confLeaveReceived.bind(this),
            confTagUpdated: this.chatClient_confTagUpdated.bind(this),
          }
          this.ucUiStore.getChatClient().addHandler(this.chatClientHandlers)
          this.phone = option.phone
          this.configurations = option.configurations || {}
          this.signInParams = option.signInParams || {}
          this.dndEnabled = Boolean(option.dndEnabled)
          this.uiDataId =
            new Date().getTime().toString(36) + Math.random().toString(36)
          if (
            this.dndEnabled &&
            this.ownerDocument.defaultView &&
            !this.ownerDocument.defaultView.$brUCDndEnabledApp
          ) {
            // you can use DropTarget in only one uiData in a window (dndEnabled will be ingored in 2nd or later uiData)
            this.ownerDocument.defaultView.$brUCDndEnabledApp = this.uiDataId
          }
          this.reportMailStatus = {}
          try {
            this.reportMailStatus =
              JSON.parse(
                localStorage.getItem('UC.uccustomerwidget.reportmailstatus'),
              ) || {}
          } catch (ex) {
            this.ucUiStore
              .getLogger()
              .log('warn', 'reportMailStatus restoration failed. ex=' + ex)
          }
          this.reportOnForm = 0
          this.reportEmailAddress = ''
          this.reenterCodeSaved = null
          this.intentionalSignOutInfo = {}

          var win = this.ownerDocument.defaultView
          if (win && typeof win.addEventListener === 'function') {
            win.addEventListener(
              'click',
              this.fire.bind(this, 'window_onclick'),
            )
            if (this.configurations.confirmUnload) {
              win.addEventListener(
                'beforeunload',
                this.fire.bind(this, 'window_onbeforeunload'),
              )
            }
          } else {
            this.ucUiStore
              .getLogger()
              .log('warn', 'win.addEventListener not found')
          }

          if (
            this.configurations.profinfoInputs &&
            this.configurations.profinfoInputs.length
          ) {
            this.configurations.profinfoInputs.forEach(
              function (profinfoInput) {
                var defVal = (0, _strings.string)(profinfoInput.default)
                if (defVal) {
                  _this.signInProfinfoInputsValue[
                    (0, _strings.string)(profinfoInput.key)
                  ] = defVal
                }
              },
            )
          }

          this.fire(
            'onAfterLoad',
            this.ownerDocument.defaultView || window,
            this.ucUiAction,
            this.ucUiStore,
            this.phone,
            this.signInProfinfoInputsValue,
          )

          var reenter_info = {}
          ;(0, _strings.string)(this.configurations.reenterTypeStorage)
            .split(':')[0]
            .split(',')
            .some(function (reenter_storage) {
              var storage_array = reenter_storage.split('.')
              if (storage_array.length >= 2) {
                var storage = (_this.ownerDocument.defaultView || window)[
                  storage_array.shift()
                ]
                while (storage && storage_array.length >= 2) {
                  storage = storage[storage_array.shift()]
                }
                if (storage && storage_array.length === 1) {
                  var key = storage_array[0]
                  try {
                    var reenter_code = storage.getItem(key)
                    if (reenter_code) {
                      _this.ucUiStore
                        .getLogger()
                        .log(
                          'debug',
                          'storage.getItem() ok. reenter_storage=' +
                            reenter_storage +
                            ', reenter_code=' +
                            reenter_code,
                        )
                      var reenter_code_array = (0, _strings.string)(
                        reenter_code,
                      ).split(',')
                      reenter_info.expires = reenter_code_array[0]
                      reenter_info.reenter_conf_id = reenter_code_array[1]
                      reenter_info.reenter_user_id = reenter_code_array[2]
                      return true
                    } else {
                      _this.ucUiStore
                        .getLogger()
                        .log(
                          'debug',
                          'storage.getItem() returned empty. reenter_storage=' +
                            reenter_storage,
                        )
                    }
                  } catch (ex) {
                    _this.ucUiStore
                      .getLogger()
                      .log(
                        'warn',
                        'storage.getItem() failed. reenter_storage=' +
                          reenter_storage +
                          ', ex=' +
                          ex,
                      )
                  }
                } else {
                  _this.ucUiStore
                    .getLogger()
                    .log('warn', 'invalid reenter_storage=' + reenter_storage)
                }
              }
            })
          if (
            Date.now() <= (0, _strings.int)(reenter_info.expires) &&
            reenter_info.reenter_conf_id &&
            reenter_info.reenter_user_id
          ) {
            // reenter conference (no need to checkFormAndSignIn)
            if (this.ucUiStore.getGuestConfId()) {
              this.ucUiStore.getLogger().log('warn', 'already signed-in')
            } else {
              this.fire(
                'onBeforeCheckForm',
                this.ownerDocument.defaultView || window,
                this.ucUiAction,
                this.ucUiStore,
                this.phone,
                this.signInProfinfoInputsValue,
              )
              this.signInErrorMessage = ''
              this.fire(
                'onBeforeSignIn',
                this.ownerDocument.defaultView || window,
                this.ucUiAction,
                this.ucUiStore,
                this.phone,
                this.signInProfinfoInputsValue,
              )
              this.ucUiAction.signInGuest({
                url: this.signInParams.url,
                tenant: this.signInParams.tenant,
                reenterUserId: reenter_info.reenter_user_id,
                signInWebchatOptions: {
                  properties: { reenter_conf_id: reenter_info.reenter_conf_id },
                },
              })
            }
          } else if (this.configurations.autoSignIn) {
            // autoSignIn (checkFormAndSignIn automatically)
            this.checkFormAndSignIn(true)
          } else {
            // manually (checkFormAndSignIn in signInButton_onClick)
          }

          if (option.bindsFunctions) {
            Brekeke.UcUiAction.BoundFunctions = {}
            Object.keys(Brekeke.UcUiAction.prototype).forEach(
              function (funcName) {
                Brekeke.UcUiAction.BoundFunctions[funcName] = function (
                  option,
                  event,
                ) {
                  var currentTarget = (event && event.currentTarget) || {}
                  var className = (0, _strings.string)(currentTarget.className)
                  _this.ucUiStore
                    .getLogger()
                    .log(
                      'debug',
                      'bound function called funcName=' +
                        funcName +
                        ', className=' +
                        className,
                    )
                  if (
                    className.indexOf('brDisabled') !== -1 &&
                    className.indexOf('brDisabledNot') === -1
                  ) {
                    return
                  }
                  var conf_id = _this.ucUiStore.getGuestConfId()
                  _this.ucUiAction[funcName](
                    Object.assign(
                      {
                        chatType: 'CONFERENCE',
                        chatCode: (0, _strings.string)(
                          _this.ucUiStore.getChatCodeByConfId({
                            conf_id: conf_id,
                          }).chatCode,
                        ),
                        conf_id: conf_id,
                      },
                      option,
                    ),
                  )
                }
              },
            )
            uiData.BoundFunctions = {}
            Object.keys(uiData.prototype).forEach(function (funcName) {
              uiData.BoundFunctions[funcName] = function (option, event) {
                var currentTarget = (event && event.currentTarget) || {}
                var className = (0, _strings.string)(currentTarget.className)
                _this.ucUiStore
                  .getLogger()
                  .log(
                    'debug',
                    'bound function in uiData called funcName=' +
                      funcName +
                      ', className=' +
                      className,
                  )
                if (
                  className.indexOf('brDisabled') !== -1 &&
                  className.indexOf('brDisabledNot') === -1
                ) {
                  return
                }
                _this[funcName].apply(
                  _this,
                  Array.isArray(option) ? option : [option],
                )
              }
            })
          }
        }

        //
        uiData.prototype.checkFormAndSignIn = function (dontError) {
          var _this2 = this

          if (this.ucUiStore.getGuestConfId()) {
            this.ucUiStore.getLogger().log('warn', 'already signed-in')
          } else {
            ;(function () {
              _this2.fire(
                'onBeforeCheckForm',
                _this2.ownerDocument.defaultView || window,
                _this2.ucUiAction,
                _this2.ucUiStore,
                _this2.phone,
                _this2.signInProfinfoInputsValue,
              )

              // check and get name, email, profinfo
              var name = ''
              var email = ''
              var profinfo = {}
              var missingFields = []
              var errorMessages = []
              if (_this2.configurations.profinfoInputs) {
                _this2.configurations.profinfoInputs.forEach(
                  function (profinfoInput, i) {
                    var key = (0, _strings.string)(profinfoInput.key)
                    var value =
                      key in _this2.signInProfinfoInputsValue
                        ? (0, _strings.string)(
                            _this2.signInProfinfoInputsValue[key],
                          ).trim()
                        : profinfoInput.options
                          ? (0, _strings.string)(profinfoInput.options[0])
                          : ''
                    if (profinfoInput.mandatory) {
                      var regExp = null
                      if (typeof profinfoInput.mandatory === 'string') {
                        try {
                          regExp = new RegExp(profinfoInput.mandatory)
                        } catch (ex) {}
                      }
                      if (
                        regExp
                          ? !regExp.test((0, _strings.string)(value))
                          : !value
                      ) {
                        _this2.ucUiStore
                          .getLogger()
                          .log('info', 'missing key=' + key)
                        missingFields.push(key)
                        if (profinfoInput.error) {
                          errorMessages.push(
                            (0, _strings.string)(profinfoInput.error),
                          )
                        }
                      }
                    }
                    if (key === 'name') {
                      name = value
                    } else if (key === 'email') {
                      email = value
                    } else if (key === 'transcript') {
                      _this2.reportOnForm = []
                        .concat(profinfoInput.options)
                        .indexOf(value)
                    } else if (
                      key.substr(0, 'profinfo.'.length) === 'profinfo.'
                    ) {
                      profinfo[key.substr('profinfo.'.length)] = value
                    }
                  },
                )
              }

              // check and get webchat option
              var signInWebchatOptions = null
              var op =
                _this2.configurations.webchatOptions &&
                _this2.configurations.webchatOptions.find(function (o, index) {
                  return index === _this2.signInWebchatOptionsSelectIndex
                })
              if (op && op.value && op.value.indexOf('{0}') !== -1) {
                try {
                  var _value = op.value.replace(
                    /\{0\}/g,
                    JSON.stringify(_this2.signInWebchatOptionsInputValue),
                  )
                  signInWebchatOptions = JSON.parse(_value)
                } catch (ex) {
                  _this2.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'JSON.parse error value=' + value + ', ex=' + ex,
                    )
                }
              } else if (op && op.value) {
                try {
                  signInWebchatOptions = JSON.parse(op.value)
                } catch (ex) {
                  _this2.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'JSON.parse error value=' + op.value + ', ex=' + ex,
                    )
                }
              } else {
                _this2.ucUiStore
                  .getLogger()
                  .log('info', 'missing webchat option')
              }
              if (!_this2.configurations.profinfoIsPrivate) {
                Object.keys(profinfo).forEach(function (key) {
                  if (!signInWebchatOptions) {
                    signInWebchatOptions = {}
                  }
                  if (
                    !signInWebchatOptions.adds ||
                    !signInWebchatOptions.adds.push
                  ) {
                    signInWebchatOptions.adds = []
                  }
                  signInWebchatOptions.adds.push({
                    tag_type: '_webchatext',
                    tag_key: key,
                    tag_value: profinfo[key],
                    permission: _constants2.default.USER_TYPE_TENANT_GUEST,
                  })
                })
              }
              if (_this2.configurations.webchatTags) {
                Object.keys(_this2.configurations.webchatTags).forEach(
                  function (key) {
                    if (!signInWebchatOptions) {
                      signInWebchatOptions = {}
                    }
                    if (
                      !signInWebchatOptions.adds ||
                      !signInWebchatOptions.adds.push
                    ) {
                      signInWebchatOptions.adds = []
                    }
                    signInWebchatOptions.adds.push({
                      tag_type: '_webchat',
                      tag_key: key,
                      tag_value: _this2.configurations.webchatTags[key],
                      permission: _constants2.default.USER_TYPE_TENANT_GUEST,
                    })
                  },
                )
              }

              // sign-in
              if (signInWebchatOptions && missingFields.length === 0) {
                _this2.signInErrorMessage = ''
                _this2.fire(
                  'onBeforeSignIn',
                  _this2.ownerDocument.defaultView || window,
                  _this2.ucUiAction,
                  _this2.ucUiStore,
                  _this2.phone,
                  _this2.signInProfinfoInputsValue,
                )
                _this2.ucUiAction.signInGuest({
                  url: _this2.signInParams.url,
                  tenant: _this2.signInParams.tenant,
                  name: name,
                  email: email,
                  profinfo: profinfo,
                  reenterUserId: _this2.signInParams.reenterUserId,
                  signInWebchatOptions: signInWebchatOptions,
                  myProfileImageUrl: _this2.signInParams.myProfileImageUrl,
                })
              } else {
                if (!dontError) {
                  _this2.signInErrorMessage =
                    _uawmsgs2.default.MSG_SIGN_IN_VALIDATION_ERROR_FORM
                  if (errorMessages.length > 0) {
                    _this2.signInErrorMessage += '\n' + errorMessages.join('\n')
                  }
                }
              }
            })()
          }
        }

        /**
         * destroyApp function
         */
        uiData.prototype.destroyApp = function () {
          var parentElement = null
          if (this.ownerDocument) {
            parentElement =
              typeof this.parentElement === 'string'
                ? this.ownerDocument.getElementById(this.parentElement)
                : this.parentElement

            if (
              this.ownerDocument.defaultView &&
              this.ownerDocument.defaultView.$brUCDndEnabledApp ===
                this.uiDataId
            ) {
              delete this.ownerDocument.defaultView.$brUCDndEnabledApp
            }

            this.ownerDocument = null
          }
          if (this.ucUiStore) {
            this.ucUiStore
              .getChatClient()
              .removeHandler(this.chatClientHandlers)
            this.ucUiStore.removeHandler(this)
            this.ucUiStore = null
          }
          this.chatClientHandlers = null
          this.ucUiAction = null
          this.handlers = []
          if (this.parentElement) {
            if (parentElement) {
              _reactDom2.default.render(
                _react2.default.createElement('noscript', null),
                parentElement,
              )
            }
            this.parentElement = null
          }
        }

        /**
         * addHandler function
         * handler
         */
        uiData.prototype.addHandler = function (handler) {
          this.handlers.push(handler)
        }

        /**
         * removeHandler function
         * handler
         */
        uiData.prototype.removeHandler = function (handler) {
          var index = this.handlers.indexOf(handler)
          if (index !== -1) {
            this.handlers.splice(index, 1)
          }
        }

        //
        uiData.prototype.fire = function (eventName) {
          var _arguments = arguments

          if (
            [
              'editorTextarea_onKeyDown',
              'signInProfileInfoInputInput_onChange',
              'signInWebchatOptionsInput_onChange',
            ].indexOf(eventName) === -1
          ) {
            try {
              this.ucUiStore
                .getLogger()
                .log(
                  'debug',
                  'uiData.fire eventName=' +
                    eventName +
                    ', arguments=' +
                    Array.prototype.join.call(arguments),
                )
            } catch (ex) {
              try {
                console.debug(
                  'uiData.fire eventName=' + eventName + ', ex=' + ex,
                )
              } catch (ex) {}
            }
          }

          this.handlers.forEach(function (handler) {
            if (handler[eventName]) {
              handler[eventName].apply(
                handler,
                Array.prototype.slice.call(_arguments, 1),
              )
            }
          })
        }

        /**
         * render function
         */
        uiData.prototype.render = function () {
          var elapsed = Date.now() - this.lastRenderedTime
          try {
            this.ucUiStore
              .getLogger()
              .log(
                'debug',
                'uiData.render elapsed=' +
                  elapsed +
                  ', tID=' +
                  this.nextRenderingTimer,
              )
          } catch (ex) {}
          if (this.configurations.renderingInterval) {
            var remaining =
              (0, _strings.int)(this.configurations.renderingInterval) - elapsed
            if (0 < elapsed && 0 < remaining) {
              if (!this.nextRenderingTimer) {
                this.nextRenderingTimer = setTimeout(
                  this.render.bind(this),
                  remaining,
                )
              }
              return
            }
          }
          this.lastRenderedTime = Date.now()
          this.nextRenderingTimer = 0
          var parentElement =
            typeof this.parentElement === 'string'
              ? this.ownerDocument.getElementById(this.parentElement)
              : this.parentElement
          if (parentElement) {
            _reactDom2.default.render(
              _react2.default.createElement(_CustomerApp2.default, {
                uiData: this,
              }),
              parentElement,
            )
          }
        }

        /**
         * showModal function
         * option
         */
        uiData.prototype.showModal = function (option) {
          if (this.modalInfo) {
            this.ucUiStore
              .getLogger()
              .log(
                'info',
                'showModal() waiting for the previous dialog to close...',
              )
            if (this.modalInfo.onCancel) {
              this.ucUiStore.getLogger().log('info', 'showModal() onCancel()')
              this.modalInfo.onCancel({})
            }
            this.modalInfo = null
            this.render()
            setTimeout(this.showModal.bind(this, option), 0)
            return
          }
          this.modalInfo = {
            title: option && option.title,
            contentClass: option && option.contentClass,
            contentParams: option && option.contentParams,
            tableClassName: option && option.tableClassName,
            modalClassName: option && option.modalClassName,
            overlayClassName: option && option.overlayClassName,
            modalStyle: option && option.modalStyle,
            message: option && option.message,
            cancelable: Boolean(option && option.cancelable),
            okCaption: option && option.okCaption,
            cancelCaption: option && option.cancelCaption,
            onOk: (option && option.onOk) || null,
            onCancel: (option && option.onCancel) || null,
          }
          this.ucUiStore
            .getLogger()
            .log('info', 'showModal() message=' + this.modalInfo.message)
          this.render()
        }

        //
        uiData.prototype.showModalSessionWarning = function (
          warningMessageKey,
          warningMessageValue,
        ) {
          var _this3 = this

          if (!this.warningMessages[warningMessageKey]) {
            this.warningMessages[warningMessageKey] = ''
          }
          this.warningMessages[warningMessageKey] +=
            (0, _strings.string)(warningMessageValue) + '\n'
          this.showModal({
            title: _uawmsgs2.default.CMN_ALERT,
            message: Object.keys(this.warningMessages).reduce(function (
              a,
              key,
            ) {
              return (
                a + _uawmsgs2.default[key] + '\n' + _this3.warningMessages[key]
              )
            }, ''),
            onOk: function onOk(ev) {
              _this3.warningMessages = {}
            },
          })
        }

        //
        uiData.prototype.closeAllshowingDialogs = function () {
          this.showingDialogVersion++
        }

        //
        uiData.prototype.makeCall = function (option) {
          var target =
            (option && option.target) || this.phoneSettings.customer_call_target
          if (target) {
            if (!(option && option.isTemporary)) {
              this.changeCustomerCallTarget({ target: target })
            }
            if (this.phone) {
              var session = this.phone.getSession()
              if (!session || session.sessionStatus === 'terminated') {
                this.cameraOff = true
                this.isScreen = false
                this.phone.makeCall(
                  target,
                  null,
                  false,
                  this.getVideoOptions(),
                  JSON.stringify({
                    soundOnly: this.cameraOff && !this.isScreen,
                  }),
                )
              } else {
                this.ucUiStore.getLogger().log('warn', 'already calling')
              }
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty phone')
            }
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty customer_call_target')
          }
        }

        //
        uiData.prototype.changeCustomerCallTarget = function (option) {
          if (option) {
            this.phoneSettings.customer_call_target = option.target
          }
        }

        //
        uiData.prototype.getVideoOptions = function () {
          var videoOptions = {
            call: Object.assign(
              {},
              this.phone.defaultOptions &&
                this.phone.defaultOptions.videoOptions &&
                this.phone.defaultOptions.videoOptions.call,
            ),
            answer: Object.assign(
              {},
              this.phone.defaultOptions &&
                this.phone.defaultOptions.videoOptions &&
                this.phone.defaultOptions.videoOptions.answer,
            ),
            shareStream: true,
            screenCapture: Boolean(this.isScreen),
          }
          if (this.cameraOff && !this.isScreen) {
            var canvasSoundOnly =
              this.ownerDocument.querySelector('canvas.brSoundOnly')
            if (!canvasSoundOnly) {
              canvasSoundOnly = this.ownerDocument.createElement('canvas')
              canvasSoundOnly.className = 'brSoundOnly'
              canvasSoundOnly.style.display = 'none'
              canvasSoundOnly.width = 80
              canvasSoundOnly.height = 60
              this.ownerDocument.body.appendChild(canvasSoundOnly)
            }
            if (!this.soundOnlyStream) {
              var context = canvasSoundOnly.getContext('2d')
              context.fillStyle = '#041008'
              context.fillRect(0, 0, 80, 60)
              this.soundOnlyStream = canvasSoundOnly.captureStream(0)
            }
            videoOptions.call.mediaStream = videoOptions.answer.mediaStream =
              this.soundOnlyStream
          }
          return videoOptions
        }

        //
        uiData.prototype.signOutIntentionally = function (option) {
          var _this4 = this

          return new Promise(function (resolve, reject) {
            var doSignOut = function doSignOut() {
              if (
                _this4.reenterCodeSaved &&
                _this4.reenterCodeSaved.removeFunc
              ) {
                try {
                  _this4.reenterCodeSaved.removeFunc()
                  _this4.ucUiStore
                    .getLogger()
                    .log(
                      'debug',
                      'reenterCodeSaved.removeFunc() at signOutIntentionally() ok.',
                    )
                } catch (ex) {
                  _this4.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'reenterCodeSaved.removeFunc() at signOutIntentionally() failed. ex=' +
                        ex,
                    )
                }
              }
              try {
                localStorage.removeItem('UC.uccustomerwidget.reportmailstatus')
              } catch (ex) {
                _this4.ucUiStore
                  .getLogger()
                  .log(
                    'warn',
                    'reportMailStatus removeItem at signOutIntentionally() failed. ex=' +
                      ex,
                  )
              }
              if (_this4.ucUiStore.getSignInStatus() === 3) {
                _this4.intentionalSignOutInfo = { resolve: resolve }
                var signOutFunc = _this4.ucUiAction.signOut.bind(
                  _this4.ucUiAction,
                )
                _this4.ucUiStore
                  .getChatClient()
                  .sendConfLeave(
                    { conf_id: _this4.ucUiStore.getGuestConfId() },
                    JSON.stringify({
                      reenterUserId: _this4.ucUiStore.getReenterUserId(),
                    }),
                    signOutFunc,
                    signOutFunc,
                  )
              } else {
                _this4.ucUiStore
                  .getLogger()
                  .log('debug', 'alreadySignedOut at signOutIntentionally().')
                resolve({ alreadySignedOut: true })
              }
            }
            if (
              option &&
              option.confirms &&
              (option.confirms % 2 || _this4.ucUiStore.getSignInStatus() === 3)
            ) {
              _this4.showModal({
                title: _uawmsgs2.default.MSG_END_CHAT_CONFIRM_TITLE,
                message: _uawmsgs2.default.MSG_END_CHAT_CONFIRM,
                cancelable: true,
                onOk: doSignOut,
                onCancel: function onCancel() {
                  _this4.ucUiStore
                    .getLogger()
                    .log('debug', 'cancelled at signOutIntentionally().')
                  resolve({ cancelled: true })
                },
              })
            } else {
              doSignOut()
            }
          })
        }

        // events from ui
        uiData.prototype.window_onclick = function (ev) {
          this.closeAllshowingDialogs()
          this.render()
        }
        uiData.prototype.window_onbeforeunload = function (ev) {
          if (this.ucUiStore.getSignInStatus() === 3) {
            ev.returnValue = ' '
          }
        }
        uiData.prototype.showingDialog_update = function () {
          this.render()
        }
        uiData.prototype.widgetBody_onClick = function (ev) {}
        uiData.prototype.modalOk_onClick = function (content, ev) {
          if (this.modalInfo && this.modalInfo.onOk) {
            var ev2 = {
              content: content,
              closes: true,
              modalInfo: this.modalInfo,
            }
            this.modalInfo.onOk(ev2)
            if (!ev2.closes) {
              return
            }
          }
          this.modalInfo = null
          this.render()
        }
        uiData.prototype.modalCancel_onClick = function (content, ev) {
          if (this.modalInfo && this.modalInfo.onCancel) {
            var ev2 = {
              content: content,
              closes: true,
              modalInfo: this.modalInfo,
            }
            this.modalInfo.onCancel(ev2)
            if (!ev2.closes) {
              return
            }
          }
          this.modalInfo = null
          this.render()
        }
        uiData.prototype.mainArea_onDrop = function (panelType, panelCode, ev) {
          var myUcCimUserType = (0, _strings.int)(
            this.ucUiStore.getUcCimUserType(),
          )
          if (
            ((0, _strings.int)(
              this.ucUiStore.getOptionalSetting({ key: 'fsp' }),
            ) &
              myUcCimUserType) ===
            myUcCimUserType
          ) {
            this.ucUiStore
              .getLogger()
              .log('warn', 'invalid fsp in mainArea_onDrop')
            return
          }
          var files =
            (ev && ev.files) || (ev && ev.dataTransfer && ev.dataTransfer.files)
          if (files && files.length) {
            this.ucUiAction.sendFiles({
              chatType: panelType,
              chatCode: panelCode,
              files: files,
            })
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty files')
          }
        }
        uiData.prototype.signInButton_onClick = function (ev) {
          this.checkFormAndSignIn(false)
          this.render()
        }
        uiData.prototype.signInProfileInfoInputSelect_onChange = function (
          profinfoInput,
          e,
        ) {
          this.signInProfinfoInputsValue[profinfoInput.key] = (0,
          _strings.string)(e.target.value)
          this.render()
        }
        uiData.prototype.signInProfileInfoInputInput_onChange = function (
          profinfoInput,
          e,
        ) {
          this.signInProfinfoInputsValue[profinfoInput.key] = (0,
          _strings.string)(e.target.value)
          this.render()
        }
        uiData.prototype.signInWebchatOptionsSelect_onChange = function (ev) {
          this.signInWebchatOptionsSelectIndex = (0, _strings.int)(
            ev.target.value,
          )
          this.render()
        }
        uiData.prototype.signInWebchatOptionsInput_onChange = function (ev) {
          this.signInWebchatOptionsInputValue = ev.target.value
          this.render()
        }
        uiData.prototype.chatArea_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          //if (string(ev && ev.target && ev.target.className).split(/\s+/).indexOf('brCancelChatAreaClick') !== -1) {
          //    return;
          //}
          //this.callAreaExpanded = !this.callAreaExpanded;
          //this.render();
        }
        uiData.prototype.chatArea_onSwipedDown = function (
          panelType,
          panelCode,
          ev,
        ) {
          //this.callAreaExpanded = true;
          //this.render();
        }
        uiData.prototype.chatArea_onSwipedUp = function (
          panelType,
          panelCode,
          ev,
        ) {
          //this.callAreaExpanded = false;
          //this.render();
        }
        uiData.prototype.chatFileOpenInNewWindowButton_onClick = function (
          url,
          ev,
        ) {
          var _this5 = this

          // convert to data uri scheme (internet explorer cannot display img from blob url scheme on another window)
          if (
            typeof Blob !== 'undefined' &&
            typeof XMLHttpRequest !== 'undefined' &&
            typeof FileReader !== 'undefined'
          ) {
            ;(function () {
              var xhr = new XMLHttpRequest()
              xhr.onreadystatechange = function () {
                if (xhr.readyState === 1) {
                  xhr.responseType = 'blob'
                } else if (xhr.readyState === 4) {
                  if (xhr.status === 200) {
                    ;(function () {
                      var fileReader = new window.FileReader()
                      fileReader.onload = function () {
                        // open new window and display full size image
                        var win = window.open('', null)
                        if (win) {
                          win.document.open()
                          win.document.write(
                            '<!doctype html><html><body><img src="' +
                              fileReader.result +
                              '"></body></html>',
                          )
                          win.document.close()
                        } else {
                          _this5.ucUiStore
                            .getLogger()
                            .log('warn', 'window.open error')
                        }
                      }
                      fileReader.readAsDataURL(xhr.response)
                    })()
                  }
                }
              }
              xhr.open('GET', url)
              xhr.send()
            })()
          }
        }
        uiData.prototype.chatFileCancelButton_onClick = function (
          messageFile,
          ev,
        ) {
          var _this6 = this

          this.showModal({
            title: _uawmsgs2.default.MSG_FILE_CANCEL_CONFIRM_TITLE,
            message: _uawmsgs2.default.MSG_FILE_CANCEL_CONFIRM,
            cancelable: true,
            onOk: function onOk() {
              if (!messageFile.multiReceiversInfo) {
                _this6.ucUiStore
                  .getChatClient()
                  .cancelFile(messageFile.file_id, null)
              } else {
                messageFile.multiReceiversInfo.forEach(function (info) {
                  _this6.ucUiStore
                    .getChatClient()
                    .cancelFile(info.file_id, null)
                })
              }
            },
          })
        }
        uiData.prototype.chatInlineImage_onClick = function (url, ev) {
          var _this7 = this

          var style = {
            margin: '8px',
          }
          var imageWidth = ev && ev.target && ev.target.naturalWidth
          var imageHeight = ev && ev.target && ev.target.naturalHeight
          var clientWidth =
            this.ownerDocument &&
            this.ownerDocument.documentElement &&
            this.ownerDocument.documentElement.clientWidth
          var clientHeight =
            this.ownerDocument &&
            this.ownerDocument.documentElement &&
            this.ownerDocument.documentElement.clientHeight
          var chatArea =
            ev &&
            ev.target &&
            ev.target.closest &&
            ev.target.closest('.brChatArea')
          var editorArea =
            chatArea &&
            chatArea.parentElement &&
            chatArea.parentElement.querySelector &&
            chatArea.parentElement.querySelector('.brEditorArea')
          var clickableHeight =
            clientHeight -
              (
                (editorArea &&
                  editorArea.getBoundingClientRect &&
                  editorArea.getBoundingClientRect()) || { top: clientHeight }
              ).top || 0
          var maxWidth = clientWidth - 16
          var maxHeight = clientHeight - clickableHeight - 28
          if (
            imageWidth > 0 &&
            imageHeight > 0 &&
            maxWidth > 0 &&
            maxHeight > 0
          ) {
            if (imageWidth < maxWidth && imageHeight < maxHeight) {
              style.width = imageWidth + 'px'
              style.height = imageHeight + 'px'
            } else if (imageHeight * maxWidth < imageWidth * maxHeight) {
              style.width = maxWidth + 'px'
              style.height = (imageHeight * maxWidth) / imageWidth + 'px'
            } else {
              style.width = (imageWidth * maxHeight) / imageHeight + 'px'
              style.height = maxHeight + 'px'
            }
          } else {
            style.maxWidth = '100vw'
            style.maxHeight = '100vh'
          }
          this.ucUiStore
            .getLogger()
            .log(
              'info',
              'chatInlineImage_onClick imageWidth=' +
                imageWidth +
                ' imageHeight=' +
                imageHeight +
                ' clientWidth=' +
                clientWidth +
                ' clientHeight=' +
                clientHeight +
                ' clickableHeight=' +
                clickableHeight,
            )
          this.showModal({
            tableClassName: 'brExpandInlineImage',
            modalStyle: {
              overlay: {
                backgroundColor: 'rgba(128, 128, 128, 0.5)',
                bottom: clickableHeight + 'px',
                cursor: 'zoom-out',
              },
            },
            contentParams: {
              content: _react2.default.createElement('img', {
                src: url,
                style: style,
              }),
            },
          })
          var currentModalInfo = this.modalInfo
          var count = 0
          var funcSetListener = function funcSetListener() {
            var overlay = _this7.ownerDocument.querySelector(
              '.brWidgetBodyModalOverlay',
            )
            if (overlay) {
              overlay.addEventListener(
                'click',
                function () {
                  if (_this7.modalInfo === currentModalInfo) {
                    _this7.modalInfo = null
                    _this7.render()
                  }
                },
                { once: true },
              )
            } else if (count < 50) {
              setTimeout(funcSetListener, 100)
            } else {
              _this7.ucUiStore
                .getLogger()
                .log('warn', 'funcSetListener count=' + count)
              _this7.modalInfo = null
              _this7.render()
            }
          }
          setTimeout(funcSetListener, 100)
        }
        uiData.prototype.chatInlineImage_onLoad = function (messageFile, ev) {
          this.render()
        }
        uiData.prototype.callArea_onClick = function (ev) {
          //if (string(ev && ev.target && ev.target.className).split(/\s+/).indexOf('brCancelCallAreaClick') !== -1) {
          //    return;
          //}
          //this.callAreaExpanded = !this.callAreaExpanded;
          //this.render();
        }
        uiData.prototype.callArea_onSwipedDown = function (ev) {
          //if (string(ev && ev.target && ev.target.className).split(/\s+/).indexOf('brCancelCallAreaClick') !== -1) {
          //    return;
          //}
          //this.callAreaExpanded = true;
          //this.render();
        }
        uiData.prototype.callArea_onSwipedUp = function (ev) {
          //if (string(ev && ev.target && ev.target.className).split(/\s+/).indexOf('brCancelCallAreaClick') !== -1) {
          //    return;
          //}
          //this.callAreaExpanded = false;
          //this.render();
        }
        uiData.prototype.callAreaTheaterButton_onClick = function (ev) {
          this.callAreaTheater = !this.callAreaTheater
          this.render()
        }
        uiData.prototype.callMuteMicButton_onClick = function (ev) {
          if (this.phone) {
            var session = this.phone.getSession()
            if (session && session.rtcSession) {
              this.phone.setMuted(
                { main: !session.muted.main },
                session.sessionId,
              )
              this.render()
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty session.rtcSession')
            }
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callMuteCamButton_onClick = function (ev) {
          var _this8 = this

          if (this.phone) {
            ;(function () {
              var session = _this8.phone.getSession()
              if (session && session.rtcSession) {
                _this8.cameraOff = !_this8.cameraOff
                if (_this8.isScreen) {
                  // do not re-setWithVideo (true -> true)
                } else {
                  var newWithVideo =
                    !_this8.cameraOff ||
                    _this8.isScreen ||
                    (session.remoteUserOptionsTable &&
                      Object.keys(session.remoteUserOptionsTable).some(
                        function (user) {
                          var remoteSoundOnly = false
                          try {
                            remoteSoundOnly = JSON.parse(
                              session.remoteUserOptionsTable[user].exInfo,
                            ).soundOnly
                          } catch (ex) {}
                          return (
                            session.remoteUserOptionsTable[user] &&
                            session.remoteUserOptionsTable[user].withVideo &&
                            !remoteSoundOnly
                          )
                        },
                      ))
                  if (session.withVideo && newWithVideo) {
                    _this8.phone.setWithVideo(session.sessionId, false)
                  }
                  _this8.phone.setWithVideo(
                    session.sessionId,
                    newWithVideo,
                    _this8.getVideoOptions(),
                    JSON.stringify({
                      soundOnly: _this8.cameraOff && !_this8.isScreen,
                    }),
                  )
                }
                _this8.render()
              } else {
                _this8.ucUiStore
                  .getLogger()
                  .log('warn', 'empty session.rtcSession')
              }
            })()
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callScreenButton_onClick = function (ev) {
          var _this9 = this

          if (this.phone) {
            ;(function () {
              var session = _this9.phone.getSession()
              if (session && session.rtcSession) {
                _this9.isScreen = !_this9.isScreen
                var newWithVideo =
                  !_this9.cameraOff ||
                  _this9.isScreen ||
                  (session.remoteUserOptionsTable &&
                    Object.keys(session.remoteUserOptionsTable).some(
                      function (user) {
                        var remoteSoundOnly = false
                        try {
                          remoteSoundOnly = JSON.parse(
                            session.remoteUserOptionsTable[user].exInfo,
                          ).soundOnly
                        } catch (ex) {}
                        return (
                          session.remoteUserOptionsTable[user] &&
                          session.remoteUserOptionsTable[user].withVideo &&
                          !remoteSoundOnly
                        )
                      },
                    ))
                if (session.withVideo && newWithVideo) {
                  _this9.phone.setWithVideo(session.sessionId, false)
                }
                _this9.phone.setWithVideo(
                  session.sessionId,
                  newWithVideo,
                  _this9.getVideoOptions(),
                  JSON.stringify({
                    soundOnly: _this9.cameraOff && !_this9.isScreen,
                  }),
                )
                _this9.render()
              } else {
                _this9.ucUiStore
                  .getLogger()
                  .log('warn', 'empty session.rtcSession')
              }
            })()
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callHangUpButton_onClick = function (ev) {
          if (this.phone) {
            var session = this.phone.getSession()
            if (session && session.rtcSession) {
              session.rtcSession.terminate()
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty session.rtcSession')
            }
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callAnswerButton_onClick = function (ev) {
          var _this10 = this

          if (this.phone) {
            ;(function () {
              var session = _this10.phone.getSession()
              if (session && session.rtcSession) {
                _this10.cameraOff = true
                _this10.isScreen = false
                var newWithVideo =
                  session.remoteUserOptionsTable &&
                  Object.keys(session.remoteUserOptionsTable).some(
                    function (user) {
                      var remoteSoundOnly = false
                      try {
                        remoteSoundOnly = JSON.parse(
                          session.remoteUserOptionsTable[user].exInfo,
                        ).soundOnly
                      } catch (ex) {}
                      return (
                        session.remoteUserOptionsTable[user] &&
                        session.remoteUserOptionsTable[user].withVideo &&
                        !remoteSoundOnly
                      )
                    },
                  )
                _this10.phone.answer(
                  session.sessionId,
                  null,
                  newWithVideo,
                  _this10.getVideoOptions(),
                  JSON.stringify({
                    soundOnly: _this10.cameraOff && !_this10.isScreen,
                  }),
                )
              } else {
                _this10.ucUiStore
                  .getLogger()
                  .log('warn', 'empty session.rtcSession')
              }
            })()
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callAnswerWithVideoButton_onClick = function (ev) {
          if (this.phone) {
            var session = this.phone.getSession()
            if (session && session.rtcSession) {
              this.cameraOff = false
              this.isScreen = false
              this.phone.answer(
                session.sessionId,
                null,
                true,
                this.getVideoOptions(),
                JSON.stringify({ soundOnly: this.cameraOff && !this.isScreen }),
              )
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty session.rtcSession')
            }
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.callDeclineButton_onClick = function (ev) {
          if (this.phone) {
            var session = this.phone.getSession()
            if (session && session.rtcSession) {
              session.rtcSession.terminate()
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty session.rtcSession')
            }
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty this.phone')
          }
        }
        uiData.prototype.editorTextarea_onKeyDown = function (
          panelType,
          panelCode,
          disabled,
          ev,
        ) {
          if (ev.keyCode === 13 && !ev.shiftKey) {
            if (!disabled) {
              if (ev.target.value) {
                this.ucUiAction.sendText({
                  chatType: panelType,
                  chatCode: panelCode,
                  text: ev.target.value,
                })
                ev.target.value = ''
                this.render()
              }
            }
            ev.preventDefault()
          } else if (
            /* [9, 16, 17, 18, 19, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40].indexOf(ev.keyCode) < 0 */ ((48 <=
              ev.keyCode &&
              ev.keyCode <= 90) ||
              ev.keyCode === 229) &&
            !ev.ctrlKey
          ) {
            if (!disabled) {
              this.ucUiAction.sendTyping({
                chatType: panelType,
                chatCode: panelCode,
              })
            }
          }
        }
        uiData.prototype.editorSendButton_onClick = function (
          panelType,
          panelCode,
          editorTextarea,
          ev,
        ) {
          if (editorTextarea.value) {
            this.ucUiAction.sendText({
              chatType: panelType,
              chatCode: panelCode,
              text: editorTextarea.value,
            })
            editorTextarea.value = ''
            editorTextarea.focus()
            this.render()
          } else {
            editorTextarea.focus()
          }
        }
        uiData.prototype.editorEndChatLink_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          this.signOutIntentionally({ confirms: 2 })
        }
        uiData.prototype.editorSendFileLink_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          var myUcCimUserType = (0, _strings.int)(
            this.ucUiStore.getUcCimUserType(),
          )
          if (
            ((0, _strings.int)(
              this.ucUiStore.getOptionalSetting({ key: 'fsp' }),
            ) &
              myUcCimUserType) ===
            myUcCimUserType
          ) {
            this.ucUiStore
              .getLogger()
              .log('warn', 'invalid fsp in editorSendFileLink_onClick')
            return
          }
          this.showModal({
            title: _uawmsgs2.default.MSG_SEND_FILE_MODAL_TITLE,
            message: _react2.default.createElement('input', {
              type: 'file',
              className: 'brEditorSendFileFile',
              onChange: this.fire.bind(
                this,
                'editorSendFileFile_onChange',
                panelType,
                panelCode,
              ),
            }),
            okCaption: _uawmsgs2.default.CMN_CANCEL,
          })
        }
        uiData.prototype.editorSendFileFile_onChange = function (
          panelType,
          panelCode,
          ev,
        ) {
          if (ev.target && ev.target.files && ev.target.files.length) {
            this.ucUiAction.sendFiles({
              chatType: panelType,
              chatCode: panelCode,
              files: ev.target.files,
            })
          } else {
            this.ucUiStore.getLogger().log('warn', 'empty ev.target.files')
          }
          this.modalInfo = null
          this.render()
        }
        uiData.prototype.editorMakeCallLink_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          if (
            this.phoneSettings &&
            this.phoneSettings.call_target ===
              this.phoneSettings.customer_sip_user &&
            this.phoneSettings.customer_call_target ===
              this.phoneSettings.conf_ext
          ) {
            var target = this.ucUiStore
              .getChatClient()
              .getConference(this.ucUiStore.getGuestConfId()).assigned.user_id
            if (target) {
              this.makeCall({ target: target })
            } else {
              this.ucUiStore.getLogger().log('warn', 'empty assigned user_id')
            }
          } else {
            this.makeCall()
          }
        }
        uiData.prototype.editorReportMailLink_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          var _this11 = this

          if (this.reportEmailAddress) {
            this.doReportMail({ panelType: panelType, panelCode: panelCode })
          } else {
            this.doEditEmail({
              panelType: panelType,
              panelCode: panelCode,
              onOk: function onOk() {
                if (_this11.reportEmailAddress) {
                  _this11.doReportMail({
                    panelType: panelType,
                    panelCode: panelCode,
                  })
                }
              },
            })
          }
          ev.stopPropagation()
        }
        uiData.prototype.doReportMail = function (option) {
          var _this12 = this

          if (!option) {
            return
          }
          if (this.ucUiStore.getSignInStatus() === 3) {
            ;(function () {
              var settings = _this12.ucUiStore.getChatClient().getSettings()
              var configProperties = _this12.ucUiStore.getConfigProperties()
              if (
                configProperties.optional_config &&
                configProperties.optional_config.send_report_mail_locked
              ) {
                _this12.showModal({
                  title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                  message: (0, _strings.formatStr)(
                    _uawmsgs2.default.MSG_REPORT_MAIL_FAILED,
                    24301,
                  ),
                })
              } else {
                if (!settings.optional_settings) {
                  settings.optional_settings = {}
                }
                if (!settings.optional_settings.send_report_mail) {
                  settings.optional_settings.send_report_mail = true
                  _this12.reportMailStatus[option.panelCode] = 2
                } else {
                  settings.optional_settings.send_report_mail = false
                  _this12.reportMailStatus[option.panelCode] = 1
                }
                try {
                  localStorage.setItem(
                    'UC.uccustomerwidget.reportmailstatus',
                    JSON.stringify(_this12.reportMailStatus),
                  )
                } catch (ex) {
                  _this12.ucUiStore
                    .getLogger()
                    .log('warn', 'reportMailStatus setItem failed. ex=' + ex)
                }
                _this12.ucUiStore.getChatClient().saveProperties(
                  null,
                  settings,
                  null,
                  function (ev) {
                    if (settings.optional_settings.send_report_mail) {
                      _this12.showModal({
                        title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                        message: _uawmsgs2.default.MSG_REPORT_MAIL_LATER,
                      })
                    }
                    _this12.render()
                  },
                  function (ev) {
                    _this12.ucUiStore
                      .getLogger()
                      .log(
                        'warn',
                        'chatClient.saveProperties error code=' +
                          ev.code +
                          ', message=' +
                          ev.message,
                      )
                    _this12.reportMailStatus[option.panelCode] = 0
                    try {
                      localStorage.setItem(
                        'UC.uccustomerwidget.reportmailstatus',
                        JSON.stringify(_this12.reportMailStatus),
                      )
                    } catch (ex) {
                      _this12.ucUiStore
                        .getLogger()
                        .log(
                          'warn',
                          'reportMailStatus setItem failed. ex=' + ex,
                        )
                    }
                    _this12.showModal({
                      title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                      message: (0, _strings.formatStr)(
                        _uawmsgs2.default.MSG_REPORT_MAIL_FAILED,
                        ev.code,
                      ),
                    })
                    _this12.render()
                  },
                )
              }
            })()
          } else {
            if (this.reportMailStatus[option.panelCode] !== 2) {
              try {
                fetch(
                  this.signInParams.url + '/webif/privaterpc/SendReportMail',
                  {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'application/json',
                      Authorization:
                        'Basic ' +
                        btoa(
                          this.ucUiStore.chatClient._tenant +
                            '.' +
                            this.ucUiStore.chatClient._user_id +
                            ':' +
                            this.ucUiStore.chatClient._pass,
                        ),
                    },
                    body: '{}',
                  },
                )
                  .then(function (response) {
                    return response.json()
                  })
                  .then(function (data) {
                    if (data && data.result && data.result.logcnt >= 1) {
                      _this12.reportMailStatus[option.panelCode] = 2
                      _this12.showModal({
                        title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                        message: _uawmsgs2.default.MSG_REPORT_MAIL_SENT,
                      })
                      _this12.render()
                    } else if (
                      data &&
                      data.result &&
                      data.result.logcnt === 0
                    ) {
                      _this12.ucUiStore
                        .getLogger()
                        .log(
                          'warn',
                          'fetch at editorReportMailLink_onClick() ok. logcnt=0',
                        )
                      _this12.reportMailStatus[option.panelCode] = 2
                      _this12.showModal({
                        title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                        message: _uawmsgs2.default.MSG_REPORT_MAIL_LATER,
                      })
                      _this12.render()
                    } else {
                      _this12.ucUiStore
                        .getLogger()
                        .log(
                          'warn',
                          'fetch at editorReportMailLink_onClick() ok. data=' +
                            data,
                        )
                      _this12.showModal({
                        title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                        message: (0, _strings.formatStr)(
                          _uawmsgs2.default.MSG_REPORT_MAIL_FAILED,
                          24312,
                        ),
                      })
                    }
                  })
                  .catch(function (error) {
                    _this12.ucUiStore
                      .getLogger()
                      .log(
                        'warn',
                        'fetch at editorReportMailLink_onClick() failed. error=' +
                          error,
                      )
                    _this12.showModal({
                      title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                      message: (0, _strings.formatStr)(
                        _uawmsgs2.default.MSG_REPORT_MAIL_FAILED,
                        24307,
                      ),
                    })
                  })
              } catch (ex) {
                this.ucUiStore
                  .getLogger()
                  .log(
                    'warn',
                    'fetch at editorReportMailLink_onClick() failed. ex=' + ex,
                  )
                this.showModal({
                  title: _uawmsgs2.default.MSG_REPORT_MAIL_DIALOG_TITLE,
                  message: (0, _strings.formatStr)(
                    _uawmsgs2.default.MSG_REPORT_MAIL_FAILED,
                    24308,
                  ),
                })
              }
            }
          }
          this.render()
        }
        uiData.prototype.editorEditEmailLink_onClick = function (
          panelType,
          panelCode,
          ev,
        ) {
          this.doEditEmail({ panelType: panelType, panelCode: panelCode })
        }
        uiData.prototype.doEditEmail = function (option) {
          var _this13 = this

          if (!option) {
            return
          }
          if (
            this.ucUiStore.getSignInStatus() === 3 ||
            this.reportMailStatus[option.panelCode] !== 2
          ) {
            this.showEditEmailDialog({
              panelType: option.panelType,
              panelCode: option.panelCode,
              onOk: function onOk(ev) {
                var text = (0, _strings.string)(
                  ev && ev.content && ev.content.state && ev.content.state.text,
                )
                var reportEmailAddressOrg = _this13.reportEmailAddress
                if (_this13.ucUiStore.getSignInStatus() === 3) {
                  var profile = _this13.ucUiStore.getChatClient().getProfile()
                  _this13.reportEmailAddress = profile.email = text
                  _this13.ucUiStore.getChatClient().saveProperties(
                    profile,
                    null,
                    null,
                    function (ev) {
                      if (option.onOk) {
                        option.onOk({})
                      }
                    },
                    function (ev) {
                      _this13.ucUiStore
                        .getLogger()
                        .log(
                          'warn',
                          'chatClient.saveProperties error code=' +
                            ev.code +
                            ', message=' +
                            ev.message,
                        )
                      _this13.reportEmailAddress = reportEmailAddressOrg
                      _this13.showModal({
                        title: _uawmsgs2.default.MSG_EDIT_EMAIL_DIALOG_TITLE,
                        message: (0, _strings.formatStr)(
                          _uawmsgs2.default.MSG_EDIT_EMAIL_FAILED,
                          ev.code,
                        ),
                      })
                      _this13.render()
                    },
                  )
                } else {
                  try {
                    fetch(
                      _this13.signInParams.url +
                        '/webif/privaterpc/GetProperties',
                      {
                        method: 'POST',
                        headers: {
                          'Content-Type': 'application/json',
                          Authorization:
                            'Basic ' +
                            btoa(
                              _this13.ucUiStore.chatClient._tenant +
                                '.' +
                                _this13.ucUiStore.chatClient._user_id +
                                ':' +
                                _this13.ucUiStore.chatClient._pass,
                            ),
                        },
                        body: JSON.stringify({
                          tenant: _this13.ucUiStore.chatClient._tenant,
                          user_id: _this13.ucUiStore.chatClient._user_id,
                          type: 'all',
                        }),
                      },
                    )
                      .then(function (response) {
                        return response.json()
                      })
                      .then(function (data) {
                        if (!data || !data.result || !data.result.profile) {
                          throw new Error(
                            'fetch GetProperties at editorEditEmailLink_onClick() ok. data=' +
                              data,
                          )
                        }
                        _this13.reportEmailAddress = data.result.profile.email =
                          text
                        return fetch(
                          _this13.signInParams.url +
                            '/webif/privaterpc/SetProperties',
                          {
                            method: 'POST',
                            headers: {
                              'Content-Type': 'application/json',
                              Authorization:
                                'Basic ' +
                                btoa(
                                  _this13.ucUiStore.chatClient._tenant +
                                    '.' +
                                    _this13.ucUiStore.chatClient._user_id +
                                    ':' +
                                    _this13.ucUiStore.chatClient._pass,
                                ),
                            },
                            body: JSON.stringify({
                              tenant: _this13.ucUiStore.chatClient._tenant,
                              user_id: _this13.ucUiStore.chatClient._user_id,
                              profile: data.result.profile,
                              settings: data.result.settings,
                              buddylist: data.result.buddylist,
                            }),
                          },
                        )
                      })
                      .then(function (response) {
                        return response.json()
                      })
                      .then(function (data) {
                        if (!data || !data.result) {
                          throw new Error(
                            'fetch SetProperties at editorEditEmailLink_onClick() ok. data=' +
                              data,
                          )
                        }
                        _this13.render()
                        if (option.onOk) {
                          option.onOk({})
                        }
                      })
                      .catch(function (error) {
                        _this13.ucUiStore
                          .getLogger()
                          .log(
                            'warn',
                            'caught at editorEditEmailLink_onClick(). error=' +
                              error,
                          )
                        _this13.reportEmailAddress = reportEmailAddressOrg
                        _this13.showModal({
                          title: _uawmsgs2.default.MSG_EDIT_EMAIL_DIALOG_TITLE,
                          message: (0, _strings.formatStr)(
                            _uawmsgs2.default.MSG_EDIT_EMAIL_FAILED,
                            24321,
                          ),
                        })
                        _this13.render()
                      })
                  } catch (ex) {
                    _this13.ucUiStore
                      .getLogger()
                      .log(
                        'warn',
                        'fetch at editorEditEmailLink_onClick() failed. ex=' +
                          ex,
                      )
                    _this13.showModal({
                      title: _uawmsgs2.default.MSG_EDIT_EMAIL_DIALOG_TITLE,
                      message: (0, _strings.formatStr)(
                        _uawmsgs2.default.MSG_EDIT_EMAIL_FAILED,
                        24322,
                      ),
                    })
                  }
                }
              },
            })
          }
        }
        uiData.prototype.showEditEmailDialog = function (option) {
          var _this14 = this

          this.showModal({
            title: _uawmsgs2.default.MSG_EDIT_EMAIL_DIALOG_TITLE,
            contentClass: 'ConfirmForm',
            contentParams: {
              message: _uawmsgs2.default.MSG_EDIT_EMAIL_MESSAGE,
              text: this.reportEmailAddress,
              autoCapitalize: 'off',
            },
            cancelable: true,
            onOk: function onOk(ev) {
              var text = (0, _strings.string)(
                ev && ev.content && ev.content.state && ev.content.state.text,
              )
              if (
                !text &&
                _this14.reportMailStatus[option && option.panelCode] === 2
              ) {
                if (ev) {
                  ev.closes = false
                }
                return
              }
              var testFailed = (
                _this14.configurations.profinfoInputs || []
              ).some(function (profinfoInput) {
                if (profinfoInput && profinfoInput.key === 'email') {
                  if (typeof profinfoInput.mandatory === 'string') {
                    try {
                      return !new RegExp(profinfoInput.mandatory).test(text)
                    } catch (ex) {}
                  } else if (profinfoInput.mandatory && !text) {
                    return true
                  }
                }
              })
              if (testFailed) {
                if (ev) {
                  ev.closes = false
                }
                return
              }
              if (option && option.onOk) {
                option.onOk(ev)
              }
            },
          })
        }
        // events from UcUiStore
        uiData.prototype.signedIn = function () {
          var _this15 = this

          this.fire(
            'onAfterSignIn',
            this.ownerDocument.defaultView || window,
            this.ucUiAction,
            this.ucUiStore,
            this.phone,
            this.signInProfinfoInputsValue,
          )

          if (this.phone) {
            // start webrtc client
            this.ucUiStore.getChatClient().loadPhoneProperties(
              {
                force: false,
              },
              function (ev) {
                var configProperties = _this15.ucUiStore.getConfigProperties()
                var tls = true
                if (
                  _this15.ownerDocument.defaultView &&
                  _this15.ownerDocument.defaultView.location &&
                  _this15.ownerDocument.defaultView.location.protocol ===
                    'http:'
                ) {
                  tls = false
                }
                ;[
                  'phoneStatusChanged',
                  'sessionCreated',
                  'sessionStatusChanged',
                  'videoClientSessionCreated',
                  'videoClientSessionEnded',
                  'remoteUserOptionsChanged',
                  'rtcErrorOccurred',
                  'icegatheringstatechange',
                  'iceconnectionstatechange',
                ].forEach(function (eventName) {
                  _this15.phoneEventIds[eventName] =
                    _this15.phone.addEventListener(
                      eventName,
                      _this15[eventName].bind(_this15),
                    )
                })
                _this15.phoneSettings.customer_call_target =
                  ev.customer_call_target
                _this15.phoneSettings.call_target = ev.call_target
                _this15.phoneSettings.conf_ext = ev.conf_ext
                _this15.phoneSettings.customer_sip_user = ev.pnumber
                _this15.phoneSettings.customer_phone_options =
                  ev.customer_phone_options
                if (ev.phone_prop) {
                  ;(function () {
                    var phone_prop = {}
                    try {
                      phone_prop = JSON.parse(ev.phone_prop) || {}
                      Object.keys(phone_prop).forEach(function (k) {
                        return (_this15.phone[k] = phone_prop[k])
                      })
                    } catch (ex) {
                      _this15.ucUiStore.getLogger().log('warn', ex)
                    }
                  })()
                }
                if (ev.customer_phone_options) {
                  ;(function () {
                    var customer_phone_options = {}
                    try {
                      customer_phone_options =
                        JSON.parse(ev.customer_phone_options) || {}
                      Object.keys(customer_phone_options).forEach(function (k) {
                        return (_this15.phone[k] = customer_phone_options[k])
                      })
                    } catch (ex) {
                      _this15.ucUiStore.getLogger().log('warn', ex)
                    }
                  })()
                }
                // set default call options
                var webRTCTypeName = (0, _strings.string)(
                  _this15.configurations.webRTCTypeName ||
                    ev.webrtc_type_name ||
                    (configProperties.optional_config &&
                      configProperties.optional_config.webrtc_type_name),
                )
                var webRTCTypeOptions = {}
                var webRTCTypes = []
                try {
                  webRTCTypes =
                    (configProperties.optional_config &&
                      configProperties.optional_config.webrtc_types &&
                      JSON.parse(
                        configProperties.optional_config.webrtc_types,
                      )) ||
                    []
                } catch (ex) {
                  _this15.ucUiStore.getLogger().log('warn', ex)
                }
                var webRTCType = webRTCTypes.find(function (type) {
                  return type.name === webRTCTypeName
                })
                if (webRTCType) {
                  try {
                    webRTCTypeOptions = JSON.parse(webRTCType.options) || {}
                  } catch (ex) {
                    _this15.ucUiStore.getLogger().log('warn', ex)
                  }
                }
                var callOptions = webRTCTypeOptions.callOptions || {}
                _this15.phone.setDefaultCallOptions(callOptions)
                // register
                _this15.phone.startWebRTC({
                  host:
                    (0, _strings.string)(ev.sip_host) ||
                    (0, _strings.string)(
                      (0, _strings.string)(_this15.signInParams.url).split(
                        '/',
                      )[2],
                    ).split(':')[0],
                  port: (0, _strings.int)(
                    tls ? ev.sip_wss_port : ev.sip_ws_port,
                  ),
                  tls: tls,
                  user: (0, _strings.string)(ev.pnumber),
                  password: (0, _strings.string)(ev.password),
                  auth: (0, _strings.string)(ev.authorization),
                  useVideoClient: true,
                  register_expires: (0, _strings.int)(ev.register_expires),
                  socketKeepAlive:
                    typeof _this15.configurations.socketKeepAlive !==
                    'undefined'
                      ? (0, _strings.int)(
                          _this15.configurations.socketKeepAlive,
                        )
                      : undefined,
                  userAgent: (0, _strings.string)(ev.user_agent),
                })
              },
              function (ev) {
                _this15.ucUiStore
                  .getLogger()
                  .log(
                    'warn',
                    'chatClient.loadPhoneProperties error code=' +
                      ev.code +
                      ', message=' +
                      ev.message,
                  )
              },
            )
          }

          var profile = this.ucUiStore.getChatClient().getProfile()
          this.reportEmailAddress = profile.email
          var chatCode = this.ucUiStore.getChatCodeByConfId({
            conf_id: this.ucUiStore.getGuestConfId(),
          }).chatCode
          if (this.reportOnForm === 1 || this.reportOnForm === 2) {
            this.reportMailStatus[chatCode] = this.reportOnForm
            try {
              localStorage.setItem(
                'UC.uccustomerwidget.reportmailstatus',
                JSON.stringify(this.reportMailStatus),
              )
            } catch (ex) {
              this.ucUiStore
                .getLogger()
                .log('warn', 'reportMailStatus setItem failed. ex=' + ex)
            }
          }
          if (this.reportMailStatus[chatCode] === 2) {
            var settings = this.ucUiStore.getChatClient().getSettings()
            var configProperties = this.ucUiStore.getConfigProperties()
            if (
              configProperties.optional_config &&
              configProperties.optional_config.send_report_mail_locked
            ) {
              this.ucUiStore
                .getLogger()
                .log('warn', 'send_report_mail_locked at signedIn()')
            } else {
              if (!settings.optional_settings) {
                settings.optional_settings = {}
              }
              settings.optional_settings.send_report_mail = true
              this.ucUiStore.getChatClient().saveProperties(
                null,
                settings,
                null,
                function (ev) {},
                function (ev) {
                  _this15.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'chatClient.saveProperties error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                  _this15.reportMailStatus = {}
                  _this15.render()
                },
              )
            }
          }
        }
        uiData.prototype.signedOut = function () {
          var _this16 = this

          if (this.phone) {
            this.phone.stopWebRTC(false)
            Object.keys(this.phoneEventIds).forEach(function (eventName) {
              _this16.phone.removeEventListener(
                eventName,
                _this16.phoneEventIds[eventName],
              )
              delete _this16.phoneEventIds[eventName]
            })
            delete this.phoneSettings.customer_call_target
            delete this.phoneSettings.call_target
            delete this.phoneSettings.conf_ext
            delete this.phoneSettings.customer_sip_user
            delete this.phoneSettings.customer_phone_options
          }
          if (
            this.intentionalSignOutInfo &&
            this.intentionalSignOutInfo.resolve
          ) {
            try {
              this.intentionalSignOutInfo.resolve({})
            } catch (e) {}
          }
          if (
            this.ucUiStore.getSignInStatus() === 1 &&
            (this.ucUiStore.getLastSignOutReason() || {}).code ===
              Brekeke.UCClient.Errors.ERROR_REENTER_CONF &&
            this.configurations.autoSignIn
          ) {
            // reenter conference failed -> try autoSignIn (checkFormAndSignIn automatically)
            this.checkFormAndSignIn(true)
          }
        }
        // events from ChatClient
        uiData.prototype.chatClient_conferenceMemberChanged = function (ev) {
          if (
            ev &&
            ev.conference &&
            ev.conference.conf_status ===
              _constants2.default.CONF_STATUS_INACTIVE
          ) {
            if (this.reenterCodeSaved && this.reenterCodeSaved.removeFunc) {
              try {
                this.reenterCodeSaved.removeFunc()
                this.ucUiStore
                  .getLogger()
                  .log(
                    'debug',
                    'reenterCodeSaved.removeFunc() at chatClient_conferenceMemberChanged() ok.',
                  )
              } catch (ex) {
                this.ucUiStore
                  .getLogger()
                  .log(
                    'warn',
                    'reenterCodeSaved.removeFunc() at chatClient_conferenceMemberChanged() failed. ex=' +
                      ex,
                  )
              }
            }
            try {
              localStorage.removeItem('UC.uccustomerwidget.reportmailstatus')
            } catch (ex) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'reportMailStatus removeItem at chatClient_conferenceMemberChanged() failed. ex=' +
                    ex,
                )
            }
          }
        }
        uiData.prototype.chatClient_confLeaveReceived = function (ev) {
          var me = {
            user_id: this.ucUiStore.getChatClient().getProfile().user_id,
            reenterUserId: this.ucUiStore.getReenterUserId(),
          }
          var sender = {
            user_id: ev.sender && ev.sender.user_id,
          }
          try {
            sender.reenterUserId = JSON.parse(ev.text).reenterUserId
          } catch (ex) {}
          if (
            (me.reenterUserId || sender.reenterUserId) &&
            (me.reenterUserId === sender.reenterUserId ||
              me.user_id === sender.reenterUserId ||
              me.reenterUserId === sender.user_id)
          ) {
            // sender and me are the same person
            if (this.reenterCodeSaved && this.reenterCodeSaved.removeFunc) {
              try {
                this.reenterCodeSaved.removeFunc()
                this.ucUiStore
                  .getLogger()
                  .log(
                    'debug',
                    'reenterCodeSaved.removeFunc() at chatClient_confLeaveReceived() ok.',
                  )
              } catch (ex) {
                this.ucUiStore
                  .getLogger()
                  .log(
                    'warn',
                    'reenterCodeSaved.removeFunc() at chatClient_confLeaveReceived() failed. ex=' +
                      ex,
                  )
              }
            }
            try {
              localStorage.removeItem('UC.uccustomerwidget.reportmailstatus')
            } catch (ex) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'reportMailStatus removeItem at chatClient_confLeaveReceived() failed. ex=' +
                    ex,
                )
            }
            this.ucUiAction.signOut()
          }
        }
        uiData.prototype.chatClient_confTagUpdated = function (ev) {
          var conf_id = ev && ev.conference && ev.conference.conf_id
          var reenter_type = (0, _strings.string)(
            this.ucUiStore
              .getChatClient()
              .getConferenceTag({ conf_id: conf_id, tag_key: '_reenter_type' }),
          )
          if (reenter_type) {
            // "0", "1", "2": valid value; "": not attached yet
            var reenter_type_storage_array = (0, _strings.string)(
              this.configurations.reenterTypeStorage,
            ).split(':')
            var reenter_storage = (0, _strings.string)(
              reenter_type_storage_array[0].split(',')[
                (0, _strings.int)(reenter_type)
              ],
            )
            var storage_array = reenter_storage.split('.')
            if (!this.reenterCodeSaved && storage_array.length >= 2) {
              var storage = (this.ownerDocument.defaultView || window)[
                storage_array.shift()
              ]
              while (storage && storage_array.length >= 2) {
                storage = storage[storage_array.shift()]
              }
              if (storage && storage_array.length === 1) {
                var key = storage_array[0]
                var reenter_code_expires =
                  Date.now() + (0, _strings.int)(reenter_type_storage_array[1])
                var next_reenter_user_id =
                  this.ucUiStore.getReenterUserId() ||
                  this.ucUiStore.getChatClient().getProfile().user_id
                var reenter_code =
                  reenter_code_expires +
                  ',' +
                  conf_id +
                  ',' +
                  next_reenter_user_id
                try {
                  var removeFunc = storage.removeItem.bind(storage, key)
                  storage.setItem(key, reenter_code)
                  this.reenterCodeSaved = { removeFunc: removeFunc }
                  this.ucUiStore
                    .getLogger()
                    .log(
                      'debug',
                      'storage.setItem() ok. reenter_storage=' +
                        reenter_storage +
                        ', reenter_code=' +
                        reenter_code,
                    )
                } catch (ex) {
                  this.ucUiStore
                    .getLogger()
                    .log(
                      'warn',
                      'storage.setItem() failed. reenter_storage=' +
                        reenter_storage +
                        ', ex=' +
                        ex,
                    )
                }
              } else {
                this.ucUiStore
                  .getLogger()
                  .log('warn', 'invalid reenter_storage=' + reenter_storage)
              }
            }
          }
        }
        // events from Phone
        uiData.prototype.phoneStatusChanged = function (ev) {
          this.render()
        }
        uiData.prototype.sessionCreated = function (ev) {
          this.callAreaExpanded = true
          this.render()
        }
        uiData.prototype.sessionStatusChanged = function (ev) {
          if (
            ev &&
            ev.sessionStatus === 'terminated' &&
            ev.rtcSession &&
            ev.rtcSession.direction === 'outgoing'
          ) {
            // send call result
            this.ucUiAction.sendCallResult({
              chatType: 'CONFERENCE',
              chatCode: (0, _strings.string)(
                this.ucUiStore.getChatCodeByConfId({
                  conf_id: this.ucUiStore.getGuestConfId(),
                }).chatCode,
              ),
              text: JSON.stringify({
                talklen:
                  (0, _strings.int)(+ev.rtcSession.end_time) -
                  (0, _strings.int)(+ev.rtcSession.start_time),
              }),
            })
          }
          this.render()
        }
        uiData.prototype.videoClientSessionCreated = function (ev) {
          var _this17 = this

          var session = this.phone && this.phone.getSession(ev && ev.sessionId)
          if (session && this.isScreen) {
            var tracks =
              session.localVideoStreamObject &&
              session.localVideoStreamObject.getVideoTracks &&
              session.localVideoStreamObject.getVideoTracks()
            var track = tracks && tracks[0]
            if (track) {
              track.onended = function () {
                var session =
                  _this17.phone && _this17.phone.getSession(ev && ev.sessionId)
                if (session && session.sessionStatus === 'connected') {
                  // change isScreen to false
                  _this17.isScreen = false
                  var newWithVideo =
                    !_this17.cameraOff ||
                    _this17.isScreen ||
                    (session.remoteUserOptionsTable &&
                      Object.keys(session.remoteUserOptionsTable).some(
                        function (user) {
                          var remoteSoundOnly = false
                          try {
                            remoteSoundOnly = JSON.parse(
                              session.remoteUserOptionsTable[user].exInfo,
                            ).soundOnly
                          } catch (ex) {}
                          return (
                            session.remoteUserOptionsTable[user] &&
                            session.remoteUserOptionsTable[user].withVideo &&
                            !remoteSoundOnly
                          )
                        },
                      ))
                  if (session.withVideo && newWithVideo) {
                    _this17.phone.setWithVideo(session.sessionId, false)
                  }
                  _this17.phone.setWithVideo(
                    session.sessionId,
                    newWithVideo,
                    _this17.getVideoOptions(),
                    JSON.stringify({
                      soundOnly: _this17.cameraOff && !_this17.isScreen,
                    }),
                  )
                  _this17.render()
                }
              }
            }
          }
          this.render()
        }
        uiData.prototype.videoClientSessionEnded = function (ev) {
          this.render()
        }
        uiData.prototype.remoteUserOptionsChanged = function (ev) {
          var session = ev
          if (session && this.cameraOff && !this.isScreen) {
            var newWithVideo =
              session.remoteUserOptionsTable &&
              Object.keys(session.remoteUserOptionsTable).some(function (user) {
                var remoteSoundOnly = false
                try {
                  remoteSoundOnly = JSON.parse(
                    session.remoteUserOptionsTable[user].exInfo,
                  ).soundOnly
                } catch (ex) {}
                return (
                  session.remoteUserOptionsTable[user] &&
                  session.remoteUserOptionsTable[user].withVideo &&
                  !remoteSoundOnly
                )
              })
            if (session.withVideo !== newWithVideo) {
              this.phone.setWithVideo(
                session.sessionId,
                newWithVideo,
                this.getVideoOptions(),
                JSON.stringify({ soundOnly: this.cameraOff && !this.isScreen }),
              )
            }
          }
          this.render()
        }
        uiData.prototype.rtcErrorOccurred = function (ev) {
          if (ev) {
            this.showModalSessionWarning(
              'MSG_CALL_DEVICE_WARNING',
              ev.error + '\n(from ' + ev.from + ')',
            )
          }
        }
        uiData.prototype.icegatheringstatechange = function (ev) {
          var sessionId = (0, _strings.string)(ev && ev.sessionId)
          var iceGatheringState = (0, _strings.string)(
            ev && ev.iceGatheringState,
          )
          var videoClientSessionId = (0, _strings.string)(
            ev && ev.videoClientSessionId,
          )
          var iceGatheringWarning1 = (0, _strings.string)(
            this.configurations.iceGatheringWarning,
          )
            .split('|')[0]
            .split(',')
          var iceGatheringWarning2 = (
            (0, _strings.string)(this.configurations.iceGatheringWarning).split(
              '|',
            )[1] || ''
          ).split(',')
          if (!sessionId || !iceGatheringState) {
            return
          }
          if (!videoClientSessionId) {
            if (iceGatheringWarning1.indexOf(iceGatheringState) !== -1) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [audio] iceGatheringState=' +
                    iceGatheringState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[audio] iceGatheringState=' + iceGatheringState,
              )
            } else if (
              iceGatheringWarning2.indexOf(iceGatheringState) !== -1 &&
              this.iceConnectedOnceSessionId !== sessionId
            ) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [audio] iceGatheringState=' +
                    iceGatheringState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[audio] iceGatheringState=' + iceGatheringState,
              )
            }
          } else {
            if (iceGatheringWarning1.indexOf(iceGatheringState) !== -1) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [video] iceGatheringState=' +
                    iceGatheringState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[video] iceGatheringState=' + iceGatheringState,
              )
            } else if (
              iceGatheringWarning2.indexOf(iceGatheringState) !== -1 &&
              this.videoIceConnectedOnceSessionId !== sessionId
            ) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [video] iceGatheringState=' +
                    iceGatheringState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[video] iceGatheringState=' + iceGatheringState,
              )
            }
          }
        }
        uiData.prototype.iceconnectionstatechange = function (ev) {
          var sessionId = (0, _strings.string)(ev && ev.sessionId)
          var iceConnectionState = (0, _strings.string)(
            ev && ev.iceConnectionState,
          )
          var videoClientSessionId = (0, _strings.string)(
            ev && ev.videoClientSessionId,
          )
          var iceConnectionWarning1 = (0, _strings.string)(
            this.configurations.iceConnectionWarning,
          )
            .split('|')[0]
            .split(',')
          var iceConnectionWarning2 = (
            (0, _strings.string)(
              this.configurations.iceConnectionWarning,
            ).split('|')[1] || ''
          ).split(',')
          if (!sessionId || !iceConnectionState) {
            return
          }
          if (!videoClientSessionId) {
            if (iceConnectionWarning1.indexOf(iceConnectionState) !== -1) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [audio] iceConnectionState=' +
                    iceConnectionState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[audio] iceConnectionState=' + iceConnectionState,
              )
            } else if (
              iceConnectionWarning2.indexOf(iceConnectionState) !== -1 &&
              this.iceConnectedOnceSessionId !== sessionId
            ) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [audio] iceConnectionState=' +
                    iceConnectionState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[audio] iceConnectionState=' + iceConnectionState,
              )
            }
            if (
              iceConnectionState === 'connected' &&
              this.iceConnectedOnceSessionId !== sessionId
            ) {
              this.iceConnectedOnceSessionId = sessionId
            }
          } else {
            if (iceConnectionWarning1.indexOf(iceConnectionState) !== -1) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [video] iceConnectionState=' +
                    iceConnectionState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[video] iceConnectionState=' + iceConnectionState,
              )
            } else if (
              iceConnectionWarning2.indexOf(iceConnectionState) !== -1 &&
              this.videoIceConnectedOnceSessionId !== sessionId
            ) {
              this.ucUiStore
                .getLogger()
                .log(
                  'warn',
                  'Please check for network problems. [video] iceConnectionState=' +
                    iceConnectionState,
                )
              this.showModalSessionWarning(
                'MSG_CALL_NETWORK_WARNING',
                '[video] iceConnectionState=' + iceConnectionState,
              )
            }
            if (
              iceConnectionState === 'connected' &&
              this.videoIceConnectedOnceSessionId !== sessionId
            ) {
              this.videoIceConnectedOnceSessionId = sessionId
            }
          }
        }

        /**
         * global object
         */
        Brekeke.UCCustomerWidget = {}
        /**
         * uiData global class
         */
        Brekeke.UCCustomerWidget.uiData = uiData
        /**
         * uawMsgs global object
         */
        Brekeke.UCCustomerWidget.uawMsgs = _uawmsgs2.default
        /**
         * export global object
         */
        module.exports = Brekeke.UCCustomerWidget
      },
      {
        '../../../web/js/brekeke/ucclient/ucclient.js': 397,
        '../../../web/js/brekeke/ucuiaction/ucuiaction.js': 398,
        '../../../web/js/brekeke/ucuistore/ucuistore.js': 399,
        './apps/CustomerApp.js': 345,
        './utilities/constants.js': 388,
        './utilities/currentscript.js': 389,
        './utilities/polyfills.js': 391,
        './utilities/strings.js': 392,
        './utilities/uawmsgs.js': 393,
        react: 341,
        'react-dom': 195,
      },
    ],
    388: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        var Brekeke = (window.Brekeke = window.Brekeke || {})
        Brekeke.UCClient =
          Brekeke.UCClient ||
          require('../../../../web/js/brekeke/ucclient/ucclient.js')
        exports.default = Brekeke.UCClient.Constants
      },
      { '../../../../web/js/brekeke/ucclient/ucclient.js': 397 },
    ],
    389: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.default = {
          DIR: '',
          FILE: '',
          QUERY: '',
          init: function init(regex) {
            if (document.currentScript) {
              var match = document.currentScript.src.match(regex)
              if (match) {
                this.DIR = match[1] || ''
                this.FILE = match[2] || ''
                this.QUERY = match[3] || ''
                return
              }
            }
            var scripts = document.getElementsByTagName('script')
            for (var i = scripts.length - 1; i >= 0; i--) {
              var match = scripts[i].src.match(regex)
              if (match) {
                this.DIR = match[1] || ''
                this.FILE = match[2] || ''
                this.QUERY = match[3] || ''
                return
              }
            }
            this.DIR = ''
            this.FILE = ''
            this.QUERY = ''
          },
        }
      },
      {},
    ],
    390: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        var Brekeke = (window.Brekeke = window.Brekeke || {})
        Brekeke.UCClient =
          Brekeke.UCClient ||
          require('../../../../web/js/brekeke/ucclient/ucclient.js')
        exports.default = Brekeke.UCClient.Errors
      },
      { '../../../../web/js/brekeke/ucclient/ucclient.js': 397 },
    ],
    391: [
      function (require, module, exports) {
        'use strict'

        Object.values = Object.values
          ? Object.values
          : function (obj) {
              var allowedTypes = [
                '[object String]',
                '[object Object]',
                '[object Array]',
                '[object Function]',
              ]
              var objType = Object.prototype.toString.call(obj)

              if (obj === null || typeof obj === 'undefined') {
                throw new TypeError(
                  'Cannot convert undefined or null to object',
                )
              } else if (!~allowedTypes.indexOf(objType)) {
                return []
              } else {
                // if ES6 is supported
                if (Object.keys) {
                  return Object.keys(obj).map(function (key) {
                    return obj[key]
                  })
                }

                var result = []
                for (var prop in obj) {
                  if (obj.hasOwnProperty(prop)) {
                    result.push(obj[prop])
                  }
                }

                return result
              }
            }
        if (typeof Object.assign != 'function') {
          // Must be writable: true, enumerable: false, configurable: true
          Object.defineProperty(Object, 'assign', {
            value: function assign(target, varArgs) {
              // .length of function is 2
              'use strict'

              if (target == null) {
                // TypeError if undefined or null
                throw new TypeError(
                  'Cannot convert undefined or null to object',
                )
              }

              var to = Object(target)

              for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index]

                if (nextSource != null) {
                  // Skip over if undefined or null
                  for (var nextKey in nextSource) {
                    // Avoid bugs when hasOwnProperty is shadowed
                    if (
                      Object.prototype.hasOwnProperty.call(nextSource, nextKey)
                    ) {
                      to[nextKey] = nextSource[nextKey]
                    }
                  }
                }
              }
              return to
            },
            writable: true,
            configurable: true,
          })
        }
        if (!Array.prototype.find) {
          Array.prototype.find = function (predicate) {
            if (this === null) {
              throw new TypeError(
                'Array.prototype.find called on null or undefined',
              )
            }
            if (typeof predicate !== 'function') {
              throw new TypeError('predicate must be a function')
            }
            var list = Object(this)
            var length = list.length >>> 0
            var thisArg = arguments[1]
            var value

            for (var i = 0; i < length; i++) {
              value = list[i]
              if (predicate.call(thisArg, value, i, list)) {
                return value
              }
            }
            return undefined
          }
        }
        if (!Array.prototype.findIndex) {
          Array.prototype.findIndex = function (predicate) {
            if (this === null) {
              throw new TypeError(
                'Array.prototype.findIndex called on null or undefined',
              )
            }
            if (typeof predicate !== 'function') {
              throw new TypeError('predicate must be a function')
            }
            var list = Object(this)
            var length = list.length >>> 0
            var thisArg = arguments[1]
            var value

            for (var i = 0; i < length; i++) {
              value = list[i]
              if (predicate.call(thisArg, value, i, list)) {
                return i
              }
            }
            return -1
          }
        }
        module.exports = {}
      },
      {},
    ],
    392: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        exports.parsePanelKey =
          exports.truncateWithEllipsis =
          exports.toPlainText =
          exports.parseDate =
          exports.formatTopicDate =
          exports.formatMessageDateTime =
          exports.formatMessageDate =
          exports.formatTime =
          exports.formatFileSize =
          exports.formatStr =
          exports.unescapeHTML =
          exports.escapeHTML =
          exports.clone =
          exports.string =
          exports.int =
            undefined

        var _typeof =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (obj) {
                return typeof obj
              }
            : function (obj) {
                return obj &&
                  typeof Symbol === 'function' &&
                  obj.constructor === Symbol
                  ? 'symbol'
                  : typeof obj
              }

        var _uawmsgs = require('./uawmsgs.js')

        var _uawmsgs2 = _interopRequireDefault(_uawmsgs)

        function _interopRequireDefault(obj) {
          return obj && obj.__esModule ? obj : { default: obj }
        }

        var int = (exports.int = function int(value) {
          return parseInt(value, 10) || 0
        })
        var string = (exports.string = function string(value) {
          return String(value || value === 0 || value === false ? value : '')
        })
        var clone = (exports.clone = function clone(object) {
          if (
            object &&
            (typeof object === 'undefined' ? 'undefined' : _typeof(object)) ===
              'object'
          ) {
            // memberwise clone (shallow copy)
            var returnObject = {}
            for (var key in object) {
              returnObject[key] = object[key]
            }
            return returnObject
          } else {
            return object
          }
        })
        var escapeHTML = (exports.escapeHTML = function escapeHTML(str) {
          return string(str)
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
        })
        var unescapeHTML = (exports.unescapeHTML = function unescapeHTML(str) {
          return string(str)
            .replace(/&amp;/g, '&')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#39;/g, "'")
        })
        var formatStr = (exports.formatStr = function formatStr(fmt, a) {
          var rep_fn = undefined
          if (
            (typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object'
          ) {
            rep_fn = function rep_fn(m, k) {
              return a[k]
            }
          } else {
            var args = arguments
            rep_fn = function rep_fn(m, k) {
              return args[parseInt(k) + 1]
            }
          }
          return string(fmt).replace(/\{(\w+)\}/g, rep_fn)
        })
        var formatFileSize = (exports.formatFileSize = function formatFileSize(
          value,
        ) {
          value = int(value)
          var valueString = void 0
          try {
            valueString = value.toLocaleString()
          } catch (e) {
            valueString = string(value)
          }
          if (value === 1) {
            return formatStr(_uawmsgs2.default.CMN_FILESIZE_BYTE, valueString)
          } else if (value < 1024) {
            return formatStr(_uawmsgs2.default.CMN_FILESIZE_BYTES, valueString)
          } else if (value < 1024 * 1024) {
            return formatStr(
              _uawmsgs2.default.CMN_FILESIZE_KILOBYTES,
              (value / 1024).toFixed(1),
              valueString,
            )
          } else if (value < 1024 * 1024 * 1024) {
            return formatStr(
              _uawmsgs2.default.CMN_FILESIZE_MEGABYTES,
              (value / 1024 / 1024).toFixed(1),
              valueString,
            )
          } else {
            return formatStr(
              _uawmsgs2.default.CMN_FILESIZE_GIGABYTES,
              (value / 1024 / 1024 / 1024).toFixed(1),
              valueString,
            )
          }
        })
        var formatTime = (exports.formatTime = function formatTime(timeValue) {
          var time = timeValue ? new Date(timeValue) : new Date()
          var hour = time.getHours()
          var minute = time.getMinutes()
          if (isNaN(hour) || isNaN(minute)) {
            return ''
          }
          var hour12 = ((hour + 11) % 12) + 1
          var ampm =
            hour < 12
              ? _uawmsgs2.default.CMN_AM_STR
              : _uawmsgs2.default.CMN_PM_STR
          return formatStr(
            _uawmsgs2.default.CMN_FORMAT_TIME,
            ('0' + hour).slice(-2),
            ('0' + hour12).slice(-2),
            ('0' + minute).slice(-2),
            ampm,
          )
        })
        var formatMessageDate = (exports.formatMessageDate =
          function formatMessageDate(timeValue) {
            var now = new Date()
            var yesterday = new Date(
              now.getFullYear(),
              now.getMonth(),
              now.getDate() - 1,
            )
            var time = timeValue ? new Date(timeValue) : now
            var year = time.getFullYear()
            var month = time.getMonth()
            var day = time.getDate()
            var dow = time.getDay()
            if (isNaN(year) || isNaN(month) || isNaN(day)) {
              return ''
            }
            if (
              year === now.getFullYear() &&
              month === now.getMonth() &&
              day === now.getDate()
            ) {
              // today
              return _uawmsgs2.default.CMN_TODAY
            }
            if (
              year === yesterday.getFullYear() &&
              month === yesterday.getMonth() &&
              day === yesterday.getDate()
            ) {
              // yesterday
              return _uawmsgs2.default.CMN_YESTERDAY
            }
            var monthStr =
              month === 0
                ? _uawmsgs2.default.CMN_MONTH_STR_01
                : month === 1
                  ? _uawmsgs2.default.CMN_MONTH_STR_02
                  : month === 2
                    ? _uawmsgs2.default.CMN_MONTH_STR_03
                    : month === 3
                      ? _uawmsgs2.default.CMN_MONTH_STR_04
                      : month === 4
                        ? _uawmsgs2.default.CMN_MONTH_STR_05
                        : month === 5
                          ? _uawmsgs2.default.CMN_MONTH_STR_06
                          : month === 6
                            ? _uawmsgs2.default.CMN_MONTH_STR_07
                            : month === 7
                              ? _uawmsgs2.default.CMN_MONTH_STR_08
                              : month === 8
                                ? _uawmsgs2.default.CMN_MONTH_STR_09
                                : month === 9
                                  ? _uawmsgs2.default.CMN_MONTH_STR_10
                                  : month === 10
                                    ? _uawmsgs2.default.CMN_MONTH_STR_11
                                    : month === 11
                                      ? _uawmsgs2.default.CMN_MONTH_STR_12
                                      : ''
            var dowStr =
              dow === 0
                ? _uawmsgs2.default.CMN_DOW_STR_00
                : dow === 1
                  ? _uawmsgs2.default.CMN_DOW_STR_01
                  : dow === 2
                    ? _uawmsgs2.default.CMN_DOW_STR_02
                    : dow === 3
                      ? _uawmsgs2.default.CMN_DOW_STR_03
                      : dow === 4
                        ? _uawmsgs2.default.CMN_DOW_STR_04
                        : dow === 5
                          ? _uawmsgs2.default.CMN_DOW_STR_05
                          : dow === 6
                            ? _uawmsgs2.default.CMN_DOW_STR_06
                            : ''
            if (year === now.getFullYear()) {
              // this year
              return formatStr(
                _uawmsgs2.default.CMN_FORMAT_DATE_WITH_DOW,
                year,
                month + 1,
                day,
                monthStr,
                dowStr,
              )
            } else {
              return formatStr(
                _uawmsgs2.default.CMN_FORMAT_DATE_WITH_DOW_YEAR,
                year,
                month + 1,
                day,
                monthStr,
                dowStr,
              )
            }
          })
        var formatMessageDateTime = (exports.formatMessageDateTime =
          function formatMessageDateTime(timeValue) {
            var now = new Date()
            var yesterday = new Date(
              now.getFullYear(),
              now.getMonth(),
              now.getDate() - 1,
            )
            var time = timeValue ? new Date(timeValue) : now
            var year = time.getFullYear()
            var month = time.getMonth()
            var day = time.getDate()
            if (isNaN(year) || isNaN(month) || isNaN(day)) {
              return ''
            }
            if (
              year === now.getFullYear() &&
              month === now.getMonth() &&
              day === now.getDate()
            ) {
              // today
              return formatTime(timeValue)
            }
            if (
              year === yesterday.getFullYear() &&
              month === yesterday.getMonth() &&
              day === yesterday.getDate()
            ) {
              // yesterday
              return (
                _uawmsgs2.default.CMN_YESTERDAY + ' ' + formatTime(timeValue)
              )
            }
            var monthStr =
              month === 0
                ? _uawmsgs2.default.CMN_MONTH_STR_01
                : month === 1
                  ? _uawmsgs2.default.CMN_MONTH_STR_02
                  : month === 2
                    ? _uawmsgs2.default.CMN_MONTH_STR_03
                    : month === 3
                      ? _uawmsgs2.default.CMN_MONTH_STR_04
                      : month === 4
                        ? _uawmsgs2.default.CMN_MONTH_STR_05
                        : month === 5
                          ? _uawmsgs2.default.CMN_MONTH_STR_06
                          : month === 6
                            ? _uawmsgs2.default.CMN_MONTH_STR_07
                            : month === 7
                              ? _uawmsgs2.default.CMN_MONTH_STR_08
                              : month === 8
                                ? _uawmsgs2.default.CMN_MONTH_STR_09
                                : month === 9
                                  ? _uawmsgs2.default.CMN_MONTH_STR_10
                                  : month === 10
                                    ? _uawmsgs2.default.CMN_MONTH_STR_11
                                    : month === 11
                                      ? _uawmsgs2.default.CMN_MONTH_STR_12
                                      : ''
            if (year === now.getFullYear()) {
              // this year
              return (
                formatStr(
                  _uawmsgs2.default.CMN_FORMAT_DATE,
                  year,
                  month + 1,
                  day,
                  monthStr,
                ) +
                ' ' +
                formatTime(timeValue)
              )
            } else {
              return (
                formatStr(
                  _uawmsgs2.default.CMN_FORMAT_DATE_WITH_YEAR,
                  year,
                  month + 1,
                  day,
                  monthStr,
                ) +
                ' ' +
                formatTime(timeValue)
              )
            }
          })
        var formatTopicDate = (exports.formatTopicDate =
          function formatTopicDate(timeValue) {
            var now = new Date()
            var time = new Date(timeValue)
            var year = time.getFullYear()
            var month = time.getMonth()
            var day = time.getDate()
            if (isNaN(year) || isNaN(month) || isNaN(day)) {
              return ''
            }
            if (
              year === now.getFullYear() &&
              month === now.getMonth() &&
              day === now.getDate()
            ) {
              // today
              return formatTime(timeValue)
            }
            var monthStr =
              month === 0
                ? _uawmsgs2.default.CMN_MONTH_STR_01
                : month === 1
                  ? _uawmsgs2.default.CMN_MONTH_STR_02
                  : month === 2
                    ? _uawmsgs2.default.CMN_MONTH_STR_03
                    : month === 3
                      ? _uawmsgs2.default.CMN_MONTH_STR_04
                      : month === 4
                        ? _uawmsgs2.default.CMN_MONTH_STR_05
                        : month === 5
                          ? _uawmsgs2.default.CMN_MONTH_STR_06
                          : month === 6
                            ? _uawmsgs2.default.CMN_MONTH_STR_07
                            : month === 7
                              ? _uawmsgs2.default.CMN_MONTH_STR_08
                              : month === 8
                                ? _uawmsgs2.default.CMN_MONTH_STR_09
                                : month === 9
                                  ? _uawmsgs2.default.CMN_MONTH_STR_10
                                  : month === 10
                                    ? _uawmsgs2.default.CMN_MONTH_STR_11
                                    : month === 11
                                      ? _uawmsgs2.default.CMN_MONTH_STR_12
                                      : ''
            if (year === now.getFullYear()) {
              // this year
              return formatStr(
                _uawmsgs2.default.CMN_FORMAT_DATE,
                year,
                month + 1,
                day,
                monthStr,
              )
            } else {
              return string(year)
            }
          })
        var parseDate = (exports.parseDate = function parseDate(str) {
          return new Date(
            int(str.substr(0, 4)),
            int(str.substr(5, 2)) - 1,
            int(str.substr(8, 2)),
            int(str.substr(11, 2)),
            int(str.substr(14, 2)),
            int(str.substr(17, 2)),
          )
        })
        var toPlainText = (exports.toPlainText = function toPlainText(html) {
          return unescapeHTML(string(html).replace(/<[^>]*>/g, ''))
        })
        var truncateWithEllipsis = (exports.truncateWithEllipsis =
          function truncateWithEllipsis(str, maxLength, ellipsis) {
            ellipsis = ellipsis || '...'
            if (maxLength < ellipsis.length) {
              ellipsis = ellipsis.substr(0, maxLength)
            }
            return str.length <= maxLength
              ? str
              : str.substr(0, maxLength - ellipsis.length) + ellipsis
          })
        var parsePanelKey = (exports.parsePanelKey = function parsePanelKey(
          key,
        ) {
          var panelKey = string(key)
          var panelType = panelKey.split('_')[0]
          var panelCode = panelKey.substr((panelType + '_').length)
          return {
            panelType: panelType,
            panelCode: panelCode,
          }
        })
      },
      { './uawmsgs.js': 393 },
    ],
    393: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        var Brekeke = (window.Brekeke = window.Brekeke || {})
        Brekeke.UAWMsgs_default =
          Brekeke.UAWMsgs_default ||
          require('../../../../web/js/brekeke/uawmsgs/uawmsgs_default.js')

        var uawMsgs = {
          init: function init(options) {
            if (!options) {
              return
            }
            uawMsgs.current_script_url = {
              DIR: options.DIR,
              FILE: options.FILE,
              QUERY: options.QUERY,
            }
          },
          registerMoment: function registerMoment(moment) {
            if (!moment) {
              return
            }
            if (!uawMsgs.moments) {
              uawMsgs.moments = []
            }
            uawMsgs.moments.push(moment)
          },
          loadLanguage: function loadLanguage(lang, func) {
            if (!Brekeke['UAWMsgs_' + lang]) {
              setTimeout(function () {
                var existing = document.getElementsByTagName('script')[0]
                var script = document.createElement('script')
                script.async = 1
                script.setAttribute('charset', 'utf-8')
                script.src =
                  uawMsgs.current_script_url.DIR +
                  '../../brekeke/uawmsgs/uawmsgs_' +
                  lang +
                  '.js' +
                  uawMsgs.current_script_url.QUERY
                script.type = 'text/javascript'
                existing.parentNode.insertBefore(script, existing)
              }, 0)
            }
            var tryCount = 0
            var f = function f() {
              if (!Brekeke['UAWMsgs_' + lang] && tryCount < 30) {
                tryCount++
                setTimeout(f, 100)
              } else {
                var msgs = Brekeke['UAWMsgs_' + lang] // current language
                if (!msgs) {
                  msgs = Brekeke.UAWMsgs_default // default language
                  lang = 'default'
                }
                for (var key in msgs) {
                  uawMsgs[key] = msgs[key]
                }
                if (
                  uawMsgs.moments &&
                  typeof uawMsgs.moments.forEach === 'function' &&
                  uawMsgs.CMN_MOMENT_LOCALE
                ) {
                  uawMsgs.moments.forEach(function (moment) {
                    return (
                      typeof moment.locale === 'function' &&
                      moment.locale(uawMsgs.CMN_MOMENT_LOCALE)
                    )
                  })
                }
                if (func) {
                  func(lang)
                }
              }
            }
            f()
          },
        }
        for (var key in Brekeke.UAWMsgs_default) {
          // default language
          uawMsgs[key] = Brekeke.UAWMsgs_default[key]
        }

        exports.default = uawMsgs
      },
      { '../../../../web/js/brekeke/uawmsgs/uawmsgs_default.js': 396 },
    ],
    394: [
      function (require, module, exports) {
        'use strict'

        Object.defineProperty(exports, '__esModule', {
          value: true,
        })
        var Brekeke = (window.Brekeke = window.Brekeke || {})
        var UcUiStore = (Brekeke.UcUiStore =
          Brekeke.UcUiStore ||
          require('../../../../web/js/brekeke/ucuistore/ucuistore.js'))
        exports.default = Brekeke.UcUiStore.UiConstants
      },
      { '../../../../web/js/brekeke/ucuistore/ucuistore.js': 399 },
    ],
    395: [
      function (require, module, exports) {
        ;(function (root, factory) {
          if (typeof module === 'object' && module.exports) {
            module.exports = factory({})
          } else {
            root.Brekeke = root.Brekeke || {}
            root.Brekeke.net = factory(root.Brekeke)
          }
        })(this, function (Brekeke) {
          Brekeke.net = {
            ERROR_TIMEOUT: -1,
            ERROR_DISCONNECTED: -2,
            ERROR_NOT_OPENED: -3,
            ERROR_UNKNOWN_RESPONSE: -4,
            WebSocket: window.WebSocket || window.MozWebSocket,
            createJsonRpc: function (websocketURL, ajaxURL) {
              return (
                this.createJsonRpcOverWebSocket(websocketURL) ||
                this.createJsonRpcOverAjax(ajaxURL)
              )
            },
            getJsonRpcPrototype: function () {
              if (Brekeke.net.prototype_jsonrpc) {
                return Brekeke.net.prototype_jsonrpc
              }
              var rpc = {
                timeoutMethod: 10000,
                method_id: 1,
                debugLevel: 0, // 0: release, 1:dev, 2:debug for all messages.
                timeLastReceived: 0,
                call: function (method, params, funcOK, funcError, returnObj) {
                  if (funcOK) {
                    var mid = this.method_id++
                    mid = mid.toString()
                    var obj_send = {
                      jsonrpc: '2.0',
                      method: method,
                      params: params,
                      id: mid,
                    }
                    this._sendMethod(
                      obj_send,
                      mid,
                      funcOK,
                      funcError,
                      returnObj,
                    )
                  } else {
                    var obj_send = {
                      jsonrpc: '2.0',
                      method: method,
                      params: params,
                    }
                    this._sendNotification(obj_send)
                  }
                },
                printDebug: function (str) {
                  if (this.debugLevel >= 2) {
                    if (typeof str === 'object') {
                      str = JSON.stringify(str)
                    }
                    console.debug(new Date() + ' [debug] ' + str)
                  }
                },
                printError: function (str) {
                  if (this.debugLevel >= 1) {
                    if (typeof str === 'object') {
                      str = JSON.stringify(str)
                    }
                    console.debug(new Date() + ' [error] ' + str)
                  }
                },
                _sendMethod: function (
                  obj_send,
                  mid,
                  funcOK,
                  funcError,
                  returnObj,
                ) {
                  if (!this.isOpen()) {
                    funcError(
                      {
                        code: Brekeke.net.ERROR_NOT_OPENED,
                        message: 'Not Opened',
                      },
                      returnObj,
                    )
                    return
                  }
                  this.methods_sending[mid] = {
                    funcOK: funcOK,
                    funcError: funcError,
                    returnObj: returnObj,
                    obj_send: obj_send,
                  }
                  var s = JSON.stringify(obj_send)
                  this.printDebug('JsonRpcBase._sendMethod:' + s)
                  this.send(s)
                  var t = this
                  setTimeout(function () {
                    //                    t.printError("JsonRpcBase._sendMethod: timeout " + mid);
                    var m = t.methods_sending[mid]
                    if (m) {
                      t.printError('JsonRpcBase._sendMethod 2: timeout ' + mid)
                      m.funcError(
                        {
                          code: Brekeke.net.ERROR_TIMEOUT,
                          message: 'Response Timeout',
                        },
                        m.returnObj,
                      )
                      delete t.methods_sending[mid]
                    }
                  }, t.timeoutMethod)
                },
                _sendNotification: function (obj_send) {
                  var s = JSON.stringify(obj_send)
                  this.printDebug('JsonRpcBase._sendNotify:' + s)
                  this.send(s)
                },
                _recvOneMsg: function (msg) {
                  if (msg.id) {
                    //
                    if (msg.method) {
                      // method
                      var ret = this._recvMethod(msg.method, msg.params)
                      var resmsg = {
                        jsonrpc: '2.0',
                        result: ret,
                        id: msg.id,
                      }
                      var sresmsg = JSON.stringify(resmsg)
                      this.printDebug(
                        'JsonRpcBase._recvOneMsg.  method response:' + sresmsg,
                      )
                      this.send(sresmsg)
                    } else {
                      // response
                      var m = this.methods_sending[msg.id]
                      if (m) {
                        if (msg.result) {
                          m.funcOK(msg.result, m.returnObj)
                        } else if (msg.error) {
                          m.funcError(msg.error, m.returnObj)
                        }
                        delete this.methods_sending[msg.id]
                      } else {
                        this.printError(
                          'JsonRpcBase.recvOneMsg: no method data found. already timeout? ',
                          msg,
                        )
                      }
                    }
                  } else {
                    // got notify
                    if (msg.method) {
                      this._recvNotification(msg.method, msg.params)
                    } else {
                    }
                  }
                },
                _recv: function (msg) {
                  this.timeLastReceived = new Date().getTime()
                  this.printDebug(msg)
                  if (msg instanceof Array) {
                    for (var i = 0; i < msg.length; i++) {
                      this._recvOneMsg(msg[i])
                    }
                  } else {
                    this._recvOneMsg(msg)
                  }
                },
                _recvNotification: function (method, params) {
                  var hobj = this._getHandlerObject()
                  var handler = hobj[method]
                  if (handler) {
                    handler.apply(hobj, [params])
                    //handler(params, false);
                  } else {
                    this._getHandlerObject().handler(method, params, false)
                  }
                },
                _recvMethod: function (method, params) {
                  var hobj = this._getHandlerObject()
                  var handler = hobj[method]
                  if (handler) {
                    return handler.apply(hobj, [params, true])
                    //return handler(params, true);
                  } else {
                    return hobj.handler(method, params, true)
                  }
                },
                //
                handler: function (msg) {
                  this.printError('no handler found. ' + msg)
                },
                onClose: function () {},
                _onClose: function (e) {
                  if (this.closed) {
                    return
                  }
                  this.closed = true
                  this.onClose(e)
                },
                onOpen: function () {},
                _onOpen: function () {
                  this.onOpen()
                },
                send: function () {},
                setHandlerObject: function (h) {
                  this.handlerObject = h
                },
                _getHandlerObject: function () {
                  return this.handlerObject ? this.handlerObject : this
                },
                _canOpen: function () {
                  if (this.closed) {
                    this.printDebug('Already Closed.')
                    return false
                  }
                  if (this.methods_sending) {
                    this.printDebug('Already Opened.')
                    return false
                  }
                  this.methods_sending = {}
                  this.closing = false
                  this.closed = false
                  return true
                },
                setUrl: function (url) {
                  this.url = url
                },
                onError: function (e) {
                  console.log('error', e)
                },
              }
              Brekeke.net.prototype_jsonrpc = rpc
              return Brekeke.net.prototype_jsonrpc
            },
            getJsonRpcOverWebSocketPrototype: function () {
              if (!Brekeke.net.WebSocket) {
                return null
              }
              if (Brekeke.net.prototype_jsonrpc_websocket) {
                return Brekeke.net.prototype_jsonrpc_websocket
              }
              var rpc = Object.create(Brekeke.net.getJsonRpcPrototype())
              rpc.isOpen = function () {
                this.printDebug(
                  'JsonRpcOverWebSocket.isOpen() rpc.socket.readyState=' +
                    this.socket.readyState,
                )
                return this.socket.readyState === 1
              }
              rpc.send = function (msg) {
                this.socket.send(msg)
              }
              rpc.open = function () {
                if (!this._canOpen()) {
                  throw new Error('Failed to open')
                }
                var socket = new WebSocket(this.url)
                this.socket = socket
                var t = this
                socket.onopen = function (e) {
                  t.printDebug('JsonRpcOverWebSocket.open() onopen:' + e)
                  t._onOpen()
                }
                socket.onclose = function (e) {
                  for (var id in t.methods_sending) {
                    var m = t.methods_sending[id]
                    m.funcError(
                      {
                        code: Brekeke.net.ERROR_DISCONNECTED,
                        message: 'Disconnected',
                      },
                      m.returnObj,
                    )
                  }
                  delete this.methods_sending
                  t.methods_sending = {}
                  t._onClose(e)
                }
                socket.onmessage = function (e) {
                  if (!e) {
                    return
                  }
                  if (!e.data || e.data.length == 0) {
                    return
                  }
                  var msg = JSON.parse(e.data)
                  t._recv(msg)
                }
                socket.onerror = function (e) {
                  t.printDebug(e)
                  rpc.onerror(e)
                }
              }
              rpc.close = function () {
                if (!this.socket) {
                  return
                }
                this.socket.close()
                this.socket = null
              }
              rpc.onerror = function (e) {
                this.onError(e)
              }
              Brekeke.net.prototype_jsonrpc_websocket = rpc
              return Brekeke.net.prototype_jsonrpc_websocket
            },
            createXhr: function () {
              var MSXML_PROGID = [
                'Microsoft.XMLHTTP',
                'MSXML2.XMLHTTP.3.0',
                'MSXML2.XMLHTTP',
              ]
              var xhr
              try {
                xhr = new XMLHttpRequest()
                //	    xhr = new XMLHttpRequest() || new ActiveXObject("Msxml2.XMLHTTP")
                //		    || new ActiveXObject("Microsoft.XMLHTTP");
              } catch (e) {
                for (var i = 0; i < MSXML_PROGID.length; i++) {
                  try {
                    xhr = new ActiveXObject(MSXML_PROGID[i])
                    break
                  } catch (e1) {}
                }
              } finally {
                if (!xhr) {
                  throw new Error('Could not create Xhr object.')
                }
                if (xhr.overrideMimeType) {
                  xhr.overrideMimeType('text/xml')
                }
                //	    xhr.withCredentials = true; //must be opened.
                return xhr
              }
            },
            getJsonRpcOverAjaxPrototype: function () {
              if (Brekeke.net.prototype_jsonrpc_ajax) {
                return Brekeke.net.prototype_jsonrpc_ajax
              }
              var rpc = Object.create(Brekeke.net.getJsonRpcPrototype())
              rpc.open = function () {
                if (!this._canOpen()) {
                  throw new Error('Failed to open')
                }
                this.polling()
                return true
              }
              rpc.isOpen = function () {
                //            this.printDebug("JsonRpcOverAjax.isOpen()");
                return this.methods_sending && !this.closing && !this.closed
              }

              rpc.polling = function () {
                if (this.closing) {
                  return
                }
                var xhr = Brekeke.net.createXhr()
                var t = this
                xhr.onreadystatechange = function () {
                  if (xhr.readyState >= 4) {
                    if (xhr.status === 200) {
                      if (xhr.responseText) {
                        if (!t.bOpened) {
                          t.bOpened = true
                          t._onOpen()
                        }
                        t._recv(JSON.parse(xhr.responseText))
                      }
                      t.polling()
                    } else if (xhr.status === 500) {
                      try {
                        throw {
                          value: 500,
                          message: 'Internal Server Error.()', //"Internal Server Error",
                          toString: function () {
                            return this.value + this.message
                          },
                        }
                      } catch (e) {
                        t.onError(e)
                      }
                      t._onClose(xhr.status)
                    } else {
                      t._onClose(xhr.status)
                    }
                    t.xhr_r = null
                  } else {
                  }
                }
                xhr.open('POST', this.url, true)
                xhr.withCredentials = true
                xhr.setRequestHeader('Content-Type', 'text/plain')
                xhr.send()
                this.xhr_r = xhr
              }
              rpc.send = function (msg) {
                if (this.closing || this.closed) {
                  return
                }
                var xhr = Brekeke.net.createXhr()
                var t = this
                xhr.onreadystatechange = function () {
                  if (xhr.readyState >= 4) {
                    if (xhr.status === 200) {
                      if (xhr.responseText) {
                        t._recv(JSON.parse(xhr.responseText))
                      }
                    } else {
                      t._onClose(xhr.status)
                    }
                  } else {
                  }
                }
                xhr.open('POST', this.url, true)
                xhr.withCredentials = true
                if (msg) {
                  xhr.setRequestHeader('Content-Type', 'text/plain')
                }
                xhr.send(msg)
              }
              rpc.close = function () {
                this.closing = true
                if (this.xhr_r) {
                  this.xhr_r.abort()
                }
                this._onClose()
              }
              rpc.onerror = function (e) {
                this.onError(e)
              }
              Brekeke.net.prototype_jsonrpc_ajax = rpc
              return Brekeke.net.prototype_jsonrpc_ajax
            },
            createJsonRpcOverWebSocket: function (url) {
              var r = Object.create(
                Brekeke.net.getJsonRpcOverWebSocketPrototype(),
              )
              r.setUrl(url)
              return r
            },
            createJsonRpcOverAjax: function (url) {
              var r = Object.create(Brekeke.net.getJsonRpcOverAjaxPrototype())
              r.setUrl(url)
              return r
            },
          }
          return Brekeke.net
        })
      },
      {},
    ],
    396: [
      function (require, module, exports) {
        ;(function (root, factory) {
          if (typeof module === 'object' && module.exports) {
            module.exports = factory()
          } else {
            root.Brekeke = root.Brekeke || {}
            root.Brekeke.UAWMsgs = root.Brekeke.UAWMsgs_default = factory()
          }
        })(this, function () {
          return {
            CMN_OK: 'OK',
            CMN_CANCEL: 'Cancel',
            CMN_ALERT: 'Alert',
            CMN_SAVE: 'Save',
            CMN_CLOSE: 'Close',
            CMN_ON: 'on',
            CMN_OFF: 'off',
            CMN_OWN_STATUS_STRING_OFFLINE: 'Offline',
            CMN_OWN_STATUS_STRING_INVISIBLE: 'Invisible',
            CMN_OWN_STATUS_STRING_AVAILABLE: 'Available',
            CMN_OWN_STATUS_STRING_IDLE: 'Idle',
            CMN_OWN_STATUS_STRING_BUSY: 'Busy',
            CMN_FORMAT_DATE: '{3} {2}', // {0}: year, {1}: month, {2}: day, {3}: month string
            CMN_FORMAT_DATE_WITH_YEAR: '{3} {2} {0}',
            CMN_FORMAT_DATE_WITH_DOW: '{4}, {3} {2}',
            CMN_FORMAT_DATE_WITH_DOW_YEAR: '{4}, {3} {2} {0}',
            CMN_MONTH_STR_01: 'Jan',
            CMN_MONTH_STR_02: 'Feb',
            CMN_MONTH_STR_03: 'Mar',
            CMN_MONTH_STR_04: 'Apr',
            CMN_MONTH_STR_05: 'May',
            CMN_MONTH_STR_06: 'Jun',
            CMN_MONTH_STR_07: 'Jul',
            CMN_MONTH_STR_08: 'Aug',
            CMN_MONTH_STR_09: 'Sep',
            CMN_MONTH_STR_10: 'Oct',
            CMN_MONTH_STR_11: 'Nov',
            CMN_MONTH_STR_12: 'Dec',
            CMN_DOW_STR_00: 'Sun',
            CMN_DOW_STR_01: 'Mon',
            CMN_DOW_STR_02: 'Tue',
            CMN_DOW_STR_03: 'Wed',
            CMN_DOW_STR_04: 'Thu',
            CMN_DOW_STR_05: 'Fri',
            CMN_DOW_STR_06: 'Sat',
            CMN_TODAY: 'today',
            CMN_YESTERDAY: 'yesterday',
            CMN_FORMAT_TIME: '{1}:{2} {3}', // {0}: hour (0 - 23), {1}: hour (1 - 12), {2}: minute, {3}: AM/PM string
            CMN_FORMAT_TIME_WITH_SECOND: '{1}:{2}:{4} {3}', // {4}: second
            CMN_FORMAT_HOURS_AGO: '{0}H',
            CMN_FORMAT_MINUTES_AGO: '{0}M',
            CMN_AM_STR: 'AM',
            CMN_PM_STR: 'PM',
            CMN_FILESIZE_BYTE: '{0}B',
            CMN_FILESIZE_BYTES: '{0}B',
            CMN_FILESIZE_GIGABYTES: '{0}GB',
            CMN_FILESIZE_KILOBYTES: '{0}KB',
            CMN_FILESIZE_MEGABYTES: '{0}MB',
            CMN_LANGUAGE_THIS: 'English',
            CMN_LANGUAGE_EN: 'English',
            CMN_LANGUAGE_IT: 'Italian',
            CMN_LANGUAGE_JA: 'Japanese',
            CMN_LANGUAGE_ZH: 'Chinese',
            CMN_MOMENT_LOCALE: 'en',

            MSG_ABOUT_DIALOG_TITLE: 'About {0}',
            MSG_CALL_DEVICE_WARNING:
              'Please check for problems of the microphone or the camera.',
            MSG_CALL_MISSED_NOTIFICATION: 'Missed call',
            MSG_CALL_NETWORK_WARNING: 'Please check for network problems.',
            MSG_CALL_NOTIFICATION: 'Voice call',
            MSG_CALL_NOTIFICATION_WITH_VIDEO: 'Video call',
            MSG_CALL_RTC_ANSWER_ERROR: 'Failed to answer call.',
            MSG_CALL_RTC_CAMERA_ERROR: 'Failed to make video call.',
            MSG_CALL_RTC_ERROR: 'Failed to make call.',
            MSG_CALL_RTC_MICROPHONE_ERROR: 'Failed to call.',
            MSG_CHAT_CLOSED: 'The chat is closed.',
            MSG_CHAT_OFFLINE: 'The connection has been offline.',
            MSG_CLOSE_CHAT_CONFIRM:
              'Are you sure you want to leave the conference?',
            MSG_CLOSE_CHAT_CONFIRM_TITLE: 'Leave conference',
            MSG_CLOSE_TALKING_WEBCHAT_CONFIRM:
              'Are you sure you want to end the chat?',
            MSG_CLOSE_TALKING_WEBCHAT_CONFIRM_TITLE: 'End chat',
            MSG_CONFERENCE_INVITED: '{0} is inviting you to the conference.',
            MSG_CONFERENCE_INVITE_SUBJECT_REQUIRED: 'This field is required.',
            MSG_CONFERENCE_INVITING: 'Inviting {0} to the conference.',
            MSG_CONFERENCE_MEMBER_JOINED: '{0} has joined the chat.',
            MSG_CONFERENCE_MEMBER_LEFT: '{0} has left the chat.',
            MSG_CONFERENCE_MEMBER_OFFLINE: '{0} is offline now.',
            MSG_CONFERENCE_MEMBER_ONLINE: '{0} is online now.',
            MSG_CONFERENCE_ME_JOINED: 'You have joined the chat.',
            MSG_CONFERENCE_ME_LEFT: 'You have left the chat.',
            MSG_CONFERENCE_REPLY: 'Replying...',
            MSG_CREATE_CONFERENCE_DIALOG_TITLE: 'Create a conference room',
            MSG_CREATE_CONFERENCE_FAILED: 'Failed to create conference.',
            MSG_CREATE_GROUP_DIALOG_PLACEHOLDER: 'Group name',
            MSG_CREATE_GROUP_DIALOG_TITLE: 'Create a new group',
            MSG_CREATE_OUTGOING_AMBIGUOUS: 'Select a webchat service.',
            MSG_DROP_TALKING_WEBCHAT_CONFIRM:
              'Are you sure you want to end the chat?',
            MSG_DROP_TALKING_WEBCHAT_CONFIRM_TITLE: 'End chat',
            MSG_EDIT_EMAIL_DIALOG_TITLE: 'Change email address',
            MSG_EDIT_EMAIL_FAILED:
              'Sorry, a server error ({0}) occurred. Please try again later.',
            MSG_EDIT_EMAIL_MESSAGE: 'Enter your email address.',
            MSG_END_CHAT_CONFIRM: 'Are you sure you want to end the chat?',
            MSG_END_CHAT_CONFIRM_TITLE: 'End chat',
            MSG_ERROR_POPUP_BLOCKED: 'UC window is possible blocked.',
            MSG_EXTERNAL_CALL_DIALOG_PLACEHOLDER: 'Phone number',
            MSG_EXTERNAL_CALL_DIALOG_TITLE: 'Open an external call panel',
            MSG_FILE_CANCEL_CONFIRM:
              'Are you sure you want to stop transferring?',
            MSG_FILE_CANCEL_CONFIRM_TITLE: 'File transferring',
            MSG_FILE_STATUS_ERROR: 'Error. (Failed to transfer file.)',
            MSG_INCOMINGBAR_MESSAGE: 'Incoming call from {0}...',
            MSG_INCOMINGBAR_MESSAGE_WITH_VIDEO:
              'Incoming call from {0}... (Video)',
            MSG_INVITE_TO_CONFERENCE_DIALOG_TITLE: 'Invite to conference',
            MSG_INVITE_TO_CONFERENCE_FAILED: 'Failed to invite to conference.',
            MSG_JOIN_CONFERENCE_ERROR: 'Error. (Failed to join conference.)',
            MSG_JOIN_CONFERENCE_FAILED: 'Failed to join conference.',
            MSG_KICK_TALKING_WEBCHAT_CONFIRM:
              'Are you sure you want to end the chat?',
            MSG_KICK_TALKING_WEBCHAT_CONFIRM_TITLE: 'End chat',
            MSG_LEAVE_CONFERENCE_CONFIRM:
              'Are you sure you want to leave the conference?',
            MSG_LEAVE_CONFERENCE_CONFIRM_TITLE: 'Leave conference',
            MSG_LEAVE_CONFERENCE_ERROR: 'Error. (Failed to leave conference.)',
            MSG_LEAVE_CONFERENCE_FAILED: 'Failed to leave conference.',
            MSG_MESSAGEBAR_CONNECTING: 'Connecting...',
            MSG_MESSAGEBAR_DISCONNECTED:
              'You have been disconnected from the server.',
            MSG_MESSAGEBAR_MAINTENANCE:
              'The service is stopped now due to system maintenance.',
            MSG_MESSAGEBAR_MFA:
              'You have been disconnected from the server. Please sign in.',
            MSG_MESSAGEBAR_PLEONASTIC:
              'You have been signed out because you signed in at another location.',
            MSG_MESSAGEBAR_RETRY: 'Retrying in {0} sec.',
            MSG_MFA_CODE: 'Verification Code',
            MSG_MFA_ERROR:
              'Invalid verification code. Please check again or get another code.',
            MSG_MFA_EXPLANATION:
              'We sent a 6-digit code to your email. Please copy and paste here to verify your account.',
            MSG_MFA_HINT: "Can't find your code?",
            MSG_MFA_RESEND: 'Resend a new code',
            MSG_MFA_RESENT:
              'A new verification code was resent. Please check email and try again.',
            MSG_MFA_TITLE: '2-Step Verification',
            MSG_MFA_VERIFY: 'VERIFY',
            MSG_OUTGOING_WEBCHAT_DIALOG_TITLE:
              'Open a new outgoing webchat panel',
            MSG_PREFERENCE_AUDIO_SOURCE_TESTING:
              'Getting an access to the microphone now...',
            MSG_PREFERENCE_CHAT_BG_COLOR_EDIT_DIALOG_TITLE:
              'Chat background colors',
            MSG_PREFERENCE_LAMP_TYPE_TEST_NOTIFICATION_BODY:
              'Notification type test',
            MSG_PREFERENCE_LAMP_TYPE_TEST_NOTIFICATION_TITLE: 'Test',
            MSG_PREFERENCE_LOAD_FAILED: 'Failed to load preferences.',
            MSG_PREFERENCE_PROFILE_IMAGE_UPLOAD_FAILED:
              'Failed to upload profile image.',
            MSG_PREFERENCE_SAVE_CALLING: 'During a call.',
            MSG_PREFERENCE_SAVE_FAILED: 'Failed to save preferences.',
            MSG_PREFERENCE_SAVE_SUCCESSFUL: 'Successfully saved.',
            MSG_PREFERENCE_SAVE_TRANSFERRING: 'File transferring.',
            MSG_RECEIVE_MORE_TEXTS_FAILED: 'Failed to receive messages.',
            MSG_RECEIVE_MORE_UNREAD_TEXTS_FAILED:
              'Failed to receive unread messages.',
            MSG_REMOVE_GROUP_CONFIRM:
              'Are you sure you want to remove the group?',
            MSG_REMOVE_GROUP_CONFIRM_TITLE: 'Remove group',
            MSG_REPLY_MANUAL_CONTINUATION_DIALOG_TITLE: 'Reentry code',
            MSG_REPORT_MAIL_DIALOG_TITLE: 'Email transcript',
            MSG_REPORT_MAIL_FAILED:
              'Sorry, a server error ({0}) occurred. Please try again later.',
            MSG_REPORT_MAIL_LATER: 'Email will be sent when the chat ends.',
            MSG_REPORT_MAIL_SENT: 'Email has been sent.',
            MSG_SEARCH_TOPICS_FAILED: 'Failed to search.',
            MSG_SEND_BROADCAST_TEXT_DIALOG_TITLE: 'Send a broadcast message',
            MSG_SEND_FILE_ERROR: 'Error. (Failed to send file.)',
            MSG_SEND_FILE_MODAL_TITLE: 'Send file',
            MSG_SEND_TEXT_CONFIRM: 'Are you sure you want to send the message?',
            MSG_SEND_TEXT_CONFIRM_TITLE: 'Send text',
            MSG_SEND_TEXT_ERROR: 'Error. (Failed to send your message.)',
            MSG_SIGN_IN_AUTHENTICATION_FAILED:
              'Failed to sign in. Please use the correct password.',
            MSG_SIGN_IN_FAILED: 'Error.',
            MSG_SIGN_IN_IP_NOT_ALLOWED: 'Access not allowed.',
            MSG_SIGN_IN_OVER_MAX_LOGIN_COUNT:
              'You have exceeded the maximum count of login users.',
            MSG_SIGN_IN_SIGN_IN_FAILED: 'Failed to sign in.',
            MSG_SIGN_IN_VALIDATION_ERROR_FORM: 'Please fill out the form.',
            MSG_SIGN_IN_VERSION_INVALID: 'Please reload the page.',
            MSG_SIGN_OUT_CONFIRM: 'Are you sure you want to sign out?',
            MSG_SIGN_OUT_CONFIRM_TITLE: 'Sign out',
            MSG_STATUSBAR_MESSAGE_HEADER: 'Your status:',
            MSG_STATUS_DISPLAY_DIALOG_TITLE: 'Status note',
            MSG_TOO_LONG: 'Message too long.',
            MSG_TYPING: '{0} is typing...',
            MSG_UNKNOWN_CONTENTS: 'Unknown contents',
            MSG_USER_LIST_DIALOG_TITLE: 'Edit the user list',
            MSG_WEBRTC_UNAVAILABLE_1: 'You have no Phone ID of WebRTC.',
            MSG_WEBRTC_UNAVAILABLE_2: 'Would you like to add a new Phone ID?',

            TAB_HISTORYDETAIL: 'History - ',
            TAB_HISTORYSUMMARIES: 'History',
            TAB_PREFERENCE: 'Preferences',
            TAB_WEBCHATQUEUE: 'Webchat',

            LBL_BROADCAST_BUDDIES: 'Members',
            LBL_BROADCAST_GROUP: 'Group',
            LBL_BROADCAST_GROUP_NONE: '(None)',
            LBL_BROADCAST_MARK_CHECK_CAPTION: 'Mark',
            LBL_BROADCAST_MARK_ICON_TOOLTIP: 'Broadcast',
            LBL_BROADCAST_TEXT_TEXTAREA_PLACEHOLDER: 'Enter message here.',
            LBL_BUDDYLIST_BUTON_TOOLTIP: 'Agents',
            LBL_CALL_ANSWER_BUTTON_TOOLTIP: 'Answer',
            LBL_CALL_ANSWER_WITH_VIDEO_BUTTON_TOOLTIP: 'Answer with video',
            LBL_CALL_CAMERA_CHANGE: 'Camera',
            LBL_CALL_CAMERA_MENU_BUTTON: 'Camera',
            LBL_CALL_CAMERA_MENU_BUTTON_TOOLTIP: 'Camera menu',
            LBL_CALL_CAMERA_MUTE_BUTTON: 'Video',
            LBL_CALL_CAMERA_MUTE_BUTTON_TOOLTIP: 'Stop video',
            LBL_CALL_CAMERA_UNMUTE_BUTTON: 'Video',
            LBL_CALL_CAMERA_UNMUTE_BUTTON_TOOLTIP: 'Start video',
            LBL_CALL_DECLINE_BUTTON_TOOLTIP: 'Decline',
            LBL_CALL_DEVICE_ALL: 'All',
            LBL_CALL_DEVICE_AUTO: 'Auto',
            LBL_CALL_DEVICE_SOUND_ONLY: 'Sound only',
            LBL_CALL_DTMF_MENU_BUTTON: 'DTMF',
            LBL_CALL_DTMF_MENU_BUTTON_TOOLTIP: 'DTMF',
            LBL_CALL_FULLSCREEN_BUTTON: 'Fullscreen',
            LBL_CALL_FULLSCREEN_BUTTON_TOOLTIP: 'Fullscreen',
            LBL_CALL_HANG_UP_BUTTON_TOOLTIP: 'Hang up',
            LBL_CALL_HOLD_BUTTON: 'Hold',
            LBL_CALL_HOLD_BUTTON_TOOLTIP: 'Hold',
            LBL_CALL_INCOMING: 'Incoming call...',
            LBL_CALL_INCOMING_WITH_VIDEO: 'Incoming call... (Video)',
            LBL_CALL_MENU_BUTTON_TOOLTIP: 'Call options',
            LBL_CALL_MICROPHONE_CHANGE: 'Microphone',
            LBL_CALL_MICROPHONE_MENU_BUTTON: 'Microphone',
            LBL_CALL_MICROPHONE_MENU_BUTTON_TOOLTIP: 'Microphone menu',
            LBL_CALL_MICROPHONE_MUTE_BUTTON: 'Mute',
            LBL_CALL_MICROPHONE_MUTE_BUTTON_TOOLTIP: 'Mute microphone',
            LBL_CALL_MICROPHONE_UNMUTE_BUTTON: 'Unmute',
            LBL_CALL_MICROPHONE_UNMUTE_BUTTON_TOOLTIP: 'Unmute microphone',
            LBL_CALL_MUTE_CAM_BUTTON_TOOLTIP: 'Mute camera',
            LBL_CALL_MUTE_MIC_BUTTON_TOOLTIP: 'Mute microphone',
            LBL_CALL_OUTGOING: 'Outgoing call...',
            LBL_CALL_RTC_ERROR_CHECK: 'Reset the device setting',
            LBL_CALL_SCREEN_BUTTON_TOOLTIP: 'Start screen sharing',
            LBL_CALL_SCREEN_END_BUTTON_TOOLTIP: 'Stop screen sharing',
            LBL_CALL_SPEAKER_CHANGE: 'Speaker',
            LBL_CALL_TRANSFER_CANCEL_BUTTON: 'Cancel',
            LBL_CALL_TRANSFER_CANCEL_BUTTON_TOOLTIP: 'Cancel',
            LBL_CALL_TRANSFER_COMPLETE_BUTTON: 'Transfer',
            LBL_CALL_TRANSFER_COMPLETE_BUTTON_TOOLTIP: 'Transfer',
            LBL_CALL_TRANSFER_CONFERENCE_BUTTON: 'Conference',
            LBL_CALL_TRANSFER_CONFERENCE_BUTTON_TOOLTIP: 'Conference',
            LBL_CALL_TRANSFER_MENU_BUTTON: 'Transfer',
            LBL_CALL_TRANSFER_MENU_BUTTON_TOOLTIP: 'Transfer',
            LBL_CALL_TRANSFER_TARGET_BUTTON: 'Call',
            LBL_CALL_TRANSFER_TARGET_BUTTON_TOOLTIP: 'Call',
            LBL_CALL_TRANSFER_USER_BUTTON: 'Call',
            LBL_CALL_TRANSFER_USER_BUTTON_TOOLTIP: 'Call',
            LBL_CALL_UNHOLD_BUTTON: 'Unhold',
            LBL_CALL_UNHOLD_BUTTON_TOOLTIP: 'Unhold',
            LBL_CALL_VIDEO_OPTIONS_HIDE_MENU: 'Do not display the menu',
            LBL_CALL_VIDEO_REFRESH_BUTTON_TOOLTIP: 'Refresh video',
            LBL_CHAT_AREA_SCROLL_TO_BOTTOM_BUTTON_TOOLTIP: 'Scroll down',
            LBL_CHAT_BROADCAST_MARK_TOOLTIP: 'Broadcast',
            LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING: 'Call',
            LBL_CHAT_CALL_RESULT_DIRECTION_INCOMING_MISSED: 'Missed call',
            LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING: 'Call',
            LBL_CHAT_CALL_RESULT_DIRECTION_OUTGOING_MISSED: '',
            LBL_CHAT_CALL_RESULT_LENGTH_MIN: '{0} min {1} sec',
            LBL_CHAT_CALL_RESULT_LENGTH_SEC: '{0} sec',
            LBL_CHAT_FILE_CANCEL_BUTTON_TOOLTIP: 'Stop file transferring',
            LBL_CHAT_FILE_ICON_TOOLTIP: 'File',
            LBL_CHAT_FILE_INLINE_IMAGE_TOOLTIP: 'Display image',
            LBL_CHAT_FILE_FILE_OPEN_IN_NEW_WINDOW_BUTTON_TOOLTIP:
              'Open image in new tab',
            LBL_CHAT_LIST_OPEN_DETAIL_LINK_CONTENT: 'Open older messages',
            LBL_CHAT_OPTION_BUTTONS_REPLY_WEBCHAT_BUTTON: 'Reply',
            LBL_CHAT_OPTION_BUTTONS_REPLY_WEBCHAT_BUTTON_TOOLTIP: 'Reply',
            LBL_CHAT_SHOWMORELINK_CONTENT: 'Show more messages',
            LBL_CHAT_UNREAD_CONTENT: 'Unread',
            LBL_CONFERENCE_INVITE_BUDDIES: 'Members',
            LBL_CONFERENCE_INVITE_GROUP: 'Group',
            LBL_CONFERENCE_INVITE_GROUP_NONE: '(None)',
            LBL_CONFERENCE_INVITE_SUBJECT: 'Title',
            LBL_CONFERENCE_INVITE_SUBJECT_NONE: '(No title)',
            LBL_CONFERENCE_JOIN_BUTTON: 'Join',
            LBL_CONFERENCE_JOIN_BUTTON_TOOLTIP: 'Join conference',
            LBL_CONFERENCE_REJECT_BUTTON: 'Decline',
            LBL_CONFERENCE_REJECT_BUTTON_TOOLTIP: 'Decline',
            LBL_CONFERENCE_REJOIN_BUTTON: 'Rejoin',
            LBL_CONFERENCE_REJOIN_BUTTON_TOOLTIP: 'Rejoin conference',
            LBL_CUSTOMER_CHAT_RECONNECT_BUTTON: 'Reconnect',
            LBL_CUSTOMER_CHAT_RECONNECT_BUTTON_TOOLTIP: 'Reconnect',
            LBL_DIALOG_CLOSE_BUTTON_TOOLTIP: 'Close',
            LBL_DIALOG_HIDE_BUTTON_TOOLTIP: 'Hide',
            LBL_EDITOR_END_CHAT_LINK: 'End chat',
            LBL_EDITOR_FILE_LINK: 'Send file',
            LBL_EDITOR_HISTORY_LINK: 'History search',
            LBL_EDITOR_INVITE_LINK: 'Invite to conference',
            LBL_EDITOR_KICK_LINK: 'End this chat',
            LBL_EDITOR_LEAVE_LINK: 'Leave conference',
            LBL_EDITOR_LEAVE_REJOINABLE_BUTTON: 'OK (Rejoinable)',
            LBL_EDITOR_MAKE_CALL_LINK: 'Make call',
            LBL_EDITOR_OPTIONS_LINK: 'Options',
            LBL_EDITOR_REPLY_LINK: 'Reply',
            LBL_EDITOR_REPLY_MANUAL_CONTINUATION_MENU: 'Webchat reentry',
            LBL_EDITOR_REPORT_MAIL_LINK: 'Email transcript',
            LBL_EDITOR_SCREEN_LINK: 'Share screen',
            LBL_EDITOR_SEND_BUTTON: 'Send',
            LBL_EDITOR_SEND_BUTTON_TOOLTIP: 'Send',
            LBL_EDITOR_SEND_FILE_LINK: 'Send file',
            LBL_EDITOR_SUBJECT_PLACEHOLDER: 'Subject',
            LBL_EDITOR_TEXTAREA_PLACEHOLDER: 'Enter message here.',
            LBL_EDITOR_VIDEO_LINK: 'Video call',
            LBL_EDITOR_VOICE_LINK: 'Voice call',
            LBL_EXTERNAL_CALL_DIALOG_CALL: 'Voice call',
            LBL_EXTERNAL_CALL_DIALOG_OPEN: 'Open',
            LBL_HISTORY_DATE: 'Date',
            LBL_HISTORY_NO_RESULTS: 'No results',
            LBL_HISTORY_OPEN_DETAIL_BUTTON_TOOLTIP: 'Open new panel',
            LBL_HISTORY_REPLY_BUTTON_TOOLTIP: 'Reply',
            LBL_HISTORY_REPLY_MANUAL_CONTINUATION_MENU: 'Webchat reentry',
            LBL_HISTORY_SUMMARY_CALL: 'Call',
            LBL_HISTORY_SUMMARY_FILE: 'File',
            LBL_HISTORY_SUMMARY_OBJECT: 'Object',
            LBL_HISTORY_TYPE_CONFERENCE: 'Conference',
            LBL_HISTORY_TYPE_WEBCHAT: 'Webchat',
            LBL_HISTORY_WEBCHATS: 'Webchats',
            LBL_HISTORY_YOUR_CHATS: 'Your chats',
            LBL_INCOMINGBAR_CALL_MENU_BUTTON_TOOLTIP: 'Call options',
            LBL_MESSAGEBAR_CANCEL_BUTTON: 'Stop',
            LBL_MESSAGEBAR_CANCEL_BUTTON_TOOLTIP: 'Stop',
            LBL_MESSAGEBAR_RELOAD_BUTTON: 'Reload',
            LBL_MESSAGEBAR_RELOAD_BUTTON_TOOLTIP: 'Reload',
            LBL_MESSAGEBAR_RETRY_BUTTON: 'Retry',
            LBL_MESSAGEBAR_RETRY_BUTTON_TOOLTIP: 'Retry',
            LBL_OUTGOING_WEBCHAT_DIALOG_OPEN: 'Open',
            LBL_OUTGOING_WEBCHAT_REPLY_TYPE: 'Channel',
            LBL_OUTGOING_WEBCHAT_SERVICE_ID: 'Service ID',
            LBL_OUTGOING_WEBCHAT_TEXT_PLACEHOLDER: 'Address',
            LBL_PANEL_HEADER_CHAT_BUTTON_TOOLTIP: 'Chat',
            LBL_PANEL_HEADER_CLOSE_CHAT_BUTTON_TOOLTIP: 'Leave',
            LBL_PANEL_HEADER_DOCK_BUTTON_TOOLTIP: 'Restore',
            LBL_PANEL_HEADER_FILE_BUTTON_TOOLTIP: 'Send file',
            LBL_PANEL_HEADER_HIDE_BUTTON_TOOLTIP: 'Close tab',
            LBL_PANEL_HEADER_HIDE_SUB_BUTTON_TOOLTIP: 'Close window',
            LBL_PANEL_HEADER_HISTORYDETAIL_TITLE: 'History - ',
            LBL_PANEL_HEADER_HISTORYSUMMARIES_TITLE: 'History search',
            LBL_PANEL_HEADER_HISTORY_BUTTON_TOOLTIP: 'History search',
            LBL_PANEL_HEADER_INVITE_BUTTON_TOOLTIP: 'Invite to conference',
            LBL_PANEL_HEADER_KICK_BUTTON_TOOLTIP: 'End this chat',
            LBL_PANEL_HEADER_LEAVE_BUTTON_TOOLTIP: 'Leave conference',
            LBL_PANEL_HEADER_PREFERENCE_TITLE: 'Personal preferences',
            LBL_PANEL_HEADER_REJOIN_BUTTON_TOOLTIP: 'Join',
            LBL_PANEL_HEADER_REPLY_BUTTON_TOOLTIP: 'Reply',
            LBL_PANEL_HEADER_REPLY_MANUAL_CONTINUATION_MENU: 'Webchat reentry',
            LBL_PANEL_HEADER_SCREEN_BUTTON_TOOLTIP: 'Share screen',
            LBL_PANEL_HEADER_SEARCH_BUTTON_TOOLTIP: 'Search',
            LBL_PANEL_HEADER_SEARCH_DETAIL_BUTTON_TOOLTIP: 'Advanced search',
            LBL_PANEL_HEADER_SEARCH_INPUT_PLACEHOLDER: 'Search',
            LBL_PANEL_HEADER_SEARCH_USER_ALL: 'All',
            LBL_PANEL_HEADER_UNDOCK_BUTTON_TOOLTIP: 'Show in new window',
            LBL_PANEL_HEADER_VIDEO_BUTTON_TOOLTIP: 'Video call',
            LBL_PANEL_HEADER_VOICE_BUTTON_TOOLTIP: 'Voice call',
            LBL_PREFERENCE_AUDIO_SOURCE: 'Microphone',
            LBL_PREFERENCE_AUDIO_SOURCE_STOP_BUTTON: 'Stop',
            LBL_PREFERENCE_AUDIO_SOURCE_STOP_BUTTON_TOOLTIP: 'Stop test',
            LBL_PREFERENCE_AUDIO_SOURCE_TEST_BUTTON: 'Test',
            LBL_PREFERENCE_AUDIO_SOURCE_TEST_BUTTON_TOOLTIP: 'Test',
            LBL_PREFERENCE_AUDIO_TARGET: 'Speaker',
            LBL_PREFERENCE_AUDIO_TARGET_STOP_BUTTON: 'Stop',
            LBL_PREFERENCE_AUDIO_TARGET_STOP_BUTTON_TOOLTIP: 'Stop test',
            LBL_PREFERENCE_AUDIO_TARGET_TEST_BUTTON: 'Test',
            LBL_PREFERENCE_AUDIO_TARGET_TEST_BUTTON_TOOLTIP: 'Test',
            LBL_PREFERENCE_AUTO_SIGN_IN: 'Auto sign-in',
            LBL_PREFERENCE_AUTO_SIGN_IN_CHECK: 'Skip sign-in screen',
            LBL_PREFERENCE_BELL_AUDIO_TARGET: 'Notification sound device',
            LBL_PREFERENCE_BELL_AUDIO_TARGET_TEST_BUTTON: 'Test',
            LBL_PREFERENCE_BELL_AUDIO_TARGET_TEST_BUTTON_TOOLTIP: 'Test',
            LBL_PREFERENCE_CATEGORY_TERMINAL: 'Terminal settings',
            LBL_PREFERENCE_CATEGORY_USER: 'User settings',
            LBL_PREFERENCE_CATEGORY_WEBCHAT: 'Webchat settings',
            LBL_PREFERENCE_CHAT_BG_COLOR: 'Chat background colors',
            LBL_PREFERENCE_CHAT_BG_COLOR_ADD_BUTTON_TOOLTIP: 'Add',
            LBL_PREFERENCE_CHAT_BG_COLOR_CUSTOM: 'Custom',
            LBL_PREFERENCE_CHAT_BG_COLOR_DELETE_BUTTON_TOOLTIP: 'Delete',
            LBL_PREFERENCE_CHAT_BG_COLOR_EDIT_BUTTON_TOOLTIP: 'Edit',
            LBL_PREFERENCE_CHAT_BG_COLOR_EXPORT_BUTTON_TOOLTIP: 'Export',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_BACKWARD: 'ends with',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_EXACT: 'equals',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_FORWARD: 'begins with',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_PARTIAL: 'contains',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_USERCHATCONF: 'Conference',
            LBL_PREFERENCE_CHAT_BG_COLOR_FORMAT_WEBCHAT: 'Webchat',
            LBL_PREFERENCE_CHAT_BG_COLOR_IMPORT_BUTTON_TOOLTIP: 'Import',
            LBL_PREFERENCE_CHAT_BG_COLOR_STANDARD: 'Standard',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_CONF_TYPE: 'Type',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_GROUP: 'Group',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_NAME: 'Name',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_SUBJECT: 'Subject',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_TAG: 'Data',
            LBL_PREFERENCE_CHAT_BG_COLOR_TYPE_USER_ID: 'Extension',
            LBL_PREFERENCE_DBGOPT: 'Debug options',
            LBL_PREFERENCE_DISPLAY_NAME: 'Display name',
            LBL_PREFERENCE_DISPLAY_PERIOD: 'Display period',
            LBL_PREFERENCE_DISPLAY_PERIOD_LABEL:
              'Show messages in chat panel for {0} days',
            LBL_PREFERENCE_DTMF_SHORTCUT: 'Dialing functions',
            LBL_PREFERENCE_DTMF_SHORTCUT_0_CHECK: 'Hold button',
            LBL_PREFERENCE_DTMF_SHORTCUT_1_CHECK: 'Transfer button',
            LBL_PREFERENCE_DTMF_SHORTCUT_2_CHECK:
              'Transferable to offline users',
            LBL_PREFERENCE_DTMF_SHORTCUT_3_CHECK: 'Conference button',
            LBL_PREFERENCE_INITIAL_STATUS: 'Initial status',
            LBL_PREFERENCE_LAMP_TYPE: 'Notification type',
            LBL_PREFERENCE_LAMP_TYPE_SILENT: 'Silent',
            LBL_PREFERENCE_LAMP_TYPE_STANDARD: 'Standard',
            LBL_PREFERENCE_LAMP_TYPE_TEST_BUTTON: 'Test',
            LBL_PREFERENCE_LAMP_TYPE_TEST_BUTTON_TOOLTIP: 'Test',
            LBL_PREFERENCE_LANGUAGE: 'Language',
            LBL_PREFERENCE_LANGUAGE_AUTO: 'Auto',
            LBL_PREFERENCE_LOGIN_PASSWORD: 'Login password',
            LBL_PREFERENCE_LOGIN_PASSWORD_CONFIRM: 'Login password (confirm)',
            LBL_PREFERENCE_NAME_DISPLAY_MODE: 'Extensions',
            LBL_PREFERENCE_NAME_DISPLAY_MODE_CHECK: 'Show',
            LBL_PREFERENCE_NOTIFY_CALL_STATUS: 'Call status',
            LBL_PREFERENCE_NOTIFY_CALL_STATUS_CHECK: 'Public',
            LBL_PREFERENCE_NOTIFY_CONF_STATUS: 'Conference status',
            LBL_PREFERENCE_NOTIFY_CONF_STATUS_CHECK: 'Public',
            LBL_PREFERENCE_NO_VIDEO_MODE: 'Video in voice call',
            LBL_PREFERENCE_NO_VIDEO_MODE_CONFERENCE: 'Sound only in conference',
            LBL_PREFERENCE_NO_VIDEO_MODE_DISPLAY:
              'Display video from the opposite party',
            LBL_PREFERENCE_NO_VIDEO_MODE_SOUND: 'Sound only',
            LBL_PREFERENCE_PROFILE_IMAGE: 'Profile image',
            LBL_PREFERENCE_PROFILE_IMAGE_DELETE_BUTTON: 'Remove',
            LBL_PREFERENCE_PROFILE_IMAGE_DELETE_BUTTON_TOOLTIP: 'Remove',
            LBL_PREFERENCE_PROFILE_IMAGE_UPLOAD_BUTTON: 'Replace',
            LBL_PREFERENCE_PROFILE_IMAGE_UPLOAD_BUTTON_TOOLTIP: 'Replace',
            LBL_PREFERENCE_SENDING_CONFIRMATION: 'Sending confirmation',
            LBL_PREFERENCE_SENDING_CONFIRMATION_CHECK:
              'Confirm before sending a message',
            LBL_PREFERENCE_STATUS_OPTIONS_ENABLED: 'Status options',
            LBL_PREFERENCE_STATUS_OPTIONS_ENABLED_CHECK: 'Default',
            LBL_PREFERENCE_STATUS_OPTIONS_LAMP_TYPE: 'Notification type',
            LBL_PREFERENCE_STATUS_OPTIONS_LAMP_TYPE_DEFAULT: 'Default',
            LBL_PREFERENCE_VIDEO_SOURCE: 'Camera',
            LBL_PREFERENCE_VIDEO_SOURCE_STOP_BUTTON: 'Stop',
            LBL_PREFERENCE_VIDEO_SOURCE_STOP_BUTTON_TOOLTIP: 'Stop test',
            LBL_PREFERENCE_VIDEO_SOURCE_TEST_BUTTON: 'Test',
            LBL_PREFERENCE_VIDEO_SOURCE_TEST_BUTTON_TOOLTIP: 'Test',
            LBL_PREFERENCE_WEBCHAT_DISPLAY_NAME: 'Webchat display name',
            LBL_PREFERENCE_WEBRTC_ENABLED: 'WebRTC',
            LBL_PREFERENCE_WEBRTC_ENABLED_CHECK: 'Enabled',
            LBL_PREFERENCE_WEBRTC_TYPE: 'WebRTC type',
            LBL_PREFERENCE_WEBRTC_TYPE_DEFAULT: 'Default',
            LBL_PREFERENCE_WEBRTC_TYPE_STANDARD: 'Standard',
            LBL_SEARCH_CONDITION_CONTENT: 'Text',
            LBL_SEARCH_CONDITION_DATETIME: 'Date',
            LBL_SEARCH_DIALOG_BUTTON_TOOLTIP: 'Search chat',
            LBL_SEARCH_DIALOG_TITLE: 'Search chat',
            LBL_SEARCH_DO_BUTTON: 'Search',
            LBL_SEARCH_DO_BUTTON_TOOLTIP: 'Search',
            LBL_SEARCH_MORE_BUTTON: 'Show more',
            LBL_SEARCH_MORE_BUTTON_TOOLTIP: 'Show more',
            LBL_SEARCH_SEARCHING: 'Searching...',
            LBL_SEARCH_SELECT_ALL_BUTTON: 'Select all',
            LBL_SEARCH_SELECT_ALL_BUTTON_TOOLTIP: 'Select all',
            LBL_SEARCH_SELECT_BUTTON: 'Select',
            LBL_SEARCH_SELECT_BUTTON_TOOLTIP: 'Select',
            LBL_SIDEBAR_ABOUT_ITEM: 'About {0}',
            LBL_SIDEBAR_AREA_SPLITTER_BUTTON_TOOLTIP: 'Split',
            LBL_SIDEBAR_AREA_SPLITTER_ITEM_0: '1 column',
            LBL_SIDEBAR_AREA_SPLITTER_ITEM_1: '2 columns',
            LBL_SIDEBAR_AREA_SPLITTER_ITEM_2: '2 columns and 2 rows',
            LBL_SIDEBAR_BUDDYLIST_FILTER_BUTTON_TOOLTIP: 'Filter options',
            LBL_SIDEBAR_BUDDYLIST_FILTER_INPUT_PLACEHOLDER: 'Filter',
            LBL_SIDEBAR_BUDDYLIST_ITEM_CALL: 'Call',
            LBL_SIDEBAR_BUDDYLIST_ITEM_CALL_RESULT_DIRECTION_INCOMING_MISSED:
              'Missed call',
            LBL_SIDEBAR_BUDDYLIST_ITEM_CALL_RESULT_LENGTH_MIN: '{0} min',
            LBL_SIDEBAR_BUDDYLIST_ITEM_CALL_RESULT_LENGTH_SEC: '{0} sec',
            LBL_SIDEBAR_CALL_STATUS_ICON_TOOLTIP: 'In a call',
            LBL_SIDEBAR_CONFERENCE_STATUS_ICON_TOOLTIP: 'In a conference',
            LBL_SIDEBAR_CONTROL_BUTTONS_COLLAPSED_MENU_BUTTON_TOOLTIP: 'Menu',
            LBL_SIDEBAR_CREATE_CONFERENCE_BUTTON_TOOLTIP:
              'Create a conference room',
            LBL_SIDEBAR_CREATE_GROUP_BUTTON_TOOLTIP: 'Create a new group',
            LBL_SIDEBAR_EDIT_STATUS_DISPLAY_BUTTON_TOOLTIP: 'Status note',
            LBL_SIDEBAR_EXTERNAL_CALL_BUTTON_TOOLTIP: 'External call',
            LBL_SIDEBAR_HISTORY_ITEM: 'History search',
            LBL_SIDEBAR_ONLINE_ONLY_ITEM: 'Online only',
            LBL_SIDEBAR_OUTGOING_WEBCHAT_BUTTON_TOOLTIP: 'Outgoing webchat',
            LBL_SIDEBAR_PREFERENCE_ITEM: 'Personal preferences',
            LBL_SIDEBAR_SEND_BROADCAST_TEXT_BUTTON_TOOLTIP: 'Broadcast',
            LBL_SIDEBAR_SERVER_PROPERTIES_ITEM: 'Server properties',
            LBL_SIDEBAR_SIGN_OUT_BUTTON_TOOLTIP: 'Sign out',
            LBL_SIDEBAR_USER_LIST_BUTTON_TOOLTIP: 'User list',
            LBL_SIDEBAR_WEBCHAT_REQUESTS_ITEM: 'Webchat requests',
            LBL_SIGN_IN_ADMIN_MODE: 'Admin mode',
            LBL_SIGN_IN_BUTTON: 'Start Chatting',
            LBL_SIGN_IN_PASSWORD: 'Password',
            LBL_SIGN_IN_REMEMBERME: 'REMEMBER ME',
            LBL_SIGN_IN_SIGNIN: 'SIGN IN',
            LBL_SIGN_IN_TENANT: 'Tenant',
            LBL_SIGN_IN_TITLE: 'Sign in',
            LBL_SIGN_IN_USERID: 'User',
            LBL_STATUS_DISPLAY_CLEAR_BUTTON_TOOLTIP: 'Clear',
            LBL_STATUS_DISPLAY_ITEM_DELETE_BUTTON_TOOLTIP: 'Delete',
            LBL_STATUS_DISPLAY_ITEM_EDIT_BUTTON_TOOLTIP: 'Edit',
            LBL_STATUS_DISPLAY_USE_LATER_BUTTON_TOOLTIP: 'Use later',
            LBL_SUB_WINDOW_MODULE_TITLE: 'Chat',
            LBL_TAB_LINK_HIDE_BUTTON_TOOLTIP: 'Close',
            LBL_TAB_LINK_HIDE_MENU: 'Close',
            LBL_TAB_LINK_MOVE_DOWN_MENU: 'Move down',
            LBL_TAB_LINK_MOVE_LEFT_MENU: 'Move left',
            LBL_TAB_LINK_MOVE_RIGHT_MENU: 'Move right',
            LBL_TAB_LINK_MOVE_UP_MENU: 'Move up',
            LBL_USER_LIST_ALL_USERS_CHECK: 'Add all users to the list',
            LBL_USER_LIST_CAPACITY: 'Capacity',
            LBL_USER_LIST_CAPTION: 'User list',
            LBL_USER_LIST_CREATE_GROUP_BUTTON_TOOLTIP: 'Create a new group',
            LBL_USER_LIST_CREATE_GROUP_INPUT_PLACEHOLDER: 'Group name',
            LBL_USER_LIST_CREATE_GROUP_SUBMIT_BUTTON: 'Create',
            LBL_USER_LIST_CREATE_GROUP_SUBMIT_BUTTON_TOOLTIP: 'Create',
            LBL_USER_LIST_GROUP_CHECK_ALL_MENU: 'Check all',
            LBL_USER_LIST_GROUP_REMOVE_GROUP_MENU: 'Remove group',
            LBL_USER_LIST_GROUP_UNCHECK_ALL_MENU: 'Uncheck all',
            LBL_USER_LIST_NO_GROUP: '(No group)',
            LBL_USER_LIST_SAVE_ORDER_CHECK: 'Edit grouping and user order',
            LBL_USER_LIST_SORT_ORDER: 'Sort order',
            LBL_USER_LIST_SORT_ORDER_GROUP: 'Group',
            LBL_USER_LIST_SORT_ORDER_GROUP_CHECK: 'Display with grouping',
            LBL_USER_LIST_SORT_ORDER_NAME: 'Name',
            LBL_USER_LIST_SORT_ORDER_NONE: '(None)',
            LBL_USER_LIST_SORT_ORDER_USER_ID: 'Extension',
            LBL_WEBCHAT_DROP_BUTON_TOOLTIP: 'End chat',
            LBL_WEBCHAT_PICKUP_BUTON_TOOLTIP: 'Answer chat',
            LBL_WEBCHAT_QUEUE_BUTON_OFFLINE_TOOLTIP: 'Offline',
            LBL_WEBCHAT_QUEUE_BUTON_STARTING_TOOLTIP: 'Signing in',
            LBL_WEBCHAT_QUEUE_BUTON_TOOLTIP: 'Chat queue',
            LBL_WEBCHAT_QUEUE_SHOW_ALL_LINK: 'Show all chats',
            LBL_WEBCHAT_QUEUE_SHOW_ALL_LINK_TOOLTIP: 'Show all chats',
            LBL_WEBCHAT_QUEUE_TABLE_AGENT_COLUMN: 'Assigned',
            LBL_WEBCHAT_QUEUE_TABLE_MESSAGE_COLUMN: 'Message',
            LBL_WEBCHAT_QUEUE_TABLE_NAME_COLUMN: 'Customer',
            LBL_WEBCHAT_ROOM_CHAT_BUTON: 'Answer',
            LBL_WEBCHAT_ROOM_CHAT_BUTON_TOOLTIP: 'Answer',
            LBL_WEBCHAT_ROOM_HIDE_BUTON: 'Close',
            LBL_WEBCHAT_ROOM_HIDE_BUTON_TOOLTIP: 'Close',
            LBL_WEBCHAT_ROOM_JOIN_BUTON: 'Join',
            LBL_WEBCHAT_ROOM_JOIN_BUTON_TOOLTIP: 'Join',
            LBL_WEBCHAT_ROOM_SHOW_BUTON: 'Show',
            LBL_WEBCHAT_ROOM_SHOW_BUTON_TOOLTIP: 'Show',
            LBL_WEBRTC_UNAVAILABLE_NEVER: 'Do not use WebRTC',
            LBL_WEBRTC_UNAVAILABLE_NO: 'No, for now',
            LBL_WEBRTC_UNAVAILABLE_YES: 'Yes',

            DUMMY: '',
          }
        })
      },
      {},
    ],
    397: [
      function (require, module, exports) {
        /* ucclient.js compatible with 1.2.9.6u2294
         * require jsonrpc.js
         * require jssip-0.4.2.js (optional)
         * require webrtc.js (optional)
         */
        ;(function (root, factory) {
          if (typeof module === 'object' && module.exports) {
            module.exports = factory({ net: require('../net/jsonrpc.js') })
          } else {
            root.Brekeke = root.Brekeke || {}
            root.Brekeke.UCClient = factory(root.Brekeke)
          }
        })(this, function (Brekeke) {
          var UCClient = {},
            ChatClient,
            Errors = {
              /*
               * Error codes
               */
              RPC_CLOSED: 4001,
              RPC_ERROR: 4002,
              PING_TIMEOUT: 4003,
              NOT_SIGNED_IN: 4100,
              SIGNING_IN: 4101,
              SIGNED_IN: 4102,
              WEBRTC_NOT_LOADED: 4103,
              WEBRTC_NOT_SUPPORTED: 4104,
              SIGN_IN_TIMEOUT: 4105,
              UPLOADPROFILEIMAGE_EMPTY_FORM: 4106,
              UPLOADPROFILEIMAGE_TIMEOUT: 4107,
              UPLOADPROFILEIMAGE_FAILED: 4108,
              SENDTEXT_EMPTY_USER: 4109,
              READTEXT_EMPTY_ID: 4110,
              READTEXT_INVALID_ID: 4111,
              SENDBROADCASTTEXT_EMPTY_TARGET: 4112,
              SENDBROADCASTTEXT_EMPTY_USER: 4113,
              SENDTYPING_EMPTY_USER: 4114,
              CREATECONFERENCE_EMPTY_SUBJECT: 4115,
              INVITETOCONFERENCE_NOT_FOUND_CONF: 4116,
              INVITETOCONFERENCE_EMPTY_INVITE: 4117,
              SENDCONFERENCETEXT_NOT_FOUND_CONF: 4118,
              SENDFILE_EMPTY_USER: 4119,
              SENDFILE_EMPTY_FORM: 4120,
              SENDFILE_EMPTY_FILES: 4121,
              SENDFILE_EMPTY_VALUE: 4122,
              SENDFILES_EMPTY_USER: 4123,
              SENDFILES_EMPTY_FILELIST: 4124,
              ACCEPTFILE_NOT_FOUND_FILE: 4125,
              ACCEPTFILE_INVALID_STATE: 4126,
              CANCELFILE_NOT_FOUND_FILE: 4127,
              CANCELFILE_INVALID_STATE: 4128,
              MAKECALL_WEBRTC_UNAVAILABLE: 4129,
              MAKECALL_EMPTY_TARGET: 4130,
              MAKECALL_EMPTY_CONSTRAINTS: 4131,
              MAKECALL_INVALID_CALL: 4132,
              MAKECALL_PNUMBER: 4133,
              MAKECALL_NOT_JOINED_CONF: 4134,
              MAKECALL_DUPLICATE: 4135,
              MAKECALL_SEND_TIMEOUT: 4136,
              MAKECALL_TIMEOUT: 4137,
              SEARCHTOPICSBYDATE_INVALID_DATE: 4138,
              SEARCHLOGSBYTOPIC_INVALID_TOPIC: 4139,
              INVALID_USER_TYPE: 4140,
              WEBRTC_PERMANENTLY_UNAVAILABLE: 4141,
              WEBRTC_TEMPORARILY_UNAVAILABLE: 4142,
              WEBRTC_ERROR_3: 4143,
              WEBRTC_ERROR_4: 4144,
              SENDFILES_FORMDATA_NOT_SUPPORTED: 4145,
              GENERAL_CLIENT_ERROR_INTERNAL: 4200,
              GENERAL_CLIENT_ERROR_ARGUMENT: 4201,
              GENERAL_CLIENT_ERROR_PERMISSION: 4202,
              PLEONASTIC_LOGIN: 6001,
              UPDATE_STARTED: 6003,
              LOGIN_FAILED: 0,
              TIMEOUT: -1,
              DISCONNECTED: -2,
              NOT_OPENED: -3,
              UNKNOWN_RESPONSE: -4,
              UNKNOWN_ERROR: -30,
              IP_NOT_ALLOWED: -40,
              SERVER_INTERNAL_ERROR: -50,
              USER_INVALID: -60,
              TENANT_INVALID: -61,
              OVER_MAX_LOGIN_COUNT: -70,
              OVER_MAX_TENANT_LOGIN_COUNT: -71,
              ALREADY_SIGNED_IN: -72,
              CANNOT_START_MFA: -73,
              LICENSE_INVALID: -80,
              VERSION_INVALID: -81,
              PASSWORD_REQUIRED: -90,
              SENDTEXT_NOT_A_MEMBER: -500,
              JOINCONFERENCE_NOT_A_MEMBER: -600,
              SETTENANTSETTINGS_SERVER_ERROR: -701,
              GETTENANTLISTFROMPBX_SERVER_ERROR: -711,
              PREPAREPROFILEIMAGE_FILE: -752,
              PREPAREPROFILEIMAGE_PERMISSION: -753,
              SAVEPROFILEIMAGE_FILE: -762,
              DELETEPROFILEIMAGE_PERMISSION: -773,
              SETPROPERTIES_1001: -1001,
              SETPROPERTIES_1002: -1002,
              SETPROPERTIES_1003: -1003,
              SETPROPERTIES_1004: -1004,
              SETPROPERTIES_1005: -1005,
              SETPROPERTIES_1006: -1006,
              GENERAL_ERROR_INTERNAL: -2000,
              GENERAL_ERROR_ARGUMENT: -2001,
              GENERAL_ERROR_PERMISSION: -2002,
              ERROR_REENTER_CONF: -2100,
              DUMMY: null,
            },
            Constants = {
              STATUS_OFFLINE: 0,
              STATUS_AVAILABLE: 1,
              STATUS_IDLE: 2,
              STATUS_BUSY: 3,
              USER_TYPE_SYSTEM_ADMIN: 1,
              USER_TYPE_TENANT_ADMIN: 2,
              USER_TYPE_TENANT_USER: 3,
              USER_TYPE_TENANT_GUEST: 4,
              BUDDY_MODE_MANUAL: 0,
              BUDDY_MODE_AUTO: 1,
              BUDDY_MODE_GROUP: 2,
              CONF_STATUS_INACTIVE: 0,
              CONF_STATUS_INVITED: 1,
              CONF_STATUS_JOINED: 2,
              CONF_STATUS_LEFT: 3,
              CONF_STATUS_LEFT_UNANSWERED: 4,
              CONF_STATUS_INVITED_WEBCHAT: 5,
              FILE_STATUS_UNPREPARED: 0,
              FILE_STATUS_UNACCEPTED: 1,
              FILE_STATUS_TRANSFERRING: 2,
              FILE_STATUS_COMPLETED: 3,
              FILE_STATUS_LOCAL_CANCEL: 4,
              FILE_STATUS_REMOTE_CANCEL: 5,
              FILE_STATUS_ERROR: 6,
              CALL_STATUS_TERMINATED: 0,
              CALL_STATUS_INCOMING: 1,
              CALL_STATUS_ANSWERING: 2,
              CALL_STATUS_DIALING: 3,
              CALL_STATUS_PROGRESS: 4,
              CALL_STATUS_TALKING: 5,
              CALL_DIRECTION_UNKNOWN: 0,
              CALL_DIRECTION_INCOMING: 1,
              CALL_DIRECTION_OUTGOING: 2,
              STREAM_STATUS_DIALING: 3,
              STREAM_STATUS_TALKING: 5,
              CTYPE_TEXT: 1,
              CTYPE_FILE_REQUEST: 5,
              CTYPE_FILE_ACCEPT: 6,
              CTYPE_FILE_REJECT: 7,
              CTYPE_FILE_CANCEL: 8,
              CTYPE_FILE_PROGRESS: 9,
              CTYPE_CALL_RESULT: 26,
              CTYPE_CONF_START: 27,
              CTYPE_CONF_LEAVE: 28,
              CTYPE_OBJECT: 101,
              PROFILE_IMAGE_URL_DOWNLOAD: '/image?ACTION=DOWNLOAD',
              NOIMAGE_URL: '/img/noimage.png',
              DUMMY: null,
            },
            Events = [
              'forcedSignOut',
              'mfaStarted',
              'buddyStatusChanged',
              'receivedText',
              'receivedTyping',
              'invitedToConference',
              'conferenceMemberChanged',
              'extConfInfoChanged',
              'confTagUpdated',
              'fileReceived',
              'fileInfoChanged',
              'fileTerminated',
              'objectReceived',
              'confLeaveReceived',
              'phoneStatusChanged',
              'callReceived',
              'callInfoChanged',
              'callTerminated',
              'receivedCustomClientEvent',
              'notifiedUserSearch',
              'notifiedUserDelete',
              'debugLogFilePrepared',
              'createDatabaseEnded',
            ]

          /*
           * ChatClient constructor
           */
          ChatClient = function (logger, reportConsoleOptions) {
            /*
             * Private fields
             */
            ReportConsole(reportConsoleOptions)
            this._logger = logger && logger.log ? logger : new Logger(logger)

            this._host = null
            this._path = null
            this._tenant = null
            this._user_id = null
            this._pass = null
            this._forceAjax = false
            this._servlet = false
            this._useHttps = false
            this._auth_timeout = 0
            this._admin_mode = false
            this._modest = false
            this._recvMsgs = false
            this._pver = ''
            this._device_token = ''
            this._do_not_start_mfa = false
            this._enableDisconnectedStatus = false
            this._offlineAgentComponent = false
            this._sessAttr = ''
            this._profileImageSize = ''
            this._crAuthMode = 0
            this._disableBuddylist = false

            this._profile = {}
            this._settings = {}
            this._buddylist = {}
            this._buddylistOrg = {}
            this._nonbuddylist = {}
            this._nonsubscrlist = {}
            this._allUsers = {}
            this._configProperties = {}
            this._signedInInfo = {}
            this._status = 0
            this._display = ''
            this._buddyStatus = {}
            this._lastErrors = {}

            this._phone = null
            this._phoneProperties = {}
            this._phoneRegistered = false
            this._buddyPhone = {}

            this._sessionBundleIdCounter = 0
            this._sessionBundleTable = {}

            this._conferenceCalls = {}

            this._upload_ids = {}
            this._download_keys = {}
            this._ucclient_customized_status_table = {}

            this._conferences = {}

            this._fileInfos = {}

            this._topicIdCounter = 0
            this._topics = {}

            this._databaseTaskTable = {}

            this._eventListeners = {}
            this._handlers = []
            this._eventListeners0 = {}

            this._rpc = null

            this._signInStatus = 0 // 0:signed-out 1:sign-in-failed 2:signing-in 3:signed-in
            this._signInTimer = null
            this._signInFuncOK = null
            this._signInFuncError = null
            this._mfa_verification_required = 0

            this._phoneRegisterTimer = null

            this._pingTimer = null
            this._timeSentKeepAlive = 0
            this._rpcTimeLastSent = 0
            this._timezoneOffsetNextCheckTime = 0
            this._exos = {}

            this._sendStatusCount = 0

            this._makeCallStatus = {}
            this._sendSharedObjectFuncOKTable = {}
            this._receivedSharedObjectJsonTable = {}

            this._chat_session_id = 0
            this._auth_result_info = null

            this._lastMessageTime = 0

            this._enteringWebchatRoom = null
            this._joiningConference = null
          }

          /*
           * ChatClient prototype
           */
          ChatClient.prototype = {
            /*
             * Function addHandler
             */
            addHandler: function (handler) {
              if (Object.keys(this._eventListeners).length === 0) {
                for (var i = 0; i < Events.length; i++) {
                  this._eventListeners[Events[i]] = this._initEventListener(
                    Events[i],
                  )
                }
              }
              this._handlers.push(handler)
            },

            /*
             * Function removeHandler
             */
            removeHandler: function (handler) {
              var index = this._handlers.indexOf(handler)
              if (index !== -1) {
                this._handlers.splice(index, 1)
              }
            },

            /*
             * Function setEventListeners
             */
            setEventListeners: function (listeners) {
              if (Object.keys(this._eventListeners).length === 0) {
                for (var i = 0; i < Events.length; i++) {
                  this._eventListeners[Events[i]] = this._initEventListener(
                    Events[i],
                  )
                }
              }
              for (var e in listeners) {
                this._eventListeners0[e] = listeners[e]
              }
            },

            /*
             * Function signIn
             */
            signIn: function (
              host,
              path,
              tenant,
              user,
              pass,
              option,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus === 2) {
                this._logger.log(
                  'info',
                  'signIn failed (code: ' +
                    Errors.SIGNING_IN +
                    ', message: ' +
                    'Now in sign-in process' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SIGNING_IN,
                    message: 'Now in sign-in process',
                  }
                  funcError(ev)
                }
                return
              }
              if (this._signInStatus === 3) {
                this._logger.log(
                  'info',
                  'signIn failed (code: ' +
                    Errors.SIGNED_IN +
                    ', message: ' +
                    'Already signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SIGNED_IN,
                    message: 'Already signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var trimRegExp = /(^\s+)|(\s+$)/g

              if (host && !user && !pass && !option && !funcOK && !funcError) {
                // signIn(option, funcOK, funcError)
                funcError = tenant
                funcOK = path
                option = host
                pass = option.pass
                user = option.user
                tenant = option.tenant
                if (option.url) {
                  var url = string(option.url)
                    .replace(trimRegExp, '')
                    .replace(/\/$/, '')
                    .split('/')
                  path = url.pop()
                  host = url.join('/')
                } else {
                  path = option.path
                  host = option.host
                }
              }
              if (!option) {
                option = {}
              }

              if (option.usePhone) {
                if (!Brekeke.webrtc || !Brekeke.webrtc.Phone) {
                  this._logger.log(
                    'info',
                    'signIn failed (code: ' +
                      Errors.WEBRTC_NOT_LOADED +
                      ', message: ' +
                      'WebRTC library not loaded' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.WEBRTC_NOT_LOADED,
                      message: 'WebRTC library not loaded',
                    }
                    funcError(ev)
                  }
                  return
                }
                if (
                  !window.webkitRTCPeerConnection &&
                  !window.mozRTCPeerConnection &&
                  !window.RTCPeerConnection
                ) {
                  this._logger.log(
                    'info',
                    'signIn failed (code: ' +
                      Errors.WEBRTC_NOT_SUPPORTED +
                      ', message: ' +
                      'WebRTC not supported' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.WEBRTC_NOT_SUPPORTED,
                      message: 'WebRTC not supported',
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              this._host = string(host)
                .replace(trimRegExp, '')
                .replace(/\/$/, '')
                .split('/')
                .pop()
              this._path = string(path).replace(trimRegExp, '')
              this._tenant = string(tenant).replace(trimRegExp, '')
              this._user_id = string(user).replace(trimRegExp, '')
              this._pass = string(pass).replace(trimRegExp, '')
              this._forceAjax = Boolean(option.forceAjax)
              this._servlet = Boolean(option.servlet)
              this._useHttps = Boolean(
                option.useHttps ||
                  string(host).toLowerCase().lastIndexOf('https', 0) === 0,
              )
              this._auth_timeout = int(option.auth_timeout)
              this._admin_mode = Boolean(option.admin_mode)
              this._modest = Boolean(option.modest)
              this._recvMsgs = Boolean(option.recvMsgs)
              this._pver = string(option.pver)
              this._device_token = string(option.device_token)
              this._do_not_start_mfa = Boolean(option.do_not_start_mfa)
              this._enableDisconnectedStatus = Boolean(
                option.enableDisconnectedStatus,
              )
              this._sessAttr =
                '' +
                (!this._enableDisconnectedStatus ? 'D' : '') +
                (this._offlineAgentComponent ? 'F' : '')
              this._profileImageSize =
                typeof option.profileImageSize === 'undefined'
                  ? '40'
                  : string(option.profileImageSize)
              this._crAuthMode = int(option.crAuthMode)
              this._disableBuddylist = Boolean(option.disableBuddylist)

              this._profile = {}
              this._settings = {}
              this._buddylist = {}
              this._buddylistOrg = {}
              this._nonbuddylist = {}
              this._nonsubscrlist = {}
              this._allUsers = {}
              this._configProperties = {}
              this._signedInInfo = {}
              this._status =
                !option.status && option.status !== 0
                  ? null
                  : int(option.status)
              this._display = string(option.display)
              this._buddyStatus = {}
              this._lastErrors = {}

              if (option.usePhone) {
                this._phone = new Brekeke.webrtc.Phone()
              } else {
                this._phone = null
              }
              this._phoneProperties = {}
              this._phoneRegistered = false
              this._buddyPhone = {}

              this._sessionBundleIdCounter = 0
              this._sessionBundleTable = {}

              this._conferenceCalls = {}

              this._upload_ids = {}
              this._download_keys = {}
              this._ucclient_customized_status_table = {}
              this._ucclient_customized_status_table[
                JSON.stringify({ tenant: this._tenant, user_id: this._user_id })
              ] = JSON.stringify({
                myProfileImageUrl:
                  typeof option.myProfileImageUrl !== 'undefined'
                    ? string(option.myProfileImageUrl)
                    : undefined,
                ui_customized_status: option.ui_customized_status,
              })

              this._conferences = {}

              this._fileInfos = {}

              this._topicIdCounter = 0
              this._topics = {}

              this._databaseTaskTable = {}

              this._signInStatus = 2
              this._signInFuncOK = funcOK
              this._signInFuncError = funcError
              this._mfa_verification_required = 0

              this._pingTimer = null
              this._timezoneOffsetNextCheckTime = 0
              this._exos = {}

              this._sendStatusCount = 0

              this._makeCallStatus = {}
              this._sendSharedObjectFuncOKTable = {}
              this._receivedSharedObjectJsonTable = {}

              // start sign in timeout timer
              this._signInTimer = setTimeout(
                this._byThis(this._signInTimeout),
                int(option.timeout) || this.SIGN_IN_TIMEOUT_DEFAULT,
              )

              // start json rpc
              this._signInStartRpc(
                this._crAuthMode === 1 ||
                  (this._crAuthMode !== 2 &&
                    this._host.indexOf('127.0.0.1') !== 0)
                  ? null
                  : this._pass,
              )

              if (reportConsoleInfo) {
                reportConsoleInfo.report_console_url =
                  (this._useHttps ? 'https:' : 'http:') +
                  '//' +
                  this._host +
                  '/' +
                  this._path
              }
            },

            /*
             * Function signOut
             */
            signOut: function (options) {
              this.cancelProfileImage({ _suppressWarn: true })
              this._rpcNotify(
                'Logout',
                (options && options.logoutParams) || {},
                null,
              )
              this._signInStatus = 0
              this._signedOut()
            },

            /*
             * Function verifyMfaCode
             */
            verifyMfaCode: function (options, funcOK, funcError) {
              this._rpcCall('VerifyMfaCode', options || {}, funcOK, funcError)
            },

            /*
             * Function resendMfaCode
             */
            resendMfaCode: function (options, funcOK, funcError) {
              this._rpcCall(
                'ResendMfaCode',
                options || {},
                function (result) {
                  if (result && result.mfa_verification_required) {
                    this._mfa_verification_required = int(
                      result && result.mfa_verification_required,
                    )
                    if (result.tstamp) {
                      this._mfa_verification_required +=
                        new Date().getTime() - int(result.tstamp)
                    }
                  } else {
                    this._mfa_verification_required = 0
                  }
                  if (funcOK) {
                    var ev = result
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function enablePhone
             */
            enablePhone: function () {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              if (!this._phone) {
                this._phone = new Brekeke.webrtc.Phone()
                this._getPhoneProperties()
              }
            },

            /*
             * Function loadPhoneProperties
             */
            loadPhoneProperties: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadPhoneProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetPhoneProperties',
                {
                  tenant: this._tenant,
                  user_id: this._user_id,
                  force: Boolean(options && options.force),
                },
                function (result) {
                  if (result && result.pnumber) {
                    if (funcOK) {
                      var ev = result
                      funcOK(ev)
                    }
                  } else {
                    this._logger.log(
                      'info',
                      'loadPhoneProperties failed (code: ' +
                        Errors.WEBRTC_PERMANENTLY_UNAVAILABLE +
                        ', message: ' +
                        'Empty pnumber' +
                        ')',
                    )
                    if (funcError) {
                      var ev = {
                        code: Errors.WEBRTC_PERMANENTLY_UNAVAILABLE,
                        message: 'Empty pnumber',
                      }
                      funcError(ev)
                    }
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveProperties
             */
            saveProperties: function (
              profile,
              settings,
              buddylist,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var mustReSubscribe = false
              var mustRePublishDisplayName = false
              var configProperties = this.getConfigProperties()
              var optional_config = configProperties.optional_config || {}
              var buddy_mode = configProperties.buddy_mode

              profile = {
                name: string((profile && profile.name) || this._profile.name),
                group: string(
                  (profile && profile.group) || this._profile.group,
                ),
                email:
                  profile &&
                  typeof profile.email !== 'undefined' &&
                  profile.email !== null
                    ? string(profile.email)
                    : null,
                password: string(profile && profile.password),
                user_type: int(
                  profile && typeof profile.user_type !== 'undefined'
                    ? profile.user_type
                    : this._profile.user_type,
                ),
              }
              if (!settings) {
                settings = this._settings
              } else {
                if (
                  settings.optional_settings &&
                  this._settings.optional_settings &&
                  settings.optional_settings.display_name !==
                    this._settings.optional_settings.display_name
                ) {
                  mustRePublishDisplayName = true
                }
              }
              if (!buddylist) {
                buddylist = this._buddylistOrg
              } else {
                try {
                  buddylist = JSON.parse(JSON.stringify(buddylist)) // deep copy
                } catch (e) {
                  this._logger.log(
                    'warn',
                    'saveProperties failed (code: ' +
                      Errors.GENERAL_CLIENT_ERROR_ARGUMENT +
                      ', message: ' +
                      'buddylist parse error' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.GENERAL_CLIENT_ERROR_ARGUMENT,
                      message: 'buddylist parse error',
                    }
                    funcError(ev)
                  }
                  return
                }

                if (buddylist.user && buddylist.user.filter) {
                  var userIdOrgSet = {}
                  ;((this._buddylistOrg || {}).user || []).forEach(
                    function (buddyOrg) {
                      if (buddyOrg && buddyOrg.user_id) {
                        userIdOrgSet[buddyOrg.user_id] = true
                      }
                    },
                  )

                  // omit buddy of buddy.delete at SetProperties to save memory
                  buddylist.user = buddylist.user
                    .filter(function (buddy) {
                      return buddy && !buddy.delete
                    })
                    .map(function (buddy) {
                      if (!mustReSubscribe && !userIdOrgSet[buddy.user_id]) {
                        // found new buddy to re-subscribe
                        mustReSubscribe = true
                      }
                      // omit other properties at SetProperties to save memory
                      return {
                        id: buddy.id,
                        tenant: buddy.tenant,
                        user_id: buddy.user_id,
                        name: buddy.name,
                        group: buddy.group,
                        block_settings: buddy.block_settings,
                      }
                    })
                }

                if (buddy_mode === Constants.BUDDY_MODE_MANUAL) {
                  mustReSubscribe = true
                }
              }

              this._rpcCall(
                'SetProperties',
                {
                  tenant: this._tenant,
                  user_id: this._user_id,
                  profile: profile,
                  settings: settings,
                  buddylist: buddylist,
                },
                function () {
                  this._rpcCall(
                    'GetProperties',
                    {
                      tenant: this._tenant,
                      user_id: this._user_id,
                      type: 'all',
                    },
                    function (result) {
                      this._profile = result.profile
                      this._settings = result.settings
                      try {
                        this._buddylistOrg = JSON.parse(
                          JSON.stringify(result.buddylist),
                        )
                      } catch (e) {
                        this._logger.log(
                          'error',
                          'result.buddylist parse error at saveProperties: ' +
                            e.message,
                        )
                        this._buddylistOrg = {}
                      }
                      this._buddylist = result.buddylist
                      this._refreshBuddylist()

                      // remove nonbuddy
                      if (
                        this._buddylist &&
                        this._buddylist.user &&
                        this._buddylist.user.length &&
                        this._nonbuddylist &&
                        this._nonbuddylist.user &&
                        this._nonbuddylist.user.length
                      ) {
                        for (var i = 0; i < this._buddylist.user.length; i++) {
                          for (
                            var j = this._nonbuddylist.user.length - 1;
                            j >= 0;
                            j--
                          ) {
                            if (
                              this._buddylist.user[i].tenant ===
                                this._nonbuddylist.user[j].tenant &&
                              this._buddylist.user[i].user_id ===
                                this._nonbuddylist.user[j].user_id
                            ) {
                              this._nonbuddylist.user.splice(j, 1)
                              break
                            }
                          }
                        }
                      }
                      // remove nonsubscr
                      if (
                        this._buddylist &&
                        this._buddylist.user &&
                        this._buddylist.user.length &&
                        this._nonsubscrlist &&
                        this._nonsubscrlist.user &&
                        this._nonsubscrlist.user.length
                      ) {
                        for (var i = 0; i < this._buddylist.user.length; i++) {
                          for (
                            var j = this._nonsubscrlist.user.length - 1;
                            j >= 0;
                            j--
                          ) {
                            if (
                              this._buddylist.user[i].tenant ===
                                this._nonsubscrlist.user[j].tenant &&
                              this._buddylist.user[i].user_id ===
                                this._nonsubscrlist.user[j].user_id
                            ) {
                              this._nonsubscrlist.user.splice(j, 1)
                              break
                            }
                          }
                        }
                      }
                      if (mustRePublishDisplayName) {
                        // re-publish
                        this._rpcCall(
                          'ChangeStatus',
                          {
                            display_name: 1, // value is dummy
                          },
                          null,
                          null,
                        )
                      }
                      if (mustReSubscribe) {
                        // re-subscribe
                        var users = []
                        if (
                          this._buddylist &&
                          this._buddylist.user &&
                          this._buddylist.user.length
                        ) {
                          for (
                            var i = 0;
                            i < this._buddylist.user.length;
                            i++
                          ) {
                            var buddy = this._buddylist.user[i]
                            if (buddy.user_id || buddy.user_id === '') {
                              users.push({
                                tenant: buddy.tenant,
                                user_id: buddy.user_id,
                              })
                            }
                          }
                        }
                        if (
                          this._nonbuddylist &&
                          this._nonbuddylist.user &&
                          this._nonbuddylist.user.length
                        ) {
                          for (
                            var i = 0;
                            i < this._nonbuddylist.user.length;
                            i++
                          ) {
                            var buddy = this._nonbuddylist.user[i]
                            if (buddy.user_id || buddy.user_id === '') {
                              users.push({
                                tenant: buddy.tenant,
                                user_id: buddy.user_id,
                              })
                            }
                          }
                        }
                        this._rpcCall(
                          'SubscribeStatus',
                          {
                            users: users,
                            mutual: false,
                            refresh: true,
                          },
                          function (result) {
                            if (funcOK) {
                              var ev = {}
                              funcOK(ev)
                            }
                          },
                          funcError,
                        )
                      } else {
                        if (funcOK) {
                          var ev = {}
                          funcOK(ev)
                        }
                      }
                    },
                    funcError,
                  )
                },
                funcError,
              )
            },

            /*
             * Function uploadProfileImage
             */
            uploadProfileImage: function (input, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'uploadProfileImage failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var tenant = this._tenant
              var user_id = this._user_id
              if (input && input.user_id) {
                tenant = input.tenant || tenant
                user_id = input.user_id
                input = input.input
              }
              var key = JSON.stringify({ tenant: tenant, user_id: user_id })

              if (!input || !input.form) {
                this._logger.log(
                  'info',
                  'uploadProfileImage failed (code: ' +
                    Errors.UPLOADPROFILEIMAGE_EMPTY_FORM +
                    ', message: ' +
                    'Empty input.form' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.UPLOADPROFILEIMAGE_EMPTY_FORM,
                    message: 'Empty input.form',
                  }
                  funcError(ev)
                }
                return
              }

              if (this._upload_ids[key]) {
                // already prepared (re-upload)
                this.cancelProfileImage({ tenant: tenant, user_id: user_id })
              }

              this._rpcCall(
                'PrepareProfileImage',
                {
                  tenant: tenant,
                  user_id: user_id,
                },
                function (result) {
                  var upload_id = result.upload_id

                  var startTime = new Date().getTime()
                  // upload-checking function
                  var checkFunction = function () {
                    this._rpcCall(
                      'CheckProfileImage',
                      {
                        tenant: tenant,
                        user_id: user_id,
                        upload_id: upload_id,
                      },
                      function (result) {
                        if (result.code === 0) {
                          // Upload completed
                          this._upload_ids[key] = upload_id
                          if (funcOK) {
                            var ev = {
                              url:
                                (this._useHttps ? 'https://' : 'http://') +
                                this._host +
                                '/' +
                                this._path +
                                Constants.PROFILE_IMAGE_URL_DOWNLOAD +
                                '&DOWNLOAD_ID=' +
                                encodeURIComponent(result.download_id) +
                                (this._profileImageSize
                                  ? '&SIZE=' +
                                    encodeURIComponent(this._profileImageSize)
                                  : ''),
                            }
                            funcOK(ev)
                          }
                        } else if (result.code === 1) {
                          // Now uploading
                          if (
                            new Date().getTime() >
                            startTime + this.UPLOAD_TIMEOUT_DEFAULT
                          ) {
                            // Upload timeout
                            this._rpcCall(
                              'CancelProfileImage',
                              {
                                tenant: tenant,
                                user_id: user_id,
                                upload_id: upload_id,
                              },
                              null,
                              null,
                            )
                            this._logger.log(
                              'info',
                              'uploadProfileImage failed (code: ' +
                                Errors.UPLOADPROFILEIMAGE_TIMEOUT +
                                ', message: ' +
                                'Upload timeout' +
                                ')',
                            )
                            if (funcError) {
                              var ev = {
                                code: Errors.UPLOADPROFILEIMAGE_TIMEOUT,
                                message: 'Upload timeout',
                              }
                              funcError(ev)
                            }
                          } else {
                            setTimeout(this._byThis(checkFunction), 1000)
                          }
                        } else {
                          // Upload failed
                          this._rpcCall(
                            'CancelProfileImage',
                            {
                              tenant: tenant,
                              user_id: user_id,
                              upload_id: upload_id,
                            },
                            null,
                            null,
                          )
                          this._logger.log(
                            'info',
                            'uploadProfileImage failed (code: ' +
                              Errors.UPLOADPROFILEIMAGE_FAILED +
                              ', message: ' +
                              'Upload failed' +
                              ')',
                          )
                          if (funcError) {
                            var ev = {
                              code: Errors.UPLOADPROFILEIMAGE_FAILED,
                              message: 'Upload failed',
                            }
                            funcError(ev)
                          }
                        }
                      },
                      function (error) {
                        this._rpcCall(
                          'CancelProfileImage',
                          {
                            tenant: tenant,
                            user_id: user_id,
                            upload_id: upload_id,
                          },
                          null,
                          null,
                        )
                        if (funcError) {
                          var ev = {
                            code: int(error.code),
                            message: string(error.message),
                          }
                          funcError(error)
                        }
                      },
                    )
                  }

                  if (window.FormData) {
                    // FormData enabled
                    // upload with XHR + FormData
                    input.form.method = 'POST'
                    input.form.enctype = 'multipart/form-data'
                    var fd = new window.FormData(input.form)
                    var xhr = new XMLHttpRequest()
                    xhr.open(
                      'POST',
                      (this._useHttps ? 'https://' : 'http://') +
                        this._host +
                        '/' +
                        this._path +
                        '/image?ACTION=UPLOAD&UPLOAD_ID=' +
                        encodeURIComponent(upload_id) +
                        '&tenant=' +
                        encodeURIComponent(tenant) +
                        '&user=' +
                        encodeURIComponent(user_id),
                      true,
                    )
                    xhr.onload = this._byThis(checkFunction)
                    xhr.send(fd)
                  } else {
                    // upload with form
                    input.form.action =
                      (this._useHttps ? 'https://' : 'http://') +
                      this._host +
                      '/' +
                      this._path +
                      '/image?ACTION=UPLOAD&UPLOAD_ID=' +
                      encodeURIComponent(upload_id) +
                      '&tenant=' +
                      encodeURIComponent(tenant) +
                      '&user=' +
                      encodeURIComponent(user_id)
                    input.form.method = 'POST'
                    input.form.enctype = 'multipart/form-data'
                    input.form.submit()
                    setTimeout(this._byThis(checkFunction), 1000)
                  }
                },
                funcError,
              )
            },

            /*
             * Function cancelProfileImage
             */
            cancelProfileImage: function (options) {
              if (this._signInStatus !== 3) {
                if (options && options._suppressWarn) {
                  this._logger.log('info', 'Not signed-in')
                } else {
                  this._logger.log('warn', 'Not signed-in')
                }
                return
              }

              var keyToCancel = null
              if (options && options.user_id) {
                keyToCancel = JSON.stringify({
                  tenant: options.tenant || this._tenant,
                  user_id: options.user_id,
                })
              }

              var keys = Object.keys(this._upload_ids)
              for (var i = 0; i < keys.length; i++) {
                var key = keys[i]
                if (!keyToCancel || key === keyToCancel) {
                  var params
                  try {
                    params = JSON.parse(key)
                  } catch (e) {
                    continue
                  }
                  var upload_id = this._upload_ids[key]
                  delete this._upload_ids[key]
                  params.upload_id = upload_id
                  this._rpcCall('CancelProfileImage', params, null, null)
                }
              }
            },

            /*
             * Function saveProfileImage
             */
            saveProfileImage: function (options, funcOK, funcError) {
              if (
                typeof options === 'function' &&
                typeof funcOK === 'function' &&
                !funcError
              ) {
                funcError = funcOK
                funcOK = options
                options = {}
              }

              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveProfileImage failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var tenant = this._tenant
              var user_id = this._user_id
              if (options && options.user_id) {
                tenant = options.tenant || tenant
                user_id = options.user_id
              }
              var key = JSON.stringify({ tenant: tenant, user_id: user_id })

              var upload_id = this._upload_ids[key]
              if (upload_id) {
                this._rpcCall(
                  'SaveProfileImage',
                  {
                    tenant: tenant,
                    user_id: user_id,
                    upload_id: upload_id,
                  },
                  function (result) {
                    if (result) {
                      this._download_keys[key] = result.dlk
                    }

                    delete this._upload_ids[key]

                    if (funcOK) {
                      var ev = {
                        url: this.getProfile().profile_image_url,
                      }
                      funcOK(ev)
                    }
                  },
                  funcError,
                )
              } else {
                this._logger.log(
                  'info',
                  'saveProfileImage failed (code: ' +
                    Errors.UPLOADPROFILEIMAGE_FAILED +
                    ', message: ' +
                    'Empty upload_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.UPLOADPROFILEIMAGE_FAILED,
                    message: 'Empty upload_id',
                  }
                  funcError(ev)
                }
                return
              }
            },

            /*
             * Function deleteProfileImage
             */
            deleteProfileImage: function (options, funcOK, funcError) {
              if (
                typeof options === 'function' &&
                typeof funcOK === 'function' &&
                !funcError
              ) {
                funcError = funcOK
                funcOK = options
                options = {}
              }

              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'deleteProfileImage failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var tenant = this._tenant
              var user_id = this._user_id
              if (options && options.user_id) {
                tenant = options.tenant || tenant
                user_id = options.user_id
              }
              var key = JSON.stringify({ tenant: tenant, user_id: user_id })

              this._rpcCall(
                'DeleteProfileImage',
                {
                  tenant: tenant,
                  user_id: user_id,
                },
                function (result) {
                  delete this._download_keys[key]

                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function addTemporaryBuddy
             */
            addTemporaryBuddy: function (buddyList, funcOK, funcError) {
              var options = {}
              var users = []
              var profile = this.getProfile()

              if (buddyList && buddyList.buddyList) {
                options = buddyList
                buddyList = buddyList.buddyList
              }

              if (!buddyList || !buddyList.length) {
                buddyList = []
              }

              for (var i = 0; i < buddyList.length; i++) {
                var buddy = buddyList[i]
                var tenant = string(buddy.tenant || this._tenant)
                var user_id = string(buddy.user_id)

                if (tenant === profile.tenant && user_id === profile.user_id) {
                  // me
                  continue
                }
                var exists = false
                var alreadyNonsubscr = false
                if (
                  this._buddylist &&
                  this._buddylist.user &&
                  this._buddylist.user.length
                ) {
                  for (var j = 0; j < this._buddylist.user.length; j++) {
                    if (
                      this._buddylist.user[j].user_id === user_id &&
                      (this._buddylist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // already buddy
                      exists = true
                      break
                    }
                  }
                }
                if (exists) {
                  continue
                }
                if (
                  this._nonbuddylist &&
                  this._nonbuddylist.user &&
                  this._nonbuddylist.user.length
                ) {
                  for (var j = 0; j < this._nonbuddylist.user.length; j++) {
                    if (
                      this._nonbuddylist.user[j].user_id === user_id &&
                      (this._nonbuddylist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // already nonbuddy
                      exists = true
                      break
                    }
                  }
                } else {
                  this._nonbuddylist = {}
                  this._nonbuddylist.user = []
                }
                if (
                  this._nonsubscrlist &&
                  this._nonsubscrlist.user &&
                  this._nonsubscrlist.user.length
                ) {
                  for (var j = 0; j < this._nonsubscrlist.user.length; j++) {
                    if (
                      this._nonsubscrlist.user[j].user_id === user_id &&
                      (this._nonsubscrlist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // already nonsubscr
                      alreadyNonsubscr = true
                      break
                    }
                  }
                } else {
                  this._nonsubscrlist = {}
                  this._nonsubscrlist.user = []
                }
                if (!exists) {
                  if (options.doNotSubscribe || buddy.doNotSubscribe) {
                    if (!alreadyNonsubscr) {
                      // add nonsubscr immediately
                      var nonsubscr = {}
                      nonsubscr.user_id = user_id
                      nonsubscr.tenant = tenant
                      nonsubscr.name = string(buddy.name)
                      nonsubscr.group = ''
                      nonsubscr.block_settings = {}
                      this._nonsubscrlist.user.push(nonsubscr)
                    }
                  } else {
                    // subscribe (add nonbuddy after StatusNotified)
                    users.push({ tenant: tenant, user_id: user_id })
                  }
                }
              }

              // subscribe
              if (users.length > 0) {
                this._rpcCall(
                  'SubscribeStatus',
                  {
                    users: users,
                    mutual: false,
                    refresh: false,
                  },
                  function (result) {
                    if (funcOK) {
                      var ev = {}
                      funcOK(ev)
                    }
                  },
                  funcError,
                )
              } else {
                if (funcOK) {
                  var ev = {}
                  funcOK(ev)
                }
              }
            },

            /*
             * Function removeTemporaryBuddy
             */
            removeTemporaryBuddy: function (buddyList, funcOK, funcError) {
              var users = []

              for (var i = 0; i < buddyList.length; i++) {
                var buddy = buddyList[i]
                var tenant = string(buddy.tenant || this._tenant)
                var user_id = string(buddy.user_id)

                var exists = false
                if (
                  this._buddylist &&
                  this._buddylist.user &&
                  this._buddylist.user.length
                ) {
                  for (var j = 0; j < this._buddylist.user.length; j++) {
                    if (
                      this._buddylist.user[j].user_id === user_id &&
                      (this._buddylist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // already buddy
                      exists = true
                      break
                    }
                  }
                }
                if (exists) {
                  continue
                }
                if (
                  this._nonbuddylist &&
                  this._nonbuddylist.user &&
                  this._nonbuddylist.user.length
                ) {
                  for (
                    var j = this._nonbuddylist.user.length - 1;
                    j >= 0;
                    j--
                  ) {
                    if (
                      this._nonbuddylist.user[j].user_id === user_id &&
                      (this._nonbuddylist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // remove nonbuddy
                      this._nonbuddylist.user.splice(j, 1)
                      users.push({ tenant: tenant, user_id: user_id })
                      break
                    }
                  }
                }
                if (
                  this._nonsubscrlist &&
                  this._nonsubscrlist.user &&
                  this._nonsubscrlist.user.length
                ) {
                  for (
                    var j = this._nonsubscrlist.user.length - 1;
                    j >= 0;
                    j--
                  ) {
                    if (
                      this._nonsubscrlist.user[j].user_id === user_id &&
                      (this._nonsubscrlist.user[j].tenant || this._tenant) ===
                        tenant
                    ) {
                      // remove nonsubscr
                      this._nonsubscrlist.user.splice(j, 1)
                      break
                    }
                  }
                }
              }
              // unsubscribe
              if (users.length > 0) {
                this._rpcCall(
                  'UnsubscribeStatus',
                  {
                    users: users,
                  },
                  function (result) {
                    if (funcOK) {
                      var ev = {}
                      funcOK(ev)
                    }
                  },
                  funcError,
                )
              } else {
                if (funcOK) {
                  var ev = {}
                  funcOK(ev)
                }
              }
            },

            /*
             * Function changeStatus
             */
            changeStatus: function (status, display, funcOK, funcError) {
              var ui_customized_status = undefined
              if (typeof status === 'object') {
                funcError = funcOK
                funcOK = display
                ui_customized_status = status.ui_customized_status
                display = status.display
                status = status.status
              }

              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'changeStatus failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var myKey = JSON.stringify({
                tenant: this._tenant,
                user_id: this._user_id,
              })
              var statusOrg = this._status
              var displayOrg = this._display
              var ucclient_customized_status_org =
                this._ucclient_customized_status_table[myKey]

              // change status
              this._status = int(status)
              this._display = display
              if (ui_customized_status !== undefined) {
                var ucclient_customized_status_obj = {}
                try {
                  ucclient_customized_status_obj =
                    JSON.parse(
                      string(this._ucclient_customized_status_table[myKey]),
                    ) || {}
                  ucclient_customized_status_obj.ui_customized_status =
                    ui_customized_status
                  this._ucclient_customized_status_table[myKey] =
                    JSON.stringify(ucclient_customized_status_obj)
                } catch (e) {}
              }

              // notify status
              this._sendStatus(
                funcOK,
                this._byThis(function (error) {
                  this._status = statusOrg
                  this._display = displayOrg
                  this._ucclient_customized_status_table[myKey] =
                    ucclient_customized_status_org
                  if (funcError) {
                    funcError(error)
                  }
                }),
              )
            },

            /*
             * Function getAcdUsers
             */
            getAcdUsers: function (option, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'getAcdUsers failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }
              this._rpcCall('GetAcdUsers', option, funcOK, funcError)
            },

            /*
             * Function sendText
             */
            sendText: function (text, target, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!target.user_id) {
                this._logger.log(
                  'info',
                  'sendText failed (code: ' +
                    Errors.SENDTEXT_EMPTY_USER +
                    ', message: ' +
                    'Empty target.user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDTEXT_EMPTY_USER,
                    message: 'Empty target.user_id',
                  }
                  funcError(ev)
                }
                return
              }

              var textVal = string(text)
              var targetObject = {
                tenant: string(target.tenant || this._tenant),
                user_id: string(target.user_id),
              }
              var targetVal = [targetObject]

              // send
              this._rpcCall(
                'SendText',
                {
                  text: textVal,
                  target: targetVal,
                  ctype: Constants.CTYPE_TEXT,
                },
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_id = ''
                    ;(result.topic_ids || []).forEach(function (topic) {
                      if (
                        topic &&
                        topic.tenant === targetObject.tenant &&
                        topic.user_id === targetObject.user_id
                      ) {
                        topic_id = string(topic.topic_id || '')
                      }
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_id: topic_id,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function readText
             */
            readText: function (received_text_id_array, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'readText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!received_text_id_array || !received_text_id_array.length) {
                this._logger.log(
                  'info',
                  'readText failed (code: ' +
                    Errors.READTEXT_EMPTY_ID +
                    ', message: ' +
                    'Empty received_text_id_array' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.READTEXT_EMPTY_ID,
                    message: 'Empty received_text_id_array',
                  }
                  funcError(ev)
                }
                return
              }

              var message = []
              for (var i = 0; i < received_text_id_array.length; i++) {
                var received_text_id = received_text_id_array[i].split('_')
                var action_id = received_text_id[0]
                var month = received_text_id[1]
                if (isNaN(action_id) || isNaN(month)) {
                  this._logger.log(
                    'info',
                    'readText failed (code: ' +
                      Errors.READTEXT_INVALID_ID +
                      ', message: ' +
                      'Invalid value: received_text_id_array[' +
                      i +
                      '] = ' +
                      received_text_id_array[i] +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.READTEXT_INVALID_ID,
                      message:
                        'Invalid value: received_text_id_array[' +
                        i +
                        '] = ' +
                        received_text_id_array[i],
                    }
                    funcError(ev)
                  }
                  return
                }
                message.push({
                  action_id: int(action_id),
                  month: string(month),
                })
              }

              this._rpcNotify(
                'ReadText',
                {
                  message: message,
                },
                funcError,
              )
            },

            /*
             * Function receiveUnreadText
             */
            receiveUnreadText: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'receiveUnreadText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetUnreadText',
                {},
                function (result) {
                  var messages = []
                  if (result && result.message && result.message.length) {
                    for (var i = 0; i < result.message.length; i++) {
                      var message = result.message[i]
                      if (!message.sender) {
                        this._logger.log('warn', 'Invalid sender')
                        continue
                      }
                      var sender_tenant = message.sender.tenant || this._tenant
                      var sender_user_id = string(message.sender.user_id)

                      var receivedObject = undefined

                      switch (message.ctype) {
                        case Constants.CTYPE_OBJECT:
                          try {
                            receivedObject = JSON.parse(message.text)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at _recvText',
                            )
                          }
                        // fall through
                        case Constants.CTYPE_TEXT:
                        case Constants.CTYPE_FILE_REQUEST:
                        case Constants.CTYPE_CALL_RESULT:
                          messages.push({
                            sender: {
                              tenant: sender_tenant,
                              user_id: sender_user_id,
                            },
                            text: string(message.text),
                            object: receivedObject,
                            conf_id: message.conf_id
                              ? string(message.conf_id)
                              : null, // message.conf_id might be undefined or "" on non-conf
                            ctype: int(message.ctype),
                            received_text_id:
                              int(message.action_id) +
                              '_' +
                              string(message.sent_ltime)
                                .substr(0, 7)
                                .split('-')
                                .join(''),
                            topic_id: string(message.topic_id || ''),
                            ltime: stringifyTstamp(result.tstamp), // received time
                            tstamp: int(result.tstamp), // received time
                            sent_ltime: stringifyTstamp(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            sent_tstamp: int(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            requires_read: message.conf_id ? false : true,
                          })
                          break
                        case Constants.CTYPE_CONF_START:
                        case Constants.CTYPE_CONF_LEAVE:
                          break
                        default:
                          this._logger.log(
                            'warn',
                            'Invalid ctype=' + message.ctype,
                          )
                          break
                      }
                    }
                  }

                  // callback
                  if (funcOK) {
                    var ev = {
                      hasMore: !Boolean(result.complete),
                      messages: messages,
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function receiveUnreceivedConferenceText
             */
            receiveUnreceivedConferenceText: function (
              options,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'receiveUnreceivedConferenceText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {}
              if (options && options.conf_id) {
                params.conf_id = string(options && options.conf_id)
              }
              if (options && options.conf_status) {
                params.conf_status = int(options && options.conf_status)
              }

              this._rpcCall(
                'GetUnreceivedConferenceText',
                params,
                function (result) {
                  var messages = []
                  if (result && result.message && result.message.length) {
                    for (var i = 0; i < result.message.length; i++) {
                      var message = result.message[i]
                      if (!message.sender) {
                        this._logger.log('warn', 'Invalid sender')
                        continue
                      }
                      var sender_tenant = message.sender.tenant || this._tenant
                      var sender_user_id = string(message.sender.user_id)

                      var receivedObject = undefined

                      switch (message.ctype) {
                        case Constants.CTYPE_OBJECT:
                          try {
                            receivedObject = JSON.parse(message.text)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at _recvText',
                            )
                          }
                        // fall through
                        case Constants.CTYPE_TEXT:
                        case Constants.CTYPE_FILE_REQUEST:
                        case Constants.CTYPE_CALL_RESULT:
                          messages.push({
                            sender: {
                              tenant: sender_tenant,
                              user_id: sender_user_id,
                            },
                            text: string(message.text),
                            object: receivedObject,
                            conf_id: message.conf_id
                              ? string(message.conf_id)
                              : null, // message.conf_id might be undefined or "" on non-conf
                            ctype: int(message.ctype),
                            received_text_id:
                              int(message.action_id) +
                              '_' +
                              string(message.sent_ltime)
                                .substr(0, 7)
                                .split('-')
                                .join(''),
                            ltime: stringifyTstamp(result.tstamp), // received time
                            tstamp: int(result.tstamp), // received time
                            sent_ltime: stringifyTstamp(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            sent_tstamp: int(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            requires_read: message.conf_id ? false : true,
                          })
                          break
                        case Constants.CTYPE_CONF_START:
                        case Constants.CTYPE_CONF_LEAVE:
                          break
                        default:
                          this._logger.log(
                            'warn',
                            'Invalid ctype=' + message.ctype,
                          )
                          break
                      }
                    }
                  }

                  // callback
                  if (funcOK) {
                    var ev = {
                      hasMore: !Boolean(result.complete),
                      messages: messages,
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function peekWebchatConferenceText
             */
            peekWebchatConferenceText: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'peekWebchatConferenceText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {}
              if (options && options.conf_id) {
                params.conf_id = string(options && options.conf_id)
              }
              if (options && options.max) {
                params.max = int(options && options.max)
              }

              this._rpcCall(
                'PeekWebchatConferenceText',
                params,
                function (result) {
                  var messages = []
                  if (result && result.message && result.message.length) {
                    for (var i = result.message.length - 1; i >= 0; i--) {
                      var message = result.message[i]
                      if (!message.sender) {
                        this._logger.log('warn', 'Invalid sender')
                        continue
                      }
                      var sender_tenant = message.sender.tenant || this._tenant
                      var sender_user_id = string(message.sender.user_id)

                      var receivedObject = undefined

                      switch (message.ctype) {
                        case Constants.CTYPE_OBJECT:
                          try {
                            receivedObject = JSON.parse(message.text)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at _recvText',
                            )
                          }
                        // fall through
                        case Constants.CTYPE_TEXT:
                        case Constants.CTYPE_FILE_REQUEST:
                        case Constants.CTYPE_CALL_RESULT:
                          messages.push({
                            sender: {
                              tenant: sender_tenant,
                              user_id: sender_user_id,
                            },
                            text: string(message.text),
                            object: receivedObject,
                            conf_id: message.conf_id
                              ? string(message.conf_id)
                              : null, // message.conf_id might be undefined or "" on non-conf
                            ctype: int(message.ctype),
                            received_text_id:
                              int(message.action_id) +
                              '_' +
                              string(message.sent_ltime)
                                .substr(0, 7)
                                .split('-')
                                .join(''),
                            ltime: stringifyTstamp(result.tstamp), // received time
                            tstamp: int(result.tstamp), // received time
                            sent_ltime: stringifyTstamp(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            sent_tstamp: int(message.sent_tstamp), // message.sent_tstamp has value in GetUnreadText
                            requires_read: message.conf_id ? false : true,
                          })
                          break
                        case Constants.CTYPE_CONF_START:
                        case Constants.CTYPE_CONF_LEAVE:
                          break
                        default:
                          this._logger.log(
                            'warn',
                            'Invalid ctype=' + message.ctype,
                          )
                          break
                      }
                    }
                  }

                  // callback
                  if (funcOK) {
                    var ev = {
                      hasMore: !Boolean(result.complete),
                      messages: messages,
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function sendBroadcastText
             */
            sendBroadcastText: function (text, target, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendBroadcastText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!target.length) {
                this._logger.log(
                  'info',
                  'sendBroadcastText failed (code: ' +
                    Errors.SENDBROADCASTTEXT_EMPTY_TARGET +
                    ', message: ' +
                    'Empty target' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDBROADCASTTEXT_EMPTY_TARGET,
                    message: 'Empty target',
                  }
                  funcError(ev)
                }
                return
              }

              var textVal = string(text)
              var targetVal = []
              for (var i = 0; i < target.length; i++) {
                if (!target[i].user_id) {
                  this._logger.log(
                    'info',
                    'sendBroadcastText failed (code: ' +
                      Errors.SENDBROADCASTTEXT_EMPTY_USER +
                      ', message: ' +
                      'Empty target[' +
                      i +
                      '].user_id' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDBROADCASTTEXT_EMPTY_USER,
                      message: 'Empty target[' + i + '].user_id',
                    }
                    funcError(ev)
                  }
                  return
                }
                targetVal.push({
                  tenant: string(target[i].tenant || this._tenant),
                  user_id: string(target[i].user_id),
                })
              }

              // send
              this._rpcCall(
                'SendText',
                {
                  text: textVal,
                  target: targetVal,
                  ctype: Constants.CTYPE_TEXT,
                },
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_ids = []
                    targetVal.forEach(function (targetObject) {
                      var topic_id = ''
                      ;(result.topic_ids || []).forEach(function (topic) {
                        if (
                          topic &&
                          topic.tenant === targetObject.tenant &&
                          topic.user_id === targetObject.user_id
                        ) {
                          topic_id = string(topic.topic_id || '')
                        }
                      })
                      topic_ids.push({
                        tenant: targetObject.tenant,
                        user_id: targetObject.user_id,
                        topic_id: topic_id,
                      })
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_ids: topic_ids,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function sendTyping
             */
            sendTyping: function (target, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendTyping failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!target.user_id) {
                this._logger.log(
                  'info',
                  'sendTyping failed (code: ' +
                    Errors.SENDTYPING_EMPTY_USER +
                    ', message: ' +
                    'Empty target.user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDTYPING_EMPTY_USER,
                    message: 'Empty target.user_id',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'Typing',
                  target: {
                    tenant: string(target.tenant || this._tenant),
                    user_id: string(target.user_id),
                  },
                  client_param: {
                    conf_id: '',
                    dummy: 'typing',
                  },
                },
                funcOK,
                funcError,
              )
            },

            /*
             * Function createConference
             */
            createConference: function (subject, invite, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createConference failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!subject) {
                this._logger.log(
                  'info',
                  'createConference failed (code: ' +
                    Errors.CREATECONFERENCE_EMPTY_SUBJECT +
                    ', message: ' +
                    'Empty subject' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.CREATECONFERENCE_EMPTY_SUBJECT,
                    message: 'Empty subject',
                  }
                  funcError(ev)
                }
                return
              }

              var properties = {
                subject: string(subject),
              }
              var profile = this.getProfile()
              var users = []
              if (invite && invite.length) {
                for (var i = 0; i < invite.length; i++) {
                  users.push({
                    tenant: string(invite[i].tenant || this._tenant),
                    user_id: string(invite[i].user_id || invite[i]),
                  })
                }
              }

              this._rpcCall(
                'CreateConference',
                {
                  conf_type: this.CONFTYPE_USERCHATCONF,
                  expires: this.CONF_EXPIRES,
                  properties: properties,
                  from_user_name: profile.name,
                  user: users,
                },
                function (result) {
                  var conf_id = string(result.conf_id)

                  // new conference
                  this._newConference(conf_id)

                  this._conferences[conf_id].subject = string(subject)
                  this._conferences[conf_id].created_time = stringifyTstamp(
                    result.tstamp,
                  )
                  this._conferences[conf_id].created_tstamp = int(result.tstamp)
                  this._conferences[conf_id].created_server_time = string(
                    result.ltime,
                  )
                  this._conferences[conf_id].conf_type =
                    this.CONFTYPE_USERCHATCONF

                  // from
                  this._conferences[conf_id].from.tenant = this._tenant
                  this._conferences[conf_id].from.user_id = this._user_id
                  this._conferences[conf_id].from.user_name = profile.name

                  // creator
                  this._conferences[conf_id].creator.tenant = this._tenant
                  this._conferences[conf_id].creator.user_id = this._user_id
                  this._conferences[conf_id].creator.user_name = profile.name

                  // callback
                  if (funcOK) {
                    var ev = {
                      conference: this.getConference(conf_id),
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function joinConference
             */
            joinConference: function (conf_id, properties, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'joinConference failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              conf_id = string(conf_id)
              properties = {
                invisible: Boolean(properties && properties.invisible),
                exclusive: Boolean(properties && properties.exclusive),
              }

              this._joiningConference = []
              this._rpcCall(
                'JoinConference',
                {
                  conf_id: conf_id,
                  properties: properties,
                },
                function (result) {
                  this._newConference(conf_id)

                  // conf_status
                  this._conferences[conf_id].conf_status =
                    Constants.CONF_STATUS_JOINED

                  // callback
                  if (funcOK) {
                    var ev = {
                      conference: this.getConference(conf_id),
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }

                  if (this._joiningConference) {
                    var joiningConference = this._joiningConference
                    this._joiningConference = null
                    for (var i = 0; i < joiningConference.length; i++) {
                      joiningConference[i]()
                    }
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }

                  if (this._joiningConference) {
                    var joiningConference = this._joiningConference
                    this._joiningConference = null
                    for (var i = 0; i < joiningConference.length; i++) {
                      joiningConference[i]()
                    }
                  }
                },
              )
            },

            /*
             * Function leaveConference
             */
            leaveConference: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'leaveConference failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {}
              if (typeof options === 'string') {
                params.conf_id = string(options)
              } else {
                params.conf_id = string(options && options.conf_id)
                if (options && options.rejoinable) {
                  params.rejoinable = options.rejoinable
                }
              }

              this._rpcCall(
                'LeaveConference',
                params,
                function (result) {
                  if (this._conferences[params.conf_id]) {
                    delete this._conferences[params.conf_id]
                  }

                  // callback
                  if (funcOK) {
                    var ev = {
                      closes: Boolean(result.closes),
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function kickOutOfConference
             */
            kickOutOfConference: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'kickOutOfConference failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!options || typeof options.user_id === 'undefined') {
                this._logger.log(
                  'info',
                  'kickOutOfConference failed (code: ' +
                    Errors.GENERAL_CLIENT_ERROR_ARGUMENT +
                    ', message: ' +
                    'Empty user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.GENERAL_CLIENT_ERROR_ARGUMENT,
                    message: 'Empty user_id',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'KickOutOfConference',
                options || {},
                function (result) {
                  // callback
                  if (funcOK) {
                    var ev = {
                      users: result.users,
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function inviteToConference
             */
            inviteToConference: function (conf_id, invite, funcOK, funcError) {
              this.transferWebchat(
                conf_id,
                { users: invite, keepDistribution: true },
                funcOK,
                funcError,
              )
            },

            /*
             * Function transferWebchat
             */
            transferWebchat: function (conf_id, options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'inviteToConference failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              conf_id = string(conf_id)

              if (!this._conferences[conf_id]) {
                this._logger.log(
                  'info',
                  'inviteToConference failed (code: ' +
                    Errors.INVITETOCONFERENCE_NOT_FOUND_CONF +
                    ', message: ' +
                    'Not found conf_id=' +
                    conf_id +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVITETOCONFERENCE_NOT_FOUND_CONF,
                    message: 'Not found conf_id=' + conf_id,
                  }
                  funcError(ev)
                }
                return
              }
              if (
                !options ||
                (options.keepDistribution &&
                  (!options.users || !options.users.length))
              ) {
                this._logger.log(
                  'info',
                  'inviteToConference failed (code: ' +
                    Errors.INVITETOCONFERENCE_EMPTY_INVITE +
                    ', message: ' +
                    'Empty invite' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVITETOCONFERENCE_EMPTY_INVITE,
                    message: 'Empty invite',
                  }
                  funcError(ev)
                }
                return
              }

              var conference = this.getConference(conf_id)
              var profile = this.getProfile()
              var users = []
              var acds = []
              var acd = string(
                options.acd ||
                  (conference &&
                    conference.invite_properties &&
                    conference.invite_properties.webchatfromguest &&
                    conference.invite_properties.webchatfromguest.acd_id),
              )
              var newWebchatfromguest = null
              if (
                conference &&
                conference.invite_properties &&
                conference.invite_properties.webchatfromguest
              ) {
                newWebchatfromguest = { fromuser: true }
                if (acd) {
                  newWebchatfromguest.acd_id = acd
                }
              }
              if (options.users) {
                for (var i = 0; i < options.users.length; i++) {
                  users.push({
                    tenant: string(options.users[i].tenant || this._tenant),
                    user_id: string(
                      options.users[i].user_id || options.users[i],
                    ),
                    join: false,
                    properties: {
                      invisible: Boolean(options.users[i].invisible),
                      webchatfromguest: newWebchatfromguest,
                    },
                  })
                }
              }
              if (!users.length && acd) {
                acds.push({
                  tenant: string(this._tenant),
                  acd: acd,
                  join: false,
                  properties: {
                    invisible: false,
                    webchatfromguest: newWebchatfromguest,
                  },
                })
              }

              this._rpcCall(
                'InviteToConference',
                {
                  conf_id: conference.conf_id,
                  from_user_name: profile.name,
                  user: users,
                  acds: acds,
                },
                function (result) {
                  if (options.keepDistribution) {
                    if (funcOK) {
                      var ev = {
                        ltime: stringifyTstamp(result.tstamp),
                        tstamp: int(result.tstamp),
                      }
                      funcOK(ev)
                    }
                  } else {
                    var adds = []
                    if (users.length || !acd) {
                      adds.push({
                        tag_type: '_webchat',
                        tag_key: 'newDistributionType',
                        tag_value: '0',
                        permission: Constants.USER_TYPE_TENANT_USER,
                      })
                      adds.push({
                        tag_type: '_webchat',
                        tag_key: 'newDistributionTarget',
                        tag_value: users
                          .map(function (u) {
                            return u.user_id
                          })
                          .join(','),
                        permission: Constants.USER_TYPE_TENANT_USER,
                      })
                    } else {
                      adds.push({
                        tag_type: '_webchat',
                        tag_key: 'newDistributionType',
                        tag_value: '1',
                        permission: Constants.USER_TYPE_TENANT_USER,
                      })
                      adds.push({
                        tag_type: '_webchat',
                        tag_key: 'newDistributionTarget',
                        tag_value: acd,
                        permission: Constants.USER_TYPE_TENANT_USER,
                      })
                    }
                    if (options.acd) {
                      adds.push({
                        tag_type: '_webchat',
                        tag_key: 'acd',
                        tag_value: acd,
                        permission: Constants.USER_TYPE_TENANT_USER,
                      })
                    }
                    this._rpcCall(
                      'UpdateTag',
                      {
                        attached_type: 'conf',
                        attached_id: conference.conf_id,
                        yyyymm: conference.yyyymm,
                        adds: adds,
                        removes: [],
                      },
                      function (result2) {
                        if (funcOK) {
                          var ev = {
                            ltime: stringifyTstamp(result.tstamp),
                            tstamp: int(result.tstamp),
                            users: result.users,
                            invitation_id: string(result.invitation_id),
                          }
                          funcOK(ev)
                        }
                      },
                      function (error) {
                        if (funcError) {
                          var ev = {
                            code: int(error.code),
                            message: string(error.message),
                          }
                          funcError(ev)
                        }
                      },
                    )
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function cancelTransfer
             */
            cancelTransfer: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'cancelTransfer failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              // clone options (do not use Object.assign for nashorn)
              var optionsOrg = options
              options = {}
              var keys = Object.keys(optionsOrg)
              for (var i = 0; i < keys.length; i++) {
                options[keys[i]] = optionsOrg[keys[i]]
              }

              options.conf_status = Constants.CONF_STATUS_INVITED_WEBCHAT

              this._rpcCall(
                'KickOutOfConference',
                options,
                function (result) {
                  // callback
                  if (funcOK) {
                    var ev = {
                      users: result.users,
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function inviteGuest
             */
            inviteGuest: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'inviteGuest failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }
              this._rpcCall('InviteGuest', options, funcOK, funcError)
            },

            /*
             * Function enterWebchatRoom
             */
            enterWebchatRoom: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'enterWebchatRoom failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var profile = this.getProfile()
              var subject =
                options && options.properties && options.properties.subject
              var ext_conf_info = JSON.parse(
                JSON.stringify(
                  (options &&
                    options.properties &&
                    options.properties.ext_conf_info) ||
                    {},
                ),
              )

              var adds = []
              var myProfileImageUrl = ''
              try {
                myProfileImageUrl = string(
                  (
                    JSON.parse(
                      string(
                        this._ucclient_customized_status_table[
                          JSON.stringify({
                            tenant: this._tenant,
                            user_id: this._user_id,
                          })
                        ],
                      ),
                    ) || {}
                  ).myProfileImageUrl,
                )
              } catch (e) {}
              if (myProfileImageUrl) {
                adds.push({
                  tag_type: '_webchat',
                  tag_key: 'myProfileImageUrl',
                  tag_value: myProfileImageUrl,
                  permission: Constants.USER_TYPE_TENANT_GUEST,
                })
              }
              if (options && options.adds && options.adds.length) {
                adds = adds.concat(options.adds)
              }

              var continuation_info = options && options.continuation_info
              if (!continuation_info && options && options.continuation_code) {
                continuation_info = this.parseContinuationCode(
                  options.continuation_code,
                )
                if (!continuation_info) {
                  this._logger.log(
                    'warn',
                    'Invalid continuation_code=' + options.continuation_code,
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.LOGIN_FAILED,
                      message:
                        'Invalid continuation_code=' +
                        options.continuation_code,
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              this._enteringWebchatRoom = []
              this._rpcCall(
                'EnterWebchatRoom',
                {
                  properties: (options && options.properties) || {},
                  adds: adds,
                  continuation_info: continuation_info,
                },
                function (result) {
                  var conf_id = string(result.conf_id)

                  // new conference
                  this._newConference(conf_id)

                  this._conferences[conf_id].subject = string(subject)
                  this._conferences[conf_id].created_time = stringifyTstamp(
                    result.tstamp,
                  )
                  this._conferences[conf_id].created_tstamp = int(result.tstamp)
                  this._conferences[conf_id].created_server_time = string(
                    result.ltime,
                  )
                  this._conferences[conf_id].conf_type = this.CONFTYPE_WEBCHAT
                  this._conferences[conf_id].ext_conf_info = ext_conf_info
                  this._conferences[conf_id].conf_tags = []

                  // from
                  this._conferences[conf_id].from.tenant = this._tenant
                  this._conferences[conf_id].from.user_id = this._user_id
                  this._conferences[conf_id].from.user_name = profile.name

                  // creator
                  this._conferences[conf_id].creator.tenant = this._tenant
                  this._conferences[conf_id].creator.user_id = this._user_id
                  this._conferences[conf_id].creator.user_name = profile.name

                  // conf_status
                  this._conferences[conf_id].conf_status =
                    Constants.CONF_STATUS_JOINED

                  // send conf_start
                  if (result.confStart) {
                    this._rpcCall('SendText', {
                      text: '',
                      conf_id: conf_id,
                      conf_type: this._conferences[conf_id].conf_type,
                      ctype: Constants.CTYPE_CONF_START,
                    })
                  }

                  // callback
                  if (funcOK) {
                    var ev = {
                      conference: this.getConference(conf_id),
                      ltime: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }

                  if (this._enteringWebchatRoom) {
                    var enteringWebchatRoom = this._enteringWebchatRoom
                    this._enteringWebchatRoom = null
                    for (var i = 0; i < enteringWebchatRoom.length; i++) {
                      enteringWebchatRoom[i]()
                    }
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }

                  if (this._enteringWebchatRoom) {
                    var enteringWebchatRoom = this._enteringWebchatRoom
                    this._enteringWebchatRoom = null
                    for (var i = 0; i < enteringWebchatRoom.length; i++) {
                      enteringWebchatRoom[i]()
                    }
                  }
                },
              )
            },

            /*
             * Function publishContinuationCode
             */
            publishContinuationCode: function (options) {
              var code = Math.floor(Math.random() * 90000) + 10000
              var chkdgt =
                (Math.floor(code / 10000) +
                  Math.floor((code % 10000) / 1000) +
                  Math.floor((code % 1000) / 100) +
                  Math.floor((code % 100) / 10) +
                  Math.floor(code % 10)) %
                10
              return (
                string(code) +
                string(chkdgt) +
                string(options.yyyymm) +
                string(options.conf_id)
              )
            },

            /*
             * Function parseContinuationCode
             */
            parseContinuationCode: function (continuation_code) {
              continuation_code = string(continuation_code)
              var code = int(continuation_code.substring(0, 5))
              var chkdgt =
                (Math.floor(code / 10000) +
                  Math.floor((code % 10000) / 1000) +
                  Math.floor((code % 1000) / 100) +
                  Math.floor((code % 100) / 10) +
                  Math.floor(code % 10)) %
                10
              if (string(chkdgt) === continuation_code.substring(5, 6)) {
                return {
                  conf_id: continuation_code.substring(12),
                  yyyymm: continuation_code.substring(6, 12),
                }
              } else {
                return null
              }
            },

            createOutgoingWebchat: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createOutgoingWebchat failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'CreateOutgoingWebchat',
                options || {},
                funcOK,
                funcError,
              )
            },

            // obsotele (replaced by updateTag)
            /*
             * Function changeExtConfInfo
             */
            changeExtConfInfo: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'changeExtConfInfo failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall('SetExtConfInfo', options, funcOK, funcError)
            },

            /*
             * Function sendConferenceText
             */
            sendConferenceText: function (text, conf_id, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendConferenceText failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              conf_id = string(conf_id)

              if (!this._conferences[conf_id]) {
                this._logger.log(
                  'info',
                  'sendConferenceText failed (code: ' +
                    Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF +
                    ', message: ' +
                    'Not found conf_id=' +
                    conf_id +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF,
                    message: 'Not found conf_id=' + conf_id,
                  }
                  funcError(ev)
                }
                return
              }

              var textVal = string(text)

              // send
              this._rpcCall(
                'SendText',
                {
                  text: textVal,
                  conf_id: conf_id,
                  conf_type: string(this._conferences[conf_id].conf_type),
                  ctype: Constants.CTYPE_TEXT,
                },
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_id = ''
                    ;(result.topic_ids || []).forEach(function (topic) {
                      if (
                        topic &&
                        topic.tenant === '' &&
                        topic.user_id === ''
                      ) {
                        topic_id = string(topic.topic_id || '')
                      }
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_id: topic_id,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function sendFile
             */
            sendFile: function (target, input, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendFile failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!target || !target.user_id) {
                this._logger.log(
                  'info',
                  'sendFile failed (code: ' +
                    Errors.SENDFILE_EMPTY_USER +
                    ', message: ' +
                    'Empty target.user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILE_EMPTY_USER,
                    message: 'Empty target.user_id',
                  }
                  funcError(ev)
                }
                return
              }
              if (!input || !input.form) {
                this._logger.log(
                  'info',
                  'sendFile failed (code: ' +
                    Errors.SENDFILE_EMPTY_FORM +
                    ', message: ' +
                    'Empty input.form' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILE_EMPTY_FORM,
                    message: 'Empty input.form',
                  }
                  funcError(ev)
                }
                return
              }
              var conf_id = string(target.conf_id)
              target = {
                tenant: string(target.tenant || this._tenant),
                user_id: string(target.user_id),
              }
              var name = ''
              var size = 0
              var ext = ''
              if (input.files) {
                // File API enabled
                var file = input.files[0]
                if (file) {
                  name = file.name
                  size = file.size
                } else {
                  this._logger.log(
                    'info',
                    'sendFile failed (code: ' +
                      Errors.SENDFILE_EMPTY_FILES +
                      ', message: ' +
                      'Empty input.files[0]' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDFILE_EMPTY_FILES,
                      message: 'Empty input.files[0]',
                    }
                    funcError(ev)
                  }
                  return
                }
              } else {
                var path = input.value
                if (path) {
                  name = path.split('\\').pop()
                } else {
                  this._logger.log(
                    'info',
                    'sendFile failed (code: ' +
                      Errors.SENDFILE_EMPTY_VALUE +
                      ', message: ' +
                      'Empty input.value' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDFILE_EMPTY_VALUE,
                      message: 'Empty input.value',
                    }
                    funcError(ev)
                  }
                  return
                }
              }
              if (name.indexOf('.') > -1) {
                ext = name.split('.').pop()
              }
              var params = {
                type: 'chunk',
                target: target,
                file_name: name,
              }
              if (size > 0) {
                params.size = size
              }
              if (ext !== '') {
                params.ext = ext
              }
              // get file_id from server
              this._rpcCall(
                'PrepareFileTransfer',
                params,
                function (result) {
                  var file_id = result.file_id
                  var fileProps = {
                    file_id: file_id,
                    name: name,
                    target: target,
                  }
                  if (size > 0) {
                    fileProps.size = size
                  }
                  var sendTextParams = {
                    text: JSON.stringify(fileProps),
                    ctype: Constants.CTYPE_FILE_REQUEST,
                  }
                  if (conf_id) {
                    sendTextParams.conf_id = conf_id
                    sendTextParams.conf_type = string(
                      this._conferences[conf_id].conf_type,
                    )
                  } else {
                    sendTextParams.target = [target]
                  }
                  this._rpcCall(
                    'SendText',
                    sendTextParams,
                    function (result) {
                      this._lastMessageTime = int(result.tstamp)

                      // FormData
                      var fd = null
                      if (window.FormData) {
                        // FormData enabled
                        // upload with XHR + FormData
                        input.form.method = 'POST'
                        input.form.enctype = 'multipart/form-data'
                        fd = new window.FormData(input.form)
                      }

                      // new file info
                      this._newFileInfo(
                        file_id,
                        target,
                        true,
                        Constants.FILE_STATUS_UNACCEPTED,
                        name,
                        size,
                        input.form,
                        fd,
                      )

                      // callback
                      if (funcOK) {
                        var topic_id = ''
                        ;(result.topic_ids || []).forEach(function (topic) {
                          if (
                            topic &&
                            topic.tenant === target.tenant &&
                            topic.user_id === target.user_id
                          ) {
                            topic_id = string(topic.topic_id || '')
                          }
                        })
                        var ltime = stringifyTstamp(result.tstamp)
                        var ev = {
                          fileInfo: this.getFileInfo(file_id),
                          text_id:
                            string(result.action_id) +
                            '_' +
                            ltime.substr(0, 7).split('-').join(''),
                          topic_id: topic_id,
                          ltime: ltime,
                          tstamp: int(result.tstamp),
                        }
                        funcOK(ev)
                      }
                    },
                    funcError,
                  )
                },
                funcError,
              )
            },

            /*
             * Function sendFiles
             */
            sendFiles: function (
              options,
              fileList,
              funcOK,
              funcError,
              evRecursion,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendFiles failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!window.FormData) {
                this._logger.log(
                  'info',
                  'sendFiles failed (code: ' +
                    Errors.SENDFILES_FORMDATA_NOT_SUPPORTED +
                    ', message: ' +
                    'FormData not supported' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILES_FORMDATA_NOT_SUPPORTED,
                    message: 'FormData not supported',
                  }
                  funcError(ev)
                }
                return
              }
              if (
                !options ||
                (!options.user_id &&
                  (!options.conf_id || !this._conferences[options.conf_id]))
              ) {
                this._logger.log(
                  'info',
                  'sendFiles failed (code: ' +
                    Errors.SENDFILES_EMPTY_USER +
                    ', message: ' +
                    'Empty options.user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILES_EMPTY_USER,
                    message: 'Empty options.user_id',
                  }
                  funcError(ev)
                }
                return
              }
              if (!fileList || !fileList.length || !fileList[0]) {
                this._logger.log(
                  'info',
                  'sendFiles failed (code: ' +
                    Errors.SENDFILES_EMPTY_FILELIST +
                    ', message: ' +
                    'Empty fileList' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILES_EMPTY_FILELIST,
                    message: 'Empty fileList',
                  }
                  funcError(ev)
                }
                return
              }
              var conf_id = string(options.conf_id)
              var target = {
                tenant: string(options.tenant || this._tenant),
                user_id: string(options.user_id),
              }
              var conf_users = []
              if (
                !options.user_id &&
                this._conferences[conf_id] &&
                this._conferences[conf_id].user
              ) {
                for (
                  var i = 0;
                  i < this._conferences[conf_id].user.length;
                  i++
                ) {
                  if (
                    int(this._conferences[conf_id].user[i].conf_status) ===
                      Constants.CONF_STATUS_JOINED &&
                    (this._conferences[conf_id].user[i].tenant !==
                      this._tenant ||
                      this._conferences[conf_id].user[i].user_id !==
                        this._user_id)
                  ) {
                    conf_users.push({
                      tenant: string(
                        this._conferences[conf_id].user[i].tenant ||
                          this._tenant,
                      ),
                      user_id: string(
                        this._conferences[conf_id].user[i].user_id,
                      ),
                    })
                  }
                }
                if (conf_users.length) {
                  target = conf_users.shift()
                }
              }
              var file = fileList[0]
              var name = file.name
              var size = file.size
              var ext = ''
              if (name.indexOf('.') > -1) {
                ext = name.split('.').pop()
              }
              var params = {
                type: 'chunk',
                target: target,
                file_name: name,
              }
              if (size > 0) {
                params.size = size
              }
              if (ext !== '') {
                params.ext = ext
              }

              if (size === 0) {
                // folder
                // skip
                var file_id =
                  'error' + new Date().getTime() + 'a' + fileList.length
                // new file info
                this._newFileInfo(
                  file_id,
                  target,
                  true,
                  Constants.FILE_STATUS_ERROR,
                  name,
                  size,
                  null,
                  null,
                )

                if (
                  !evRecursion ||
                  !evRecursion.infoList ||
                  !evRecursion.infoList.push
                ) {
                  evRecursion = {
                    infoList: [],
                  }
                }
                var date = new Date()
                evRecursion.infoList.push({
                  fileInfo: this.getFileInfo(file_id),
                  fileInfos: [this.getFileInfo(file_id)],
                  ltime: stringifyTstamp(+date),
                  tstamp: int(+date),
                })
                if (fileList.length > 1) {
                  // recursion
                  var newFileList = []
                  for (var i = 1; i < fileList.length; i++) {
                    newFileList.push(fileList[i])
                  }
                  this.sendFiles(
                    options,
                    newFileList,
                    funcOK,
                    funcError,
                    evRecursion,
                  )
                } else {
                  // end of recursion
                  if (funcOK) {
                    funcOK(evRecursion)
                  }
                  return
                }
                return
              }

              // get file_id from server
              var fileProps = {
                file_id: null,
                name: name,
                target: target,
                additionals: [],
              }
              if (size > 0) {
                fileProps.size = size
              }
              var prepareFileTransferFuncOK = function (result) {
                var file_id = string(result.file_id)
                if (!fileProps.file_id) {
                  // file_id of first user
                  fileProps.file_id = file_id
                } else {
                  // file_id of additional conf_users
                  fileProps.additionals.push({
                    file_id: file_id,
                    target: params.target,
                  })
                }
                if (conf_users.length) {
                  // get file_id for additional conf_users from server
                  params.target = conf_users.shift()
                  this._rpcCall(
                    'PrepareFileTransfer',
                    params,
                    prepareFileTransferFuncOK,
                    funcError,
                  )
                } else {
                  // getting file_id completed for all users
                  var sendTextParams = {
                    text: JSON.stringify(fileProps),
                    ctype: Constants.CTYPE_FILE_REQUEST,
                  }
                  if (conf_id) {
                    sendTextParams.conf_id = conf_id
                    sendTextParams.conf_type = string(
                      this._conferences[conf_id].conf_type,
                    )
                  } else {
                    sendTextParams.target = [target]
                  }
                  this._rpcCall(
                    'SendText',
                    sendTextParams,
                    function (result) {
                      this._lastMessageTime = int(result.tstamp)

                      var form
                      var fd
                      // FormData
                      form = document.createElement('form')
                      form.method = 'POST'
                      form.enctype = 'multipart/form-data'
                      fd = new window.FormData(form)
                      fd.append(name, file)
                      // new file info
                      this._newFileInfo(
                        fileProps.file_id,
                        target,
                        true,
                        Constants.FILE_STATUS_UNACCEPTED,
                        name,
                        size,
                        null,
                        fd,
                      )
                      for (var i = 0; i < fileProps.additionals.length; i++) {
                        // FormData for additional conf_users
                        form = document.createElement('form')
                        form.method = 'POST'
                        form.enctype = 'multipart/form-data'
                        fd = new window.FormData(form)
                        fd.append(name, file)
                        // new file info for additional conf_users
                        this._newFileInfo(
                          fileProps.additionals[i].file_id,
                          fileProps.additionals[i].target,
                          true,
                          Constants.FILE_STATUS_UNACCEPTED,
                          name,
                          size,
                          null,
                          fd,
                        )
                      }

                      if (
                        !evRecursion ||
                        !evRecursion.infoList ||
                        !evRecursion.infoList.push
                      ) {
                        evRecursion = {
                          infoList: [],
                        }
                      }
                      var topic_id = ''
                      ;(result.topic_ids || []).forEach(function (topic) {
                        if (
                          topic &&
                          topic.tenant ===
                            (sendTextParams.conf_id ? '' : target.tenant) &&
                          topic.user_id ===
                            (sendTextParams.conf_id ? '' : target.user_id)
                        ) {
                          topic_id = string(topic.topic_id || '')
                        }
                      })
                      var ltime = stringifyTstamp(result.tstamp)
                      evRecursion.infoList.push({
                        fileInfo: this.getFileInfo(fileProps.file_id),
                        fileInfos: [this.getFileInfo(fileProps.file_id)],
                        text_id:
                          string(result.action_id) +
                          '_' +
                          ltime.substr(0, 7).split('-').join(''),
                        topic_id: topic_id,
                        ltime: ltime,
                        tstamp: int(result.tstamp),
                      })
                      for (var i = 0; i < fileProps.additionals.length; i++) {
                        evRecursion.infoList[
                          evRecursion.infoList.length - 1
                        ].fileInfos.push(
                          this.getFileInfo(fileProps.additionals[i].file_id),
                        )
                      }
                      if (fileList.length > 1) {
                        // recursion
                        var newFileList = []
                        for (var i = 1; i < fileList.length; i++) {
                          newFileList.push(fileList[i])
                        }
                        this.sendFiles(
                          options,
                          newFileList,
                          funcOK,
                          funcError,
                          evRecursion,
                        )
                      } else {
                        // end of recursion
                        if (funcOK) {
                          funcOK(evRecursion)
                        }
                        return
                      }
                    },
                    funcError,
                  )
                }
              }
              this._rpcCall(
                'PrepareFileTransfer',
                params,
                prepareFileTransferFuncOK,
                funcError,
              )
            },

            /*
             * Function acceptFile
             */
            acceptFile: function (file_id, form, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'acceptFile failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              file_id = string(file_id)
              var fileInfo = this._fileInfos[file_id]
              if (!fileInfo || !fileInfo.file_id) {
                this._logger.log(
                  'info',
                  'acceptFile failed (code: ' +
                    Errors.ACCEPTFILE_NOT_FOUND_FILE +
                    ', message: ' +
                    'Not found file_id=' +
                    file_id +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.ACCEPTFILE_NOT_FOUND_FILE,
                    message: 'Not found file_id=' + file_id,
                  }
                  funcError(ev)
                }
                return
              }
              if (fileInfo.isUpload || fileInfo.status !== 1) {
                this._logger.log(
                  'info',
                  'acceptFile failed (code: ' +
                    Errors.ACCEPTFILE_INVALID_STATE +
                    ', message: ' +
                    'Invalid transfer state' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.ACCEPTFILE_INVALID_STATE,
                    message: 'Invalid transfer state',
                  }
                  funcError(ev)
                }
                return
              }

              // start download post
              form.action =
                (this._useHttps ? 'https://' : 'http://') +
                this._host +
                '/' +
                this._path +
                '/file?ACTION=DOWNLOAD&SUBACTION=TRANS&TRANSFER_ID=' +
                encodeURIComponent(file_id) +
                '&tenant=' +
                encodeURIComponent(this._tenant) +
                '&user=' +
                encodeURIComponent(this._user_id)
              form.method = 'POST'
              form.enctype = 'application/x-www-form-urlencoded'
              form.submit()

              // accept
              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'RecvFile',
                  target: fileInfo.target,
                  client_param: {
                    file_id: file_id,
                    response: Constants.CTYPE_FILE_ACCEPT,
                  },
                },
                function (result) {
                  this._changeFileInfo(
                    file_id,
                    Constants.FILE_STATUS_TRANSFERRING,
                    0,
                  )
                },
                funcError,
              )
            },

            /*
             * Function acceptFileWithXhr
             */
            acceptFileWithXhr: function (file_id, xhr, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'acceptFileWithXhr failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              file_id = string(file_id)
              var fileInfo = this._fileInfos[file_id]
              if (!fileInfo || !fileInfo.file_id) {
                this._logger.log(
                  'info',
                  'acceptFileWithXhr failed (code: ' +
                    Errors.ACCEPTFILE_NOT_FOUND_FILE +
                    ', message: ' +
                    'Not found file_id=' +
                    file_id +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.ACCEPTFILE_NOT_FOUND_FILE,
                    message: 'Not found file_id=' + file_id,
                  }
                  funcError(ev)
                }
                return
              }
              if (fileInfo.isUpload || fileInfo.status !== 1) {
                this._logger.log(
                  'info',
                  'acceptFileWithXhr failed (code: ' +
                    Errors.ACCEPTFILE_INVALID_STATE +
                    ', message: ' +
                    'Invalid transfer state' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.ACCEPTFILE_INVALID_STATE,
                    message: 'Invalid transfer state',
                  }
                  funcError(ev)
                }
                return
              }

              // start download post
              xhr.open(
                'POST',
                (this._useHttps ? 'https://' : 'http://') +
                  this._host +
                  '/' +
                  this._path +
                  '/file?ACTION=DOWNLOAD&SUBACTION=TRANS&TRANSFER_ID=' +
                  encodeURIComponent(file_id) +
                  '&tenant=' +
                  encodeURIComponent(this._tenant) +
                  '&user=' +
                  encodeURIComponent(this._user_id),
                true,
              )
              xhr.setRequestHeader(
                'Content-Type',
                'application/x-www-form-urlencoded',
              )
              xhr.send()

              // accept
              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'RecvFile',
                  target: fileInfo.target,
                  client_param: {
                    file_id: file_id,
                    response: Constants.CTYPE_FILE_ACCEPT,
                  },
                },
                function (result) {
                  this._changeFileInfo(
                    file_id,
                    Constants.FILE_STATUS_TRANSFERRING,
                    0,
                  )
                },
                funcError,
              )
            },

            /*
             * Function cancelFile
             */
            cancelFile: function (file_id, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'cancelFile failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              file_id = string(file_id)
              var fileInfo = this._fileInfos[file_id]
              if (!fileInfo || !fileInfo.file_id) {
                this._logger.log(
                  'info',
                  'cancelFile failed (code: ' +
                    Errors.CANCELFILE_NOT_FOUND_FILE +
                    ', message: ' +
                    'Not found file_id=' +
                    file_id +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.CANCELFILE_NOT_FOUND_FILE,
                    message: 'Not found file_id=' + file_id,
                  }
                  funcError(ev)
                }
                return
              }
              if (fileInfo.status !== 1 && fileInfo.status !== 2) {
                this._logger.log(
                  'info',
                  'cancelFile failed (code: ' +
                    Errors.CANCELFILE_INVALID_STATE +
                    ', message: ' +
                    'Invalid transfer state' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.CANCELFILE_INVALID_STATE,
                    message: 'Invalid transfer state',
                  }
                  funcError(ev)
                }
                return
              }
              if (fileInfo.isUpload) {
                // cancel upload
                this._rpcCall(
                  'SendClientEvent',
                  {
                    client_method: 'NotifyFileTransfer',
                    target: fileInfo.target,
                    client_param: {
                      file_id: file_id,
                      status: Constants.CTYPE_FILE_CANCEL,
                      progress: fileInfo.progress,
                    },
                  },
                  function (result) {
                    this._rpcCall(
                      'StopFileTransfer',
                      {
                        file_id: file_id,
                      },
                      function (result) {
                        if (fileInfo._xhr) {
                          fileInfo._xhr.abort()
                        }
                        this._terminateFileInfo(
                          file_id,
                          Constants.FILE_STATUS_LOCAL_CANCEL,
                        )
                      },
                      funcError,
                    )
                  },
                  funcError,
                )
              } else {
                // cancel (reject) download
                this._rpcCall(
                  'SendClientEvent',
                  {
                    client_method: 'RecvFile',
                    target: fileInfo.target,
                    client_param: {
                      file_id: file_id,
                      response: Constants.CTYPE_FILE_REJECT,
                    },
                  },
                  function (result) {
                    this._terminateFileInfo(
                      file_id,
                      Constants.FILE_STATUS_LOCAL_CANCEL,
                    )
                  },
                  funcError,
                )
              }
            },

            /*
             * Function sendCallResult
             */
            sendCallResult: function (options, text, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendCallResult failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              options = options || {}

              var sendTextParams = {
                text: string(text),
                ctype: Constants.CTYPE_CALL_RESULT,
              }

              if (options.conf_id) {
                // to conference
                var conf_id = string(options.conf_id)
                if (!this._conferences[conf_id]) {
                  this._logger.log(
                    'info',
                    'sendCallResult failed (code: ' +
                      Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF +
                      ', message: ' +
                      'Not found conf_id=' +
                      conf_id +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF,
                      message: 'Not found conf_id=' + conf_id,
                    }
                    funcError(ev)
                  }
                  return
                }
                sendTextParams.conf_id = conf_id
                sendTextParams.conf_type = string(
                  this._conferences[conf_id].conf_type,
                )
              } else {
                // to user or array
                sendTextParams.target = []
                var targets = [options].concat(options.targets || [])
                for (var i = 0; i < targets.length; i++) {
                  if (targets[i] && targets[i].user_id) {
                    sendTextParams.target.push({
                      tenant: string(targets[i].tenant || this._tenant),
                      user_id: string(targets[i].user_id),
                    })
                  }
                }
                if (sendTextParams.target.length < 1) {
                  this._logger.log(
                    'info',
                    'sendCallResult failed (code: ' +
                      Errors.SENDTEXT_EMPTY_USER +
                      ', message: ' +
                      'Empty user_id' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDTEXT_EMPTY_USER,
                      message: 'Empty user_id',
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              // send
              this._rpcCall(
                'SendText',
                sendTextParams,
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_id = ''
                    var target =
                      (sendTextParams.target && sendTextParams.target[0]) || {}
                    ;(result.topic_ids || []).forEach(function (topic) {
                      if (
                        topic &&
                        topic.tenant ===
                          (sendTextParams.conf_id ? '' : target.tenant) &&
                        topic.user_id ===
                          (sendTextParams.conf_id ? '' : target.user_id)
                      ) {
                        topic_id = string(topic.topic_id || '')
                      }
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_id: topic_id,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function sendObject
             */
            sendObject: function (options, object, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendObject failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              options = options || {}

              var sendTextParams = {
                ctype: Constants.CTYPE_OBJECT,
              }

              if (options.conf_id) {
                var conf_id = string(options.conf_id)
                if (!this._conferences[conf_id]) {
                  this._logger.log(
                    'info',
                    'sendObject failed (code: ' +
                      Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF +
                      ', message: ' +
                      'Not found conf_id=' +
                      conf_id +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF,
                      message: 'Not found conf_id=' + conf_id,
                    }
                    funcError(ev)
                  }
                  return
                }
                sendTextParams.conf_id = conf_id
                sendTextParams.conf_type = string(
                  this._conferences[conf_id].conf_type,
                )
              } else {
                sendTextParams.target = []
                var targets = [options].concat(options.targets || [])
                for (var i = 0; i < targets.length; i++) {
                  if (targets[i] && targets[i].user_id) {
                    sendTextParams.target.push({
                      tenant: string(targets[i].tenant || this._tenant),
                      user_id: string(targets[i].user_id),
                    })
                  }
                }
                if (sendTextParams.target.length < 1) {
                  this._logger.log(
                    'info',
                    'sendObject failed (code: ' +
                      Errors.SENDTEXT_EMPTY_USER +
                      ', message: ' +
                      'Empty user_id' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDTEXT_EMPTY_USER,
                      message: 'Empty user_id',
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              try {
                sendTextParams.text = JSON.stringify(object)
                if (!sendTextParams.text) {
                  throw { message: 'object is invalid' }
                }
              } catch (e) {
                this._logger.log(
                  'info',
                  'sendObject failed (code: ' +
                    Errors.SENDFILES_EMPTY_FILELIST +
                    ', message: ' +
                    e.message +
                    ' at sendObject' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDFILES_EMPTY_FILELIST,
                    message: e.message + ' at sendObject',
                  }
                  funcError(ev)
                }
                return
              }

              // send
              this._rpcCall(
                'SendText',
                sendTextParams,
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_id = ''
                    var target =
                      (sendTextParams.target && sendTextParams.target[0]) || {}
                    ;(result.topic_ids || []).forEach(function (topic) {
                      if (
                        topic &&
                        topic.tenant ===
                          (sendTextParams.conf_id ? '' : target.tenant) &&
                        topic.user_id ===
                          (sendTextParams.conf_id ? '' : target.user_id)
                      ) {
                        topic_id = string(topic.topic_id || '')
                      }
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_id: topic_id,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function sendConfLeave
             */
            sendConfLeave: function (options, text, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendConfLeave failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              options = options || {}

              var sendTextParams = {
                text: string(text),
                ctype: Constants.CTYPE_CONF_LEAVE,
              }

              if (options.conf_id) {
                // to conference
                var conf_id = string(options.conf_id)
                if (!this._conferences[conf_id]) {
                  this._logger.log(
                    'info',
                    'sendConfLeave failed (code: ' +
                      Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF +
                      ', message: ' +
                      'Not found conf_id=' +
                      conf_id +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDCONFERENCETEXT_NOT_FOUND_CONF,
                      message: 'Not found conf_id=' + conf_id,
                    }
                    funcError(ev)
                  }
                  return
                }
                sendTextParams.conf_id = conf_id
                sendTextParams.conf_type = string(
                  this._conferences[conf_id].conf_type,
                )
              } else {
                // to user or array
                sendTextParams.target = []
                var targets = [options].concat(options.targets || [])
                for (var i = 0; i < targets.length; i++) {
                  if (targets[i] && targets[i].user_id) {
                    sendTextParams.target.push({
                      tenant: string(targets[i].tenant || this._tenant),
                      user_id: string(targets[i].user_id),
                    })
                  }
                }
                if (sendTextParams.target.length < 1) {
                  this._logger.log(
                    'info',
                    'sendConfLeave failed (code: ' +
                      Errors.SENDTEXT_EMPTY_USER +
                      ', message: ' +
                      'Empty user_id' +
                      ')',
                  )
                  if (funcError) {
                    var ev = {
                      code: Errors.SENDTEXT_EMPTY_USER,
                      message: 'Empty user_id',
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              // send
              this._rpcCall(
                'SendText',
                sendTextParams,
                function (result) {
                  this._lastMessageTime = int(result.tstamp)

                  if (funcOK) {
                    var topic_id = ''
                    var target =
                      (sendTextParams.target && sendTextParams.target[0]) || {}
                    ;(result.topic_ids || []).forEach(function (topic) {
                      if (
                        topic &&
                        topic.tenant ===
                          (sendTextParams.conf_id ? '' : target.tenant) &&
                        topic.user_id ===
                          (sendTextParams.conf_id ? '' : target.user_id)
                      ) {
                        topic_id = string(topic.topic_id || '')
                      }
                    })
                    var ltime = stringifyTstamp(result.tstamp)
                    var ev = {
                      text_id:
                        string(result.action_id) +
                        '_' +
                        ltime.substr(0, 7).split('-').join(''),
                      topic_id: topic_id,
                      ltime: ltime,
                      tstamp: int(result.tstamp),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function makeCall
             */
            makeCall: function (
              target,
              mediaConstraints,
              option,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              // check arguments
              if (!this._phone) {
                if (funcError) {
                  var ev = {
                    code: Errors.MAKECALL_WEBRTC_UNAVAILABLE,
                    message: 'WebRTC unavailable',
                  }
                  funcError(ev)
                }
                return
              }
              if (target && target.user_id) {
                target = {
                  tenant: string(target.tenant || this._tenant),
                  user_id: string(target.user_id),
                }
              } else if (target && target.conf_id) {
                target = {
                  conf_id: string(target.conf_id),
                }
              } else if (target) {
                target = {
                  address: string(target.address || target),
                }
              } else {
                if (funcError) {
                  var ev = {
                    code: Errors.MAKECALL_EMPTY_TARGET,
                    message: 'Empty target',
                  }
                  funcError(ev)
                }
                return
              }
              if (
                !mediaConstraints ||
                !(mediaConstraints.audio || mediaConstraints.video)
              ) {
                if (funcError) {
                  var ev = {
                    code: Errors.MAKECALL_EMPTY_CONSTRAINTS,
                    message: 'Empty mediaConstraints',
                  }
                  funcError(ev)
                }
                return
              }
              mediaConstraints = {
                audio: mediaConstraints.audio || false,
                video: mediaConstraints.video || false,
              }
              if (!option) {
                option = {}
              }

              var sessionBundleId
              if (!option.call_id) {
                // numbering sessionBundleId
                sessionBundleId = ++this._sessionBundleIdCounter
              } else {
                sessionBundleId = option.call_id
                if (
                  !this._sessionBundleTable[sessionBundleId] ||
                  this._makeCallStatus[sessionBundleId]
                ) {
                  if (funcError) {
                    var ev = {
                      code: Errors.MAKECALL_INVALID_CALL,
                      message: 'Invalid option.call_id',
                    }
                    funcError(ev)
                  }
                  return
                }
              }

              // send shared object
              if (target.user_id && option.sharedObject) {
                var newOption = {}
                for (var key in option) {
                  if (key === 'sharedObject') {
                    newOption._sharedObject = option[key]
                  } else {
                    newOption[key] = option[key]
                  }
                }
                this._sendSharedObject(
                  target,
                  option.sharedObject,
                  this._byThis(this.makeCall, [
                    target,
                    mediaConstraints,
                    newOption,
                    funcOK,
                    funcError,
                  ]),
                  funcError,
                )
                return
              }
              var sharedObjectJson = JSON.stringify(
                option.sharedObject || option._sharedObject || {},
              )

              // initialize makeCall parameters
              var makeCallParamsArray = [] // able to make multi-session
              if (target.user_id) {
                // user_id
                var targetExtension = target.user_id // pbx extension
                // get pnumber
                var targetPnumber = null // sip address
                if (
                  this._phoneProperties.mode_uc_call === 1 ||
                  (this._phoneProperties.mode_uc_call === 2 &&
                    mediaConstraints.video)
                ) {
                  var buddyPhone =
                    this._buddyPhone[
                      JSON.stringify({
                        tenant: target.tenant,
                        user_id: target.user_id,
                      })
                    ]
                  if (buddyPhone) {
                    targetPnumber = string(buddyPhone.pnumber)
                  }
                  if (targetPnumber === null) {
                    if (funcError) {
                      var ev = {
                        code: Errors.MAKECALL_PNUMBER,
                        message: 'Target has no pnumber',
                      }
                      funcError(ev)
                    }
                    return
                  }
                }
                // mode_uc_call
                if (this._phoneProperties.mode_uc_call === 1) {
                  // directly
                  makeCallParamsArray.push({
                    targetAddress: targetPnumber,
                    mediaConstraints: mediaConstraints,
                    extraHeaders: this._phoneProperties.extraHeaderArray,
                    tenant: target.tenant,
                    user_id: target.user_id,
                  })
                } else if (this._phoneProperties.mode_uc_call === 2) {
                  // audio via PBX, video directly
                  if (mediaConstraints.audio) {
                    // audio session
                    makeCallParamsArray.push({
                      targetAddress: targetExtension,
                      mediaConstraints: {
                        audio: mediaConstraints.audio,
                        video: false,
                      },
                      extraHeaders: [],
                      tenant: target.tenant,
                      user_id: target.user_id,
                    })
                  }
                  if (mediaConstraints.video) {
                    // video session
                    makeCallParamsArray.push({
                      targetAddress: targetPnumber,
                      mediaConstraints: {
                        audio: false,
                        video: mediaConstraints.video,
                      },
                      extraHeaders: this._phoneProperties.extraHeaderArray,
                      tenant: target.tenant,
                      user_id: target.user_id,
                    })
                  }
                } else {
                  // via PBX
                  makeCallParamsArray.push({
                    targetAddress: targetExtension,
                    mediaConstraints: mediaConstraints,
                    extraHeaders: [],
                    tenant: target.tenant,
                    user_id: target.user_id,
                  })
                }
              } else if (target.conf_id) {
                // conf_id
                var conf_id = target.conf_id
                if (
                  !this._conferences[conf_id] ||
                  int(this._conferences[conf_id].conf_status) !==
                    Constants.CONF_STATUS_JOINED
                ) {
                  if (funcError) {
                    var ev = {
                      code: Errors.MAKECALL_NOT_JOINED_CONF,
                      message: 'Not joined conf_id=' + conf_id,
                    }
                    funcError(ev)
                  }
                  return
                }
                var targetExtension = this.PREFIX_CONFERENCE_EXTENSION + conf_id // pbx extension
                // get members pnumber
                var targetUsers = []
                if (
                  this._phoneProperties.mode_uc_call === 1 ||
                  (this._phoneProperties.mode_uc_call === 2 &&
                    mediaConstraints.video)
                ) {
                  for (
                    var i = 0;
                    i < this._conferences[conf_id].user.length;
                    i++
                  ) {
                    var user = this._conferences[conf_id].user[i]
                    // only member in video conference call
                    if (int(user.video_conf_status) === 7) {
                      var buddyPhone =
                        this._buddyPhone[
                          JSON.stringify({
                            tenant: string(user.tenant || this._tenant),
                            user_id: string(user.user_id),
                          })
                        ]
                      if (buddyPhone) {
                        targetUsers.push({
                          pnumber: string(buddyPhone.pnumber),
                          tenant: string(user.tenant || this._tenant),
                          user_id: string(user.user_id),
                        })
                      }
                    }
                  }
                  // join conference call
                  this._conferenceCalls[conf_id] = true
                  this._rpcCall(
                    'JoinConference',
                    {
                      conf_id: conf_id,
                      video_conf: this.VIDEO_CONF_VIDEO,
                      properties: {
                        invisible: false,
                      },
                    },
                    null,
                    null,
                  )
                } else {
                  // join conference call
                  this._rpcCall(
                    'JoinConference',
                    {
                      conf_id: conf_id,
                      video_conf: this.VIDEO_CONF_AUDIO,
                      properties: {
                        invisible: false,
                      },
                    },
                    null,
                    null,
                  )
                }
                // mode_uc_call
                if (this._phoneProperties.mode_uc_call === 1) {
                  // directly
                  for (var i = 0; i < targetUsers.length; i++) {
                    makeCallParamsArray.push({
                      targetAddress: targetUsers[i].pnumber,
                      mediaConstraints: mediaConstraints,
                      extraHeaders: this._phoneProperties.extraHeaderArray,
                      tenant: targetUsers[i].tenant,
                      user_id: targetUsers[i].user_id,
                    })
                  }
                } else if (this._phoneProperties.mode_uc_call === 2) {
                  // audio via PBX, video directly
                  if (mediaConstraints.audio) {
                    // audio session
                    makeCallParamsArray.push({
                      targetAddress: targetExtension,
                      mediaConstraints: {
                        audio: mediaConstraints.audio,
                        video: false,
                      },
                      extraHeaders: [],
                      tenant: '',
                      user_id: '',
                    })
                  }
                  if (mediaConstraints.video) {
                    // video session
                    for (var i = 0; i < targetUsers.length; i++) {
                      makeCallParamsArray.push({
                        targetAddress: targetUsers[i].pnumber,
                        mediaConstraints: {
                          audio: false,
                          video: mediaConstraints.video,
                        },
                        extraHeaders: this._phoneProperties.extraHeaderArray,
                        tenant: targetUsers[i].tenant,
                        user_id: targetUsers[i].user_id,
                      })
                    }
                  }
                } else {
                  // via PBX
                  makeCallParamsArray.push({
                    targetAddress: targetExtension,
                    mediaConstraints: mediaConstraints,
                    extraHeaders: [],
                    tenant: '',
                    user_id: '',
                  })
                }
              } else {
                // address
                makeCallParamsArray.push({
                  targetAddress: target.address,
                  mediaConstraints: mediaConstraints,
                  extraHeaders: [],
                  tenant: '',
                  user_id: '',
                })
              }

              if (target.conf_id && makeCallParamsArray.length === 0) {
                // create sessionBundle
                sessionBundle = {
                  target: target,
                  sessionIdArray: [],
                  lastCallInfo: '',
                  direction: Constants.CALL_DIRECTION_OUTGOING,
                  microphoneMuted: false,
                  cameraMuted: false,
                  autoAnswer: true,
                  autoTerminate: false,
                  mediaConstraints: mediaConstraints,
                  sharedObjectJson: sharedObjectJson,
                  singleSession: Boolean(option.singleSession),
                }
                if (!this._sessionBundleTable[sessionBundleId]) {
                  this._sessionBundleTable[sessionBundleId] = sessionBundle
                  var callInfo = this.getCallInfo(sessionBundleId)
                  this._sessionBundleTable[sessionBundleId].lastCallInfo =
                    JSON.stringify(callInfo)
                }
                if (funcOK) {
                  var ev = {
                    callInfo: callInfo,
                  }
                  funcOK(ev)
                }
                return
              }

              // makeCall timeout timer
              var timer = setTimeout(
                this._byThis(this._makeCallTimeout, [sessionBundleId]),
                this.MAKE_CALL_TIMEOUT_DEFAULT,
              )

              // memory timer and callback functions for each sessionBundleId
              this._makeCallStatus[sessionBundleId] = {
                timer: timer,
                funcOK: funcOK,
                funcError: funcError,
              }

              // do makeCall
              for (var i = 0; i < makeCallParamsArray.length; i++) {
                this._phone.makeCall(
                  makeCallParamsArray[i].targetAddress,
                  makeCallParamsArray[i].mediaConstraints,
                  makeCallParamsArray[i].extraHeaders,
                  {
                    sessionBundleId: sessionBundleId,
                    target: target,
                    tenant: makeCallParamsArray[i].tenant,
                    user_id: makeCallParamsArray[i].user_id,
                    mediaConstraints: mediaConstraints,
                    sharedObjectJson: sharedObjectJson,
                    singleSession: Boolean(option.singleSession),
                  },
                )
              }
            },

            /*
             * Function muteMicrophone
             */
            muteMicrophone: function (call_id, muted) {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              var sessionBundleId = string(call_id)
              muted = Boolean(muted)
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (sessionBundle) {
                sessionBundle.microphoneMuted = muted
                for (var i = 0; i < sessionBundle.sessionIdArray.length; i++) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (session && session.status === 'answered') {
                    session.muteMicrophone(muted)
                  }
                }

                // raise callInfoChanged event
                this._callInfoChanged(sessionBundleId)
              }
            },

            /*
             * Function muteCamera
             */
            muteCamera: function (call_id, muted) {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              var sessionBundleId = string(call_id)
              muted = Boolean(muted)
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (sessionBundle) {
                sessionBundle.cameraMuted = muted
                for (var i = 0; i < sessionBundle.sessionIdArray.length; i++) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (session && session.status === 'answered') {
                    session.muteCamera(muted)
                  }
                }

                // raise callInfoChanged event
                this._callInfoChanged(sessionBundleId)
              }
            },

            /*
             * Function answerCall
             */
            answerCall: function (call_id, mediaConstraints) {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              if (
                !mediaConstraints ||
                !(mediaConstraints.audio || mediaConstraints.video)
              ) {
                return
              }
              var sessionBundleId = string(call_id)
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (sessionBundle) {
                sessionBundle.autoAnswer = true
                sessionBundle.mediaConstraints = {
                  audio: mediaConstraints.audio || false,
                  video: mediaConstraints.video || false,
                }
                for (var i = 0; i < sessionBundle.sessionIdArray.length; i++) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (session && session.status === 'incoming') {
                    var audioConstraints = session.mediaConstraints.audio
                      ? sessionBundle.mediaConstraints.audio
                      : false
                    var videoConstraints = session.mediaConstraints.video
                      ? sessionBundle.mediaConstraints.video
                      : false
                    if (audioConstraints || videoConstraints) {
                      session.answer({
                        audio: audioConstraints,
                        video: videoConstraints,
                      })
                    }
                  }
                }
              }
            },

            /*
             * Function sendDTMF
             */
            sendDTMF: function (call_id, tone) {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              var sessionBundleId = string(call_id)
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (sessionBundle) {
                for (var i = 0; i < sessionBundle.sessionIdArray.length; i++) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (
                    session &&
                    session.status === 'answered' &&
                    session.mediaConstraints.audio
                  ) {
                    session.sendDTMF(tone)
                  }
                }
              }
            },

            /*
             * Function clearCall
             */
            clearCall: function (call_id) {
              if (this._signInStatus !== 3) {
                this._logger.log('warn', 'Not signed-in')
                return
              }

              var sessionBundleId = string(call_id)
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (sessionBundle) {
                sessionBundle.autoTerminate = true
                for (
                  var i = sessionBundle.sessionIdArray.length - 1;
                  i >= 0;
                  i--
                ) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (session && session.status !== 'terminated') {
                    session.hangUp()
                  }
                }
                // raise callInfoChanged event
                this._callInfoChanged(sessionBundleId)
              }
            },

            /*
             * Function sendCustomClientEvent
             */
            sendCustomClientEvent: function (
              target,
              client_param,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'sendCustomClientEvent failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!target.user_id) {
                this._logger.log(
                  'info',
                  'sendCustomClientEvent failed (code: ' +
                    Errors.SENDTYPING_EMPTY_USER +
                    ', message: ' +
                    'Empty target.user_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SENDTYPING_EMPTY_USER,
                    message: 'Empty target.user_id',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'CustomClientEvent',
                  target: {
                    tenant: string(target.tenant || this._tenant),
                    user_id: string(target.user_id),
                  },
                  client_param: client_param,
                },
                funcOK,
                funcError,
              )
            },

            /*
             * Function updateTag
             */
            updateTag: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'updateTag failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var text_id = string(options && options.attached_id).split('_')
              if (
                text_id[1] &&
                (options.attached_type === 'text' ||
                  options.attached_type === 'topic')
              ) {
                // clone options
                var optionsOrg = options
                options = {}
                var keys = Object.keys(optionsOrg)
                for (var i = 0; i < keys.length; i++) {
                  options[keys[i]] = optionsOrg[keys[i]]
                }
                // convert format
                if (options.attached_type === 'text') {
                  options.attached_type = 'action'
                }
                options.attached_id = text_id[0]
                options.yyyymm = text_id[1]
              }
              if (
                !options.yyyymm &&
                options.attached_type === 'conf' &&
                this._conferences[options.attached_id]
              ) {
                // clone options
                var optionsOrg = options
                options = {}
                var keys = Object.keys(optionsOrg)
                for (var i = 0; i < keys.length; i++) {
                  options[keys[i]] = optionsOrg[keys[i]]
                }
                // complement yyyymm
                options.yyyymm = string(
                  this._conferences[options.attached_id].created_server_time,
                )
                  .split('-')
                  .join('')
                  .substr(0, 6)
              }

              this._rpcCall('UpdateTag', options, funcOK, funcError)
            },

            /*
             * Function searchTopicsByDate
             */
            searchTopicsByDate: function (date, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchTopicsByDate failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!date || !date.getTime || !date.getTime()) {
                this._logger.log(
                  'info',
                  'searchTopicsByDate failed (code: ' +
                    Errors.SEARCHTOPICSBYDATE_INVALID_DATE +
                    ', message: ' +
                    'Invalid date' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SEARCHTOPICSBYDATE_INVALID_DATE,
                    message: 'Invalid date',
                  }
                  funcError(ev)
                }
                return
              }

              var dateString =
                date.getFullYear() +
                '-' +
                ('0' + (date.getMonth() + 1)).slice(-2) +
                '-' +
                ('0' + date.getDate()).slice(-2) +
                ' 00:00:00'

              this._rpcCall(
                'LogSearch',
                {
                  date: dateString,
                },
                function (result) {
                  var topics = []
                  var addedConfs = []
                  var addedUsers = []
                  for (var i = 0; i < result.topics.length; i++) {
                    if (result.topics[i].conf_id) {
                      if (addedConfs.indexOf(result.topics[i].conf_id) === -1) {
                        var topic = {
                          topic_id: string(++this._topicIdCounter),
                          conf_id: string(result.topics[i].conf_id),
                          subject: string(result.topics[i].subject),
                        }
                        topics.push(topic)
                        addedConfs.push(result.topics[i].conf_id)
                        this._topics[topic.topic_id] = {
                          date: dateString,
                          conf_id: result.topics[i].conf_id,
                        }
                      }
                    } else if (result.topics[i].sender) {
                      var opposite
                      if (
                        result.topics[i].sender.tenant !== this._tenant ||
                        result.topics[i].sender.user_id !== this._user_id
                      ) {
                        opposite = result.topics[i].sender
                      } else {
                        opposite = result.topics[i].receiver
                      }
                      if (opposite) {
                        if (
                          addedUsers.indexOf(
                            JSON.stringify({
                              tenant: opposite.tenant,
                              user_id: opposite.user_id,
                            }),
                          ) === -1
                        ) {
                          var topic = {
                            topic_id: string(++this._topicIdCounter),
                            tenant: string(opposite.tenant),
                            user_id: string(opposite.user_id),
                            user_name: string(opposite.user_name),
                          }
                          topics.push(topic)
                          addedUsers.push(
                            JSON.stringify({
                              tenant: opposite.tenant,
                              user_id: opposite.user_id,
                            }),
                          )
                          this._topics[topic.topic_id] = {
                            date: dateString,
                            tenant: opposite.tenant,
                            user_id: opposite.user_id,
                          }
                        }
                      }
                    }
                  }
                  if (funcOK) {
                    var ev = {
                      topics: topics,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchLogsByTopic
             */
            searchLogsByTopic: function (topic_id, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchLogsByTopic failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (!topic_id || !this._topics[topic_id]) {
                this._logger.log(
                  'info',
                  'searchLogsByTopic failed (code: ' +
                    Errors.SEARCHLOGSBYTOPIC_INVALID_TOPIC +
                    ', message: ' +
                    'Invalid topic_id' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.SEARCHLOGSBYTOPIC_INVALID_TOPIC,
                    message: 'Invalid topic_id',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetLog',
                this._topics[topic_id],
                function (result) {
                  var logs = []
                  for (var i = 0; i < result.logs.length; i++) {
                    logs.push({
                      content: string(result.logs[i].content),
                      sender: {
                        tenant: string(result.logs[i].sender.tenant),
                        user_id: string(result.logs[i].sender.user_id),
                        user_name: string(result.logs[i].sender.user_name),
                      },
                      receiver: {
                        tenant: string(result.logs[i].receiver.tenant),
                        user_id: string(result.logs[i].receiver.user_id),
                        user_name: string(result.logs[i].receiver.user_name),
                      },
                      ltime: stringifyTstamp(result.logs[i].tstamp),
                    })
                  }
                  if (funcOK) {
                    var ev = {
                      logs: logs,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchTopicsByCondition
             */
            searchTopicsByCondition: function (condition, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchTopicsByCondition failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              // check condition
              var toArray = function (a) {
                if (typeof a === 'string' && a.length) {
                  return a.split(' ')
                } else if (a && a.length) {
                  return a
                } else {
                  return []
                }
              }
              var content = toArray(condition.content)
              var name = toArray(condition.name)
              var subject = toArray(condition.subject)
              var any = toArray(condition.any)
              var tenant = string(condition.tenant) || null
              var user_id = string(condition.user_id) || null
              var conf_type = toArray(condition.conf_type)
              var conf_id = toArray(condition.conf_id)
              var tenant_me =
                condition.tenant_me || condition.tenant_me === ''
                  ? string(condition.tenant_me)
                  : null
              var user_id_me =
                condition.user_id_me || condition.user_id_me === ''
                  ? string(condition.user_id_me)
                  : null
              var tags =
                condition.tags && condition.tags.length ? condition.tags : []
              var begin = string(condition.begin) || null
              var end = string(condition.end) || null
              var asc = Boolean(condition.asc)
              var max = int(condition.max) || null

              this._rpcCall(
                'SearchTopics',
                {
                  content: content,
                  name: name,
                  subject: subject,
                  any: any,
                  tenant: tenant,
                  user_id: user_id,
                  conf_type: conf_type,
                  conf_id: conf_id,
                  tenant_me: tenant_me,
                  user_id_me: user_id_me,
                  tags: tags,
                  begin: begin,
                  end: end,
                  asc: asc,
                  max: max,
                },
                function (result) {
                  if (funcOK) {
                    var ev = result
                    if (ev && ev.topics) {
                      for (var i = 0; i < ev.topics.length; i++) {
                        ev.topics[i].object = undefined
                        if (ev.topics[i].ctype === Constants.CTYPE_OBJECT) {
                          try {
                            ev.topics[i].object = JSON.parse(
                              ev.topics[i].content,
                            )
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at searchTopicsByCondition',
                            )
                          }
                        }
                        ev.topics[i].ltime = stringifyTstamp(
                          ev.topics[i].tstamp,
                        )
                      }
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchTopicTexts
             */
            searchTopicTexts: function (topic_id, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchTopicTexts failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SearchTopicTexts',
                {
                  topic_id: string(topic_id),
                },
                function (result) {
                  if (funcOK) {
                    var ev = result
                    if (ev && ev.logs && ev.senders) {
                      for (var i = 0; i < ev.logs.length; i++) {
                        ev.logs[i].sender = ev.senders[ev.logs[i].sender]
                        ev.logs[i].object = undefined
                        if (ev.logs[i].ctype === Constants.CTYPE_OBJECT) {
                          try {
                            ev.logs[i].object = JSON.parse(ev.logs[i].content)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at searchTopicTexts',
                            )
                          }
                        }
                        ev.logs[i].ltime = stringifyTstamp(ev.logs[i].tstamp)
                      }
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchConferenceTexts
             */
            searchConferenceTexts: function (condition, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchConferenceTexts failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SearchConferenceTexts',
                {
                  conf_id: string(condition && condition.conf_id),
                  topic_id: string(condition && condition.topic_id),
                  yyyymm: string(condition && condition.yyyymm),
                  searchtoken: string(condition && condition.searchtoken),
                },
                function (result) {
                  if (funcOK) {
                    var ev = result
                    if (ev && ev.logs) {
                      for (var i = 0; i < ev.logs.length; i++) {
                        ev.logs[i].sender =
                          (ev.senders && ev.senders[ev.logs[i].sender]) || {}
                        ev.logs[i].object = undefined
                        if (ev.logs[i].ctype === Constants.CTYPE_OBJECT) {
                          try {
                            ev.logs[i].object = JSON.parse(ev.logs[i].content)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at searchConferenceTexts',
                            )
                          }
                        }
                        ev.logs[i].topic_id = string(ev.logs[i].topic_id || '')
                        ev.logs[i].ltime = stringifyTstamp(ev.logs[i].tstamp)
                      }
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchRelatedConferenceTexts
             */
            searchRelatedConferenceTexts: function (
              condition,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchRelatedConferenceTexts failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SearchRelatedConferenceTexts',
                condition,
                function (result) {
                  if (funcOK) {
                    var ev = result
                    if (ev && ev.logs) {
                      for (var i = 0; i < ev.logs.length; i++) {
                        ev.logs[i].sender =
                          (ev.senders && ev.senders[ev.logs[i].sender]) || {}
                        ev.logs[i].object = undefined
                        if (ev.logs[i].ctype === Constants.CTYPE_OBJECT) {
                          try {
                            ev.logs[i].object = JSON.parse(ev.logs[i].content)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at searchRelatedConferenceTexts',
                            )
                          }
                        }
                        ev.logs[i].topic_id = string(ev.logs[i].topic_id || '')
                        ev.logs[i].ltime = stringifyTstamp(ev.logs[i].tstamp)
                      }
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function searchTexts
             */
            searchTexts: function (condition, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'searchTexts failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              // check condition
              var tenant = string(condition.tenant) || null
              var user_id = string(condition.user_id) || null
              var conf_id = string(condition.conf_id) || null
              var begin = string(condition.begin) || null
              var end = string(condition.end) || null
              var asc = Boolean(condition.asc)
              var max = int(condition.max) || null

              this._rpcCall(
                'SearchTexts',
                {
                  tenant: tenant,
                  user_id: user_id,
                  conf_id: conf_id,
                  begin: begin,
                  end: end,
                  asc: asc,
                  max: max,
                },
                function (result) {
                  if (funcOK) {
                    var ev = result
                    if (ev && ev.logs) {
                      for (var i = 0; i < ev.logs.length; i++) {
                        ev.logs[i].sender =
                          (ev.senders && ev.senders[ev.logs[i].sender]) || {}
                        ev.logs[i].object = undefined
                        if (ev.logs[i].ctype === Constants.CTYPE_OBJECT) {
                          try {
                            ev.logs[i].object = JSON.parse(ev.logs[i].content)
                          } catch (e) {
                            this._logger.log(
                              'warn',
                              e.message + ' at searchTexts',
                            )
                          }
                        }
                        ev.logs[i].topic_id = string(ev.logs[i].topic_id || '')
                        ev.logs[i].ltime = stringifyTstamp(ev.logs[i].tstamp)
                      }
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function getServerTime
             */
            getServerTime: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'getServerTime failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetServerTime',
                {},
                function (result) {
                  if (funcOK) {
                    var ev = {
                      time: stringifyTstamp(result.tstamp),
                      tstamp: int(result.tstamp),
                      serverTime: string(result.ltime),
                    }
                    funcOK(ev)
                  }
                },
                funcError,
              )
            },

            /*
             * Function createGuestAccount
             */
            createGuestAccount: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createGuestAccount failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                tenant: string(this._tenant),
              }
              if (options && options.name) {
                params.name = string(options.name)
              }
              if (options && options.email) {
                params.email = string(options.email)
              }

              this._rpcCall(
                'CreateGuestUser',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {
                      tenant: string(this._tenant),
                      user_id: string(result.user_id),
                      password: string(result.password),
                      expire_time: int(result.expire_time),
                      login_token: string(result.login_token),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadSystemProperties
             */
            loadSystemProperties: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadSystemProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadSystemProperties failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetSystemProperties',
                {
                  type: 'all',
                },
                function (result) {
                  if (funcOK) {
                    var ev = {
                      systemProperties: {
                        db: result.db,
                        pbx: result.pbx,
                        cim: result.cim,
                        log: result.log,
                        misc: result.misc,
                      },
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveSystemProperties
             */
            saveSystemProperties: function (
              systemProperties,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveSystemProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'saveSystemProperties failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                type: systemProperties.type || 'db,pbx,cim,log,misc',
                db: systemProperties.db,
                pbx: systemProperties.pbx,
                cim: systemProperties.cim,
                log: systemProperties.log,
                misc: systemProperties.misc,
              }

              this._rpcCall(
                'SetSystemProperties',
                params,
                function (result) {
                  var func = function () {}
                  if (funcOK) {
                    var ev = {
                      result: result,
                    }
                    func = function () {
                      funcOK(ev)
                    }
                  }
                  if (result && result.database_task_id) {
                    if (
                      this._databaseTaskTable[result.database_task_id] ===
                      'DATABASETASKENDED'
                    ) {
                      func()
                      delete this._databaseTaskTable[result.database_task_id]
                    } else {
                      this._databaseTaskTable[result.database_task_id] = func
                    }
                  } else {
                    func()
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadTenantProperties
             */
            loadTenantProperties: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadTenantProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !==
                  Constants.USER_TYPE_SYSTEM_ADMIN &&
                this.getProfile().user_type !== Constants.USER_TYPE_TENANT_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadTenantProperties failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetTenantProperties',
                {},
                function (result) {
                  if (funcOK) {
                    var ev = {
                      tenantProperties: result,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveTenantProperties
             */
            saveTenantProperties: function (
              tenantProperties,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveTenantProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !==
                  Constants.USER_TYPE_SYSTEM_ADMIN &&
                this.getProfile().user_type !== Constants.USER_TYPE_TENANT_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'saveTenantProperties failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SetTenantProperties',
                tenantProperties,
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function createTenantProperties
             */
            createTenantProperties: function (tenant, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createTenantProperties failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'createTenantProperties failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'CreateTenantProperties',
                {
                  tenant: string(tenant),
                },
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function createTenantListFromPbx
             */
            createTenantListFromPbx: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createTenantListFromPbx failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'createTenantListFromPbx failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'CreateTenantListFromPbx',
                {},
                function (result) {
                  if (funcOK) {
                    var ev = {
                      tenantProperties: result,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadTenantSettings
             */
            loadTenantSettings: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadTenantSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadTenantSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetTenantSettings',
                {},
                function (result) {
                  if (funcOK) {
                    var ev = {
                      tenantSettings: result,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveTenantSettings
             */
            saveTenantSettings: function (tenantSettings, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveTenantSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'saveTenantSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'SetTenantSettings',
                tenantSettings,
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadTenantListFromPbx
             */
            loadTenantListFromPbx: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadTenantListFromPbx failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadTenantListFromPbx failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetTenantListFromPbx',
                {},
                function (result) {
                  if (funcOK) {
                    var ev = {
                      tenantList: result,
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadAdvancedSettings
             */
            loadAdvancedSettings: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadAdvancedSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadAdvancedSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetSystemProperties',
                {
                  type: 'adv',
                },
                function (result) {
                  if (funcOK) {
                    var ev = {
                      advancedSettings: string(
                        result && result.adv && result.adv.settings,
                      ),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveAdvancedSettings
             */
            saveAdvancedSettings: function (
              advancedSettings,
              funcOK,
              funcError,
            ) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveAdvancedSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'saveAdvancedSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                type: 'adv',
                adv: { settings: advancedSettings },
              }

              this._rpcCall(
                'SetSystemProperties',
                params,
                function (result) {
                  this._rpcCall(
                    'GetSystemProperties',
                    { type: 'configproperties' },
                    function (result) {
                      if (result && result.configproperties) {
                        this._configProperties = result.configproperties
                      }
                      if (funcOK) {
                        var ev = {}
                        funcOK(ev)
                      }
                    },
                    function (error) {
                      if (funcOK) {
                        var ev = {}
                        funcOK(ev)
                      }
                    },
                  )
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function loadBlockListSettings
             */
            loadBlockListSettings: function (funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'loadBlockListSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'loadBlockListSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'GetSystemProperties',
                {
                  type: 'blocklist',
                },
                function (result) {
                  if (funcOK) {
                    var ev = {
                      blocklist: (result && result.blocklist) || {},
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function saveBlockListSettings
             */
            saveBlockListSettings: function (blocklist, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'saveBlockListSettings failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'saveBlockListSettings failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                type: 'blocklist',
                blocklist: blocklist,
              }

              this._rpcCall(
                'SetSystemProperties',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function removeBlockedAddress
             */
            removeBlockedAddress: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'removeBlockedAddress failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'removeBlockedAddress failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                ip: string(options.ip),
              }

              this._rpcCall(
                'RemoveBlockedAddress',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function startUserSearch
             */
            startUserSearch: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'startUserSearch failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'startUserSearch failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall('StartUserSearch', options || {}, funcOK, funcError)
            },

            /*
             * Function cancelUserSearch
             */
            cancelUserSearch: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'cancelUserSearch failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'cancelUserSearch failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall(
                'CancelUserSearch',
                options || {},
                funcOK,
                funcError,
              )
            },

            /*
             * Function startUserDelete
             */
            startUserDelete: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'startUserDelete failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'startUserDelete failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall('StartUserDelete', options || {}, funcOK, funcError)
            },

            /*
             * Function prepareDebugLog
             */
            prepareDebugLog: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'prepareDebugLog failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'prepareDebugLog failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                days: string(options && options.days),
              }

              this._rpcCall(
                'PrepareDebugLog',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {
                      debug_log_id: string(result && result.debug_log_id),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function cancelDebugLog
             */
            cancelDebugLog: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'cancelDebugLog failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'cancelDebugLog failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                debug_log_id: string(options && options.debug_log_id),
              }

              this._rpcCall(
                'CancelDebugLog',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function createSocialToken
             */
            createSocialToken: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createSocialToken failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !==
                  Constants.USER_TYPE_SYSTEM_ADMIN &&
                this.getProfile().user_type !== Constants.USER_TYPE_TENANT_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'createSocialToken failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              var params = {
                social: string(options && options.social),
              }
              if (options && options.tenant) {
                params.tenant = options.tenant
              }

              this._rpcCall(
                'CreateSocialToken',
                params,
                function (result) {
                  if (funcOK) {
                    var ev = {
                      result: string(result),
                    }
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                },
              )
            },

            /*
             * Function createDatabase
             */
            createDatabase: function (options, funcOK, funcError) {
              if (this._signInStatus !== 3) {
                this._logger.log(
                  'info',
                  'createDatabase failed (code: ' +
                    Errors.NOT_SIGNED_IN +
                    ', message: ' +
                    'Not signed-in' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.NOT_SIGNED_IN,
                    message: 'Not signed-in',
                  }
                  funcError(ev)
                }
                return
              }

              if (
                this.getProfile().user_type !== Constants.USER_TYPE_SYSTEM_ADMIN
              ) {
                this._logger.log(
                  'info',
                  'createDatabase failed (code: ' +
                    Errors.INVALID_USER_TYPE +
                    ', message: ' +
                    'Invalid user_type' +
                    ')',
                )
                if (funcError) {
                  var ev = {
                    code: Errors.INVALID_USER_TYPE,
                    message: 'Invalid user_type',
                  }
                  funcError(ev)
                }
                return
              }

              this._rpcCall('CreateDatabase', options || {}, funcOK, funcError)
            },

            /*
             * Function getExosProperty
             */
            getExosProperty: function (key) {
              var settings = this.getSettings()
              if (!settings.optional_settings) {
                settings.optional_settings = {}
              }
              return ((this._exos && key in this._exos
                ? this._exos
                : settings.optional_settings.exos) || {})[key]
            },

            /*
             * Function setExosProperty
             */
            setExosProperty: function (key, value) {
              if (!this._exos) {
                this._exos = {}
              }
              this._exos[key] = value
            },

            /*
             * Function getProfile
             */
            getProfile: function () {
              var profile = {}
              profile.tenant = this._tenant
              profile.user_id = this._user_id
              profile.name = this._profile ? string(this._profile.name) : ''
              profile.group = this._profile ? string(this._profile.group) : ''
              profile.email = this._profile ? string(this._profile.email) : ''
              profile.password = this._profile
                ? string(this._profile.password)
                : ''
              profile.user_type = this._profile
                ? int(this._profile.user_type)
                : 0
              profile.profile_image_url = this._getProfileImageUrl(
                this._tenant,
                this._user_id,
              )
              return profile
            },

            /*
             * Function getSettings
             */
            getSettings: function () {
              var settings = {}
              settings.buddylist_settings = {}
              settings.buddylist_settings.display_type =
                this._settings && this._settings.buddylist_settings
                  ? int(this._settings.buddylist_settings.display_type)
                  : 0
              settings.initial_status = this._settings
                ? int(this._settings.initial_status)
                : 0
              settings.text_open_sec = this._settings
                ? int(this._settings.text_open_sec)
                : 0
              if (this._settings && this._settings.optional_settings) {
                settings.optional_settings = JSON.parse(
                  JSON.stringify(this._settings.optional_settings),
                )
              }
              if (this._settings && this._settings.ext_info) {
                settings.ext_info = JSON.parse(
                  JSON.stringify(this._settings.ext_info),
                )
              } else {
                settings.ext_info = {}
              }
              return settings
            },

            /*
             * Function getBuddylist
             */
            getBuddylist: function (options) {
              var configProperties = this.getConfigProperties()
              var optional_config = configProperties.optional_config || {}
              var buddy_mode = configProperties.buddy_mode
              var buddylist = {}
              var thisBuddylist = this._buddylist
              if (
                options &&
                options.type === 'saved' &&
                buddy_mode !== Constants.BUDDY_MODE_AUTO
              ) {
                var buddyCount = 0
                for (var i = 0; i < this._buddylistOrg.user.length; i++) {
                  var buddy = this._buddylistOrg.user[i]
                  if (buddy.user_id || buddy.user_id === '') {
                    // user
                    buddyCount++
                  }
                }
                if (buddyCount <= int(optional_config.buddy_max)) {
                  thisBuddylist = this._buddylistOrg
                }
              }
              if (thisBuddylist && thisBuddylist.screened) {
                buddylist.screened = true
              }
              buddylist.user = []
              if (
                thisBuddylist &&
                thisBuddylist.user &&
                thisBuddylist.user.length
              ) {
                for (var i = 0; i < thisBuddylist.user.length; i++) {
                  var buddy = thisBuddylist.user[i]
                  if (buddy.user_id || buddy.user_id === '') {
                    var userBuddy = {}
                    userBuddy.user_id = string(buddy.user_id)
                    userBuddy.tenant = string(buddy.tenant || this._tenant)
                    userBuddy.name = string(buddy.name)
                    userBuddy.group = string(buddy.group)
                    userBuddy.block_settings = {}
                    userBuddy.profile_image_url = this._getProfileImageUrl(
                      userBuddy.tenant,
                      userBuddy.user_id,
                    )
                    buddylist.user.push(userBuddy)
                  } else if (buddy.id || buddy.id === '') {
                    var groupBuddy = {}
                    groupBuddy.id = string(buddy.id)
                    groupBuddy.name = string(buddy.name)
                    groupBuddy.group = string(buddy.group)
                    buddylist.user.push(groupBuddy)
                  }
                }
              }
              return buddylist
            },

            /*
             * Function getBuddyUser
             */
            getBuddyUser: function (buddy) {
              var tenant = string(buddy.tenant || this._tenant)
              var user_id = string(buddy.user_id)
              var userBuddy = {
                user_id: user_id,
                tenant: tenant,
                name: '',
                group: '',
                block_settings: {},
                profile_image_url: this._getProfileImageUrl(tenant, user_id),
              }
              if (
                tenant === this._tenant &&
                user_id === this._user_id &&
                this._profile
              ) {
                userBuddy.name = string(this._profile.name)
                userBuddy.group = string(this._profile.group)
              }
              if (
                this._buddylist &&
                this._buddylist.user &&
                this._buddylist.user.length
              ) {
                for (var i = 0; i < this._buddylist.user.length; i++) {
                  if (
                    this._buddylist.user[i].user_id === user_id &&
                    (this._buddylist.user[i].tenant || this._tenant) === tenant
                  ) {
                    userBuddy.user_id = string(this._buddylist.user[i].user_id)
                    userBuddy.tenant = string(
                      this._buddylist.user[i].tenant || this._tenant,
                    )
                    userBuddy.name = string(this._buddylist.user[i].name)
                    userBuddy.group = string(this._buddylist.user[i].group)
                    userBuddy.block_settings = {}
                    userBuddy.profile_image_url = this._getProfileImageUrl(
                      userBuddy.tenant,
                      userBuddy.user_id,
                    )
                    return userBuddy
                  }
                }
              }
              if (
                this._nonbuddylist &&
                this._nonbuddylist.user &&
                this._nonbuddylist.user.length
              ) {
                for (var i = 0; i < this._nonbuddylist.user.length; i++) {
                  if (
                    this._nonbuddylist.user[i].user_id === user_id &&
                    (this._nonbuddylist.user[i].tenant || this._tenant) ===
                      tenant
                  ) {
                    userBuddy.user_id = string(
                      this._nonbuddylist.user[i].user_id,
                    )
                    userBuddy.tenant = string(
                      this._nonbuddylist.user[i].tenant || this._tenant,
                    )
                    userBuddy.name = string(this._nonbuddylist.user[i].name)
                    userBuddy.group = string(this._nonbuddylist.user[i].group)
                    userBuddy.block_settings = {}
                    userBuddy.profile_image_url = this._getProfileImageUrl(
                      userBuddy.tenant,
                      userBuddy.user_id,
                    )
                    return userBuddy
                  }
                }
              }
              if (
                this._nonsubscrlist &&
                this._nonsubscrlist.user &&
                this._nonsubscrlist.user.length
              ) {
                for (var i = 0; i < this._nonsubscrlist.user.length; i++) {
                  if (
                    this._nonsubscrlist.user[i].user_id === user_id &&
                    (this._nonsubscrlist.user[i].tenant || this._tenant) ===
                      tenant
                  ) {
                    userBuddy.user_id = string(
                      this._nonsubscrlist.user[i].user_id,
                    )
                    userBuddy.tenant = string(
                      this._nonsubscrlist.user[i].tenant || this._tenant,
                    )
                    userBuddy.name = string(this._nonsubscrlist.user[i].name)
                    userBuddy.group = string(this._nonsubscrlist.user[i].group)
                    userBuddy.block_settings = {}
                    userBuddy.profile_image_url = this._getProfileImageUrl(
                      userBuddy.tenant,
                      userBuddy.user_id,
                    )
                    return userBuddy
                  }
                }
              }
              return userBuddy
            },

            /*
             * Function getAllUsers
             */
            getAllUsers: function () {
              return JSON.parse(JSON.stringify(this._allUsers))
            },

            /*
             * Function getConfigProperties
             */
            getConfigProperties: function () {
              var configProperties = {}
              configProperties.buddy_mode = this._configProperties
                ? int(this._configProperties.buddy_mode)
                : 0
              configProperties.chat_mode = this._configProperties
                ? int(this._configProperties.chat_mode)
                : 0
              configProperties.webnotif_timeout = this._configProperties
                ? int(this._configProperties.webnotif_timeout)
                : 0
              configProperties.webchat_enabled = this._configProperties
                ? string(this._configProperties.webchat_enabled).toLowerCase()
                : 'false'
              if (
                this._configProperties &&
                this._configProperties.optional_config
              ) {
                configProperties.optional_config = JSON.parse(
                  JSON.stringify(this._configProperties.optional_config),
                )
              }
              return configProperties
            },

            /*
             * Function getSignedInInfo
             */
            getSignedInInfo: function () {
              return JSON.parse(JSON.stringify(this._signedInInfo))
            },

            /*
             * Function getStatus
             */
            getStatus: function () {
              var status = {}
              status.status = int(this._status)
              status.display = string(this._display)
              try {
                status.ui_customized_status = (
                  JSON.parse(
                    string(
                      this._ucclient_customized_status_table[
                        JSON.stringify({
                          tenant: this._tenant,
                          user_id: this._user_id,
                        })
                      ],
                    ),
                  ) || {}
                ).ui_customized_status
              } catch (e) {}
              if (typeof status.ui_customized_status === 'undefined') {
                status.ui_customized_status = null
              }
              return status
            },

            /*
             * Function getBuddyStatus
             */
            getBuddyStatus: function (buddy) {
              var status = {}
              var key = JSON.stringify({
                tenant: buddy.tenant || this._tenant,
                user_id: buddy.user_id,
              })
              var buddyStatus = this._buddyStatus[key]
              status.status = buddyStatus
                ? int(buddyStatus.status)
                : Constants.STATUS_OFFLINE
              status.display = buddyStatus ? string(buddyStatus.display) : ''
              status.disconnected_tstamp = buddyStatus
                ? int(buddyStatus.disconnected_tstamp)
                : 0
              status.disconnected_status = buddyStatus
                ? int(buddyStatus.disconnected_status)
                : 0
              status.disconnected_display = buddyStatus
                ? string(buddyStatus.disconnected_display)
                : ''
              try {
                status.ui_customized_status = (
                  JSON.parse(
                    string(this._ucclient_customized_status_table[key]),
                  ) || {}
                ).ui_customized_status
              } catch (e) {}
              if (typeof status.ui_customized_status === 'undefined') {
                status.ui_customized_status = null
              }
              return status
            },

            /*
             * Function getConference
             */
            getConference: function (conf_id) {
              conf_id = string(conf_id)
              var conference = {
                conf_id: '',
                subject: '',
                created_time: '',
                created_tstamp: 0,
                created_server_time: '',
                yyyymm: '',
                conf_type: '',
                conf_status: Constants.CONF_STATUS_INACTIVE,
                conf_ext: '',
                from: {
                  tenant: '',
                  user_id: '',
                  user_name: '',
                  conf_status: Constants.CONF_STATUS_INACTIVE,
                },
                creator: {
                  tenant: '',
                  user_id: '',
                  user_name: '',
                  conf_status: Constants.CONF_STATUS_INACTIVE,
                },
                assigned: {
                  tenant: '',
                  user_id: '',
                  conf_status: Constants.CONF_STATUS_INACTIVE,
                },
                ext_conf_info: {},
                conf_tags: [],
                webchatinfo: {},
                invite_properties: {
                  invisible: false,
                  rejoinable: false,
                  webchatfromguest: null,
                  continuation_info: null,
                  rwq: false,
                },
                user: [],
              }
              if (this._conferences[conf_id]) {
                conference.conf_id = string(this._conferences[conf_id].conf_id)
                conference.subject = string(this._conferences[conf_id].subject)
                conference.created_time = string(
                  this._conferences[conf_id].created_time,
                )
                conference.created_tstamp = int(
                  this._conferences[conf_id].created_tstamp,
                )
                conference.created_server_time = string(
                  this._conferences[conf_id].created_server_time,
                )
                conference.yyyymm =
                  conference.created_server_time.substr(0, 4) +
                  conference.created_server_time.substr(5, 2)
                conference.conf_type = string(
                  this._conferences[conf_id].conf_type,
                )
                conference.conf_status = int(
                  this._conferences[conf_id].conf_status,
                )
                conference.conf_ext =
                  this.PREFIX_CONFERENCE_EXTENSION + conference.conf_id
                if (this._conferences[conf_id].from) {
                  conference.from.tenant = string(
                    this._conferences[conf_id].from.tenant,
                  )
                  conference.from.user_id = string(
                    this._conferences[conf_id].from.user_id,
                  )
                  conference.from.user_name = string(
                    this._conferences[conf_id].from.user_name,
                  )
                }
                if (this._conferences[conf_id].creator) {
                  conference.creator.tenant = string(
                    this._conferences[conf_id].creator.tenant,
                  )
                  conference.creator.user_id = string(
                    this._conferences[conf_id].creator.user_id,
                  )
                  conference.creator.user_name = string(
                    this._conferences[conf_id].creator.user_name,
                  )
                }
                if (this._conferences[conf_id].assigned) {
                  conference.assigned.tenant = string(
                    this._conferences[conf_id].assigned.tenant,
                  )
                  conference.assigned.user_id = string(
                    this._conferences[conf_id].assigned.user_id,
                  )
                }
                if (this._conferences[conf_id].ext_conf_info) {
                  conference.ext_conf_info = JSON.parse(
                    JSON.stringify(this._conferences[conf_id].ext_conf_info),
                  )
                }
                if (this._conferences[conf_id].conf_tags) {
                  conference.conf_tags = JSON.parse(
                    JSON.stringify(this._conferences[conf_id].conf_tags),
                  )
                }
                if (this._conferences[conf_id].webchatinfo) {
                  conference.webchatinfo = JSON.parse(
                    JSON.stringify(this._conferences[conf_id].webchatinfo),
                  )
                }
                if (this._conferences[conf_id].invite_properties) {
                  conference.invite_properties.invisible = Boolean(
                    this._conferences[conf_id].invite_properties.invisible,
                  )
                  conference.invite_properties.rejoinable = Boolean(
                    this._conferences[conf_id].invite_properties.rejoinable,
                  )
                  conference.invite_properties.webchatfromguest = this
                    ._conferences[conf_id].invite_properties.webchatfromguest
                    ? JSON.parse(
                        JSON.stringify(
                          this._conferences[conf_id].invite_properties
                            .webchatfromguest,
                        ),
                      )
                    : null
                  conference.invite_properties.continuation_info = this
                    ._conferences[conf_id].invite_properties.continuation_info
                    ? JSON.parse(
                        JSON.stringify(
                          this._conferences[conf_id].invite_properties
                            .continuation_info,
                        ),
                      )
                    : null
                  conference.invite_properties.rwq = Boolean(
                    this._conferences[conf_id].invite_properties.rwq,
                  )
                }
                for (
                  var i = 0;
                  i < this._conferences[conf_id].user.length;
                  i++
                ) {
                  var user = {}
                  user.user_id = string(
                    this._conferences[conf_id].user[i].user_id,
                  )
                  user.tenant = string(
                    this._conferences[conf_id].user[i].tenant || this._tenant,
                  )
                  user.name = string(this._conferences[conf_id].user[i].name)
                  user.conf_status = int(
                    this._conferences[conf_id].user[i].conf_status,
                  )
                  user.reenter_user_id = string(
                    this._conferences[conf_id].user[i].reenter_user_id,
                  )
                  conference.user.push(user)
                  if (
                    user.tenant === conference.from.tenant &&
                    user.user_id === conference.from.user_id
                  ) {
                    conference.from.conf_status = user.conf_status
                  }
                  if (
                    user.tenant === conference.creator.tenant &&
                    user.user_id === conference.creator.user_id
                  ) {
                    conference.creator.conf_status = user.conf_status
                  }
                  if (
                    user.tenant === conference.assigned.tenant &&
                    user.user_id === conference.assigned.user_id
                  ) {
                    conference.assigned.conf_status = user.conf_status
                  }
                }
              }
              return conference
            },

            /*
             * Function getConferenceTag
             */
            getConferenceTag: function (options) {
              var conf_id = string(options && options.conf_id)
              var tag_key = string(options && options.tag_key)
              return string(
                this._conferences[conf_id] &&
                  this._conferences[conf_id].conf_tags &&
                  this._conferences[conf_id].conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_conftag' && tag.tag_key === tag_key
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
              )
            },

            /*
             * Function getFileInfo
             */
            getFileInfo: function (file_id) {
              file_id = string(file_id)
              var fileInfo = {
                file_id: '',
                target: {
                  tenant: '',
                  user_id: '',
                },
                isUpload: false,
                status: Constants.FILE_STATUS_UNPREPARED,
                name: '',
                size: 0,
                progress: 0,
              }
              if (this._fileInfos[file_id]) {
                fileInfo.file_id = file_id
                fileInfo.target = this._fileInfos[file_id].target
                fileInfo.isUpload = this._fileInfos[file_id].isUpload
                fileInfo.status = this._fileInfos[file_id].status
                fileInfo.name = this._fileInfos[file_id].name
                fileInfo.size = this._fileInfos[file_id].size
                fileInfo.progress = this._fileInfos[file_id].progress
              }
              return fileInfo
            },

            /*
             * Function getCallInfo
             */
            getCallInfo: function (call_id) {
              var sessionBundleId = string(call_id)
              var callInfo = {
                call_id: '',
                target: {},
                sharedObject: {},
                status: Constants.CALL_STATUS_TERMINATED,
                direction: Constants.CALL_DIRECTION_UNKNOWN,
                audio: false,
                video: false,
                microphoneMuted: false,
                cameraMuted: false,
                localStreamUrl: '',
                streamTables: [],
              }
              var streamTables = {}
              if (this._sessionBundleTable[sessionBundleId]) {
                callInfo.call_id = sessionBundleId
                callInfo.target =
                  this._sessionBundleTable[sessionBundleId].target
                try {
                  callInfo.sharedObject = JSON.parse(
                    this._sessionBundleTable[sessionBundleId].sharedObjectJson,
                  )
                } catch (e) {}
                callInfo.direction =
                  this._sessionBundleTable[sessionBundleId].direction
                callInfo.microphoneMuted =
                  this._sessionBundleTable[sessionBundleId].microphoneMuted
                callInfo.cameraMuted =
                  this._sessionBundleTable[sessionBundleId].cameraMuted
                for (
                  var i = 0;
                  i <
                  this._sessionBundleTable[sessionBundleId].sessionIdArray
                    .length;
                  i++
                ) {
                  var session = this._phone.getCallSession(
                    this._sessionBundleTable[sessionBundleId].sessionIdArray[i],
                  )
                  if (session) {
                    if (callInfo.status < Constants.CALL_STATUS_INCOMING) {
                      callInfo.status = Constants.CALL_STATUS_INCOMING
                    }
                    if (session.status === 'answered') {
                      callInfo.status = Constants.CALL_STATUS_TALKING
                      var buddy = {
                        tenant: string(session.option.tenant),
                        user_id: string(session.option.user_id),
                      }
                      var key = JSON.stringify(buddy)
                      if (!streamTables[key]) {
                        streamTables[key] = {
                          buddy: buddy,
                          status: Constants.STREAM_STATUS_TALKING,
                          streamTable: {},
                        }
                      }
                      var stream = {
                        url: string(session.streamURL),
                        video: Boolean(session.mediaConstraints.video),
                      }
                      streamTables[key].streamTable[session.id] = stream
                      if (
                        callInfo.localStreamUrl === '' &&
                        stream.video &&
                        session.localStreamURL
                      ) {
                        callInfo.localStreamUrl = string(session.localStreamURL)
                      }
                    } else if (session.status === 'in-progress') {
                      if (callInfo.status < Constants.CALL_STATUS_PROGRESS) {
                        callInfo.status = Constants.CALL_STATUS_PROGRESS
                      }
                    } else if (
                      session.status !== 'incoming' &&
                      session.status !== 'answering'
                    ) {
                      if (callInfo.status < Constants.CALL_STATUS_DIALING) {
                        callInfo.status = Constants.CALL_STATUS_DIALING
                      }
                    } else if (session.status === 'answering') {
                      if (callInfo.status < Constants.CALL_STATUS_ANSWERING) {
                        callInfo.status = Constants.CALL_STATUS_ANSWERING
                      }
                    }
                    if (session.mediaConstraints.audio) {
                      callInfo.audio = true
                    }
                    if (session.mediaConstraints.video) {
                      callInfo.video = true
                    }
                  }
                }
                if (
                  callInfo.status === Constants.CALL_STATUS_TERMINATED &&
                  !this._sessionBundleTable[sessionBundleId].autoTerminate
                ) {
                  callInfo.status = Constants.CALL_STATUS_TALKING
                }
              }
              if (callInfo.target.conf_id) {
                var users =
                  (this._conferences[callInfo.target.conf_id] &&
                    this._conferences[callInfo.target.conf_id].user) ||
                  []
                for (var i = 0; i < users.length; i++) {
                  var user = users[i]
                  var tenant = string(user.tenant || this._tenant)
                  var user_id = string(user.user_id)
                  if (tenant === this._tenant && user_id === this._user_id) {
                    continue
                  }
                  var video_conf_status = int(user.video_conf_status)
                  if (video_conf_status > 0) {
                    var buddy = {
                      tenant: tenant,
                      user_id: user_id,
                    }
                    var key = JSON.stringify(buddy)
                    if (!streamTables[key]) {
                      streamTables[key] = {
                        buddy: buddy,
                        status:
                          video_conf_status === this.VIDEO_CONF_VIDEO
                            ? Constants.STREAM_STATUS_DIALING
                            : Constants.STREAM_STATUS_TALKING,
                        streamTable: {},
                      }
                    }
                  }
                }
              }
              for (var key in streamTables) {
                callInfo.streamTables.push(streamTables[key])
              }
              return callInfo
            },

            /*
             * Function getChatSessionToken
             */
            getChatSessionToken: function () {
              return JSON.stringify({
                tenant: this._tenant,
                user_id: this._user_id,
                chat_session_id: this._chat_session_id,
              })
            },

            /*
             * Function getAuthResultInfo
             */
            getAuthResultInfo: function () {
              return this._auth_result_info
            },

            /*
             * Private functions
             */
            _initEventListener: function (eventName) {
              var self = this
              return function (ev) {
                try {
                  self._logger.log(
                    'debug',
                    'eventName: ' +
                      eventName +
                      ' ev: ' +
                      JSON.stringify(self._convertJsonToOutline(ev)),
                  )
                } catch (e) {}
                for (var i = 0; i < self._handlers.length; i++) {
                  var handler = self._handlers[i]
                  if (handler && handler[eventName]) {
                    handler[eventName].apply(handler, arguments)
                  }
                }
                if (self._eventListeners0[eventName]) {
                  self._eventListeners0[eventName].apply(self, arguments)
                }
              }
            },
            _convertJsonToOutline: function (content) {
              var jloh = ((this._configProperties || {}).optional_config || {})
                .jloh
              var jlool = ((this._configProperties || {}).optional_config || {})
                .jlool
              var jloolAry = jlool ? string(jlool).split(',') : []
              if (jloh) {
                var object = null
                if (typeof content === 'string') {
                  var index = content.indexOf('{') // }
                  if (index !== -1) {
                    try {
                      object = JSON.parse(content.substring(index))
                    } catch (e) {}
                    if (object && typeof object === 'object') {
                      if (
                        this._modifyObjectJsonToOutline(
                          object,
                          jloh !== '*' && jloh.split(','),
                          false,
                          jloolAry,
                        )
                      ) {
                        content =
                          content.substring(0, index) + JSON.stringify(object)
                      }
                    }
                  }
                } else if (typeof content === 'object') {
                  try {
                    object = JSON.parse(JSON.stringify(content))
                  } catch (e) {}
                  if (object && typeof object === 'object') {
                    if (
                      this._modifyObjectJsonToOutline(
                        object,
                        jloh !== '*' && jloh.split(','),
                        false,
                        jloolAry,
                      )
                    ) {
                      content = object
                    }
                  }
                }
              }
              return content
            },
            _modifyObjectJsonToOutline: function (
              object,
              jlohAry,
              changed,
              jloolAry,
            ) {
              for (key in object) {
                if (typeof object[key] === 'object') {
                  if (
                    jloolAry &&
                    jloolAry.indexOf(key) !== -1 &&
                    typeof object[key].length === 'number'
                  ) {
                    object[key] = { _L: object[key].length }
                    changed = true
                  } else if (
                    this._modifyObjectJsonToOutline(
                      object[key],
                      jlohAry,
                      changed,
                      jloolAry,
                    )
                  ) {
                    changed = true
                  }
                } else if (!jlohAry || jlohAry.indexOf(key) !== -1) {
                  object[key] = '...'
                  changed = true
                }
              }
              return changed
            },
            _byThis: function (func, argsArray) {
              var self = this
              // if argsArray is not given, returned function calls func with arguments of itself
              return function () {
                func.apply(self, argsArray || arguments)
              }
            },
            _rpcPrintDebug: function (content) {
              this._logger.log('debug', this._convertJsonToOutline(content))
            },
            _rpcPrintError: function (content) {
              this._logger.log('error', content)
            },
            _rpcClose: function (e) {
              if (this._signInStatus === 2) {
                this._signInNG(
                  int((e && e.code) || e) || Errors.RPC_CLOSED,
                  'RPC closed',
                )
              } else if (this._signInStatus === 3) {
                this._forcedSignOut(
                  int((e && e.code) || e) || Errors.RPC_CLOSED,
                  'RPC closed',
                )
              }
            },
            _rpcError: function () {
              if (this._signInStatus === 2) {
                this._signInNG(Errors.RPC_ERROR, 'RPC error')
              } else if (this._signInStatus === 3) {
                this._forcedSignOut(Errors.RPC_ERROR, 'RPC error')
              }
            },
            _rpcCall: function (method, params, funcOK, funcError) {
              // in funcOK and funcError, "this" is the same this in _rpcCall
              if (this._rpc) {
                this._rpc.call(
                  method,
                  params,
                  function (result, obj) {
                    // obj is this in _rpcCall
                    if (funcOK) {
                      funcOK.call(obj, result)
                    }
                  },
                  function (error, obj) {
                    // obj is this in _rpcCall
                    obj._logger.log(
                      'info',
                      '_rpcCall failed (method: ' +
                        method +
                        ', code: ' +
                        string(error.code) +
                        ', message: ' +
                        string(error.message) +
                        ')',
                    )
                    if (funcError) {
                      funcError.call(obj, error)
                    }
                  },
                  this,
                ) // this will be returned as "obj" in callback functions
                this._rpcTimeLastSent = new Date().getTime()
              } else {
                this._logger.log(
                  'info',
                  '_rpcCall failed (method: ' +
                    method +
                    ', message: RPC not opened)',
                )
                if (funcError) {
                  funcError({
                    code: Brekeke.net.ERROR_NOT_OPENED,
                    message: 'RPC not opened',
                  })
                }
              }
            },
            _rpcNotify: function (method, params, funcError) {
              if (this._rpc) {
                this._rpc.call(method, params, null, null, null)
                this._rpcTimeLastSent = new Date().getTime()
              } else {
                this._logger.log(
                  'info',
                  '_rpcNotify failed (method: ' +
                    method +
                    ', message: RPC not opened)',
                )
                if (funcError) {
                  funcError({
                    code: Brekeke.net.ERROR_NOT_OPENED,
                    message: 'RPC not opened',
                  })
                }
              }
            },
            _forcedSignOut: function (code, message) {
              this._logger.log(
                'warn',
                '_forcedSignOut code: ' + code + ', message: ' + message,
              )

              var signInStatusOrg = this._signInStatus

              this._signInStatus = 0

              this._signedOut()

              // raise forcedSignOut event
              if (this._eventListeners.forcedSignOut && signInStatusOrg === 3) {
                var ev = {
                  code: int(code),
                  message: string(message),
                }
                this._eventListeners.forcedSignOut(ev)
              }
            },
            _signedOut: function () {
              if (this._rpc) {
                this._rpc.onClose = function () {}
                delete this._rpc.handlerObject
                this._rpc.close()
                this._rpc = null
              }

              // finalize phone
              if (this._phone) {
                var sessionTable = this._phone.getCallSessionTable()
                for (var id in sessionTable) {
                  sessionTable[id].hangUp()
                }
                try {
                  this._phone.finalizePhone()
                } catch (e) {
                  this._logger.log(
                    'warn',
                    e.message + ' at finalizePhone' + '\n' + e.stack + '\n',
                  )
                }
                this._phone = null
              }
              this._phoneProperties = {}
              this._phoneRegistered = false
              this._buddyPhone = {}

              this._sessionBundleIdCounter = 0
              this._sessionBundleTable = {}

              this._conferenceCalls = {}

              // reinit fields
              this._profile = {}
              this._settings = {}
              this._buddylist = {}
              this._buddylistOrg = {}
              this._nonbuddylist = {}
              this._nonsubscrlist = {}
              this._configProperties = {}
              this._signedInInfo = {}
              this._status = Constants.STATUS_OFFLINE
              this._display = ''
              this._buddyStatus = {}
              this._lastErrors = {}

              this._upload_ids = []
              this._download_keys = {}
              this._ucclient_customized_status_table = {}

              this._conferences = {}

              this._fileInfos = {}

              this._topicIdCounter = 0
              this._topics = {}

              this._databaseTaskTable = {}

              this._sendStatusCount = 0

              this._makeCallStatus = {}
              this._sendSharedObjectFuncOKTable = {}
              this._receivedSharedObjectJsonTable = {}

              if (this._signInTimer) {
                clearTimeout(this._signInTimer)
                this._signInTimer = null
              }

              if (this._pingTimer) {
                clearTimeout(this._pingTimer)
                this._pingTimer = null
              }

              // stop report console
              if (reportConsoleInfo) {
                reportConsoleInfo.signedInAuth = false
              }
            },
            _signInNG: function (code, message, tstamp) {
              if (code) {
                this._logger.log(
                  'warn',
                  '_signInNG code: ' + code + ', message: ' + message,
                )
              } else {
                this._logger.log(
                  'info',
                  '_signInNG code: ' + code + ', message: ' + message,
                )
              }

              this._signInStatus = 1

              this._signedOut()

              if (this._signInFuncError) {
                var ev = {
                  code: int(code),
                  message: string(message),
                  ltime: stringifyTstamp(tstamp),
                  tstamp: int(tstamp),
                }
                this._signInFuncError(ev)
              }
              this._signInFuncOK = null
              this._signInFuncError = null
            },
            _signInSuccess: function (tstamp) {
              this._signInStatus = 3
              if (this._signInTimer) {
                clearTimeout(this._signInTimer)
                this._signInTimer = null
              }

              // start ping timer
              this._pingTimer = setTimeout(
                this._byThis(this._keepAlive),
                this.CHECK_ALIVE_INTERVAL,
              )

              // start report console
              var optional_config = this.getConfigProperties().optional_config
              if (reportConsoleInfo && optional_config) {
                Object.keys(reportConsoleInfo).forEach(function (key) {
                  if (
                    typeof reportConsoleInfo[key] ===
                    typeof optional_config[key]
                  ) {
                    reportConsoleInfo[key] = optional_config[key]
                  }
                })
                if (
                  reportConsoleInfo.report_console &&
                  (reportConsoleInfo.report_console_guest ||
                    string(this._user_id)[0] !== '#')
                ) {
                  reportConsoleInfo.myid = JSON.stringify({
                    tenant: this._tenant,
                    user_id: this._user_id,
                  })
                } else {
                  reportConsoleInfo.myid = ''
                }
                reportConsoleInfo.expires =
                  new Date().getTime() +
                  reportConsoleInfo.report_console_expiry / 2
                reportConsoleInfo.signedInAuth = true
                reportConsoleInfo.signedIn = false
              }

              if (this._signInFuncOK) {
                var ev = {
                  ltime: stringifyTstamp(tstamp),
                  tstamp: int(tstamp),
                }
                this._signInFuncOK(ev)
              }
              this._signInFuncOK = null
              this._signInFuncError = null
            },
            _signInTimeout: function () {
              if (this._signInStatus === 2) {
                if (this._mfa_verification_required) {
                  var now = new Date().getTime()
                  if (now < this._mfa_verification_required) {
                    this._logger.log(
                      'info',
                      '_signInTimeout() expiration=' +
                        this._mfa_verification_required,
                    )
                    setTimeout(
                      this._byThis(this._signInTimeout),
                      this._mfa_verification_required - now,
                    )
                  } else {
                    this._signInNG(
                      Errors.SIGN_IN_TIMEOUT,
                      'Verification timeout',
                    )
                  }
                } else {
                  this._signInNG(Errors.SIGN_IN_TIMEOUT, 'Sign-in timeout')
                }
              }
            },
            _signInStartRpc: function (password) {
              if (this._rpc) {
                this._rpc.onClose = this._byThis(function () {
                  this._rpc = null
                  this._signInStartRpc(password)
                })
                this._rpc.close()
                return
              }
              // start json rpc
              var prms =
                '?tenant=' +
                encodeURIComponent(this._tenant) +
                '&user=' +
                encodeURIComponent(this._user_id)
              if (password) {
                prms += '&password=' + encodeURIComponent(password)
              }
              if (this._auth_timeout) {
                prms +=
                  '&auth_timeout=' + encodeURIComponent(this._auth_timeout)
              }
              if (this._admin_mode) {
                prms += '&admin_mode'
              }
              if (this._modest) {
                prms +=
                  '&modest&prev_chat_session_id=' +
                  encodeURIComponent(this._chat_session_id)
              }
              if (this._recvMsgs && this._lastMessageTime) {
                prms += '&lmt=' + int(this._lastMessageTime)
              }
              if (this._pver) {
                prms += '&pver=' + encodeURIComponent(this._pver)
              }
              if (this._device_token) {
                prms +=
                  '&device_token=' + encodeURIComponent(this._device_token)
              }
              if (this._do_not_start_mfa) {
                prms += '&do_not_start_mfa'
              }
              if (this._sessAttr) {
                prms += '&sessattr=' + encodeURIComponent(this._sessAttr)
              }
              try {
                if (this._forceAjax) {
                  this._rpc = Brekeke.net.createJsonRpcOverAjax(
                    (this._useHttps ? 'https://' : 'http://') +
                      this._host +
                      '/' +
                      this._path +
                      '/ca' +
                      prms,
                  )
                } else {
                  try {
                    this._rpc = Brekeke.net.createJsonRpcOverWebSocket(
                      (this._useHttps ? 'wss://' : 'ws://') +
                        this._host +
                        '/' +
                        this._path +
                        (this._servlet ? '/ws' : '/wssep') +
                        prms,
                    )
                  } catch (e) {
                    this._logger.log(
                      'info',
                      'Websocket unavailable, fallback to ajax\n' +
                        e.message +
                        ' at _signInStartRpc' +
                        '\n' +
                        e.stack +
                        '\n',
                    )
                  }
                  if (!this._rpc) {
                    this._rpc = Brekeke.net.createJsonRpcOverAjax(
                      (this._useHttps ? 'https://' : 'http://') +
                        this._host +
                        '/' +
                        this._path +
                        '/ca' +
                        prms,
                    )
                  }
                }
              } catch (e) {
                this._logger.log(
                  'warn',
                  e.message + ' at _signInStartRpc' + '\n' + e.stack + '\n',
                )
              }
              if (!this._rpc) {
                this._signInNG(Errors.RPC_ERROR, 'RPC initialization failed')
                return
              }
              this._rpc.printDebug = this._byThis(this._rpcPrintDebug)
              this._rpc.printError = this._byThis(this._rpcPrintError)
              this._rpc.setHandlerObject(this)
              this._rpc.onClose = this._byThis(this._rpcClose)
              this._rpc.onError = this._byThis(this._rpcError)
              this._rpc.open()
            },
            _signInActionStatusOK: function (args) {
              this._lastMessageTime = int(args.tstamp)

              if (this._signInStatus === 2) {
                // remove auth info from url (mandatory for ajax long polling)
                this._rpc.setUrl(this._rpc.url.split('?').shift())

                this._configProperties = args.properties
                this._signedInInfo = args.sii || {}
                this._chat_session_id = int(
                  args.properties && args.properties.chat_session_id,
                )
                this._auth_result_info =
                  args.properties && args.properties.auth_result_info
                if (this._admin_mode && args.type === 2) {
                  // chat disabled (admin mode)
                  // this is admin
                  this._profile.user_type = Constants.USER_TYPE_TENANT_ADMIN

                  this._signInSuccess(args.tstamp)
                } else if (args.type === 1) {
                  // chat disabled (sa)
                  // this is sa
                  this._profile.user_type = Constants.USER_TYPE_SYSTEM_ADMIN

                  this._signInSuccess(args.tstamp)
                } else {
                  // chat enabled
                  this._download_keys[
                    JSON.stringify({
                      tenant: this._tenant,
                      user_id: this._user_id,
                    })
                  ] = args.properties.dlk
                  this._rpcCall(
                    'GetProperties',
                    {
                      tenant: this._tenant,
                      user_id: this._user_id,
                      type: 'all',
                    },
                    this._signInGetPropertiesOK,
                    this._signInGetPropertiesNG,
                  )
                }
              }
            },
            _signInActionStatusNG: function (args) {
              this._logger.log(
                'info',
                '_signInActionStatusNG code: ' + args.code,
              )
              if (this._signInStatus === 2) {
                if (args.nonce) {
                  // update tenant
                  if (args.tenant) {
                    var newTenant = string(args.tenant)
                    if (this._tenant !== newTenant) {
                      var orgKey = JSON.stringify({
                        tenant: this._tenant,
                        user_id: this._user_id,
                      })
                      if (this._ucclient_customized_status_table[orgKey]) {
                        this._ucclient_customized_status_table[
                          JSON.stringify({
                            tenant: newTenant,
                            user_id: this._user_id,
                          })
                        ] = this._ucclient_customized_status_table[orgKey]
                        delete this._ucclient_customized_status_table[orgKey]
                      }
                      this._tenant = newTenant
                    }
                  }
                  // password required
                  var hashedPassword = CryptoJS.MD5(this._pass).toString()
                  var passwordHashedWithNonce = CryptoJS.MD5(
                    this._user_id + ':' + args.nonce + ':' + hashedPassword,
                  ).toString()
                  // re-sign-in with password
                  this._signInStartRpc(passwordHashedWithNonce)
                } else {
                  // authentication error
                  this._signInNG(int(args.code), args.msg, args.tstamp)
                }
              }
            },
            _signInGetPropertiesOK: function (result) {
              if (this._signInStatus === 2) {
                this._profile = result.profile
                this._settings = result.settings
                try {
                  this._buddylistOrg = JSON.parse(
                    JSON.stringify(result.buddylist),
                  )
                } catch (e) {
                  this._logger.log(
                    'error',
                    'result.buddylist parse error at _signInGetPropertiesOK: ' +
                      e.message,
                  )
                  this._buddylistOrg = {}
                }
                this._buddylist = result.buddylist

                if (
                  this._disableBuddylist ||
                  this.getProfile().user_type ===
                    Constants.USER_TYPE_TENANT_GUEST
                ) {
                  this._signInGetAllUsersOK(null)
                } else {
                  // get buddy also from PBX
                  this._rpcCall(
                    'GetAllUsers',
                    {
                      target: {
                        tenant: this._tenant,
                      },
                    },
                    this._signInGetAllUsersOK,
                    this._signInGetAllUsersNG,
                  )
                }
              }
            },
            _signInGetPropertiesNG: function (error) {
              if (this._signInStatus === 2) {
                this._signInNG(
                  int(error.code),
                  error.message + ' at GetProperties',
                )
              }
            },
            _refreshBuddylist: function () {
              var configProperties = this.getConfigProperties()
              var optional_config = configProperties.optional_config || {}
              var buddy_mode = configProperties.buddy_mode
              if (!this._buddylist) {
                this._buddylist = {}
              }
              if (!this._buddylist.user || !this._buddylist.user.length) {
                this._buddylist.user = []
              }
              if (buddy_mode === Constants.BUDDY_MODE_AUTO) {
                // overwrite _buddylist.user by _allUsers.user
                var newBuddylistUser = []
                if (
                  this._allUsers &&
                  this._allUsers.user &&
                  this._allUsers.user.length
                ) {
                  var groupIds = {}
                  for (var i = 0; i < this._allUsers.user.length; i++) {
                    var pbxUser = this._allUsers.user[i]
                    if (pbxUser.disabledBuddy) {
                      continue
                    }
                    if (pbxUser.user_id === this._user_id) {
                      // except myself
                      continue
                    }
                    if (this._buddylist.screened) {
                      var exists = false
                      for (var j = 0; j < this._buddylist.user.length; j++) {
                        var buddy = this._buddylist.user[j]
                        if (
                          buddy.user_id === pbxUser.user_id &&
                          buddy.tenant === this._tenant
                        ) {
                          exists = true
                          break
                        }
                      }
                      if (!exists) {
                        continue
                      }
                    }
                    if (!groupIds[pbxUser.user_group]) {
                      var groupBuddy = {}
                      groupBuddy.id = pbxUser.user_group
                      groupBuddy.name = pbxUser.user_group
                      groupBuddy.group = ''
                      newBuddylistUser.push(groupBuddy)
                      groupIds[pbxUser.user_group] = true
                    }
                    var userBuddy = {}
                    userBuddy.user_id = pbxUser.user_id
                    userBuddy.tenant = this._tenant
                    userBuddy.name = pbxUser.user_name
                    userBuddy.group = pbxUser.user_group
                    userBuddy.block_settings = {}
                    newBuddylistUser.push(userBuddy)
                  }
                }
                this._buddylist.user = newBuddylistUser
              } else if (buddy_mode === Constants.BUDDY_MODE_GROUP) {
                // add buddy to _buddylist
                if (
                  !this._buddylist.screened &&
                  this._allUsers &&
                  this._allUsers.user &&
                  this._allUsers.user.length
                ) {
                  for (var i = 0; i < this._allUsers.user.length; i++) {
                    var pbxUser = this._allUsers.user[i]
                    if (pbxUser.disabledBuddy) {
                      continue
                    }
                    if (pbxUser.user_id === this._user_id) {
                      // except myself
                      continue
                    }
                    var exists = false
                    for (var j = 0; j < this._buddylist.user.length; j++) {
                      var buddy = this._buddylist.user[j]
                      if (
                        buddy.user_id === pbxUser.user_id &&
                        buddy.tenant === this._tenant
                      ) {
                        exists = true
                        break
                      }
                    }
                    if (!exists) {
                      var userBuddy = {}
                      userBuddy.user_id = pbxUser.user_id
                      userBuddy.tenant = this._tenant
                      userBuddy.name = pbxUser.user_name
                      userBuddy.group = ''
                      userBuddy.block_settings = {}
                      this._buddylist.user.push(userBuddy)
                    }
                  }
                }
              }
              // remove buddies not existing in _allUsers from _buddylist
              for (var i = this._buddylist.user.length - 1; i >= 0; i--) {
                var buddy = this._buddylist.user[i]
                if (
                  (buddy.user_id || buddy.user_id === '') &&
                  this._allUsers &&
                  this._allUsers.user
                ) {
                  // user
                  var exists = false
                  for (var j = 0; j < this._allUsers.user.length; j++) {
                    var pbxUser = this._allUsers.user[j]
                    if (pbxUser.disabledBuddy) {
                      continue
                    }
                    if (
                      buddy.user_id === pbxUser.user_id &&
                      buddy.tenant === this._tenant
                    ) {
                      exists = true
                      break
                    }
                  }
                  if (!exists) {
                    this._buddylist.user.splice(i, 1)
                  }
                }
              }
              // remove excess from _buddylist
              var buddyCount = 0
              for (var i = 0; i < this._buddylist.user.length; i++) {
                var buddy = this._buddylist.user[i]
                if (buddy.user_id || buddy.user_id === '') {
                  // user
                  buddyCount++
                }
              }
              var excessCount = buddyCount - int(optional_config.buddy_max)
              for (var i = this._buddylist.user.length - 1; i >= 0; i--) {
                if (excessCount <= 0) {
                  break
                }
                var buddy = this._buddylist.user[i]
                if (buddy.user_id || buddy.user_id === '') {
                  // user
                  this._buddylist.user.splice(i, 1)
                  excessCount--
                }
              }
              // remove buddies not existing in _allUsers from _buddylistOrg
              for (var i = this._buddylistOrg.user.length - 1; i >= 0; i--) {
                var buddy = this._buddylistOrg.user[i]
                if (
                  (buddy.user_id || buddy.user_id === '') &&
                  this._allUsers &&
                  this._allUsers.user
                ) {
                  // user
                  var exists = false
                  for (var j = 0; j < this._allUsers.user.length; j++) {
                    var pbxUser = this._allUsers.user[j]
                    if (pbxUser.disabledBuddy) {
                      continue
                    }
                    if (
                      buddy.user_id === pbxUser.user_id &&
                      buddy.tenant === this._tenant
                    ) {
                      exists = true
                      break
                    }
                  }
                  if (!exists) {
                    this._buddylistOrg.user.splice(i, 1)
                  }
                }
              }
            },
            _signInGetAllUsersOK: function (result) {
              if (this._signInStatus === 2) {
                this._allUsers = result || {}
                if (
                  this._allUsers.user &&
                  typeof this._allUsers.user.sort === 'function'
                ) {
                  this._allUsers.user.sort(function (user1, user2) {
                    var id1 = string(user1 && user1.user_id)
                    var id2 = string(user2 && user2.user_id)
                    return id1 < id2 ? -1 : id1 > id2 ? 1 : 0
                  })
                }
                var configProperties = this.getConfigProperties()
                var buddy_mode = configProperties.buddy_mode
                this._refreshBuddylist()

                // subscribe buddy status
                var users = []
                if (
                  this._buddylist &&
                  this._buddylist.user &&
                  this._buddylist.user.length
                ) {
                  for (var i = 0; i < this._buddylist.user.length; i++) {
                    var buddy = this._buddylist.user[i]
                    if (buddy.user_id || buddy.user_id === '') {
                      users.push({
                        tenant: buddy.tenant,
                        user_id: buddy.user_id,
                      })
                    }
                  }
                }
                this._rpcCall(
                  'SubscribeStatus',
                  {
                    users: users,
                    mutual: buddy_mode !== Constants.BUDDY_MODE_MANUAL,
                    refresh: true,
                  },
                  this._signInSubscribeStatusOK,
                  this._signInSubscribeStatusNG,
                )
              }
            },
            _signInGetAllUsersNG: function (error) {
              if (this._signInStatus === 2) {
                this._signInNG(
                  int(error.code),
                  error.message + ' at GetAllUsers',
                )
              }
            },
            _signInSubscribeStatusOK: function (result) {
              if (this._signInStatus === 2) {
                this._signInAllOK(result)
              }
            },
            _signInSubscribeStatusNG: function (error) {
              if (this._signInStatus === 2) {
                this._signInNG(
                  int(error.code),
                  error.message + ' at SubscribeStatus',
                )
              }
            },
            _signInAllOK: function (result) {
              if (this._signInStatus === 2) {
                // change status
                if (this._status === null) {
                  // status not specified with sign-in option
                  this._status = this.getSettings().initial_status
                }
                setTimeout(this._byThis(this._sendStatusAfterSignIn), 1000)

                // sign-in success callback
                this._signInSuccess(result.tstamp)

                if (this._phone) {
                  // webrtc enabled
                  this._getPhoneProperties()
                }
              }
            },
            _getPhoneProperties: function () {
              this._phoneRegisterTimer = setTimeout(
                this._byThis(function () {
                  this._logger.log('warn', 'Phone register timeout')
                  this._phoneStatusChanged(
                    false,
                    Errors.WEBRTC_TEMPORARILY_UNAVAILABLE,
                    'Phone register timeout',
                  )
                }),
                this.PHONE_REGISTER_TIMEOUT_DEFAULT,
              )

              this._rpcCall(
                'GetPhoneProperties',
                {
                  tenant: this._tenant,
                  user_id: this._user_id,
                },
                this._getPhonePropertiesOK,
                this._getPhonePropertiesNG,
              )
            },
            _getPhonePropertiesOK: function (result) {
              this._phoneProperties = result

              var sip_host =
                this._phoneProperties.sip_host || this._host.split(':')[0]
              var stun_servers = []
              if (this._phoneProperties.stun) {
                try {
                  stun_servers = JSON.parse(this._phoneProperties.stun)
                } catch (e) {}
              }
              var turn_servers = ''
              if (this._phoneProperties.turn) {
                try {
                  turn_servers = JSON.parse(this._phoneProperties.turn)
                } catch (e) {}
              }
              this._phoneProperties.extraHeaderArray = []
              if (this._phoneProperties.extra_headers) {
                try {
                  if (this._phoneProperties.extra_headers.charAt(0) !== '[') {
                    this._phoneProperties.extraHeaderArray = JSON.parse(
                      '["' + this._phoneProperties.extra_headers + '"]',
                    )
                  } else {
                    this._phoneProperties.extraHeaderArray = JSON.parse(
                      this._phoneProperties.extra_headers,
                    )
                  }
                } catch (e) {}
              }

              if (this._phoneProperties.pnumber === '') {
                this._logger.log('warn', 'Empty pnumber')
                this._phoneStatusChanged(
                  false,
                  Errors.WEBRTC_PERMANENTLY_UNAVAILABLE,
                  'Empty pnumber',
                )
                return
              }
              if (
                !this._phoneProperties.password &&
                !this._phoneProperties.authorization
              ) {
                this._logger.log(
                  'warn',
                  'Empty password and empty authorization',
                )
              }

              // init phone
              try {
                this._phone.initPhone(
                  {
                    log: { level: 'debug' },
                    uri: this._phoneProperties.pnumber + '@' + sip_host,
                    password: this._phoneProperties.password,
                    ws_servers: this._useHttps
                      ? 'wss://' +
                        sip_host +
                        ':' +
                        this._phoneProperties.sip_wss_port
                      : 'ws://' +
                        sip_host +
                        ':' +
                        this._phoneProperties.sip_ws_port,
                    display_name: '',
                    authorization_user: '',
                    register: true,
                    register_expires: this._phoneProperties.register_expires,
                    registrar_server: '',
                    no_answer_timeout: 60,
                    trace_sip: true,
                    stun_servers: stun_servers,
                    turn_servers: turn_servers,
                    use_preloaded_route: false,
                    connection_recovery_min_interval: 2,
                    connection_recovery_max_interval: 30,
                    hack_via_tcp: false,
                    hack_ip_in_contact: false,
                  },
                  this._byThis(this._initPhoneOK),
                  this._byThis(this._phoneError),
                  this._byThis(this._sessionCreated),
                  this._byThis(this._statusChanged),
                  {
                    registratorExtraHeaders: this._phoneProperties.authorization
                      ? [
                          'Authorization: ' +
                            this._phoneProperties.authorization,
                        ]
                      : null,
                    iceOnlyVideo: true,
                    userAgent: this._phoneProperties.user_agent,
                  },
                )
              } catch (e) {
                this._logger.log(
                  'warn',
                  e.message + ' at InitPhone' + '\n' + e.stack + '\n',
                )

                this._phoneStatusChanged(
                  false,
                  Errors.WEBRTC_TEMPORARILY_UNAVAILABLE,
                  e.message + ' at InitPhone',
                )
              }
            },
            _getPhonePropertiesNG: function (error) {
              this._logger.log('warn', error.message + ' at GetPhoneProperties')

              this._phoneStatusChanged(
                false,
                Errors.WEBRTC_TEMPORARILY_UNAVAILABLE,
                error.message + ' at GetPhoneProperties',
              )
            },
            _initPhoneOK: function (e) {
              this._logger.log('info', 'Phone registered')
              this._phoneStatusChanged(true, 0, '')
            },
            _phoneStatusChanged: function (registered, code, msg) {
              var mustNotify = true
              if (this._phoneRegisterTimer) {
                clearTimeout(this._phoneRegisterTimer)
                this._phoneRegisterTimer = null
              } else {
                // already timeout
                registered = false
                if (!this._phoneRegistered) {
                  mustNotify = false
                }
              }
              this._phoneRegistered = registered
              // finalize phone
              if (!this._phoneRegistered && this._phone) {
                var sessionTable = this._phone.getCallSessionTable()
                for (var id in sessionTable) {
                  sessionTable[id].hangUp()
                }
                try {
                  this._phone.finalizePhone()
                } catch (e) {
                  this._logger.log(
                    'warn',
                    e.message + ' at finalizePhone' + '\n' + e.stack + '\n',
                  )
                }
                this._phone = null
              }
              if (mustNotify) {
                this._sendStatus(null, null)
                // raise phoneStatusChanged event
                if (
                  this._eventListeners.phoneStatusChanged &&
                  this._signInStatus === 3
                ) {
                  var ev = {
                    registered: this._phoneRegistered,
                    code: code,
                    message: msg,
                  }
                  this._eventListeners.phoneStatusChanged(ev)
                }
              }
            },
            _sendStatusAfterSignIn: function () {
              if (this._signInStatus === 3) {
                if (this._sendStatusCount === 0) {
                  // ChangeStatus
                  this._sendStatus(
                    this._byThis(this._receiveInvitationAfterSignIn),
                    null,
                  )
                } else {
                  // already sent
                  this._receiveInvitationAfterSignIn()
                }
              }
            },
            _receiveInvitationAfterSignIn: function () {
              if (this._signInStatus === 3) {
                if (
                  this.getProfile().user_type !==
                  Constants.USER_TYPE_TENANT_GUEST
                ) {
                  this._rpcNotify('ReceiveConferenceInvitaion', {}, null)
                }
              }
            },
            _keepAlive: function () {
              clearTimeout(this._pingTimer)
              if (this._signInStatus === 3) {
                if (this._rpc.timeLastReceived > 0) {
                  var now = new Date().getTime()
                  var elapsed = now - this._rpc.timeLastReceived
                  if (
                    elapsed > this.KEEP_ALIVE_TIMEOUT &&
                    now - this._timeSentKeepAlive <
                      this
                        .KEEP_ALIVE_TIMEOUT /* do not sign out if setTimeout delays longer */
                  ) {
                    // sign-out
                    this._forcedSignOut(Errors.PING_TIMEOUT, 'Ping timeout')
                    return
                  }
                  if (
                    elapsed > this.PING_INTERVAL ||
                    now - this._rpcTimeLastSent > this.PING_INTERVAL
                  ) {
                    // send ping
                    this._timeSentKeepAlive = now
                    this._rpcNotify('keepalive', { brekeke: 'cool' }, null)
                  }
                }
                if (!this._admin_mode) {
                  try {
                    this._checkTimezoneOffset()
                  } catch (e) {
                    var message = e.message + ' at _checkTimezoneOffset'
                    if (message !== this._lastErrors['_checkTimezoneOffset']) {
                      this._logger.log('warn', message + '\n' + e.stack + '\n')
                      this._lastErrors['_checkTimezoneOffset'] = message
                    }
                  }
                }
                this._pingTimer = setTimeout(
                  this._byThis(this._keepAlive),
                  this.CHECK_ALIVE_INTERVAL,
                )
              }
            },
            _checkTimezoneOffset: function () {
              var modified = false
              var settings = this.getSettings()
              if (!settings.optional_settings) {
                settings.optional_settings = {}
              }
              var nowDate = new Date()
              var nowTime = nowDate.getTime()
              if (nowTime >= this._timezoneOffsetNextCheckTime) {
                if (this._timezoneOffsetNextCheckTime !== -1) {
                  this._timezoneOffsetNextCheckTime =
                    nowTime + this.CHECK_TIMEZONE_OFFSET_ERROR_WAIT
                }
                var timezoneOffset = null
                try {
                  timezoneOffset = nowDate.getTimezoneOffset()
                } catch (e) {
                  this._logger.log(
                    'warn',
                    e.message + ' at getTimezoneOffset' + '\n' + e.stack + '\n',
                  )
                }
                if (timezoneOffset !== null) {
                  var lastTimezoneOffset = string(
                    settings.optional_settings.timezone_offset,
                  ).split(',')[0]
                  if (lastTimezoneOffset === '') {
                    settings.optional_settings.timezone_offset = timezoneOffset
                    modified = true
                  } else if (timezoneOffset !== int(lastTimezoneOffset)) {
                    settings.optional_settings.timezone_offset =
                      timezoneOffset + ',' + nowTime + ',' + lastTimezoneOffset
                    modified = true
                  }
                }
                var ucUrlFromClient =
                  (this._useHttps ? 'https://' : 'http://') +
                  this._host +
                  '/' +
                  this._path
                if (
                  settings.optional_settings.uc_url_from_client !==
                  ucUrlFromClient
                ) {
                  settings.optional_settings.uc_url_from_client =
                    ucUrlFromClient
                  modified = true
                }
                var lastExosJson = settings.optional_settings.exos || {}
                var lastExosJsonStr = JSON.stringify(lastExosJson)
                var currentExosJson = this._exos || {}
                var newExosJson = {}
                try {
                  newExosJson = JSON.parse(lastExosJsonStr)
                } catch (e) {}
                var keys = Object.keys(currentExosJson)
                for (var i = 0; i < keys.length; i++) {
                  newExosJson[keys[i]] = currentExosJson[keys[i]]
                }
                var newExosJsonStr = JSON.stringify(newExosJson)
                if (lastExosJsonStr !== newExosJsonStr) {
                  try {
                    settings.optional_settings.exos = JSON.parse(newExosJsonStr)
                    modified = true
                  } catch (e) {}
                }
                if (modified) {
                  this.saveProperties(
                    null,
                    settings,
                    null,
                    this._byThis(function (ev) {
                      if (timezoneOffset !== null) {
                        this._timezoneOffsetNextCheckTime = -1 // never need to wait
                      }
                    }),
                    this._byThis(function (ev) {
                      this._logger.log(
                        'warn',
                        'saveProperties at _checkTimezoneOffset funcError code: ' +
                          ev.code +
                          ', message: ' +
                          ev.message +
                          ', _timezoneOffsetNextCheckTime: ' +
                          this._timezoneOffsetNextCheckTime,
                      )
                    }),
                  )
                } else if (timezoneOffset !== null) {
                  this._timezoneOffsetNextCheckTime = Math.min(
                    0,
                    this._timezoneOffsetNextCheckTime,
                  ) // no need to wait
                }
              }
            },
            _sendStatus: function (funcOK, funcError) {
              var profile = this.getProfile()
              var status = this.getStatus()

              var count = this._sendStatusCount++

              var myKey = JSON.stringify({
                tenant: this._tenant,
                user_id: this._user_id,
              })

              this._rpcCall(
                'ChangeStatus',
                {
                  status: status.status,
                  name: profile.name,
                  display_name: count > 0 ? void 0 : 1, // only first, value is dummy
                  display: status.display,
                  pnumber: string(this._phoneProperties.pnumber),
                  registered: Boolean(this._phoneRegistered),
                  ucclient_customized_status: string(
                    this._ucclient_customized_status_table[myKey],
                  ),
                },
                function (result) {
                  if (result) {
                    this._download_keys[myKey] = result.dlk
                  }
                  if (funcOK) {
                    var ev = {}
                    funcOK(ev)
                  }
                },
                function (error) {
                  if (funcError) {
                    var ev = {
                      code: int(error.code),
                      message: string(error.message),
                    }
                    funcError(ev)
                  }
                  if (count === 0) {
                    // force sign-out
                    this._forcedSignOut(int(error.code), error.message)
                  }
                },
              )
            },
            _recvNotifyStatus: function (args) {
              if (!args.sender || !args.client_param) {
                this._logger.log('warn', 'Invalid argument: _recvNotifyStatus')
                return
              }
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)

              var user = null
              var isNonbuddy = false
              if (
                this._buddylist &&
                this._buddylist.user &&
                this._buddylist.user.length
              ) {
                for (var i = 0; i < this._buddylist.user.length; i++) {
                  if (
                    this._buddylist.user[i].user_id === sender_user_id &&
                    (this._buddylist.user[i].tenant || this._tenant) ===
                      sender_tenant
                  ) {
                    user = this._buddylist.user[i]
                  }
                }
              }
              if (user === null) {
                // nonbuddy
                isNonbuddy = true
                if (
                  this._nonbuddylist &&
                  this._nonbuddylist.user &&
                  this._nonbuddylist.user.length
                ) {
                  for (var i = 0; i < this._nonbuddylist.user.length; i++) {
                    if (
                      this._nonbuddylist.user[i].user_id === sender_user_id &&
                      (this._nonbuddylist.user[i].tenant || this._tenant) ===
                        sender_tenant
                    ) {
                      user = this._nonbuddylist.user[i]
                    }
                  }
                } else {
                  this._nonbuddylist = {}
                  this._nonbuddylist.user = []
                }
                if (user === null) {
                  // add nonbuddy to nonbuddylist
                  var nonbuddy = {}
                  nonbuddy.user_id = sender_user_id
                  nonbuddy.tenant = sender_tenant
                  nonbuddy.name = ''
                  nonbuddy.group = ''
                  nonbuddy.block_settings = {}
                  this._nonbuddylist.user.push(nonbuddy)
                  user = nonbuddy
                }

                var buddy_mode = this.getConfigProperties().buddy_mode
                if (
                  buddy_mode !== Constants.BUDDY_MODE_MANUAL &&
                  this.getProfile().user_type !==
                    Constants.USER_TYPE_SYSTEM_ADMIN &&
                  this.getProfile().user_type !==
                    Constants.USER_TYPE_TENANT_GUEST &&
                  sender_user_id.substr(0, 2) !== '##' &&
                  !this.disableBuddylist
                ) {
                  // reload buddy list from PBX
                  this._rpcCall(
                    'GetAllUsers',
                    {
                      target: {
                        tenant: this._tenant,
                      },
                    },
                    function (result) {
                      this._allUsers = result || {}
                      if (
                        this._allUsers.user &&
                        typeof this._allUsers.user.sort === 'function'
                      ) {
                        this._allUsers.user.sort(function (user1, user2) {
                          var id1 = string(user1 && user1.user_id)
                          var id2 = string(user2 && user2.user_id)
                          return id1 < id2 ? -1 : id1 > id2 ? 1 : 0
                        })
                      }
                      this._refreshBuddylist()

                      this._recvNotifyStatus2(args, user, isNonbuddy)
                    },
                    null,
                  )
                  return
                }
              }

              this._recvNotifyStatus2(args, user, isNonbuddy)
            },
            _recvNotifyStatus2: function (args, user, isNonbuddy) {
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)
              var key = JSON.stringify({
                tenant: sender_tenant,
                user_id: sender_user_id,
              })

              // memory status
              this._buddyStatus[key] = {
                status: args.client_param.status,
                display: args.client_param.display,
                disconnected_tstamp: int(args.client_param.disconnected_tstamp),
                disconnected_status: int(args.client_param.disconnected_status),
                disconnected_display: string(
                  args.client_param.disconnected_display,
                ),
              }
              // memory download key
              this._download_keys[key] = args.client_param.dlk
              // modify name
              if (
                user.name !== args.client_param.name &&
                args.client_param.name !== null
              ) {
                user.name = args.client_param.name
              }
              // memory phone status
              this._buddyPhone[key] = {
                pnumber: args.client_param.pnumber,
                registered: args.client_param.registered,
              }
              // memory ucclient_customized_status
              if (args.client_param.ucclient_customized_status) {
                this._ucclient_customized_status_table[key] =
                  args.client_param.ucclient_customized_status
              }

              // raise buddyStatusChanged event
              if (
                this._eventListeners.buddyStatusChanged &&
                this._signInStatus === 3
              ) {
                var ev = {
                  tenant: sender_tenant,
                  user_id: sender_user_id,
                  name: string(args.client_param.name),
                  profile_image_url: this._getProfileImageUrl(
                    sender_tenant,
                    sender_user_id,
                  ),
                  status: int(args.client_param.status),
                  display: string(args.client_param.display),
                  disconnected_tstamp: int(
                    args.client_param.disconnected_tstamp,
                  ),
                  disconnected_status: int(
                    args.client_param.disconnected_status,
                  ),
                  disconnected_display: string(
                    args.client_param.disconnected_display,
                  ),
                  request_ltime: stringifyTstamp(args.request_tstamp),
                  request_tstamp: int(args.request_tstamp),
                }
                try {
                  ev.ui_customized_status = (
                    JSON.parse(
                      string(this._ucclient_customized_status_table[key]),
                    ) || {}
                  ).ui_customized_status
                } catch (e) {}
                if (typeof ev.ui_customized_status === 'undefined') {
                  ev.ui_customized_status = null
                }
                this._eventListeners.buddyStatusChanged(ev)
              }
            },
            _getProfileImageUrl: function (tenant, user_id) {
              var key = JSON.stringify({ tenant: tenant, user_id: user_id })
              if (this._ucclient_customized_status_table[key]) {
                var url = ''
                try {
                  url = string(
                    (
                      JSON.parse(
                        string(this._ucclient_customized_status_table[key]),
                      ) || {}
                    ).myProfileImageUrl,
                  )
                } catch (e) {
                  this._logger.log(
                    'warn',
                    e.message + ' at _getProfileImageUrl',
                  )
                }
                if (url) {
                  return url
                }
              }
              return (
                (this._useHttps ? 'https://' : 'http://') +
                this._host +
                '/' +
                this._path +
                (this._download_keys[key] ||
                string(user_id).substring(0, 2) === '##'
                  ? Constants.PROFILE_IMAGE_URL_DOWNLOAD +
                    '&tenant=' +
                    encodeURIComponent(tenant) +
                    '&user=' +
                    encodeURIComponent(user_id) +
                    (this._download_keys[key]
                      ? '&dlk=' + encodeURIComponent(this._download_keys[key])
                      : '') +
                    (this._profileImageSize
                      ? '&SIZE=' + encodeURIComponent(this._profileImageSize)
                      : '')
                  : Constants.NOIMAGE_URL)
              )
            },
            _recvText: function (args) {
              if (!args.sender) {
                this._logger.log('warn', 'Invalid argument: _recvText')
                return
              }
              var sender_tenant = args.sender.tenant || this._tenant
              var sender_user_id = string(args.sender.user_id)

              this._lastMessageTime = int(args.tstamp)

              switch (args.ctype) {
                case Constants.CTYPE_TEXT:
                case Constants.CTYPE_CALL_RESULT:
                  // raise receivedText event
                  if (
                    this._eventListeners.receivedText &&
                    this._signInStatus === 3
                  ) {
                    var ev = {
                      sender: {
                        tenant: sender_tenant,
                        user_id: sender_user_id,
                      },
                      text: string(args.text),
                      conf_id: args.conf_id ? string(args.conf_id) : null, // args.conf_id might be undefined or "" on non-conf
                      ctype: int(args.ctype),
                      received_text_id:
                        string(args.action_id) +
                        '_' +
                        string(args.sent_ltime || args.ltime)
                          .substr(0, 7)
                          .split('-')
                          .join(''),
                      topic_id: string(args.topic_id || ''),
                      ltime: stringifyTstamp(args.tstamp),
                      tstamp: int(args.tstamp),
                      sent_ltime: stringifyTstamp(
                        args.sent_tstamp || args.tstamp,
                      ), // args.sent_tstamp has value only in GetUnreadText
                      sent_tstamp: int(args.sent_tstamp || args.tstamp), // args.sent_tstamp has value only in GetUnreadText
                      requires_read: args.conf_id ? false : true,
                    }
                    this._eventListeners.receivedText(ev)
                  }
                  break
                case Constants.CTYPE_FILE_REQUEST:
                  var fileProps
                  try {
                    fileProps = JSON.parse(args.text)
                  } catch (e) {
                    this._logger.log(
                      'warn',
                      'Invalid argument: _recvText text=' + args.text,
                    )
                    break
                  }
                  var isThirdParty
                  var file_id = string(fileProps.file_id)
                  if (fileProps.target) {
                    if (
                      fileProps.target.tenant === this._tenant &&
                      fileProps.target.user_id === this._user_id
                    ) {
                      isThirdParty = false
                    } else {
                      if (fileProps.additionals) {
                        isThirdParty = true
                        for (var i = 0; i < fileProps.additionals.length; i++) {
                          if (
                            fileProps.additionals[i].target.tenant ===
                              this._tenant &&
                            fileProps.additionals[i].target.user_id ===
                              this._user_id
                          ) {
                            isThirdParty = false
                            file_id = fileProps.additionals[i].file_id
                            break
                          }
                        }
                      } else {
                        isThirdParty = true
                      }
                    }
                  } else {
                    isThirdParty = false
                  }
                  if (isThirdParty) {
                    // raise receivedText event
                    if (
                      this._eventListeners.receivedText &&
                      this._signInStatus === 3
                    ) {
                      var ev = {
                        sender: {
                          tenant: sender_tenant,
                          user_id: sender_user_id,
                        },
                        text: string(args.text),
                        conf_id: args.conf_id ? string(args.conf_id) : null, // args.conf_id might be undefined or "" on non-conf
                        ctype: int(args.ctype),
                        received_text_id:
                          string(args.action_id) +
                          '_' +
                          string(args.sent_ltime || args.ltime)
                            .substr(0, 7)
                            .split('-')
                            .join(''),
                        topic_id: string(args.topic_id || ''),
                        ltime: stringifyTstamp(args.tstamp),
                        tstamp: int(args.tstamp),
                        sent_ltime: stringifyTstamp(
                          args.sent_tstamp || args.tstamp,
                        ), // args.sent_tstamp has value only in GetUnreadText
                        sent_tstamp: int(args.sent_tstamp || args.tstamp), // args.sent_tstamp has value only in GetUnreadText
                        requires_read: args.conf_id ? false : true,
                      }
                      this._eventListeners.receivedText(ev)
                    }
                  } else {
                    var target = {
                      tenant: sender_tenant,
                      user_id: sender_user_id,
                    }
                    var name = string(fileProps.name)
                    var size = int(fileProps.size)

                    // new file info
                    this._newFileInfo(
                      file_id,
                      target,
                      false,
                      Constants.FILE_STATUS_UNACCEPTED,
                      name,
                      size,
                      null,
                      null,
                    )

                    // raise fileReceived event
                    if (
                      this._eventListeners.fileReceived &&
                      this._signInStatus === 3
                    ) {
                      var ev = {
                        fileInfo: this.getFileInfo(file_id),
                        conf_id: args.conf_id ? string(args.conf_id) : null,
                        text_id:
                          string(args.action_id) +
                          '_' +
                          string(args.sent_ltime || args.ltime)
                            .substr(0, 7)
                            .split('-')
                            .join(''),
                        topic_id: string(args.topic_id || ''),
                        ltime: stringifyTstamp(args.tstamp),
                        tstamp: int(args.tstamp),
                        sent_ltime: stringifyTstamp(
                          args.sent_tstamp || args.tstamp,
                        ),
                        sent_tstamp: int(args.sent_tstamp || args.tstamp),
                      }
                      this._eventListeners.fileReceived(ev)
                    }
                  }
                  break
                case Constants.CTYPE_OBJECT:
                  var receivedObject = undefined
                  try {
                    receivedObject = JSON.parse(args.text)
                  } catch (e) {
                    this._logger.log('warn', e.message + ' at _recvText')
                  }
                  // raise objectReceived event
                  if (
                    this._eventListeners.objectReceived &&
                    this._signInStatus === 3
                  ) {
                    var ev = {
                      sender: {
                        tenant: sender_tenant,
                        user_id: sender_user_id,
                      },
                      text: string(args.text),
                      object: receivedObject,
                      conf_id: args.conf_id ? string(args.conf_id) : null, // args.conf_id might be undefined or "" on non-conf
                      ctype: int(args.ctype),
                      received_text_id:
                        string(args.action_id) +
                        '_' +
                        string(args.sent_ltime || args.ltime)
                          .substr(0, 7)
                          .split('-')
                          .join(''),
                      topic_id: string(args.topic_id || ''),
                      ltime: stringifyTstamp(args.tstamp),
                      tstamp: int(args.tstamp),
                      sent_ltime: stringifyTstamp(
                        args.sent_tstamp || args.tstamp,
                      ), // args.sent_tstamp has value only in GetUnreadText
                      sent_tstamp: int(args.sent_tstamp || args.tstamp), // args.sent_tstamp has value only in GetUnreadText
                      requires_read: args.conf_id ? false : true,
                    }
                    this._eventListeners.objectReceived(ev)
                  }
                  break
                case Constants.CTYPE_CONF_START:
                  break
                case Constants.CTYPE_CONF_LEAVE:
                  // raise confLeaveReceived event
                  if (
                    this._eventListeners.confLeaveReceived &&
                    this._signInStatus === 3
                  ) {
                    var ev = {
                      sender: {
                        tenant: sender_tenant,
                        user_id: sender_user_id,
                      },
                      text: string(args.text),
                      conf_id: args.conf_id ? string(args.conf_id) : null, // args.conf_id might be undefined or "" on non-conf
                      ctype: int(args.ctype),
                      received_text_id:
                        string(args.action_id) +
                        '_' +
                        string(args.sent_ltime || args.ltime)
                          .substr(0, 7)
                          .split('-')
                          .join(''),
                      topic_id: string(args.topic_id || ''),
                      ltime: stringifyTstamp(args.tstamp),
                      tstamp: int(args.tstamp),
                      sent_ltime: stringifyTstamp(
                        args.sent_tstamp || args.tstamp,
                      ), // args.sent_tstamp has value only in GetUnreadText
                      sent_tstamp: int(args.sent_tstamp || args.tstamp), // args.sent_tstamp has value only in GetUnreadText
                    }
                    this._eventListeners.confLeaveReceived(ev)
                  }
                  break
                default:
                  this._logger.log(
                    'warn',
                    'Invalid argument: _recvText ctype=' + args.ctype,
                  )
                  break
              }
            },
            _recvTyping: function (args) {
              if (!args.sender || !args.client_param) {
                this._logger.log('warn', 'Invalid argument: _recvTyping')
                return
              }
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)

              // raise receivedTyping event
              if (
                this._eventListeners.receivedTyping &&
                this._signInStatus === 3
              ) {
                var ev = {
                  tenant: sender_tenant,
                  user_id: sender_user_id,
                  request_ltime: stringifyTstamp(args.request_tstamp),
                  request_tstamp: int(args.request_tstamp),
                }
                this._eventListeners.receivedTyping(ev)
              }
            },
            _newConference: function (conf_id) {
              // create conference if not exists
              if (!this._conferences[conf_id]) {
                var conference = {}
                conference.conf_id = conf_id
                conference.subject = ''
                conference.created_time = ''
                conference.created_tstamp = 0
                conference.created_server_time = ''
                conference.conf_type = ''
                conference.conf_status = Constants.CONF_STATUS_INVITED
                conference.from = {
                  tenant: '',
                  user_id: '',
                  user_name: '',
                }
                conference.creator = {
                  tenant: '',
                  user_id: '',
                  user_name: '',
                }
                conference.assigned = {
                  tenant: '',
                  user_id: '',
                }
                conference.ext_conf_info = {}
                conference.conf_tags = []
                conference.webchatinfo = {}
                conference.invite_properties = {
                  invisible: false,
                  rejoinable: false,
                  webchatfromguest: null,
                  continuation_info: null,
                  rwq: false,
                }
                conference.user = []
                this._conferences[conf_id] = conference
              }
            },
            _invitedToConference: function (args) {
              if (!args.conf_id || !args.from) {
                this._logger.log(
                  'warn',
                  'Invalid argument: _invitedToConference',
                )
                return
              }

              var profile = this.getProfile()
              var conf_id = string(args.conf_id)

              this._newConference(conf_id)

              this._conferences[conf_id].subject = string(args.subject)
              this._conferences[conf_id].created_time = stringifyTstamp(
                args.created_tstamp,
              )
              this._conferences[conf_id].created_tstamp = int(
                args.created_tstamp,
              )
              this._conferences[conf_id].created_server_time = string(
                args.created_ltime,
              )
              this._conferences[conf_id].conf_type = string(args.conf_type)
              this._conferences[conf_id].conf_status = int(args.conf_status)
              this._conferences[conf_id].invite_properties = {
                invisible: Boolean(
                  args.join_properties && args.join_properties.invisible,
                ),
                rejoinable: Boolean(
                  args.join_properties && args.join_properties.rejoinable,
                ),
                webchatfromguest:
                  (args.join_properties &&
                    args.join_properties.webchatfromguest) ||
                  null,
                continuation_info:
                  (args.join_properties &&
                    args.join_properties.continuation_info) ||
                  null,
                rwq: Boolean(args.join_properties && args.join_properties.rwq),
              }
              if (args.assigned && args.assigned.user_id) {
                this._conferences[conf_id].assigned = {
                  tenant: string(args.assigned.tenant),
                  user_id: string(args.assigned.user_id),
                }
              }
              if (args.ext_conf_info) {
                this._conferences[conf_id].ext_conf_info = args.ext_conf_info
              }
              if (args.webchatinfo) {
                this._conferences[conf_id].webchatinfo = args.webchatinfo
              }

              // from
              this._conferences[conf_id].from = {
                tenant: string(args.from && args.from.tenant),
                user_id: string(args.from && args.from.user_id),
                user_name: string(
                  args.from && (args.from.user_name || args.from.user_id),
                ),
              }

              // creator
              this._conferences[conf_id].creator = {
                tenant: string(args.creator && args.creator.tenant),
                user_id: string(args.creator && args.creator.user_id),
                user_name: string(
                  args.creator &&
                    (args.creator.user_name || args.creator.user_id),
                ),
              }

              // user
              this._conferences[conf_id].user = [
                // inviter
                {
                  user_id: string(args.from && args.from.user_id),
                  tenant: string(args.from && args.from.tenant),
                  name: string(
                    args.from && (args.from.user_name || args.from.user_id),
                  ),
                  conf_status: int(
                    (args.from && args.from.conf_status) ||
                      Constants.CONF_STATUS_JOINED,
                  ),
                },
                // me
                {
                  user_id: profile.user_id,
                  tenant: profile.tenant,
                  name: profile.name || profile.user_id,
                  conf_status: int(args.conf_status),
                },
              ]

              // raise invitedToConference event
              if (
                this._eventListeners.invitedToConference &&
                this._signInStatus === 3
              ) {
                var ev = {
                  conference: this.getConference(conf_id),
                  ltime: stringifyTstamp(args.tstamp),
                  tstamp: int(args.tstamp),
                }
                this._eventListeners.invitedToConference(ev)
              }
            },
            _conferenceMemberChanged: function (args) {
              if (this._enteringWebchatRoom && this._enteringWebchatRoom.push) {
                this._enteringWebchatRoom.push(
                  this._byThis(this._conferenceMemberChanged, [args]),
                )
                return
              }
              if (this._joiningConference && this._joiningConference.push) {
                this._joiningConference.push(
                  this._byThis(this._conferenceMemberChanged, [args]),
                )
                return
              }

              var conf_id = string(args.conf_id)
              var conf_status = Constants.CONF_STATUS_INACTIVE

              this._newConference(conf_id)

              // update member list
              var users = []
              if (args.user && args.user.length) {
                for (var i = 0; i < args.user.length; i++) {
                  var user = {}
                  user.user_id = args.user[i].user_id
                  user.tenant = args.user[i].tenant
                  user.name = args.user[i].user_name
                  user.conf_status = args.user[i].conf_status
                  user.video_conf_status = args.user[i].video_conf_status
                  user.reenter_user_id = args.user[i].reenter_user_id
                  users.push(user)
                  if (
                    args.user[i].tenant === this._tenant &&
                    args.user[i].user_id === this._user_id
                  ) {
                    conf_status = args.user[i].conf_status
                  }
                }
              }
              this._conferences[conf_id].user = users
              this._conferences[conf_id].conf_status = conf_status

              if (conf_status === Constants.CONF_STATUS_INVITED) {
                // inviter
                this._conferences[conf_id].user.push({
                  user_id: this._conferences[conf_id].from.user_id,
                  tenant: this._conferences[conf_id].from.tenant,
                  name:
                    this._conferences[conf_id].from.user_name ||
                    this._conferences[conf_id].from.user_id,
                  conf_status: Constants.CONF_STATUS_JOINED,
                })
              }

              // update assigned
              if (
                this._conferences[conf_id].invite_properties.webchatfromguest &&
                !this._conferences[conf_id].assigned.user_id
              ) {
                for (
                  var i = 0;
                  i < this._conferences[conf_id].user.length;
                  i++
                ) {
                  if (
                    this._conferences[conf_id].user[i].conf_status ===
                      Constants.CONF_STATUS_JOINED &&
                    this._conferences[conf_id].user[i].user_id !==
                      this._conferences[conf_id].creator.user_id
                  ) {
                    this._conferences[conf_id].assigned.tenant =
                      this._conferences[conf_id].user[i].tenant
                    this._conferences[conf_id].assigned.user_id =
                      this._conferences[conf_id].user[i].user_id
                    break
                  }
                }
              }

              var conference = this.getConference(conf_id)

              // forced left
              if (conf_status === Constants.CONF_STATUS_INACTIVE) {
                delete this._conferences[conf_id]
              }

              // raise conferenceMemberChanged event
              if (
                this._eventListeners.conferenceMemberChanged &&
                this._signInStatus === 3
              ) {
                var ev = {
                  conference: conference,
                  ltime: stringifyTstamp(args.tstamp),
                  tstamp: int(args.tstamp),
                }
                this._eventListeners.conferenceMemberChanged(ev)
              }

              // joined only
              if (conf_status === Constants.CONF_STATUS_JOINED) {
                // conference call
                for (var bundleId in this._sessionBundleTable) {
                  var bundle = this._sessionBundleTable[bundleId]
                  if (bundle.target.conf_id === conf_id) {
                    // raise callInfoChanged event
                    this._callInfoChanged(bundleId)
                  }
                }
              }
            },
            _extConfInfoChanged: function (args) {
              var conf_id = string(args.conf_id)

              if (!this._conferences[conf_id]) {
                this._logger.log(
                  'warn',
                  'Unknown conference changed: ' + conf_id,
                )
                return
              }

              this._conferences[conf_id].ext_conf_info =
                args.ext_conf_info || {}

              var conference = this.getConference(conf_id)

              // raise extConfInfoChanged event
              if (
                this._eventListeners.extConfInfoChanged &&
                this._signInStatus === 3
              ) {
                var ev = {
                  conference: conference,
                }
                this._eventListeners.extConfInfoChanged(ev)
              }
            },
            _tagUpdated: function (args) {
              var attached_type = string(args.attached_type)
              var attached_id = string(args.attached_id)
              var tags = args.tags && args.tags.length ? args.tags : []
              var yyyymm = string(args.yyyymm)
              var ltime = string(args.ltime)

              if (attached_type === 'conf') {
                var conf_id = attached_id
                if (
                  Math.abs(
                    int(ltime.substr(0, 7).split('-').join('')) - int(yyyymm),
                  ) > 1
                ) {
                  this._logger.log(
                    'info',
                    '_tagUpdated old conference (conf_id: ' +
                      conf_id +
                      ', yyyymm: ' +
                      yyyymm +
                      ', ltime: ' +
                      ltime +
                      ')',
                  )
                  return
                }
                if (!this._conferences[conf_id]) {
                  this._logger.log(
                    'info',
                    '_tagUpdated inactive conference (conf_id: ' +
                      conf_id +
                      ')',
                  )
                  return
                }
                this._conferences[conf_id].conf_tags = tags
                var conference = this.getConference(conf_id)
                // raise confTagUpdated event
                if (
                  this._eventListeners.confTagUpdated &&
                  this._signInStatus === 3
                ) {
                  var ev = {
                    conference: conference,
                  }
                  this._eventListeners.confTagUpdated(ev)
                }
              }
            },
            _newFileInfo: function (
              file_id,
              target,
              isUpload,
              status,
              name,
              size,
              form,
              formData,
            ) {
              // create file info
              this._fileInfos[file_id] = {
                file_id: file_id,
                target: target,
                isUpload: isUpload,
                status: status,
                name: name,
                size: size,
                progress: 0,
                _form: form,
                _formData: formData,
                _xhr: null,
                _lastProgressTime: 0,
              }
            },
            _terminateFileInfo: function (file_id, status) {
              if (this._fileInfos[file_id]) {
                this._fileInfos[file_id].status = status
                if (status === Constants.FILE_STATUS_COMPLETED) {
                  this._fileInfos[file_id].progress = 100
                }
                this._fileInfos[file_id]._form = null
                this._fileInfos[file_id]._formData = null
                this._fileInfos[file_id]._xhr = null

                // raise fileTerminated event
                if (
                  this._eventListeners.fileTerminated &&
                  this._signInStatus === 3
                ) {
                  var ev = {
                    fileInfo: this.getFileInfo(file_id),
                  }
                  this._eventListeners.fileTerminated(ev)
                }

                delete this._fileInfos[file_id]
              }
            },
            _changeFileInfo: function (file_id, status, progress) {
              if (this._fileInfos[file_id]) {
                this._fileInfos[file_id].status = status
                this._fileInfos[file_id].progress = progress

                // raise fileInfoChanged event
                if (
                  this._eventListeners.fileInfoChanged &&
                  this._signInStatus === 3
                ) {
                  var ev = {
                    fileInfo: this.getFileInfo(file_id),
                  }
                  this._eventListeners.fileInfoChanged(ev)
                }
              }
            },
            _recvRecvFile: function (args) {
              if (
                !args.client_param ||
                !args.client_param.response ||
                !args.client_param.file_id
              ) {
                this._logger.log('warn', 'Invalid argument: _recvRecvFile')
                return
              }
              var file_id = args.client_param.file_id
              var fileInfo = this._fileInfos[file_id]
              if (fileInfo) {
                switch (args.client_param.response) {
                  case Constants.CTYPE_FILE_ACCEPT:
                    // start upload post
                    setTimeout(
                      this._byThis(function () {
                        // wait to start sync on server
                        var fileInfo = this._fileInfos[file_id]
                        if (fileInfo) {
                          if (fileInfo._formData) {
                            // FormData enabled
                            // upload with XHR + FormData
                            var fd = fileInfo._formData
                            var xhr = new XMLHttpRequest()
                            xhr.open(
                              'POST',
                              (this._useHttps ? 'https://' : 'http://') +
                                this._host +
                                '/' +
                                this._path +
                                '/file?ACTION=UPLOAD&SUBACTION=TRANS&TRANSFER_ID=' +
                                encodeURIComponent(file_id) +
                                '&tenant=' +
                                encodeURIComponent(this._tenant) +
                                '&user=' +
                                encodeURIComponent(this._user_id),
                              true,
                            )
                            xhr.upload.onprogress = this._byThis(
                              function (evt) {
                                if (evt.lengthComputable) {
                                  var progress = Math.min(
                                    99,
                                    Math.round((evt.loaded * 100) / evt.total),
                                  )
                                  var progressTime = new Date().getTime()
                                  if (
                                    fileInfo.progress !== progress &&
                                    fileInfo._lastProgressTime + 1000 <=
                                      progressTime
                                  ) {
                                    this._changeFileInfo(
                                      file_id,
                                      Constants.FILE_STATUS_TRANSFERRING,
                                      progress,
                                    )
                                    fileInfo._lastProgressTime = progressTime
                                    this._rpcCall(
                                      'SendClientEvent',
                                      {
                                        client_method: 'NotifyFileTransfer',
                                        target: fileInfo.target,
                                        client_param: {
                                          file_id: file_id,
                                          status: Constants.CTYPE_FILE_PROGRESS,
                                          progress: fileInfo.progress,
                                        },
                                      },
                                      null,
                                      null,
                                    )
                                  }
                                }
                              },
                            )
                            xhr.upload.onerror = this._byThis(function (evt) {
                              this._terminateFileInfo(
                                file_id,
                                Constants.FILE_STATUS_ERROR,
                              )
                            })
                            xhr.upload.ontimeout = this._byThis(function (evt) {
                              this._terminateFileInfo(
                                file_id,
                                Constants.FILE_STATUS_ERROR,
                              )
                            })
                            xhr.onload = this._byThis(function (evt) {
                              this._terminateFileInfo(
                                file_id,
                                xhr.status === 200
                                  ? Constants.FILE_STATUS_COMPLETED
                                  : Constants.FILE_STATUS_ERROR,
                              )
                            })
                            xhr.send(fd)
                            fileInfo._xhr = xhr
                            // raise fileInfoChanged event
                            this._changeFileInfo(
                              file_id,
                              Constants.FILE_STATUS_TRANSFERRING,
                              0,
                            )
                          } else {
                            // FormData disabled (IE9)
                            // upload with form
                            fileInfo._form.action =
                              (this._useHttps ? 'https://' : 'http://') +
                              this._host +
                              '/' +
                              this._path +
                              '/file?ACTION=UPLOAD&SUBACTION=TRANS&TRANSFER_ID=' +
                              encodeURIComponent(file_id) +
                              '&tenant=' +
                              encodeURIComponent(this._tenant) +
                              '&user=' +
                              encodeURIComponent(this._user_id)
                            fileInfo._form.method = 'POST'
                            fileInfo._form.enctype = 'multipart/form-data'
                            fileInfo._form.submit()
                            // raise fileTerminated event (cannot report progress)
                            this._terminateFileInfo(
                              file_id,
                              Constants.FILE_STATUS_COMPLETED,
                            )
                          }
                        }
                      }),
                      2000,
                    )
                    break
                  case Constants.CTYPE_FILE_REJECT:
                    this._rpcCall(
                      'StopFileTransfer',
                      {
                        file_id: file_id,
                      },
                      function (result) {
                        if (fileInfo._xhr) {
                          fileInfo._xhr.upload.onabort = this._byThis(
                            function (evt) {
                              this._terminateFileInfo(
                                file_id,
                                Constants.FILE_STATUS_REMOTE_CANCEL,
                              )
                            },
                          )
                          fileInfo._xhr.abort()
                        } else {
                          this._terminateFileInfo(
                            file_id,
                            Constants.FILE_STATUS_REMOTE_CANCEL,
                          )
                        }
                      },
                      function (error) {
                        this._logger.log(
                          'warn',
                          'Failed to stop file transfer: ' +
                            string(error.message),
                        )
                        if (fileInfo._xhr) {
                          fileInfo._xhr.upload.onabort = this._byThis(
                            function (evt) {
                              this._terminateFileInfo(
                                file_id,
                                Constants.FILE_STATUS_ERROR,
                              )
                            },
                          )
                          fileInfo._xhr.abort()
                        } else {
                          this._terminateFileInfo(
                            file_id,
                            Constants.FILE_STATUS_ERROR,
                          )
                        }
                      },
                    )
                    break
                }
              }
            },
            _recvNotifyFileTransfer: function (args) {
              if (
                !args.client_param ||
                !args.client_param.status ||
                !args.client_param.file_id
              ) {
                this._logger.log(
                  'warn',
                  'Invalid argument: _recvNotifyFileTransfer',
                )
                return
              }
              var file_id = args.client_param.file_id
              var fileInfo = this._fileInfos[file_id]
              if (fileInfo) {
                switch (args.client_param.status) {
                  case Constants.CTYPE_FILE_CANCEL:
                    this._terminateFileInfo(
                      file_id,
                      Constants.FILE_STATUS_REMOTE_CANCEL,
                    )
                    break
                  case Constants.CTYPE_FILE_PROGRESS:
                    var progress = args.client_param.progress
                    if (fileInfo.progress !== progress) {
                      this._changeFileInfo(
                        file_id,
                        Constants.FILE_STATUS_TRANSFERRING,
                        progress,
                      )
                    }
                    break
                }
              }
            },
            _recvFile: function (args) {
              if (!args.status || !args.file_id) {
                this._logger.log('warn', 'Invalid argument: _recvFile')
                return
              }
              var file_id = args.file_id
              var fileInfo = this._fileInfos[file_id]
              if (fileInfo) {
                if (args.status === 1) {
                  this._terminateFileInfo(
                    file_id,
                    Constants.FILE_STATUS_COMPLETED,
                  )
                }
              }
            },
            _phoneError: function (e) {
              var msg = e.event + ' at InitPhone (cause: ' + e.data.cause + ')'
              var detail = e.data.response ? '\n' + e.data.response.data : ''
              this._logger.log('warn', msg + detail)

              this._phoneStatusChanged(
                false,
                Errors.WEBRTC_TEMPORARILY_UNAVAILABLE,
                msg,
              )
            },
            _sessionCreated: function (e) {
              var callSession = e.callSession
              var sessionBundleId = null
              var sessionBundle = null

              if (callSession.status === 'dialing') {
                // outgoing call
                sessionBundleId = callSession.option.sessionBundleId
                if (this._makeCallStatus[sessionBundleId]) {
                  if (this._sessionBundleTable[sessionBundleId]) {
                    sessionBundle = this._sessionBundleTable[sessionBundleId]
                    if (callSession.option.mediaConstraints) {
                      sessionBundle.mediaConstraints = {
                        audio:
                          callSession.option.mediaConstraints.audio ||
                          sessionBundle.mediaConstraints.audio,
                        video:
                          callSession.option.mediaConstraints.video ||
                          sessionBundle.mediaConstraints.video,
                      }
                    }
                    sessionBundle.sharedObjectJson =
                      callSession.option.sharedObjectJson || '{}'
                    sessionBundle.singleSession = Boolean(
                      callSession.option.singleSession,
                    )
                    if (
                      sessionBundle.direction !==
                      Constants.CALL_DIRECTION_OUTGOING
                    ) {
                      sessionBundle.direction = Constants.CALL_DIRECTION_UNKNOWN
                    }
                  } else {
                    // create sessionBundle
                    sessionBundle = {
                      target: callSession.option.target,
                      sessionIdArray: [],
                      lastCallInfo: '',
                      direction: Constants.CALL_DIRECTION_OUTGOING,
                      microphoneMuted: false,
                      cameraMuted: false,
                      autoAnswer: true,
                      autoTerminate: !Boolean(
                        callSession.option.target.conf_id,
                      ),
                      mediaConstraints: callSession.option.mediaConstraints || {
                        audio: false,
                        video: false,
                      },
                      sharedObjectJson:
                        callSession.option.sharedObjectJson || '{}',
                      singleSession: Boolean(callSession.option.singleSession),
                    }
                    this._sessionBundleTable[sessionBundleId] = sessionBundle
                  }
                  sessionBundle.sessionIdArray.push(callSession.id)

                  clearTimeout(this._makeCallStatus[sessionBundleId].timer)

                  // callback funcOK of makeCall
                  var callInfo = this.getCallInfo(sessionBundleId)
                  this._sessionBundleTable[sessionBundleId].lastCallInfo =
                    JSON.stringify(callInfo)
                  if (this._makeCallStatus[sessionBundleId].funcOK) {
                    var ev = {
                      callInfo: callInfo,
                    }
                    this._makeCallStatus[sessionBundleId].funcOK(ev)
                  }
                  delete this._makeCallStatus[sessionBundleId]
                } else if (this._sessionBundleTable[sessionBundleId]) {
                  sessionBundle = this._sessionBundleTable[sessionBundleId]
                  sessionBundle.sessionIdArray.push(callSession.id)

                  // raise callInfoChanged event
                  this._callInfoChanged(sessionBundleId)
                } else {
                  this._logger.log(
                    'warn',
                    'Outgoing session without makeCall: ' + sessionBundleId,
                  )
                  callSession.hangUp()
                }
              } else {
                // incoming call

                // get address
                var address = string(callSession.peerUser)

                // get user_id
                var tenant = null
                var user_id = null
                if (
                  this._phoneProperties.mode_uc_call === 1 ||
                  (this._phoneProperties.mode_uc_call === 2 &&
                    !callSession.mediaConstraints.audio)
                ) {
                  // directly (address is pnumber)
                  for (var key in this._buddyPhone) {
                    var buddyPnumber = string(this._buddyPhone[key].pnumber)
                    if (address === buddyPnumber && buddyPnumber !== '') {
                      try {
                        var tenant_user = JSON.parse(key)
                        tenant = tenant_user.tenant
                        user_id = tenant_user.user_id
                        break
                      } catch (e) {}
                    }
                  }
                } else {
                  // via PBX (address is pbx extension)
                  var buddylist = this.getBuddylist()
                  for (var i = 0; i < buddylist.user.length; i++) {
                    var buddyExtension = string(buddylist.user[i].user_id)
                    if (address === buddyExtension && buddyExtension !== '') {
                      tenant = buddylist.user[i].tenant
                      user_id = buddylist.user[i].user_id
                      break
                    }
                  }
                }
                if (user_id !== null) {
                  callSession.option.tenant = tenant
                  callSession.option.user_id = user_id
                  // get sessionBundleId if exists
                  for (var bundleId in this._sessionBundleTable) {
                    if (
                      this._sessionBundleTable[bundleId].target.tenant ===
                        tenant &&
                      this._sessionBundleTable[bundleId].target.user_id ===
                        user_id
                    ) {
                      //// check direction of session
                      //var directionSame = true;
                      //for (var i = 0; i < this._sessionBundleTable[bundleId].sessionIdArray.length; i++) {
                      //    var session = this._phone.getCallSession(this._sessionBundleTable[bundleId].sessionIdArray[i]);
                      //    if (session && session.direction !== callSession.direction) {
                      //        directionSame = false;
                      //        break;
                      //    }
                      //}
                      //if (directionSame) {
                      if (!this._sessionBundleTable[bundleId].singleSession) {
                        sessionBundleId = bundleId
                        break
                      }
                      //}
                    }
                  }
                } else {
                  callSession.option.tenant = ''
                  callSession.option.user_id = ''
                }

                // get conf_id
                var conf_id = null
                if (
                  this._phoneProperties.mode_uc_call === 1 ||
                  (this._phoneProperties.mode_uc_call === 2 &&
                    !callSession.mediaConstraints.audio)
                ) {
                  loop_get_conf_id: for (var id in this._conferenceCalls) {
                    var conf = this._conferences[id]
                    if (conf) {
                      for (var i = 0; i < conf.user.length; i++) {
                        var user = conf.user[i]
                        // if the user of user_id is joining the video conference call
                        if (
                          string(user.tenant || this._tenant) === tenant &&
                          string(user.user_id) === user_id &&
                          int(user.video_conf_status) === this.VIDEO_CONF_VIDEO
                        ) {
                          for (var bundleId in this._sessionBundleTable) {
                            var bundle = this._sessionBundleTable[bundleId]
                            if (bundle.target.conf_id === id) {
                              var established = false
                              for (
                                var j = 0;
                                j < bundle.sessionIdArray.length;
                                j++
                              ) {
                                var sess = this._phone.getCallSession(
                                  bundle.sessionIdArray[j],
                                )
                                if (
                                  sess &&
                                  string(sess.option.tenant) === tenant &&
                                  string(sess.option.user_id) === user_id
                                ) {
                                  established = true
                                  break
                                }
                              }
                              // if the user's session is not established yet
                              if (!established) {
                                conf_id = id
                                sessionBundleId = bundleId
                              }
                              break loop_get_conf_id
                            }
                          }
                        }
                      }
                    }
                  }
                }

                if (sessionBundleId === null) {
                  // create new sessionBundle
                  sessionBundle = {
                    target: {},
                    sessionIdArray: [],
                    lastCallInfo: '',
                    direction: Constants.CALL_DIRECTION_INCOMING,
                    microphoneMuted: false,
                    cameraMuted: false,
                    autoAnswer: false,
                    autoTerminate: true,
                    mediaConstraints: { audio: false, video: false },
                    sharedObjectJson: '{}',
                    singleSession: false,
                  }
                  if (conf_id !== null) {
                    sessionBundle.target.conf_id = conf_id
                  } else if (user_id !== null) {
                    sessionBundle.target = {
                      tenant: tenant,
                      user_id: user_id,
                    }
                    var key = JSON.stringify(sessionBundle.target)
                    if (this._receivedSharedObjectJsonTable[key]) {
                      if (
                        new Date().getTime() -
                          this._receivedSharedObjectJsonTable[key].timestamp <=
                        10000
                      ) {
                        sessionBundle.sharedObjectJson =
                          this._receivedSharedObjectJsonTable[key].json
                      }
                      delete this._receivedSharedObjectJsonTable[key]
                    }
                  } else {
                    sessionBundle.target.address = address
                  }
                  sessionBundle.sessionIdArray.push(callSession.id)

                  sessionBundleId = ++this._sessionBundleIdCounter
                  this._sessionBundleTable[sessionBundleId] = sessionBundle

                  // raise callReceived event
                  var callInfo = this.getCallInfo(sessionBundleId)
                  this._sessionBundleTable[sessionBundleId].lastCallInfo =
                    JSON.stringify(callInfo)
                  if (
                    this._eventListeners.callReceived &&
                    this._signInStatus === 3
                  ) {
                    var ev = {
                      callInfo: callInfo,
                    }
                    this._eventListeners.callReceived(ev)
                  }
                } else {
                  // add session to existing sessionBundle
                  sessionBundle = this._sessionBundleTable[sessionBundleId]
                  sessionBundle.sessionIdArray.push(callSession.id)
                  if (
                    sessionBundle.direction !==
                    Constants.CALL_DIRECTION_INCOMING
                  ) {
                    sessionBundle.direction = Constants.CALL_DIRECTION_UNKNOWN
                  }

                  if (this._receivedSharedObjectJsonTable[key]) {
                    if (
                      new Date().getTime() -
                        this._receivedSharedObjectJsonTable[key].timestamp <=
                      10000
                    ) {
                      sessionBundle.sharedObjectJson =
                        this._receivedSharedObjectJsonTable[key].json
                    }
                    delete this._receivedSharedObjectJsonTable[key]
                  }

                  // auto answer
                  if (sessionBundle.autoAnswer) {
                    var audioConstraints = callSession.mediaConstraints.audio
                      ? sessionBundle.mediaConstraints.audio
                      : false
                    var videoConstraints = callSession.mediaConstraints.video
                      ? sessionBundle.mediaConstraints.video
                      : false
                    if (audioConstraints || videoConstraints) {
                      callSession.answer({
                        audio: audioConstraints,
                        video: videoConstraints,
                      })
                    }
                  }

                  // raise callInfoChanged event
                  this._callInfoChanged(sessionBundleId)
                }
              }
            },
            _statusChanged: function (e) {
              var callSession = e.callSession
              var sessionBundleId = null
              var sessionBundle = null
              for (var bundleId in this._sessionBundleTable) {
                var bundle = this._sessionBundleTable[bundleId]
                for (var i = 0; i < bundle.sessionIdArray.length; i++) {
                  var sessionId = bundle.sessionIdArray[i]
                  if (sessionId === callSession.id) {
                    sessionBundleId = bundleId
                    sessionBundle = bundle
                  }
                }
              }

              if (sessionBundleId === null) {
                this._logger.log(
                  'warn',
                  'Unknown session changed: ' + callSession.id,
                )
                return
              }

              // auto mute
              if (callSession.status === 'answered') {
                if (sessionBundle.microphoneMuted) {
                  callSession.muteMicrophone(true)
                }
                if (sessionBundle.cameraMuted) {
                  callSession.muteCamera(true)
                }
              }

              // raise callInfoChanged event or callTerminated event
              this._callInfoChanged(sessionBundleId)
            },
            _callInfoChanged: function (sessionBundleId) {
              var sessionBundle = this._sessionBundleTable[sessionBundleId]
              if (!sessionBundle) {
                return
              }

              // check all sessions terminated
              var terminated = false
              if (sessionBundle.autoTerminate) {
                terminated = true
                for (var i = 0; i < sessionBundle.sessionIdArray.length; i++) {
                  var session = this._phone.getCallSession(
                    sessionBundle.sessionIdArray[i],
                  )
                  if (session && session.status !== 'terminated') {
                    terminated = false
                    break
                  }
                }
              }

              var callInfo = this.getCallInfo(sessionBundleId)
              if (!terminated) {
                var callInfoJson = JSON.stringify(callInfo)
                if (sessionBundle.lastCallInfo !== callInfoJson) {
                  sessionBundle.lastCallInfo = callInfoJson
                  // raise callInfoChanged event
                  if (
                    this._eventListeners.callInfoChanged &&
                    this._signInStatus === 3
                  ) {
                    var ev = {
                      callInfo: callInfo,
                    }
                    this._eventListeners.callInfoChanged(ev)
                  }
                }
              } else {
                if (callInfo.target.conf_id) {
                  if (
                    this._phoneProperties.mode_uc_call === 1 ||
                    this._phoneProperties.mode_uc_call === 2
                  ) {
                    // leave conference call
                    delete this._conferenceCalls[callInfo.target.conf_id]
                    this._rpcCall(
                      'LeaveConference',
                      {
                        conf_id: callInfo.target.conf_id,
                        video_conf: this.VIDEO_CONF_VIDEO,
                      },
                      null,
                      null,
                    )
                  }
                }

                // raise callTerminated event
                if (
                  this._eventListeners.callTerminated &&
                  this._signInStatus === 3
                ) {
                  var ev = {
                    callInfo: callInfo,
                  }
                  this._eventListeners.callTerminated(ev)
                }

                delete this._sessionBundleTable[sessionBundleId]
              }
            },
            _sendSharedObject: function (
              target,
              sharedObject,
              funcOK,
              funcError,
            ) {
              var sendSharedObjectFuncOKTable =
                this._sendSharedObjectFuncOKTable
              var key = JSON.stringify(target)
              if (sendSharedObjectFuncOKTable[key]) {
                if (funcError) {
                  var ev = {
                    code: Errors.MAKECALL_DUPLICATE,
                    message: 'Duplicate calling',
                  }
                  funcError(ev)
                }
                return
              }

              var timer = setTimeout(function () {
                // timeout
                clearTimeout(timer)
                delete sendSharedObjectFuncOKTable[key]
                if (funcError) {
                  var ev = {
                    code: Errors.MAKECALL_SEND_TIMEOUT,
                    message: 'Send timeout',
                  }
                  funcError(ev)
                }
              }, this.MAKE_CALL_TIMEOUT_DEFAULT)

              sendSharedObjectFuncOKTable[key] = function () {
                // funcOK
                clearTimeout(timer)
                delete sendSharedObjectFuncOKTable[key]
                if (funcOK) {
                  funcOK()
                }
              }

              // send shared object
              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'SendSharedObject',
                  target: target,
                  client_param: {
                    sharedObject: sharedObject,
                  },
                },
                null,
                null,
              )
            },
            _recvSendSharedObject: function (args) {
              if (!args.sender || !args.client_param) {
                this._logger.log(
                  'warn',
                  'Invalid argument: _recvSendSharedObject',
                )
                return
              }
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)
              var target = { tenant: sender_tenant, user_id: sender_user_id }
              var key = JSON.stringify(target)

              this._receivedSharedObjectJsonTable[key] = {
                json: JSON.stringify(args.client_param.sharedObject),
                timestamp: new Date().getTime(),
              }

              // reply
              this._rpcCall(
                'SendClientEvent',
                {
                  client_method: 'RecvSharedObject',
                  target: target,
                  client_param: {},
                },
                null,
                null,
              )
            },
            _recvRecvSharedObject: function (args) {
              if (!args.sender || !args.client_param) {
                this._logger.log(
                  'warn',
                  'Invalid argument: _recvRecvSharedObject',
                )
                return
              }
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)
              var target = { tenant: sender_tenant, user_id: sender_user_id }
              var key = JSON.stringify(target)

              // funcOK
              if (this._sendSharedObjectFuncOKTable[key]) {
                this._sendSharedObjectFuncOKTable[key]()
              }
            },
            _makeCallTimeout: function (sessionBundleId) {
              clearTimeout(this._makeCallStatus[sessionBundleId].timer)
              if (this._makeCallStatus[sessionBundleId].funcError) {
                var ev = {
                  code: Errors.MAKECALL_TIMEOUT,
                  message: 'Call timeout',
                }
                this._makeCallStatus[sessionBundleId].funcError(ev)
              }
              delete this._makeCallStatus[sessionBundleId]
            },
            _recvCustomClientEvent: function (args) {
              if (!args.sender) {
                this._logger.log(
                  'warn',
                  'Invalid argument: _recvCustomClientEvent',
                )
                return
              }
              var sender_tenant = string(args.sender.tenant || this._tenant)
              var sender_user_id = string(args.sender.user_id)

              // raise receivedCustomClientEvent event
              if (
                this._eventListeners.receivedCustomClientEvent &&
                this._signInStatus === 3
              ) {
                var ev = {
                  tenant: sender_tenant,
                  user_id: sender_user_id,
                  client_param: args.client_param,
                  request_ltime: stringifyTstamp(args.request_tstamp),
                  request_tstamp: int(args.request_tstamp),
                }
                this._eventListeners.receivedCustomClientEvent(ev)
              }
            },

            /*
             * RPC handler functions
             */
            ActionStatus: function (args) {
              if (args.result) {
                this._signInActionStatusOK(args)
              } else {
                this._signInActionStatusNG(args)
              }
            },
            MfaStarted: function (args) {
              if (args && args.mfa_verification_required) {
                this._mfa_verification_required = int(
                  args && args.mfa_verification_required,
                )
                if (args.tstamp) {
                  this._mfa_verification_required +=
                    new Date().getTime() - int(args.tstamp)
                }
              } else {
                this._mfa_verification_required = 0
              }
              // raise mfaStarted event
              if (this._eventListeners.mfaStarted) {
                this._eventListeners.mfaStarted(args)
              }
            },
            ErrorNotification: function (args) {
              if (this._signInStatus === 2) {
                this._signInNG(int(args.code), args.message)
              } else if (this._signInStatus === 3) {
                this._forcedSignOut(int(args.code), args.message)
              } else {
                this._logger.log(
                  'warn',
                  'ErrorNotification code: ' +
                    code +
                    ', message: ' +
                    message +
                    ', _signInStatus: ' +
                    this._signInStatus,
                )
              }
            },
            StatusNotified: function (args) {
              if (!args.users || !args.users.length) {
                this._logger.log('warn', 'Invalid argument: StatusNotified')
                return
              }
              for (var i = 0; i < args.users.length; i++) {
                this._recvNotifyStatus(args.users[i])
              }
            },
            RecvClientEvent: function (args) {
              switch (args.client_method) {
                case 'Typing':
                  this._recvTyping(args)
                  break
                case 'RecvFile':
                  this._recvRecvFile(args)
                  break
                case 'NotifyFileTransfer':
                  this._recvNotifyFileTransfer(args)
                  break
                case 'SendSharedObject':
                  this._recvSendSharedObject(args)
                  break
                case 'RecvSharedObject':
                  this._recvRecvSharedObject(args)
                  break
                case 'CustomClientEvent':
                  this._recvCustomClientEvent(args)
                  break
                case 'Dummy':
                  break
                default:
                  this._logger.log(
                    'warn',
                    'Not implemented: ChatClient.RecvClientEvent client_method=' +
                      args.client_method,
                  )
                  break
              }
            },
            RecvText: function (args) {
              this._recvText(args)
            },
            InviteToConferenceEvent: function (args) {
              this._invitedToConference(args)
            },
            ConferenceMemberChanged: function (args) {
              this._conferenceMemberChanged(args)
            },
            ExtConfInfoChanged: function (args) {
              this._extConfInfoChanged(args)
            },
            TagUpdated: function (args) {
              this._tagUpdated(args)
            },
            RecvFile: function (args) {
              this._recvFile(args)
            },
            NotifiedUserSearch: function (args) {
              // raise notifiedUserSearch event
              if (
                this._eventListeners.notifiedUserSearch &&
                this._signInStatus === 3
              ) {
                this._eventListeners.notifiedUserSearch(args)
              }
            },
            NotifiedUserDelete: function (args) {
              // raise notifiedUserDelete event
              if (
                this._eventListeners.notifiedUserDelete &&
                this._signInStatus === 3
              ) {
                this._eventListeners.notifiedUserDelete(args)
              }
            },
            DebugLogFilePrepared: function (args) {
              // raise debugLogFilePrepared event
              if (
                this._eventListeners.debugLogFilePrepared &&
                this._signInStatus === 3
              ) {
                var ev = {
                  debug_log_id: string(args.debug_log_id),
                  debug_log_file_id: string(args.debug_log_file_id),
                  index: int(args.index),
                  has_more: Boolean(args.has_more),
                  error: args.error ? string(args.error) : null,
                  ltime: stringifyTstamp(args.tstamp),
                  tstamp: int(args.tstamp),
                }
                this._eventListeners.debugLogFilePrepared(ev)
              }
            },
            DatabaseTaskEnded: function (args) {
              if (args && args.database_task_id) {
                if (
                  typeof this._databaseTaskTable[args.database_task_id] ===
                  'function'
                ) {
                  this._databaseTaskTable[args.database_task_id]()
                  delete this._databaseTaskTable[args.database_task_id]
                } else {
                  this._databaseTaskTable[args.database_task_id] =
                    'DATABASETASKENDED'
                }
              }
            },
            CreateDatabaseEnded: function (args) {
              // raise createDatabaseEnded event
              if (
                this._eventListeners.createDatabaseEnded &&
                this._signInStatus === 3
              ) {
                this._eventListeners.createDatabaseEnded(args)
              }
            },
            keepalive: function (args) {
              // ping reply OK
            },
            handler: function (method, args) {
              this._logger.log('warn', 'Not implemented: ChatClient.' + method)
            },

            /*
             * Private constants
             */
            SIGN_IN_TIMEOUT_DEFAULT: 30000,
            PHONE_REGISTER_TIMEOUT_DEFAULT: 30000,
            KEEP_ALIVE_TIMEOUT: 38000,
            PING_INTERVAL: 13000,
            CHECK_ALIVE_INTERVAL: 4000,
            CHECK_TIMEZONE_OFFSET_ERROR_WAIT: 3600000,
            UPLOAD_TIMEOUT_DEFAULT: 30000,
            CONFTYPE_USERCHATCONF: 'userchatconf',
            CONFTYPE_WEBCHAT: 'webchat',
            CONF_EXPIRES: 3600,
            MAKE_CALL_TIMEOUT_DEFAULT: 10000,
            PREFIX_CONFERENCE_EXTENSION: 'uc',
            VIDEO_CONF_AUDIO: 3,
            VIDEO_CONF_VIDEO: 7,
            DUMMY: null,
          }

          /*
           * Utility functions
           */
          var int = function (value) {
            return parseInt(value, 10) || 0
          }
          var string = function (value) {
            return String(value || value === 0 || value === false ? value : '')
          }
          var stringifyDate = function (date) {
            return (
              date.getFullYear() +
              '-' +
              ('0' + (date.getMonth() + 1)).slice(-2) +
              '-' +
              ('0' + date.getDate()).slice(-2) +
              ' ' +
              ('0' + date.getHours()).slice(-2) +
              ':' +
              ('0' + date.getMinutes()).slice(-2) +
              ':' +
              ('0' + date.getSeconds()).slice(-2)
            )
          }
          var stringifyTstamp = function (tstamp) {
            return stringifyDate(new Date(int(tstamp)))
          }

          var reportConsoleInfo = null
          var ReportConsole = function (options) {
            if (reportConsoleInfo) {
              return
            }
            reportConsoleInfo = {
              report_console: string(options && options.report_console),
              report_console_guest: string(
                options && options.report_console_guest,
              ),
              report_console_methods: string(
                options && options.report_console_methods,
              ),
              report_console_pw: string(options && options.report_console_pw),
              report_console_pw2: string(options && options.report_console_pw2),
              report_console_url: string(options && options.report_console_url),
              report_console_ptn:
                string(options && options.report_console_ptn) || '/lds',
              myid: string(options && options.myid),
              expires: int(options && options.expires),
              signedIn: false, // anonymous (only on login screen)
              signedInAuth: false,
              report_console_queue_size: int(
                (options && options.report_console_queue_size) || 500,
              ),
              report_console_interval: int(
                (options && options.report_console_interval) || 100,
              ),
              report_console_expiry: int(
                (options && options.report_console_expiry) || 86400000,
              ),
              report_console_categories:
                options && typeof options.report_console_categories === 'string'
                  ? options.report_console_categories
                  : 'error,warn,info,log,debug,trace',
              report_console_mode:
                options && typeof options.report_console_mode === 'string'
                  ? options.report_console_mode
                  : 'login,jssip',
            }
            if (!reportConsoleInfo.expires) {
              reportConsoleInfo.expires =
                new Date().getTime() + reportConsoleInfo.report_console_expiry
            }
            var queue = []
            var overflowed = false
            var output = function () {
              var expired =
                int(reportConsoleInfo && reportConsoleInfo.expires) <
                new Date().getTime()
              if (
                reportConsoleInfo &&
                (reportConsoleInfo.signedIn ||
                  reportConsoleInfo.signedInAuth) &&
                queue.length > 0 &&
                reportConsoleInfo.report_console_url &&
                (!expired || reportConsoleInfo.report_console_pw2)
              ) {
                if (reportConsoleInfo.myid) {
                  var data =
                    '\n' +
                    reportConsoleInfo.myid +
                    (overflowed ? '\noverflowed' : '')
                  var categories = string(
                    reportConsoleInfo.report_console_methods,
                  ).split(',')
                  data += queue.reduce(function (accumulator, currentValue) {
                    if (categories.indexOf(currentValue.category) >= 0) {
                      return accumulator + '\n' + currentValue.message
                    } else {
                      return accumulator
                    }
                  }, '')
                  var xhr = new XMLHttpRequest()
                  xhr.open(
                    'POST',
                    reportConsoleInfo.report_console_url +
                      reportConsoleInfo.report_console_ptn,
                  )
                  xhr.setRequestHeader(
                    'Content-Type',
                    'application/x-www-form-urlencoded',
                  )
                  var body =
                    'pw=' +
                    encodeURIComponent(reportConsoleInfo.report_console_pw) +
                    '&data=' +
                    encodeURIComponent(encodeURIComponent(data))
                  if (expired) {
                    body += '&renew=' + reportConsoleInfo.report_console_pw2
                    xhr.onreadystatechange = function () {
                      if (xhr.readyState === 4) {
                        if (xhr.status === 200) {
                          var pws = string(xhr.responseText).split(',')
                          if (reportConsoleInfo && pws[0] && pws[1]) {
                            reportConsoleInfo.report_console_pw = pws[0]
                            reportConsoleInfo.report_console_pw2 = pws[1]
                            reportConsoleInfo.expires =
                              new Date().getTime() +
                              reportConsoleInfo.report_console_expiry / 2
                          }
                        }
                      }
                    }
                  }
                  xhr.send(body)
                }
                queue.length = 0
                overflowed = false
              }
            }
            var timer = null
            var toHack = []
            // override console[category]
            reportConsoleInfo.report_console_categories
              .split(',')
              .forEach(function (category) {
                if (typeof console[category] === 'function') {
                  var orgFunc = console[category]
                  console[category] = function () {
                    orgFunc.apply(console, arguments)
                    var msg = arguments[0]
                    if (arguments.length >= 2) {
                      try {
                        msg = Array.prototype.reduce.call(
                          arguments,
                          function (accumulator, currentValue) {
                            if (accumulator) {
                              accumulator += '\n |||\n'
                            }
                            accumulator += currentValue
                            if (typeof currentValue === 'object') {
                              try {
                                accumulator += JSON.stringify(currentValue)
                              } catch (e) {}
                            }
                            return accumulator
                          },
                          '',
                        )
                      } catch (e) {}
                    }
                    var now = new Date()
                    queue.push({
                      category: category,
                      message:
                        '(' +
                        ('0' + now.getHours()).slice(-2) +
                        ('0' + now.getMinutes()).slice(-2) +
                        ('0' + now.getSeconds()).slice(-2) +
                        '.' +
                        ('00' + now.getMilliseconds()).slice(-3) +
                        ')' +
                        category[0] +
                        msg,
                    })
                    if (
                      queue.length > reportConsoleInfo.report_console_queue_size
                    ) {
                      queue.shift()
                      overflowed = true
                    }
                    if (!timer) {
                      timer = setInterval(
                        output,
                        reportConsoleInfo.report_console_interval,
                      )
                    }
                    toHack = toHack.filter(function (f) {
                      return f()
                    })
                  }
                }
              })
            // get pw for dumping logs of login screen
            if (
              reportConsoleInfo.report_console_mode
                .split(',')
                .indexOf('login') != -1 &&
              reportConsoleInfo.report_console_url
            ) {
              var xhr = new XMLHttpRequest()
              xhr.open(
                'POST',
                reportConsoleInfo.report_console_url +
                  reportConsoleInfo.report_console_ptn,
              )
              xhr.setRequestHeader(
                'Content-Type',
                'application/x-www-form-urlencoded',
              )
              var body = 'anonymous=true'
              xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                  if (xhr.status === 200) {
                    try {
                      var newReportConsoleInfo = JSON.parse(xhr.responseText)
                      Object.keys(reportConsoleInfo).forEach(function (key) {
                        if (
                          typeof reportConsoleInfo[key] ===
                          typeof newReportConsoleInfo[key]
                        ) {
                          reportConsoleInfo[key] = newReportConsoleInfo[key]
                        }
                      })
                    } catch (e) {}
                  }
                }
              }
              xhr.send(body)
            }
            // hack jssip (after jssip loaded)
            if (
              reportConsoleInfo.report_console_mode
                .split(',')
                .indexOf('jssip') != -1
            ) {
              toHack.push(function () {
                if (
                  typeof JsSIP !== 'undefined' &&
                  JsSIP.debug &&
                  JsSIP.debug.instances &&
                  JsSIP.debug.instances.length
                ) {
                  Array.prototype.forEach.call(
                    JsSIP.debug.instances,
                    function (debug_instance) {
                      if (debug_instance && debug_instance.useColors) {
                        debug_instance.useColors = false
                      }
                    },
                  )
                  return false
                } else {
                  return true
                }
              })
            }
            toHack = toHack.filter(function (f) {
              return f()
            })
          }

          var CryptoJS = (function () {
            /**
         * @license
        /*
        CryptoJS v3.1.2
        code.google.com/p/crypto-js
        (c) 2009-2013 by Jeff Mott. All rights reserved.
        code.google.com/p/crypto-js/wiki/License
        */
            var CryptoJS =
              CryptoJS ||
              (function (s, p) {
                var m = {},
                  l = (m.lib = {}),
                  n = function () {},
                  r = (l.Base = {
                    extend: function (b) {
                      n.prototype = this
                      var h = new n()
                      b && h.mixIn(b)
                      h.hasOwnProperty('init') ||
                        (h.init = function () {
                          h.$super.init.apply(this, arguments)
                        })
                      h.init.prototype = h
                      h.$super = this
                      return h
                    },
                    create: function () {
                      var b = this.extend()
                      b.init.apply(b, arguments)
                      return b
                    },
                    init: function () {},
                    mixIn: function (b) {
                      for (var h in b) b.hasOwnProperty(h) && (this[h] = b[h])
                      b.hasOwnProperty('toString') &&
                        (this.toString = b.toString)
                    },
                    clone: function () {
                      return this.init.prototype.extend(this)
                    },
                  }),
                  q = (l.WordArray = r.extend({
                    init: function (b, h) {
                      b = this.words = b || []
                      this.sigBytes = h != p ? h : 4 * b.length
                    },
                    toString: function (b) {
                      return (b || t).stringify(this)
                    },
                    concat: function (b) {
                      var h = this.words,
                        a = b.words,
                        j = this.sigBytes
                      b = b.sigBytes
                      this.clamp()
                      if (j % 4)
                        for (var g = 0; g < b; g++)
                          h[(j + g) >>> 2] |=
                            ((a[g >>> 2] >>> (24 - 8 * (g % 4))) & 255) <<
                            (24 - 8 * ((j + g) % 4))
                      else if (65535 < a.length)
                        for (g = 0; g < b; g += 4) h[(j + g) >>> 2] = a[g >>> 2]
                      else h.push.apply(h, a)
                      this.sigBytes += b
                      return this
                    },
                    clamp: function () {
                      var b = this.words,
                        h = this.sigBytes
                      b[h >>> 2] &= 4294967295 << (32 - 8 * (h % 4))
                      b.length = s.ceil(h / 4)
                    },
                    clone: function () {
                      var b = r.clone.call(this)
                      b.words = this.words.slice(0)
                      return b
                    },
                    random: function (b) {
                      for (var h = [], a = 0; a < b; a += 4)
                        h.push((4294967296 * s.random()) | 0)
                      return new q.init(h, b)
                    },
                  })),
                  v = (m.enc = {}),
                  t = (v.Hex = {
                    stringify: function (b) {
                      var a = b.words
                      b = b.sigBytes
                      for (var g = [], j = 0; j < b; j++) {
                        var k = (a[j >>> 2] >>> (24 - 8 * (j % 4))) & 255
                        g.push((k >>> 4).toString(16))
                        g.push((k & 15).toString(16))
                      }
                      return g.join('')
                    },
                    parse: function (b) {
                      for (var a = b.length, g = [], j = 0; j < a; j += 2)
                        g[j >>> 3] |=
                          parseInt(b.substr(j, 2), 16) << (24 - 4 * (j % 8))
                      return new q.init(g, a / 2)
                    },
                  }),
                  a = (v.Latin1 = {
                    stringify: function (b) {
                      var a = b.words
                      b = b.sigBytes
                      for (var g = [], j = 0; j < b; j++)
                        g.push(
                          String.fromCharCode(
                            (a[j >>> 2] >>> (24 - 8 * (j % 4))) & 255,
                          ),
                        )
                      return g.join('')
                    },
                    parse: function (b) {
                      for (var a = b.length, g = [], j = 0; j < a; j++)
                        g[j >>> 2] |=
                          (b.charCodeAt(j) & 255) << (24 - 8 * (j % 4))
                      return new q.init(g, a)
                    },
                  }),
                  u = (v.Utf8 = {
                    stringify: function (b) {
                      try {
                        return decodeURIComponent(escape(a.stringify(b)))
                      } catch (g) {
                        throw Error('Malformed UTF-8 data')
                      }
                    },
                    parse: function (b) {
                      return a.parse(unescape(encodeURIComponent(b)))
                    },
                  }),
                  g = (l.BufferedBlockAlgorithm = r.extend({
                    reset: function () {
                      this._data = new q.init()
                      this._nDataBytes = 0
                    },
                    _append: function (b) {
                      'string' == typeof b && (b = u.parse(b))
                      this._data.concat(b)
                      this._nDataBytes += b.sigBytes
                    },
                    _process: function (b) {
                      var a = this._data,
                        g = a.words,
                        j = a.sigBytes,
                        k = this.blockSize,
                        m = j / (4 * k),
                        m = b
                          ? s.ceil(m)
                          : s.max((m | 0) - this._minBufferSize, 0)
                      b = m * k
                      j = s.min(4 * b, j)
                      if (b) {
                        for (var l = 0; l < b; l += k)
                          this._doProcessBlock(g, l)
                        l = g.splice(0, b)
                        a.sigBytes -= j
                      }
                      return new q.init(l, j)
                    },
                    clone: function () {
                      var b = r.clone.call(this)
                      b._data = this._data.clone()
                      return b
                    },
                    _minBufferSize: 0,
                  }))
                l.Hasher = g.extend({
                  cfg: r.extend(),
                  init: function (b) {
                    this.cfg = this.cfg.extend(b)
                    this.reset()
                  },
                  reset: function () {
                    g.reset.call(this)
                    this._doReset()
                  },
                  update: function (b) {
                    this._append(b)
                    this._process()
                    return this
                  },
                  finalize: function (b) {
                    b && this._append(b)
                    return this._doFinalize()
                  },
                  blockSize: 16,
                  _createHelper: function (b) {
                    return function (a, g) {
                      return new b.init(g).finalize(a)
                    }
                  },
                  _createHmacHelper: function (b) {
                    return function (a, g) {
                      return new k.HMAC.init(b, g).finalize(a)
                    }
                  },
                })
                var k = (m.algo = {})
                return m
              })(Math)
            ;(function (s) {
              function p(a, k, b, h, l, j, m) {
                a = a + ((k & b) | (~k & h)) + l + m
                return ((a << j) | (a >>> (32 - j))) + k
              }
              function m(a, k, b, h, l, j, m) {
                a = a + ((k & h) | (b & ~h)) + l + m
                return ((a << j) | (a >>> (32 - j))) + k
              }
              function l(a, k, b, h, l, j, m) {
                a = a + (k ^ b ^ h) + l + m
                return ((a << j) | (a >>> (32 - j))) + k
              }
              function n(a, k, b, h, l, j, m) {
                a = a + (b ^ (k | ~h)) + l + m
                return ((a << j) | (a >>> (32 - j))) + k
              }
              for (
                var r = CryptoJS,
                  q = r.lib,
                  v = q.WordArray,
                  t = q.Hasher,
                  q = r.algo,
                  a = [],
                  u = 0;
                64 > u;
                u++
              )
                a[u] = (4294967296 * s.abs(s.sin(u + 1))) | 0
              q = q.MD5 = t.extend({
                _doReset: function () {
                  this._hash = new v.init([
                    1732584193, 4023233417, 2562383102, 271733878,
                  ])
                },
                _doProcessBlock: function (g, k) {
                  for (var b = 0; 16 > b; b++) {
                    var h = k + b,
                      w = g[h]
                    g[h] =
                      (((w << 8) | (w >>> 24)) & 16711935) |
                      (((w << 24) | (w >>> 8)) & 4278255360)
                  }
                  var b = this._hash.words,
                    h = g[k + 0],
                    w = g[k + 1],
                    j = g[k + 2],
                    q = g[k + 3],
                    r = g[k + 4],
                    s = g[k + 5],
                    t = g[k + 6],
                    u = g[k + 7],
                    v = g[k + 8],
                    x = g[k + 9],
                    y = g[k + 10],
                    z = g[k + 11],
                    A = g[k + 12],
                    B = g[k + 13],
                    C = g[k + 14],
                    D = g[k + 15],
                    c = b[0],
                    d = b[1],
                    e = b[2],
                    f = b[3],
                    c = p(c, d, e, f, h, 7, a[0]),
                    f = p(f, c, d, e, w, 12, a[1]),
                    e = p(e, f, c, d, j, 17, a[2]),
                    d = p(d, e, f, c, q, 22, a[3]),
                    c = p(c, d, e, f, r, 7, a[4]),
                    f = p(f, c, d, e, s, 12, a[5]),
                    e = p(e, f, c, d, t, 17, a[6]),
                    d = p(d, e, f, c, u, 22, a[7]),
                    c = p(c, d, e, f, v, 7, a[8]),
                    f = p(f, c, d, e, x, 12, a[9]),
                    e = p(e, f, c, d, y, 17, a[10]),
                    d = p(d, e, f, c, z, 22, a[11]),
                    c = p(c, d, e, f, A, 7, a[12]),
                    f = p(f, c, d, e, B, 12, a[13]),
                    e = p(e, f, c, d, C, 17, a[14]),
                    d = p(d, e, f, c, D, 22, a[15]),
                    c = m(c, d, e, f, w, 5, a[16]),
                    f = m(f, c, d, e, t, 9, a[17]),
                    e = m(e, f, c, d, z, 14, a[18]),
                    d = m(d, e, f, c, h, 20, a[19]),
                    c = m(c, d, e, f, s, 5, a[20]),
                    f = m(f, c, d, e, y, 9, a[21]),
                    e = m(e, f, c, d, D, 14, a[22]),
                    d = m(d, e, f, c, r, 20, a[23]),
                    c = m(c, d, e, f, x, 5, a[24]),
                    f = m(f, c, d, e, C, 9, a[25]),
                    e = m(e, f, c, d, q, 14, a[26]),
                    d = m(d, e, f, c, v, 20, a[27]),
                    c = m(c, d, e, f, B, 5, a[28]),
                    f = m(f, c, d, e, j, 9, a[29]),
                    e = m(e, f, c, d, u, 14, a[30]),
                    d = m(d, e, f, c, A, 20, a[31]),
                    c = l(c, d, e, f, s, 4, a[32]),
                    f = l(f, c, d, e, v, 11, a[33]),
                    e = l(e, f, c, d, z, 16, a[34]),
                    d = l(d, e, f, c, C, 23, a[35]),
                    c = l(c, d, e, f, w, 4, a[36]),
                    f = l(f, c, d, e, r, 11, a[37]),
                    e = l(e, f, c, d, u, 16, a[38]),
                    d = l(d, e, f, c, y, 23, a[39]),
                    c = l(c, d, e, f, B, 4, a[40]),
                    f = l(f, c, d, e, h, 11, a[41]),
                    e = l(e, f, c, d, q, 16, a[42]),
                    d = l(d, e, f, c, t, 23, a[43]),
                    c = l(c, d, e, f, x, 4, a[44]),
                    f = l(f, c, d, e, A, 11, a[45]),
                    e = l(e, f, c, d, D, 16, a[46]),
                    d = l(d, e, f, c, j, 23, a[47]),
                    c = n(c, d, e, f, h, 6, a[48]),
                    f = n(f, c, d, e, u, 10, a[49]),
                    e = n(e, f, c, d, C, 15, a[50]),
                    d = n(d, e, f, c, s, 21, a[51]),
                    c = n(c, d, e, f, A, 6, a[52]),
                    f = n(f, c, d, e, q, 10, a[53]),
                    e = n(e, f, c, d, y, 15, a[54]),
                    d = n(d, e, f, c, w, 21, a[55]),
                    c = n(c, d, e, f, v, 6, a[56]),
                    f = n(f, c, d, e, D, 10, a[57]),
                    e = n(e, f, c, d, t, 15, a[58]),
                    d = n(d, e, f, c, B, 21, a[59]),
                    c = n(c, d, e, f, r, 6, a[60]),
                    f = n(f, c, d, e, z, 10, a[61]),
                    e = n(e, f, c, d, j, 15, a[62]),
                    d = n(d, e, f, c, x, 21, a[63])
                  b[0] = (b[0] + c) | 0
                  b[1] = (b[1] + d) | 0
                  b[2] = (b[2] + e) | 0
                  b[3] = (b[3] + f) | 0
                },
                _doFinalize: function () {
                  var a = this._data,
                    k = a.words,
                    b = 8 * this._nDataBytes,
                    h = 8 * a.sigBytes
                  k[h >>> 5] |= 128 << (24 - (h % 32))
                  var l = s.floor(b / 4294967296)
                  k[(((h + 64) >>> 9) << 4) + 15] =
                    (((l << 8) | (l >>> 24)) & 16711935) |
                    (((l << 24) | (l >>> 8)) & 4278255360)
                  k[(((h + 64) >>> 9) << 4) + 14] =
                    (((b << 8) | (b >>> 24)) & 16711935) |
                    (((b << 24) | (b >>> 8)) & 4278255360)
                  a.sigBytes = 4 * (k.length + 1)
                  this._process()
                  a = this._hash
                  k = a.words
                  for (b = 0; 4 > b; b++)
                    (h = k[b]),
                      (k[b] =
                        (((h << 8) | (h >>> 24)) & 16711935) |
                        (((h << 24) | (h >>> 8)) & 4278255360))
                  return a
                },
                clone: function () {
                  var a = t.clone.call(this)
                  a._hash = this._hash.clone()
                  return a
                },
              })
              r.MD5 = t._createHelper(q)
              r.HmacMD5 = t._createHmacHelper(q)
            })(Math)
            return CryptoJS
          })()

          UCClient.ChatClient = ChatClient
          UCClient.Errors = Errors
          UCClient.Constants = Constants
          UCClient.Events = Events
          UCClient.ReportConsole = ReportConsole
          UCClient.CryptoJS = CryptoJS

          /*
           * Class Brekeke.UCClient.Logger
           */
          var Logger

          /*
           * Logger constructor
           */
          Logger = function (level, func, withStackTrace) {
            var self = this

            /*
             * Private fields
             */
            this._levelValue =
              level in this.LEVEL_VALUES
                ? this.LEVEL_VALUES[level]
                : this.LEVEL_VALUES['log']
            this._logFunction = func
            this._withStackTrace =
              withStackTrace === true
                ? {
                    fatal: true,
                    error: true,
                    warn: true,
                    info: true,
                    debug: true,
                    trace: true,
                  }
                : !withStackTrace
                  ? {
                      fatal: true,
                      error: true,
                      warn: true,
                      info: false,
                      debug: false,
                      trace: true,
                    }
                  : withStackTrace
            this._stackTraceHeaderLength = -2

            // trial logging to initialize stackTraceHeaderLength
            ;(function TRIAL_LOGGING() {
              self.log('trial', 'logger initialized (' + self._levelValue + ')')
            })()
          }

          /*
           * Logger prototype
           */
          Logger.prototype = {
            /*
             * Function setLoggerLevel
             */
            setLoggerLevel: function (level) {
              this._levelValue =
                level in this.LEVEL_VALUES
                  ? this.LEVEL_VALUES[level]
                  : this.LEVEL_VALUES['log']
            },

            /*
             * Function setLogFunction
             */
            setLogFunction: function (func) {
              this._logFunction = func
            },

            /*
             * Function log
             */
            log: function (level, content) {
              var stackTrace = ''
              var date = new Date()

              try {
                if (this.LEVEL_VALUES[level] <= this._levelValue) {
                  if (this._withStackTrace[level] || level === 'trial') {
                    // get stack trace
                    try {
                      throw new Error()
                    } catch (e) {
                      stackTrace = String(e.stack)
                    }
                    if (this._stackTraceHeaderLength === -2) {
                      // uninitialized
                      // trial logging to initialize stackTraceHeaderLength
                      this._stackTraceHeaderLength =
                        stackTrace.indexOf('TRIAL_LOGGING')
                    }
                    if (this._stackTraceHeaderLength >= 0) {
                      // OK
                      // print stack trace from caller (cut header)
                      stackTrace =
                        ' @ ' + stackTrace.substr(this._stackTraceHeaderLength)
                    } else {
                      // failed to initialize stackTraceHeaderLength
                      // print full stack trace
                      stackTrace = ' : ' + stackTrace
                    }
                  }
                  this.outputLog(level, content, stackTrace, date)
                }
              } catch (e) {}
            },

            /*
             * Function outputLog
             */
            outputLog: function (level, content, stackTrace, date) {
              try {
                if (this._logFunction) {
                  if (!this._logFunction(level, content, stackTrace, date)) {
                    this._logFunctionDefault(level, content, stackTrace, date)
                  }
                } else {
                  this._logFunctionDefault(level, content, stackTrace, date)
                }
              } catch (e) {}
            },

            /*
             * Private functions
             */
            _logFunctionDefault: function (level, content, stackTrace, date) {
              var func

              if (console) {
                if (level === 'fatal') {
                  func = console.error || console.log
                } else if (level === 'error') {
                  func = console.error || console.log
                } else if (level === 'warn') {
                  func = console.warn || console.log
                } else if (level === 'info') {
                  func = console.info || console.log
                } else if (level === 'debug') {
                  func = console.debug || console.log
                } else if (level === 'trace') {
                  func = console.debug || console.log
                } else {
                  func = console.log
                }
                if (func) {
                  if (typeof content === 'object') {
                    try {
                      content += JSON.stringify(content) // output both toString (for Exception) and JSON.stringify (for JSON-RPC)
                    } catch (e) {}
                  }
                  func.call(
                    console,
                    date + ' [' + level + '] ' + content + stackTrace,
                  )
                }
              }
            },

            /*
             * Constants
             */
            LEVEL_VALUES: {
              none: 0,
              trial: 1,
              fatal: 10,
              error: 20,
              warn: 30,
              log: 40,
              info: 40,
              debug: 50,
              trace: 60,
              all: 60,
            },
            DUMMY: null,
          }

          UCClient.Logger = Logger

          return UCClient
        })
      },
      { '../net/jsonrpc.js': 395 },
    ],
    398: [
      function (require, module, exports) {
        ;(function (root, factory) {
          if (typeof module === 'object' && module.exports) {
            module.exports = factory({})
          } else {
            root.Brekeke = root.Brekeke || {}
            root.Brekeke.UcUiAction = factory(root.Brekeke)
          }
        })(this, function (Brekeke) {
          /**
           * UcUiAction class
           */
          var UcUiAction = function UcUiAction(option) {
            this.handlers = []
          }

          /**
           * addHandler function
           * handler
           */
          UcUiAction.prototype.addHandler = function (handler) {
            this.handlers.push(handler)
          }
          //
          UcUiAction.prototype.fire = function (eventName) {
            var _arguments = arguments

            this.handlers.forEach(function (handler) {
              if (handler[eventName]) {
                handler[eventName].apply(
                  handler,
                  Array.prototype.slice.call(_arguments, 1),
                )
              }
            })
          }

          /**
           * removeHandler function
           * handler
           */
          UcUiAction.prototype.removeHandler = function (handler) {
            var index = this.handlers.indexOf(handler)
            if (index !== -1) {
              this.handlers.splice(index, 1)
            }
          }

          /**
           * signIn function
           * option
           * option.url
           * option.tenant
           * option.user
           * option.pass
           * option.reSignInDelay
           * option.maxReSignInDelay
           */
          UcUiAction.prototype.signIn = function (option) {
            this.fire('signIn', option)
          }

          /**
           * signInGuest function
           * option
           * option.url
           * option.tenant
           * option.name
           * option.email
           * option.profinfo
           * option.reenterUserId
           * option.signInWebchatOptions
           * option.myProfileImageUrl
           */
          UcUiAction.prototype.signInGuest = function (option) {
            this.fire('signInGuest', option)
          }

          /**
           * signOut function
           * option (optional)
           */
          UcUiAction.prototype.signOut = function (option) {
            this.fire('signOut', option)
          }

          /**
           * clearChat function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiAction.prototype.clearChat = function (option) {
            this.fire('clearChat', option)
          }

          /**
           * refreshBuddyTable function
           * option
           */
          UcUiAction.prototype.refreshBuddyTable = function (option) {
            this.fire('refreshBuddyTable', option)
          }

          /**
           * uncacheProfileImageUrl function
           * option
           * option.minSignInOKCount
           */
          UcUiAction.prototype.uncacheProfileImageUrl = function (option) {
            this.fire('uncacheProfileImageUrl', option)
          }

          /**
           * changeStatus function
           * option
           * option.status
           * option.display
           * option.ui_customized_status
           */
          UcUiAction.prototype.changeStatus = function (option) {
            this.fire('changeStatus', option)
          }

          /**
           * createConference function
           * option
           * option.subject
           * option.invite
           */
          UcUiAction.prototype.createConference = function (option) {
            this.fire('createConference', option)
          }

          /**
           * inviteToConference function
           * option
           * option.conf_id
           * option.invite
           */
          UcUiAction.prototype.inviteToConference = function (option) {
            this.fire('inviteToConference', option)
          }

          /**
           * joinConference function
           * option
           * option.conf_id
           * option.properties
           */
          UcUiAction.prototype.joinConference = function (option) {
            this.fire('joinConference', option)
          }

          /**
           * leaveConference function
           * option
           * option.conf_id
           * option.rejoinable
           */
          UcUiAction.prototype.leaveConference = function (option) {
            this.fire('leaveConference', option)
          }

          /**
           * joinWebchatRoom function
           * option
           * option.conf_id
           * option.properties
           */
          UcUiAction.prototype.joinWebchatRoom = function (option) {
            this.fire('joinWebchatRoom', option)
          }

          /**
           * leaveWebchatRoom function
           * option
           * option.conf_id
           * option.rejoinable
           */
          UcUiAction.prototype.leaveWebchatRoom = function (option) {
            this.fire('leaveWebchatRoom', option)
          }

          /**
           * kickOutOfWebchatRoom function
           * option
           * option.conf_id
           */
          UcUiAction.prototype.kickOutOfWebchatRoom = function (option) {
            this.fire('kickOutOfWebchatRoom', option)
          }

          /**
           * clearWebchatQueue function
           * option
           * option.conf_id
           */
          UcUiAction.prototype.clearWebchatQueue = function (option) {
            this.fire('clearWebchatQueue', option)
          }

          /**
           * sendText function
           * option
           * option.chatType
           * option.chatCode
           * option.text
           * option.isRichText
           */
          UcUiAction.prototype.sendText = function (option) {
            this.fire('sendText', option)
          }

          /**
           * sendBroadcastText function
           * option
           * option.target
           * option.text
           * option.isRichText
           */
          UcUiAction.prototype.sendBroadcastText = function (option) {
            this.fire('sendBroadcastText', option)
          }

          /**
           * sendTyping function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiAction.prototype.sendTyping = function (option) {
            this.fire('sendTyping', option)
          }

          /**
           * sendCustomClientEvent function
           * option
           * option.chatType
           * option.chatCode
           * option.client_param
           * option.sysmsg
           */
          UcUiAction.prototype.sendCustomClientEvent = function (option) {
            this.fire('sendCustomClientEvent', option)
          }

          /**
           * sendFiles function
           * option
           * option.chatType
           * option.chatCode
           * option.files
           */
          UcUiAction.prototype.sendFiles = function (option) {
            this.fire('sendFiles', option)
          }

          /**
           * acceptFile function
           * option
           * option.file_id
           * option.form
           */
          UcUiAction.prototype.acceptFile = function (option) {
            this.fire('acceptFile', option)
          }

          /**
           * sendCallResult function
           * option
           * option.chatType
           * option.chatCode
           * option.text
           */
          UcUiAction.prototype.sendCallResult = function (option) {
            this.fire('sendCallResult', option)
          }

          /**
           * sendObject function
           * option
           * option.chatType
           * option.chatCode
           * option.object
           */
          UcUiAction.prototype.sendObject = function (option) {
            this.fire('sendObject', option)
          }

          /**
           * addSysmsgChat function
           * option
           * option.chatType
           * option.chatCode
           * option.sysmsg
           */
          UcUiAction.prototype.addSysmsgChat = function (option) {
            this.fire('addSysmsgChat', option)
          }

          /**
           * receiveMore function
           * option
           * option.showmorelink_id
           * option.begin
           */
          UcUiAction.prototype.receiveMore = function (option) {
            this.fire('receiveMore', option)
          }

          /**
           * changeMessageText function
           * option
           * option.key
           * option.messageText
           */
          UcUiAction.prototype.changeMessageText = function (option) {
            this.fire('changeMessageText', option)
          }

          /**
           * setSearchConditions function
           * option
           * option.chatType
           * option.chatCode
           * option.searchConditions
           */
          UcUiAction.prototype.setSearchConditions = function (option) {
            this.fire('setSearchConditions', option)
          }

          /**
           * doSearch function
           * option
           * option.chatType
           * option.chatCode
           * option.searchMore
           * option.emphasize
           * option.queueing
           */
          UcUiAction.prototype.doSearch = function (option) {
            this.fire('doSearch', option)
          }

          /**
           * selectSearchResult function
           * option
           * option.chatType
           * option.chatCode
           * option.selectIds
           * option.unselectIds
           * option.reverseIds
           */
          UcUiAction.prototype.selectSearchResult = function (option) {
            this.fire('selectSearchResult', option)
          }

          /**
           * expandSearchResult function
           * option
           * option.chatType
           * option.chatCode
           * option.searchResultIds
           */
          UcUiAction.prototype.expandSearchResult = function (option) {
            this.fire('expandSearchResult', option)
          }

          /**
           * clearSearchResults function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiAction.prototype.clearSearchResults = function (option) {
            this.fire('clearSearchResults', option)
          }

          /**
           * copyChatList function
           * option
           * option.chatTypeSource
           * option.chatCodeSource
           * option.chatTypeTarget
           * option.chatCodeTarget
           * option.doNotOverwrite
           */
          UcUiAction.prototype.copyChatList = function (option) {
            this.fire('copyChatList', option)
          }

          /**
           * createConferenceChatHeaderFromSearchResult function
           * option
           * option.chatType
           * option.chatCode
           * option.searchResultId
           */
          UcUiAction.prototype.createConferenceChatHeaderFromSearchResult =
            function (option) {
              this.fire('createConferenceChatHeaderFromSearchResult', option)
            }

          /**
           * selectReplyType function
           * option
           * option.chatType
           * option.chatCode
           * option.replyType
           * option.nextDistributionType
           * option.nextDistributionTarget
           */
          UcUiAction.prototype.selectReplyType = function (option) {
            this.fire('selectReplyType', option)
          }

          /**
           * setLocalStoragePreference function
           * option
           * option.list
           */
          UcUiAction.prototype.setLocalStoragePreference = function (option) {
            this.fire('setLocalStoragePreference', option)
          }

          /**
           * export global object
           */
          return UcUiAction
        })
      },
      {},
    ],
    399: [
      function (require, module, exports) {
        ;(function (root, factory) {
          if (typeof module === 'object' && module.exports) {
            module.exports = factory({
              net: require('../net/jsonrpc.js'),
              UCClient: require('../ucclient/ucclient.js'),
            })
          } else {
            root.Brekeke = root.Brekeke || {}
            root.Brekeke.UcUiStore = factory(root.Brekeke)
          }
        })(this, function (Brekeke) {
          /**
           * consts
           */
          var Constants = Brekeke.UCClient.Constants
          var UiConstants = {
            CHAT_CONTENT_SIZE: 5000,
            SEND_TYPING_INTERVAL: 3000,
            SHOW_TYPING_DURATION: 3200,
            SEARCH_PREV_NEXT_TEXTS_MAX: 20,
            DUMMY: null,
          }

          /**
           * UcUiStore class
           * option (optional)
           * option.logger (optional)
           * option.ucUiAction (optional)
           * option.chatClient (optional)
           */
          var UcUiStore = function UcUiStore(option) {
            // data
            this.logger = null
            this.ucUiAction = null
            this.chatClient = null
            this.keyCounter = 0
            this.keyObjectTable = {}
            this.searchResultIdCounter = 0
            this.handlers = []
            this.signInStatus = 0 // 0:signed-out 1:sign-in-failed 2:signing-in 3:signed-in
            this.signInOKCount = 0
            this.uncacheParam2 = 0
            this.diffClientServerTime = 0
            this.lastSignOutReason = { code: 1, message: '', reSignInTime: 0 }
            this.signInOption = null
            this.lastStatus = null
            this.reSignInDelay = 0
            this.maxReSignInDelay = 0
            this.reSignInTimer = null
            this.guest_conf_id = ''
            this.reenter_user_id = ''
            this.buddyTable = {}
            this.webchatQueueList = []
            this.chatTable = {}
            this.chatHeaderInfoTable = {}
            this.showmorelinkTable = {}
            this.lastSentTypingTimeTable = {}
            this.activeMessageFileTable = {}
            this.objectURLList = []
            this.confInJoinProcTable = {}
            this.searchConditionsTable = {}
            this.searchWorkDataTable = {}
            this.searchResultsTable = {}
            this.unsentReplyMessagesTable = {}
            this.localStoragePreference = {}
            this.configPropertiesCache = {}
            this.optionalSettingCache = {}
            this.leavingUnansweredWebchatConfId = null
            this.lastRenderedTimeBsc = 0
            this.nextRenderingTimerBsc = 0
            this.skipDummyTopicIdBroadcast = false

            // init
            if (!option) {
              option = {}
            }
            if (option.logger) {
              this.logger = option.logger
            } else {
              this.logger = new Brekeke.UCClient.Logger('all')
            }
            if (option.ucUiAction && option.ucUiAction.addHandler) {
              this.ucUiAction = option.ucUiAction
              this.ucUiAction.addHandler(this)
            }
            if (option.chatClient) {
              this.chatClient = option.chatClient
            } else {
              this.chatClient = new Brekeke.UCClient.ChatClient(this.logger)
            }
            this.chatClient.addHandler(this)
          }

          /**
           * destroy function
           */
          UcUiStore.prototype.destroy = function () {
            if (this.chatClient) {
              this.chatClient.removeHandler(this)
            }
            if (this.ucUiAction) {
              this.ucUiAction.removeHandler(this)
              this.ucUiAction = null
            }
            this.objectURLList.forEach(function (objectURL) {
              return (
                typeof URL !== 'undefined' && URL.revokeObjectURL(objectURL)
              )
            })
            // this.logger = null;
            // this.chatClient = null;
            this.keyCounter = 0
            this.keyObjectTable = {}
            this.searchResultIdCounter = 0
            this.handlers = []
            this.signInStatus = 0
            this.signInOKCount = 0
            this.uncacheParam2 = 0
            this.diffClientServerTime = 0
            this.lastSignOutReason = { code: 1, message: '', reSignInTime: 0 }
            this.signInOption = null
            this.reSignInDelay = 0
            this.maxReSignInDelay = 0
            this.guest_conf_id = ''
            this.reenter_user_id = ''
            this.buddyTable = {}
            this.webchatQueueList = []
            this.chatTable = {}
            this.chatHeaderInfoTable = {}
            this.showmorelinkTable = {}
            this.lastSentTypingTimeTable = {}
            this.activeMessageFileTable = {}
            this.objectURLList = []
            this.confInJoinProcTable = {}
            this.searchConditionsTable = {}
            this.searchWorkDataTable = {}
            this.searchResultsTable = {}
            this.unsentReplyMessagesTable = {}
            this.localStoragePreference = {}
            this.configPropertiesCache = {}
            this.optionalSettingCache = {}
            this.leavingUnansweredWebchatConfId = null
            this.lastRenderedTimeBsc = 0
            this.nextRenderingTimerBsc = 0
            this.skipDummyTopicIdBroadcast = false
          }

          /**
           * addHandler function
           * handler
           */
          UcUiStore.prototype.addHandler = function (handler) {
            this.handlers.push(handler)
          }
          //
          UcUiStore.prototype.fire = function (eventName) {
            var _arguments = arguments

            this.handlers.forEach(function (handler) {
              if (handler[eventName]) {
                handler[eventName].apply(
                  handler,
                  Array.prototype.slice.call(_arguments, 1),
                )
              }
            })
          }
          //
          UcUiStore.prototype.render = function () {
            this.fire('render')
          }
          //
          UcUiStore.prototype.renderBsc = function () {
            var elapsed = Date.now() - this.lastRenderedTimeBsc
            this.logger.log(
              'debug',
              'UcUiStore.renderBsc elapsed=' +
                elapsed +
                ', tID=' +
                this.nextRenderingTimerBsc,
            )
            var optional_config =
              this.configPropertiesCache.optional_config || {}
            var renderingInterval =
              typeof optional_config.ribsc === 'string'
                ? int(optional_config.ribsc)
                : 200
            if (renderingInterval) {
              var remaining = renderingInterval - elapsed
              if (0 < elapsed && 0 < remaining) {
                if (!this.nextRenderingTimerBsc) {
                  this.nextRenderingTimerBsc = setTimeout(
                    this.renderBsc.bind(this),
                    remaining,
                  )
                }
                return
              }
            }
            this.lastRenderedTimeBsc = Date.now()
            this.nextRenderingTimerBsc = 0
            this.render()
          }

          /**
           * removeHandler function
           * handler
           */
          UcUiStore.prototype.removeHandler = function (handler) {
            var index = this.handlers.indexOf(handler)
            if (index !== -1) {
              this.handlers.splice(index, 1)
            }
          }

          // signIn
          // option
          // option.url
          // option.tenant
          // option.user
          // option.pass
          // option.reSignInDelay
          // option.maxReSignInDelay
          UcUiStore.prototype.signIn = function (option) {
            var _this = this

            if (this.signInStatus === 0 || this.signInStatus === 1) {
              this.signInStatus = 2
              this.signInOption = {}
              var signInOption = {}
              if (option) {
                this.signInOption = JSON.parse(JSON.stringify(option))
                signInOption = JSON.parse(JSON.stringify(option))
              }
              if (typeof signInOption.maxReSignInDelay !== 'undefined') {
                this.maxReSignInDelay = int(signInOption.maxReSignInDelay)
              }
              // load local storage preference
              if (typeof localStorage !== 'undefined' && localStorage.getItem) {
                var tenant = string(signInOption && signInOption.tenant)
                var t =
                  signInOption && signInOption.isSingleTenant ? '' : tenant
                var u = string(signInOption && signInOption.user).split('?')[0]
                var userKey = encodeURIComponent(JSON.stringify([tenant, u])) // not t but tenant for compatibility with uc < 1.6
                var keys = localStorage.getItem(
                  'UC.ucclientui.' + userKey + '.cookiePreferenceSaved',
                )
                if (keys) {
                  if (keys === 'true') {
                    // migrate from 1.1
                    keys =
                      'webRTCDisabled,webRTCTypeName,videoSource,audioSource,audioTarget,onlineOnly,buddylistOpenList,mutesMicrophone,mutesCamera'
                  }
                  string(keys)
                    .split(',')
                    .forEach(function (key) {
                      if (key && key[key.length - 1] === '+') {
                        _this.localStoragePreference[key] = string(
                          localStorage.getItem(key + t + '+' + u),
                        ) // not tenant but t for compatibility with cim
                      } else {
                        _this.localStoragePreference[key] = string(
                          localStorage.getItem(
                            'UC.ucclientui.' +
                              userKey +
                              '.cookiePreference.' +
                              key,
                          ),
                        )
                      }
                    })
                }
              }
              var dtoken = null
              try {
                dtoken = JSON.parse(
                  this.getLocalStoragePreference({
                    keyList: ['br+dtoken+'],
                  })[0],
                )
              } catch (e) {}
              if (dtoken && dtoken.token) {
                signInOption.device_token = dtoken.token
              }
              if (!this.reSignInDelay) {
                // sign-in normally
                if (typeof signInOption.reSignInDelay !== 'undefined') {
                  this.reSignInDelay = int(signInOption.reSignInDelay)
                } else {
                  this.reSignInDelay = 1000
                }
                this.chatClient.signIn(
                  signInOption,
                  this.signIn_funcOK.bind(this),
                  this.signIn_funcError.bind(this),
                )
              } else {
                // re-sign-in (timer counting now)
                if (typeof signInOption.reSignInDelay !== 'undefined') {
                  this.reSignInDelay = int(signInOption.reSignInDelay)
                } else {
                  if (
                    this.maxReSignInDelay > 0 &&
                    this.reSignInDelay === this.maxReSignInDelay
                  ) {
                  } else {
                    this.reSignInDelay /= 2
                  }
                }
                this.chatClient.signIn(
                  signInOption,
                  this.signIn_funcOK.bind(this),
                  this.signIn_funcErrorWithTimer.bind(this),
                )
              }
              this.render()
            }
          }
          //
          UcUiStore.prototype.signIn_funcOK = function (ev) {
            var _this = this

            this.signInStatus = 3
            this.signInOKCount++
            this.configPropertiesCache =
              this.chatClient.getConfigProperties() || {}
            this.optionalSettingCache = {}
            this.lastStatus = this.chatClient.getStatus()
            if (ev.tstamp) {
              this.diffClientServerTime = +new Date() - ev.tstamp
            }
            // save device token
            var authResultInfo = this.chatClient.getAuthResultInfo() || {}
            if (
              authResultInfo.device_token_create_result &&
              authResultInfo.device_token_create_result.status === 'OK'
            ) {
              this.setLocalStoragePreference({
                keyValueList: [
                  {
                    key: 'br+dtoken+',
                    value: JSON.stringify({
                      token: authResultInfo.device_token_create_result.token,
                      timestamp: ev.tstamp,
                    }),
                  },
                ],
              })
            } else if (
              authResultInfo.device_token_check_result &&
              authResultInfo.device_token_check_result.status === 'OK'
            ) {
              var dtoken = null
              try {
                dtoken = JSON.parse(
                  this.getLocalStoragePreference({
                    keyList: ['br+dtoken+'],
                  })[0],
                )
              } catch (e) {}
              if (dtoken && dtoken.token) {
                dtoken.timestamp = ev.tstamp
                this.setLocalStoragePreference({
                  keyValueList: [
                    { key: 'br+dtoken+', value: JSON.stringify(dtoken) },
                  ],
                })
              }
            }
            // receive unread text
            var unread = true
            var usersToRecvMsgs =
              this.chatClient.getSignedInInfo().usersToRecvMsgs
            if (usersToRecvMsgs) {
              unread = false
              usersToRecvMsgs.forEach &&
                usersToRecvMsgs.forEach(function (u) {
                  _this.clearChat({
                    chatType: 'CHAT',
                    chatCode: JSON.stringify({
                      tenant: u.tenant,
                      user_id: u.user_id,
                    }),
                  })
                  if (u.property && u.property.unread) {
                    unread = true
                  }
                })
            }
            if (unread) {
              this.chatClient.receiveUnreadText(
                this.signIn_receiveUnreadText_funcOK.bind(this),
                null,
              )
            }
            // restore temporary buddies (on re-sign-in)
            var temporaryBuddies = []
            for (var tenant in this.buddyTable) {
              for (var user_id in this.buddyTable[tenant]) {
                if (this.buddyTable[tenant][user_id].isTemporaryBuddy) {
                  temporaryBuddies.push({
                    tenant: tenant,
                    user_id: user_id,
                  })
                }
              }
            }
            this.addChatClientBuddy(temporaryBuddies)
            this.refreshBuddyTable()
            this.fire('signedIn', ev)
            this.render()
          }
          //
          UcUiStore.prototype.signIn_funcError = function (ev) {
            this.signInStatus = 1
            if (ev.tstamp) {
              this.diffClientServerTime = +new Date() - ev.tstamp
            }
            this.reSignInDelay = 0
            this.lastSignOutReason = {
              code: ev.code,
              message: ev.message,
              reSignInTime: 0,
            }
            this.fire('signedOut', {
              reSignInDelay: 0,
              tstamp: +new Date() - this.diffClientServerTime,
            })
            this.render()
          }
          //
          UcUiStore.prototype.signIn_funcErrorWithTimer = function (ev) {
            var retryable =
              ev.code !== Brekeke.UCClient.Errors.ALREADY_SIGNED_IN &&
              ev.code !== Brekeke.UCClient.Errors.CANNOT_START_MFA &&
              ev.code !== Brekeke.UCClient.Errors.VERSION_INVALID
            this.signInStatus = 1
            if (ev.tstamp) {
              this.diffClientServerTime = +new Date() - ev.tstamp
            }
            if (retryable) {
              this.lastSignOutReason = {
                code: ev.code,
                message: ev.message,
                reSignInTime: +new Date() + this.reSignInDelay,
              }
              this.fire('signedOut', {
                reSignInDelay: this.reSignInDelay,
                tstamp: +new Date() - this.diffClientServerTime,
              })
              this.startReSignInTimer()
            } else {
              this.reSignInDelay = 0
              this.lastSignOutReason = {
                code: ev.code,
                message: ev.message,
                reSignInTime: 0,
              }
              this.fire('signedOut', {
                reSignInDelay: 0,
                tstamp: +new Date() - this.diffClientServerTime,
              })
            }
            this.render()
          }
          //
          UcUiStore.prototype.signIn_receiveUnreadText_funcOK = function (ev) {
            var _this = this

            var messageList = ev.messages.map(
              this.createMessageFromReceivedText.bind(this),
            )
            // show more link
            if (ev.hasMore) {
              var showmorelinkChatKeys = {}
              messageList.forEach(function (message) {
                message.chatKeys.forEach(function (chatKey) {
                  showmorelinkChatKeys[chatKey] = true
                })
              })
              var showmorelinkOption = {
                chatKeys: Object.keys(showmorelinkChatKeys),
                unread: true,
              }
              this.addShowmorelinkToList(showmorelinkOption)
            }
            // add messages
            messageList.forEach(function (message) {
              // add to chat table
              _this.addMessageToList(message)
            })
            // read text
            var messageToNotify = null
            var toRead = ev.messages
              .filter(function (m) {
                return m.requires_read
              })
              .map(function (m) {
                messageToNotify = _this.createMessageFromReceivedText(m)
                return m.received_text_id
              })
            var readText =
              toRead.length > 0
                ? function () {
                    setTimeout(
                      _this.chatClient.readText.bind(
                        _this.chatClient,
                        toRead,
                        null,
                      ),
                      _this.chatClient.getSettings().text_open_sec * 1000,
                    )
                  }
                : null
            // notification
            var evObj = null
            if (messageToNotify) {
              evObj = {
                chatKeys: messageToNotify.chatKeys,
                notificationProperties: {
                  title: this.getBuddyUserForUi(messageToNotify.senderInfo)
                    .name,
                  body: messageToNotify.messageText,
                },
                funcOnSelected: readText,
                notificationFunction: null,
              }
              this.fire('checkRequiresNotification', evObj)
            }
            if (evObj && evObj.notificationFunction) {
              evObj.notificationFunction()
            } else if (readText) {
              readText()
            }

            this.render()
          }
          //
          UcUiStore.prototype.startReSignInTimer = function () {
            var _this = this

            if (this.reSignInDelay <= 0) {
              return
            }
            if (this.reSignInTimer) {
              clearTimeout(this.reSignInTimer)
            }
            this.reSignInTimer = setTimeout(function () {
              if (_this.reSignInDelay <= 0) {
                return
              }
              if (_this.signInStatus !== 0 && _this.signInStatus !== 1) {
                return
              }
              _this.signInStatus = 2
              var signInOption =
                JSON.parse(JSON.stringify(_this.signInOption)) || {}
              if (_this.lastStatus) {
                signInOption.status = int(_this.lastStatus.status)
                signInOption.display = string(_this.lastStatus.display)
                signInOption.ui_customized_status =
                  _this.lastStatus.ui_customized_status
              }
              signInOption.modest = true
              signInOption.recvMsgs = true
              var dtoken = null
              try {
                dtoken = JSON.parse(
                  _this.getLocalStoragePreference({
                    keyList: ['br+dtoken+'],
                  })[0],
                )
              } catch (e) {}
              if (dtoken && dtoken.token) {
                signInOption.device_token = dtoken.token
              } else {
              }
              signInOption.do_not_start_mfa = true
              _this.chatClient.signIn(
                signInOption,
                _this.signIn_funcOK.bind(_this),
                _this.signIn_funcErrorWithTimer.bind(_this),
              )
              _this.render()
            }, this.reSignInDelay)
            this.reSignInDelay *= 2
            if (
              this.maxReSignInDelay > 0 &&
              this.reSignInDelay > this.maxReSignInDelay
            ) {
              this.reSignInDelay = this.maxReSignInDelay
            }
          }

          // signInGuest
          // option
          // option.url
          // option.tenant
          // option.name
          // option.email
          // option.profinfo
          // option.reenterUserId
          // option.signInWebchatOptions
          // option.myProfileImageUrl
          UcUiStore.prototype.signInGuest = function (option) {
            var _this = this

            if (this.signInStatus === 0 || this.signInStatus === 1) {
              this.signInStatus = 2

              // create guest user
              var xhr = new XMLHttpRequest()
              var url =
                option.url +
                'uus?method=CGU&t=' +
                encodeURIComponent(encodeURIComponent(option.tenant)) +
                (option.name
                  ? '&n=' + encodeURIComponent(encodeURIComponent(option.name))
                  : '') +
                (option.email
                  ? '&e=' + encodeURIComponent(encodeURIComponent(option.email))
                  : '') +
                (option.profinfo
                  ? '&p=' +
                    encodeURIComponent(
                      encodeURIComponent(JSON.stringify(option.profinfo)),
                    )
                  : '') +
                (option.reenterUserId
                  ? '&rui=' +
                    encodeURIComponent(encodeURIComponent(option.reenterUserId))
                  : '')
              this.logger.log('debug', 'xhr post ' + url)
              xhr.open('POST', url, true)
              xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                  _this.logger.log(
                    'debug',
                    'xhr response (' +
                      xhr.status +
                      ') ' +
                      stringify(xhr.responseText),
                  )
                  if (xhr.status === 200) {
                    var responseJson = null
                    try {
                      responseJson = JSON.parse(xhr.responseText)
                    } catch (ex) {
                      _this.logger.log(
                        'warn',
                        'JSON.parse error value=' +
                          xhr.responseText +
                          ', ex=' +
                          ex,
                      )
                    }
                    if (responseJson) {
                      // sign-in
                      _this.chatClient.signIn(
                        {
                          url: option.url,
                          tenant: option.tenant,
                          user: string(responseJson.d),
                          pass: string(responseJson.w),
                          myProfileImageUrl: string(option.myProfileImageUrl),
                        },
                        function (ev) {
                          // funcOK
                          if (ev.tstamp) {
                            _this.diffClientServerTime = +new Date() - ev.tstamp
                          }
                          // enter webchat room
                          _this.chatClient.enterWebchatRoom(
                            option.signInWebchatOptions,
                            function (e) {
                              // funcOK
                              // set chatHeaderInfoTable
                              var chatType = 'CONFERENCE'
                              var chatCode =
                                string(e.conference.yyyymm) +
                                '_' +
                                string(e.conference.conf_id)
                              var chatKey = chatType + '_' + chatCode
                              if (!_this.chatHeaderInfoTable[chatKey]) {
                                _this.chatHeaderInfoTable[chatKey] = {}
                              }
                              _this.chatHeaderInfoTable[chatKey].conf_id =
                                string(e.conference.conf_id)
                              _this.getChatHeaderInfo({
                                chatType: chatType,
                                chatCode: chatCode,
                              }) // overwrite guest, yyyymm, etc.
                              // set guest_conf_id
                              _this.guest_conf_id = e.conference.conf_id
                              _this.reenter_user_id = string(
                                option.reenterUserId,
                              )
                              _this.signInStatus = 3
                              _this.signInOKCount++
                              _this.configPropertiesCache =
                                _this.chatClient.getConfigProperties() || {}
                              _this.optionalSettingCache = {}
                              // add me to buddy table
                              _this.addToBuddyTable(
                                _this.chatClient.getProfile(),
                              )
                              // receive unreceived conference text
                              _this.chatClient.searchConferenceTexts(
                                {
                                  conf_id: e.conference.conf_id,
                                  yyyymm: e.conference.yyyymm,
                                },
                                function (ev) {
                                  ev.logs.forEach(function (log) {
                                    var messageFile = null
                                    if (
                                      log.ctype === Constants.CTYPE_FILE_REQUEST
                                    ) {
                                      try {
                                        messageFile = JSON.parse(log.content)
                                        messageFile.receiverInfo =
                                          messageFile.target
                                      } catch (e) {}
                                    }
                                    var message = {
                                      chatKeys: [chatKey],
                                      senderInfo: log.sender,
                                      ctype: log.ctype,
                                      messageText:
                                        log.ctype === Constants.CTYPE_TEXT ||
                                        log.ctype ===
                                          Constants.CTYPE_CALL_RESULT
                                          ? string(log.content)
                                          : '',
                                      messageObject: log.object,
                                      errorType: '',
                                      errorDetail: '',
                                      messageFile: messageFile,
                                      received_text_id: log.log_id,
                                      topic_id: '',
                                      conf_type: e.conference.conf_type,
                                      replyEnabled: true,
                                      unreached: false,
                                      messageExtInfo: {
                                        mailSubject: _this.getMailSubject(
                                          e.conference,
                                        ),
                                      },
                                      sentTimeValue: +parseDate(log.ltime),
                                    }
                                    _this.addMessageToList(message)
                                  })
                                  // add nonbuddy to chatClient immediately (do not subscribe)
                                  var senders = Object.keys(
                                    ev.senders || {},
                                  ).map(function (key) {
                                    return {
                                      tenant: ev.senders[key].tenant,
                                      user_id: ev.senders[key].user_id,
                                      name: ev.senders[key].user_name,
                                    }
                                  })
                                  _this.addChatClientBuddy(senders)
                                  _this.render()
                                },
                                null,
                              )
                              _this.fire('signedIn')
                              _this.render()
                            },
                            function (e) {
                              // funcError
                              _this.logger.log(
                                'warn',
                                'chatClient.enterWebchatRoom error code=' +
                                  e.code +
                                  ', message=' +
                                  e.message,
                              )
                              _this.signInStatus = 1
                              _this.lastSignOutReason = {
                                code: e.code,
                                message: e.message,
                                reSignInTime: 0,
                              }
                              _this.chatClient.signOut()
                              _this.fire('signedOut', {
                                reSignInDelay: 0,
                                tstamp:
                                  +new Date() - _this.diffClientServerTime,
                              })
                              _this.render()
                            },
                          )
                        },
                        function (e) {
                          // funcError
                          _this.logger.log(
                            'warn',
                            'chatClient.signIn error code=' +
                              e.code +
                              ', message=' +
                              e.message,
                          )
                          _this.signInStatus = 1
                          _this.lastSignOutReason = {
                            code: e.code,
                            message: e.message,
                            reSignInTime: 0,
                          }
                          _this.fire('signedOut', {
                            reSignInDelay: 0,
                            tstamp: +new Date() - _this.diffClientServerTime,
                          })
                          _this.render()
                        },
                      )
                    } else {
                      _this.logger.log('warn', 'responseJson=' + responseJson)
                      _this.signInStatus = 1
                      _this.lastSignOutReason = {
                        code: -2000,
                        message: 'responseJson=' + responseJson,
                        reSignInTime: 0,
                      }
                      _this.fire('signedOut', {
                        reSignInDelay: 0,
                        tstamp: +new Date() - _this.diffClientServerTime,
                      })
                      _this.render()
                    }
                  } else {
                    _this.logger.log('warn', 'status=' + xhr.status)
                    _this.signInStatus = 1
                    _this.lastSignOutReason = {
                      code: -2000,
                      message: 'status=' + xhr.status,
                      reSignInTime: 0,
                    }
                    _this.fire('signedOut', {
                      reSignInDelay: 0,
                      tstamp: +new Date() - _this.diffClientServerTime,
                    })
                    _this.render()
                  }
                }
              }
              xhr.send()
              this.render()
            }
          }

          // signOut
          UcUiStore.prototype.signOut = function (option) {
            if (this.signInStatus !== 0 && this.signInStatus !== 1) {
              this.signInStatus = 0
              this.reSignInDelay = 0
              if (this.reSignInTimer) {
                clearTimeout(this.reSignInTimer)
                this.reSignInTimer = null
              }
              this.lastSignOutReason = { code: 1, message: '', reSignInTime: 0 }
              this.addSignOutSysmsg()
              this.webchatQueueList = []
              this.chatClient.signOut(option && option.signOutOptions)
              this.fire('signedOut', {
                reSignInDelay: 0,
                tstamp: +new Date() - this.diffClientServerTime,
              })
              this.render()
            } else {
              if (this.reSignInDelay || this.reSignInTimer) {
                this.reSignInDelay = 0
                if (this.reSignInTimer) {
                  clearTimeout(this.reSignInTimer)
                  this.reSignInTimer = null
                }
                if (this.lastSignOutReason.reSignInTime) {
                  this.lastSignOutReason.reSignInTime = 0
                }
                this.render()
              }
            }
          }
          //
          UcUiStore.prototype.addSignOutSysmsg = function () {
            var _this = this

            var profile = this.chatClient.getProfile()
            if (this.guest_conf_id) {
              // guest
              this.addSysmsgToList({
                chatKeys: [
                  this.getChatCodeByConfId({ conf_id: this.guest_conf_id })
                    .chatKey,
                ],
                sysmsgLevel: 'info',
                sysmsgType:
                  this.signInStatus === 0 &&
                  this.lastSignOutReason &&
                  this.lastSignOutReason.reSignInTime
                    ? 'MSG_CHAT_OFFLINE'
                    : 'MSG_CHAT_CLOSED',
              })
            } else {
              // for joined conferences
              var chatKeys = this.webchatQueueList.reduce(function (
                p,
                webchatQueue,
              ) {
                var k = _this.getChatCodeByConfId({
                  conf_id: webchatQueue.conf_id,
                }).chatKey
                if (
                  _this.chatTable[k] &&
                  _this.chatTable[k].memberList &&
                  _this.chatTable[k].memberList.some(function (u) {
                    return (
                      u.tenant === profile.tenant &&
                      u.user_id === profile.user_id
                    )
                  })
                ) {
                  p.push(k)
                }
                return p
              }, [])
              // remove me from memberList
              chatKeys.forEach(function (chatKey) {
                _this.chatTable[chatKey].memberList = _this.chatTable[
                  chatKey
                ].memberList.filter(function (u) {
                  return !(
                    u.tenant === profile.tenant && u.user_id === profile.user_id
                  )
                })
              })
              // show messages
              this.addSysmsgToList({
                chatKeys: chatKeys,
                sysmsgLevel: 'info',
                sysmsgType: 'MSG_CONFERENCE_ME_LEFT',
              })
            }
          }

          // clearChat
          UcUiStore.prototype.clearChat = function (option) {
            var _this = this
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            this.chatTable[chatKey] &&
              this.chatTable[chatKey].chatList &&
              this.chatTable[chatKey].chatList.forEach(function (chat) {
                if (chat.type === 'paragraph') {
                  chat.messageList &&
                    chat.messageList.forEach(function (mes) {
                      // destroy file data
                      if (
                        mes.messageFile &&
                        (mes.messageFile.status ===
                          Constants.FILE_STATUS_UNACCEPTED ||
                          mes.messageFile.status ===
                            Constants.FILE_STATUS_TRANSFERRING)
                      ) {
                        _this.chatClient.cancelFile(
                          mes.messageFile.file_id,
                          function (ev) {
                            _this.logger.log(
                              'warn',
                              'chatClient.cancelFile error code=' +
                                ev.code +
                                ', message=' +
                                ev.message,
                            )
                          },
                        )
                      }
                      // destroy image data
                      if (
                        mes.messageFile &&
                        mes.messageFile.inlineImage &&
                        mes.messageFile.inlineImage.url
                      ) {
                        var index = _this.objectURLList.indexOf(
                          mes.messageFile.inlineImage.url,
                        )
                        if (index !== -1) {
                          _this.objectURLList.splice(index, 1)
                          URL.revokeObjectURL(mes.messageFile.inlineImage.url)
                        }
                      }
                      // destroy key object table entry
                      delete _this.keyObjectTable[mes.key]
                    })
                } else if (chat.type === 'showmorelink') {
                  // destroy showmorelink
                  if (
                    _this.showmorelinkTable[chat.showmorelink_id] &&
                    _this.showmorelinkTable[chat.showmorelink_id].chatKeys
                  ) {
                    var index =
                      _this.showmorelinkTable[
                        chat.showmorelink_id
                      ].chatKeys.indexOf(chatKey)
                    if (index !== -1) {
                      _this.showmorelinkTable[
                        chat.showmorelink_id
                      ].chatKeys.splice(index, 1)
                      if (
                        _this.showmorelinkTable[chat.showmorelink_id].chatKeys
                          .length === 0
                      ) {
                        delete _this.showmorelinkTable[chat.showmorelink_id]
                      }
                    }
                  }
                }
                // destroy key object table entry
                delete _this.keyObjectTable[chat.key]
              })
            if (option.chatType === 'CHAT') {
              if (
                this.chatTable[chatKey] &&
                this.chatTable[chatKey].chatList &&
                this.chatClient.getBuddylist().user.some(function (u) {
                  return (
                    option.chatCode ===
                    JSON.stringify({ tenant: u.tenant, user_id: u.user_id })
                  )
                })
              ) {
                // destroy only chat list
                this.chatTable[chatKey].chatList.length = 0
                // create showmorelink
                this.addShowmorelinkToList({
                  chatKeys: [chatKey],
                  unread: false,
                })
                this.render()
                return
              }
            } else if (option.chatType === 'CONFERENCE') {
              var conf_id = this.getChatHeaderInfo(option).conf_id
              var conference = this.chatClient.getConference(conf_id)
              if (conference.conf_status !== Constants.CONF_STATUS_INACTIVE) {
                // TODO: yano destroy only chat list
                // TODO: yano create showmorelink
                this.render()
                return
              }
            }
            // destroy data
            delete this.unsentReplyMessagesTable[chatKey]
            // destroy search data
            if (this.searchWorkDataTable[chatKey]) {
              this.searchWorkDataTable[chatKey].clearing = true
            }
            delete this.searchConditionsTable[chatKey]
            delete this.searchWorkDataTable[chatKey]
            delete this.searchResultsTable[chatKey]
            // destroy chat header info
            delete this.chatHeaderInfoTable[chatKey]
            // destroy chat data
            delete this.chatTable[chatKey]
            this.render()
          }

          // refreshBuddyTable
          UcUiStore.prototype.refreshBuddyTable = function (option) {
            var _this = this
            for (var tenant in this.buddyTable) {
              for (var user_id in this.buddyTable[tenant]) {
                if (
                  this.buddyTable[tenant][user_id].isMe ||
                  this.buddyTable[tenant][user_id].isBuddy
                ) {
                  delete this.buddyTable[tenant][user_id]
                }
              }
            }
            // add me to buddy table
            this.addToBuddyTable(this.chatClient.getProfile())
            // add buddies to buddy table
            this.chatClient.getBuddylist().user.forEach(function (p) {
              if (p.user_id) {
                _this.addToBuddyTable(p)
                // add new chat to chat table
                var chatKey =
                  'CHAT' +
                  '_' +
                  JSON.stringify({ tenant: p.tenant, user_id: p.user_id })
                if (!_this.chatTable[chatKey]) {
                  _this.chatTable[chatKey] = _this.newChatTableEntry(chatKey)
                  _this.addShowmorelinkToList({
                    chatKeys: [chatKey],
                    unread: false,
                  })
                }
              }
            })
            this.render()
          }

          // uncacheProfileImageUrl
          // option
          // option.minSignInOKCount
          UcUiStore.prototype.uncacheProfileImageUrl = function (option) {
            if (this.signInOKCount >= int(option && option.minSignInOKCount)) {
              if (option && option.uncacheParam2) {
                this.uncacheParam2 = int(option.uncacheParam2)
              }
              for (var tenant in this.buddyTable) {
                for (var user_id in this.buddyTable[tenant]) {
                  if (this.buddyTable[tenant][user_id].profile_image_url) {
                    this.buddyTable[tenant][user_id].profile_image_url =
                      this.buddyTable[tenant][
                        user_id
                      ].profile_image_url.replace(/&uncache=[0-9]+/g, '') +
                      '&uncache=' +
                      this.signInOKCount +
                      this.uncacheParam2
                  }
                }
              }
              this.render()
            }
          }

          // changeStatus
          // option
          // option.status
          // option.display
          // option.ui_customized_status
          UcUiStore.prototype.changeStatus = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var status = this.chatClient.getStatus()
            if (typeof option.status !== 'undefined') {
              status.status = int(option.status)
            }
            if (typeof option.display !== 'undefined') {
              status.display = string(option.display)
            }
            if (typeof option.ui_customized_status !== 'undefined') {
              status.ui_customized_status = option.ui_customized_status
            }
            this.chatClient.changeStatus(
              status,
              function (ev) {
                _this.lastStatus = status
                _this.render()
              },
              function (ev) {
                _this.render()
              },
            )
            this.render()
          }

          /**
           * getBuddyUserForUi function
           * option
           * option.tenant
           * option.user_id
           */
          UcUiStore.prototype.getBuddyUserForUi = function (option) {
            if (!option) {
              option = {}
            }
            var profile = this.chatClient.getProfile()
            var tenant = string(option.tenant || profile.tenant)
            if (
              this.buddyTable[tenant] &&
              this.buddyTable[tenant][option.user_id]
            ) {
              return JSON.parse(
                JSON.stringify(this.buddyTable[tenant][option.user_id]),
              )
            } else {
              return {
                tenant: tenant,
                user_id: string(option.user_id),
                chatCode: JSON.stringify({
                  tenant: tenant,
                  user_id: string(option.user_id),
                }),
                name: '',
                display_name: '',
                profile_image_url: '',
                paragraphClassIndex: 1, // TODO: yano test
                isMe: false,
                isBuddy: false,
                isTemporaryBuddy: false,
                buddyIndex: -1,
                group: '',
                groupIndex: -1,
              }
            }
          }
          //
          UcUiStore.prototype.addChatClientBuddy = function (buddyList) {
            var _this = this

            var profile = this.chatClient.getProfile()
            var allUsersTable = (
              this.chatClient.getAllUsers().user || []
            ).reduce(function (a, c) {
              a[c.user_id] = c
              return a
            }, {})
            var newBuddyList = (buddyList || []).map(function (buddy) {
              var name = buddy.name
              if (
                !name &&
                (buddy.tenant === profile.tenant || !buddy.tenant) &&
                allUsersTable[buddy.user_id]
              ) {
                name = allUsersTable[buddy.user_id].user_name
              }
              if (name) {
                // add nonbuddy to chatClient immediately (do not subscribe)
                return {
                  tenant: buddy.tenant,
                  user_id: buddy.user_id,
                  name: name,
                  doNotSubscribe: true,
                }
              } else {
                // add buddy to chatClient
                return buddy
              }
            })
            this.chatClient.addTemporaryBuddy(newBuddyList, null, function (e) {
              return _this.logger.log(
                'warn',
                'chatClient.addTemporaryBuddy error code=' +
                  e.code +
                  ', message=' +
                  e.message,
              )
            })
            newBuddyList.forEach(function (buddy) {
              if (buddy.doNotSubscribe) {
                // this.addToBuddyTable() immediately
                _this.addToBuddyTable(_this.chatClient.getBuddyUser(buddy))
              } else {
                // this.addToBuddyTable() in UcUiStore.prototype.buddyStatusChanged after subscribe
              }
            })
          }
          //
          UcUiStore.prototype.addToBuddyTable = function (u) {
            var profile = this.chatClient.getProfile()
            var settings = this.chatClient.getSettings()
            var buddylist = this.chatClient.getBuddylist()
            var isMe =
              u.tenant === profile.tenant && u.user_id === profile.user_id
            var buddyIndex = buddylist.user.findIndex(function (p) {
              return u.tenant === p.tenant && u.user_id === p.user_id
            })
            var isBuddy = buddyIndex !== -1
            var group = isBuddy ? string(buddylist.user[buddyIndex].group) : ''
            var groupIndex = buddylist.user.findIndex(function (p) {
              return group === p.id
            })
            var isTemporaryBuddy = false
            if (!isMe && !isBuddy) {
              // TODO: yano unsubscribe non-buddy whose status remains offline for long time
              //if (this.chatClient.getBuddyStatus(u).status === Constants.STATUS_OFFLINE) {
              //    // unsubscribe offline non-buddy
              //    this.chatClient.removeTemporaryBuddy([u], null, null);
              //} else {
              isTemporaryBuddy = true
              //}
            }

            if (!this.buddyTable[u.tenant]) {
              this.buddyTable[u.tenant] = {}
            }
            this.buddyTable[u.tenant][u.user_id] = {
              tenant: u.tenant,
              user_id: u.user_id,
              chatCode: JSON.stringify({
                tenant: u.tenant,
                user_id: u.user_id,
              }),
              name: u.name || u.user_id,
              display_name:
                (isMe &&
                  profile.user_type !== Constants.USER_TYPE_TENANT_GUEST &&
                  string(this.getOptionalSetting({ key: 'display_name' }))) ||
                u.name ||
                u.user_id,
              profile_image_url: u.profile_image_url,
              paragraphClassIndex: isMe ? 0 : 1, // TODO: yano test
              isMe: isMe,
              isBuddy: isBuddy,
              isTemporaryBuddy: isTemporaryBuddy,
              buddyIndex: buddyIndex,
              group: group,
              groupIndex: groupIndex,
            }
          }

          /**
           * getChatHeaderInfo function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getChatHeaderInfo = function (option) {
            var chatHeaderInfo = {
              conf_id: '',
              title: '',
              guest: {
                tenant: '',
                user_id: '',
              },
              guestProfinfo: '',
              confType: '',
              webchatServiceId: '',
              webchatContinuable: '',
              replyTypes: '',
              editorTypes: '',
              initialEditorType: '',
              lastConfType: '',
              nextDistributionType: '',
              nextDistributionTarget: '',
              originalWebchatId: '',
              selectedReplyType: '',
              yyyymm: '',
            }
            if (!option) {
              return chatHeaderInfo
            }
            var chatKey = option.chatType + '_' + option.chatCode
            if (option.chatType === 'CONFERENCE') {
              var conf_id = string(
                this.chatHeaderInfoTable[chatKey] &&
                  this.chatHeaderInfoTable[chatKey].conf_id,
              )
              var conference = this.chatClient.getConference(conf_id)
              if (conference.conf_type === 'webchat') {
                var user = this.getBuddyUserForUi(conference.creator)
                chatHeaderInfo.conf_id = conf_id
                chatHeaderInfo.title = string(
                  (user && user.name) ||
                    conference.creator.user_name ||
                    conference.creator.user_id,
                )
                chatHeaderInfo.guest.tenant = conference.creator.tenant
                chatHeaderInfo.guest.user_id = conference.creator.user_id
                chatHeaderInfo.guestProfinfo = string(
                  conference.webchatinfo.profinfo_formatted,
                )
                chatHeaderInfo.confType = string(conference.conf_type)
                chatHeaderInfo.webchatServiceId = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'webchatServiceId'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.webchatContinuable = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'webchatContinuable'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.replyTypes = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'replyTypes'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.editorTypes = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'editorTypes'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.initialEditorType = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'initialEditorType'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.lastConfType = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'lastConfType'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.nextDistributionType = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'nextDistributionType'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.nextDistributionTarget = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_webchat' &&
                        tag.tag_key === 'nextDistributionTarget'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.originalWebchatId = string(
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag.tag_type === '_relation' &&
                        tag.tag_key === '_originalWebchatId'
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
                )
                chatHeaderInfo.selectedReplyType = string(
                  this.chatHeaderInfoTable[chatKey] &&
                    this.chatHeaderInfoTable[chatKey].selectedReplyType,
                )
                chatHeaderInfo.yyyymm = string(conference.yyyymm)
              } else {
                chatHeaderInfo.conf_id = conf_id
                chatHeaderInfo.title = conference.subject
                chatHeaderInfo.confType = string(conference.conf_type)
                chatHeaderInfo.yyyymm = string(conference.yyyymm)
              }
              if (conference.conf_status !== Constants.CONF_STATUS_INACTIVE) {
                chatHeaderInfo.conf_tags = conference.conf_tags
                chatHeaderInfo.subject = conference.subject
              } else if (this.chatHeaderInfoTable[chatKey]) {
                chatHeaderInfo.conf_tags =
                  this.chatHeaderInfoTable[chatKey].conf_tags || []
                chatHeaderInfo.subject = string(
                  this.chatHeaderInfoTable[chatKey].subject,
                )
              } else {
                chatHeaderInfo.conf_tags = []
                chatHeaderInfo.subject = ''
              }
            } else if (option.chatType === 'CHAT') {
              try {
                var buddy = JSON.parse(option.chatCode)
                var _user = this.getBuddyUserForUi(buddy)
                chatHeaderInfo.title = string(_user && _user.name)
              } catch (e) {}
            }
            // save chatHeaderInfo
            if (
              chatHeaderInfo.title ||
              chatHeaderInfo.guest.user_id ||
              chatHeaderInfo.guestProfinfo ||
              chatHeaderInfo.confType ||
              chatHeaderInfo.webchatServiceId ||
              chatHeaderInfo.webchatContinuable ||
              chatHeaderInfo.replyTypes ||
              chatHeaderInfo.editorTypes ||
              chatHeaderInfo.initialEditorType ||
              chatHeaderInfo.lastConfType ||
              chatHeaderInfo.nextDistributionType ||
              chatHeaderInfo.nextDistributionTarget ||
              chatHeaderInfo.originalWebchatId ||
              chatHeaderInfo.selectedReplyType ||
              chatHeaderInfo.yyyymm
            ) {
              // conference is active (or buddy is found)
              this.chatHeaderInfoTable[chatKey] = chatHeaderInfo
            } else if (!this.chatHeaderInfoTable[chatKey]) {
              // conference is not active (or argument is invalid)
              return chatHeaderInfo
            } else {
            }
            // conference is not active any longer
            // keep this.chatHeaderInfoTable[chatKey]

            // return clone
            return JSON.parse(JSON.stringify(this.chatHeaderInfoTable[chatKey]))
          }

          /**
           * getChatCodeByConfId function
           * option
           * option.conf_id
           * option.yyyymm
           */
          UcUiStore.prototype.getChatCodeByConfId = function (option) {
            for (var chatKey in this.chatHeaderInfoTable) {
              if (
                option &&
                option.conf_id &&
                this.chatHeaderInfoTable[chatKey].conf_id === option.conf_id &&
                (!option.yyyymm ||
                  this.chatHeaderInfoTable[chatKey].yyyymm === option.yyyymm)
              ) {
                var chatType = chatKey.split('_')[0]
                var chatCode = chatKey.substr((chatType + '_').length)
                return {
                  chatKey: chatKey,
                  chatType: chatType,
                  chatCode: chatCode,
                }
              }
            }
            return {
              chatKey: '',
              chatType: '',
              chatCode: '',
            }
          }

          // setDoNotContinue
          // option
          // option.chatType
          // option.chatCode
          UcUiStore.prototype.setDoNotContinue = function (option) {
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            if (this.chatHeaderInfoTable[chatKey]) {
              this.chatHeaderInfoTable[chatKey].doNotContinue = true
            }
          }

          // createConference
          // option
          // option.subject
          // option.invite
          UcUiStore.prototype.createConference = function (option) {
            if (!option) {
              return
            }
            this.chatClient.createConference(
              option.subject,
              option.invite,
              this.createConference_funcOK.bind(this, option),
              this.createConference_funcError.bind(this, option),
            )
          }
          //
          UcUiStore.prototype.createConference_funcOK = function (option, ev) {
            this.chatClient.joinConference(
              ev.conference.conf_id,
              { invisible: false, exclusive: false },
              this.createConference_joinConference_funcOK.bind(
                this,
                ev.conference.conf_id,
                option,
              ),
              this.createConference_funcError.bind(this, option),
            )
          }
          //
          UcUiStore.prototype.createConference_funcError = function (
            option,
            ev,
          ) {
            this.logger.log(
              'warn',
              'chatClient.createConference error code=' +
                ev.code +
                ', message=' +
                ev.message,
            )
            this.fire('errorOccurred', {
              errorType: 'MSG_CREATE_CONFERENCE_FAILED',
              errorDetail: string(ev.message),
            })
          }
          //
          UcUiStore.prototype.createConference_joinConference_funcOK =
            function (conf_id, option, ev) {
              var _this = this

              var chatType = 'CONFERENCE'
              var chatCode =
                string(ev && ev.conference && ev.conference.yyyymm) +
                '_' +
                string(conf_id)
              var chatKey = chatType + '_' + chatCode
              if (!this.chatHeaderInfoTable[chatKey]) {
                this.chatHeaderInfoTable[chatKey] = {}
              }
              this.chatHeaderInfoTable[chatKey].conf_id = string(conf_id)
              this.getChatHeaderInfo({ chatType: chatType, chatCode: chatCode }) // overwrite guest, yyyymm, etc.
              this.fire('newConference', {
                chatType: chatType,
                chatCode: chatCode,
              })
              option.invite &&
                option.invite.forEach &&
                option.invite.forEach(function (u) {
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'info',
                    sysmsgType: 'MSG_CONFERENCE_INVITING',
                    buddy: u,
                  })
                })
              this.render()
            }

          // inviteToConference
          // option
          // option.conf_id
          // option.invite
          UcUiStore.prototype.inviteToConference = function (option) {
            if (!option) {
              return
            }
            this.chatClient.inviteToConference(
              option.conf_id,
              option.invite,
              this.inviteToConference_funcOK.bind(this, option),
              this.inviteToConference_funcError.bind(this, option),
            )
          }
          //
          UcUiStore.prototype.inviteToConference_funcOK = function (
            option,
            ev,
          ) {
            var _this = this

            option.invite &&
              option.invite.forEach &&
              option.invite.forEach(function (u) {
                _this.addSysmsgToList({
                  chatKeys: [
                    _this.getChatCodeByConfId({
                      conf_id: string(option.conf_id),
                    }).chatKey,
                  ],
                  sysmsgLevel: 'info',
                  sysmsgType: 'MSG_CONFERENCE_INVITING',
                  buddy: u,
                })
              })
            this.render()
          }
          //
          UcUiStore.prototype.inviteToConference_funcError = function (
            option,
            ev,
          ) {
            this.logger.log(
              'warn',
              'chatClient.inviteToConference error code=' +
                ev.code +
                ', message=' +
                ev.message,
            )
            this.fire('errorOccurred', {
              errorType: 'MSG_INVITE_TO_CONFERENCE_FAILED',
              errorDetail: string(ev.message),
            })
          }

          // joinConference
          // option
          // option.conf_id
          // option.properties
          UcUiStore.prototype.joinConference = function (option) {
            this.joinWebchatRoom(option)
          }

          // leaveConference
          // option
          // option.conf_id
          // option.rejoinable
          UcUiStore.prototype.leaveConference = function (option) {
            this.leaveWebchatRoom(option)
          }

          // joinWebchatRoom
          // option
          // option.conf_id
          // option.properties
          UcUiStore.prototype.joinWebchatRoom = function (option) {
            if (!option) {
              return
            }
            var conf_id = option.conf_id
            if (this.confInJoinProcTable[conf_id]) {
              this.logger.log(
                'warn',
                'multiple call: UcUiStore.joinWebchatRoom() conf_id=' + conf_id,
              )
              return
            }
            var chatType = 'CONFERENCE'
            var chatCode = this.getChatCodeByConfId({
              conf_id: conf_id,
            }).chatCode
            // join
            this.chatClient.joinConference(
              conf_id,
              option.properties,
              this.joinWebchatRoom_funcOK.bind(this, option),
              this.joinWebchatRoom_funcError.bind(
                this,
                option,
                chatType,
                chatCode,
              ),
            )
            this.confInJoinProcTable[conf_id] = {}
            this.fire('newWebchat', { chatType: chatType, chatCode: chatCode })
            this.render()
          }
          //
          UcUiStore.prototype.joinWebchatRoom_funcOK = function (option, ev) {
            var _this = this
            var conf_id = ev.conference.conf_id
            var chatType = 'CONFERENCE'
            var chatCode = this.getChatCodeByConfId({
              conf_id: conf_id,
            }).chatCode
            var chatKey = chatType + '_' + chatCode
            delete this.confInJoinProcTable[conf_id]
            this.chatClient.searchConferenceTexts(
              { conf_id: conf_id, yyyymm: ev.conference.yyyymm },
              this.joinWebchatRoom_searchConferenceTexts_funcOK.bind(
                this,
                conf_id,
                ev.conference.conf_type,
              ),
              null,
            )
            if (
              option.properties &&
              option.properties.exclusive &&
              ev.conference.invite_properties.webchatfromguest &&
              ev.conference.invite_properties.webchatfromguest.acd_id
            ) {
              var tags = [
                {
                  tag_key: 'acd',
                  tag_value:
                    ev.conference.invite_properties.webchatfromguest.acd_id,
                  tag_type: '_webchat',
                  permission: Constants.USER_TYPE_TENANT_USER,
                },
              ]
              if (
                this.configPropertiesCache.optional_config &&
                this.configPropertiesCache.optional_config.agent_group_id
              ) {
                tags.push({
                  tag_key: 'agentGroupId',
                  tag_value:
                    this.configPropertiesCache.optional_config.agent_group_id,
                  tag_type: '_webchat',
                  permission: Constants.USER_TYPE_TENANT_USER,
                })
              }
              this.chatClient.updateTag(
                {
                  attached_type: 'conf',
                  attached_id: conf_id,
                  yyyymm: ev.conference.yyyymm,
                  adds: tags,
                  removes: [],
                },
                null,
                null,
              )
            }

            // send unsent messages of replying
            if (this.unsentReplyMessagesTable[chatKey]) {
              this.unsentReplyMessagesTable[chatKey].forEach(
                function (message) {
                  _this.chatClient.sendConferenceText(
                    message.messageText,
                    conf_id,
                    function (ev) {
                      // display sent time
                      message.unreached = false
                      message.sentTimeValue = +parseDate(ev.ltime)
                      message.received_text_id = ev.text_id
                      _this.render()
                    },
                    function (ev) {
                      // display error
                      _this.logger.log(
                        'warn',
                        'chatClient.sendConferenceText error code=' +
                          ev.code +
                          ', message=' +
                          ev.message,
                      )
                      message.errorType = 'MSG_SEND_TEXT_ERROR'
                      message.errorDetail = string(ev.message)
                      _this.addSysmsgToList({
                        chatKeys: [chatKey],
                        sysmsgLevel: 'error',
                        sysmsgType: 'MSG_SEND_TEXT_ERROR',
                      })
                      _this.render()
                    },
                  )
                },
              )
              delete this.unsentReplyMessagesTable[chatKey]
            }

            // leave and reply unanswered webchat soon after joining
            this.leavingUnansweredWebchatConfId = null
            if (
              ev.conference.creator.conf_status ===
              Constants.CONF_STATUS_LEFT_UNANSWERED
            ) {
              this.leavingUnansweredWebchatConfId = conf_id
              this.leaveWebchatRoom({ conf_id: conf_id })
            }

            this.render()
          }
          //
          UcUiStore.prototype.joinWebchatRoom_funcError = function (
            option,
            chatType,
            chatCode,
            ev,
          ) {
            delete this.confInJoinProcTable[option.conf_id]
            // display error
            this.logger.log(
              'warn',
              'chatClient.joinConference error code=' +
                ev.code +
                ', message=' +
                ev.message,
            )
            this.addSysmsgToList({
              chatKeys: [chatType + '_' + chatCode],
              sysmsgLevel: 'error',
              sysmsgType: 'MSG_JOIN_CONFERENCE_ERROR',
            })
            this.fire('errorOccurred', {
              errorType: 'MSG_JOIN_CONFERENCE_FAILED',
              errorDetail: string(ev.message),
            })
            this.render()
          }
          //
          UcUiStore.prototype.joinWebchatRoom_searchConferenceTexts_funcOK =
            function (conf_id, conf_type, ev) {
              var _this = this

              var conference = this.chatClient.getConference(conf_id)
              ev.logs.forEach(function (log) {
                // message
                var messageFile = null
                if (log.ctype === Constants.CTYPE_FILE_REQUEST) {
                  try {
                    messageFile = JSON.parse(log.content)
                    messageFile.receiverInfo = messageFile.target
                  } catch (e) {}
                }
                var message = {
                  chatKeys: [
                    _this.getChatCodeByConfId({ conf_id: conf_id }).chatKey,
                  ],
                  senderInfo: log.sender,
                  ctype: log.ctype,
                  messageText:
                    log.ctype === Constants.CTYPE_TEXT ||
                    log.ctype === Constants.CTYPE_CALL_RESULT
                      ? string(log.content)
                      : '',
                  messageObject: log.object,
                  errorType: '',
                  errorDetail: '',
                  messageFile: messageFile,
                  received_text_id: log.log_id,
                  topic_id: '',
                  conf_type: conf_type,
                  replyEnabled: true,
                  unreached: false,
                  messageExtInfo: {
                    mailSubject: _this.getMailSubject(conference),
                  },
                  sentTimeValue: +parseDate(log.ltime),
                }
                // add to webchat queue
                var webchatQueue = _this.webchatQueueList.find(
                  function (element) {
                    return element.conf_id === conf_id
                  },
                )
                if (webchatQueue && webchatQueue.messageList) {
                  if (
                    !webchatQueue.messageList.some(function (mes) {
                      return (
                        mes &&
                        mes.received_text_id &&
                        mes.received_text_id === message.received_text_id
                      )
                    })
                  ) {
                    webchatQueue.messageList.push(message)
                  }
                }
                // add to chat table
                _this.addMessageToList(message)
              })
              // add nonbuddy to chatClient immediately (do not subscribe)
              var senders = Object.keys(ev.senders || {}).map(function (key) {
                return {
                  tenant: ev.senders[key].tenant,
                  user_id: ev.senders[key].user_id,
                  name: ev.senders[key].user_name,
                }
              })
              this.addChatClientBuddy(senders)
              this.render()
            }

          // leaveWebchatRoom
          // option
          // option.conf_id
          // option.rejoinable
          UcUiStore.prototype.leaveWebchatRoom = function (option) {
            if (!option) {
              return
            }
            var conf_id = option.conf_id
            var conference = this.chatClient.getConference(conf_id)
            this.chatClient.leaveConference(
              option,
              this.leaveWebchatRoom_funcOK.bind(this, conference),
              this.leaveWebchatRoom_funcError.bind(this, conference),
            )
          }
          //
          UcUiStore.prototype.leaveWebchatRoom_funcOK = function (
            conference,
            ev,
          ) {
            var profile = this.chatClient.getProfile()
            var settings = this.chatClient.getSettings()
            var chatType = 'CONFERENCE'
            var chatCode = this.getChatCodeByConfId({
              conf_id: conference.conf_id,
            }).chatCode
            var chatKey = chatType + '_' + chatCode
            if (this.chatTable[chatKey] && this.chatTable[chatKey].memberList) {
              this.chatTable[chatKey].memberList = this.chatTable[
                chatKey
              ].memberList.filter(function (u) {
                return !(
                  u.tenant === profile.tenant && u.user_id === profile.user_id
                )
              })
              this.addSysmsgToList({
                chatKeys: [chatKey],
                sysmsgLevel: 'info',
                sysmsgType: 'MSG_CONFERENCE_ME_LEFT',
              })
            }
            if (conference.conf_type === 'webchat') {
              if (ev.closes) {
                var index = this.webchatQueueList.findIndex(
                  function (webchatQueue) {
                    return webchatQueue.conf_id === conference.conf_id
                  },
                )
                if (index !== -1) {
                  var webchatQueue = conference
                  webchatQueue.conf_status = Constants.CONF_STATUS_INACTIVE
                  webchatQueue.messageList =
                    this.webchatQueueList[index].messageList
                  webchatQueue.baseTime = this.webchatQueueList[index].baseTime
                  this.webchatQueueList[index] = webchatQueue
                }
              }
            }
            this.fire('webchatLeft', {
              chatType: chatType,
              chatCode: chatCode,
              tstamp: int(ev.tstamp),
            })
            if (this.leavingUnansweredWebchatConfId === conference.conf_id) {
              this.leavingUnansweredWebchatConfId = null
              this.fire('unansweredWebchatLeft', {
                chatType: chatType,
                chatCode: chatCode,
                tstamp: int(ev.tstamp),
              })
            }
            this.render()
          }
          //
          UcUiStore.prototype.leaveWebchatRoom_funcError = function (
            conference,
            ev,
          ) {
            // display error
            this.logger.log(
              'warn',
              'chatClient.leaveConference error code=' +
                ev.code +
                ', message=' +
                ev.message,
            )
            this.addSysmsgToList({
              chatKeys: [
                this.getChatCodeByConfId({ conf_id: conference.conf_id })
                  .chatKey,
              ],
              sysmsgLevel: 'error',
              sysmsgType: 'MSG_LEAVE_CONFERENCE_ERROR',
            })
            this.fire('errorOccurred', {
              errorType: 'MSG_LEAVE_CONFERENCE_FAILED',
              errorDetail: string(ev.message),
            })
            this.render()
          }

          // kickOutOfWebchatRoom
          // option
          // option.conf_id
          UcUiStore.prototype.kickOutOfWebchatRoom = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var conf_id = option.conf_id
            var conference = this.chatClient.getConference(conf_id)
            conference.user.forEach(function (u) {
              if (
                u.conf_status === Constants.CONF_STATUS_JOINED &&
                !(
                  u.tenant === conference.creator.tenant &&
                  u.user_id === conference.creator.user_id
                ) &&
                _this.buddyTable[u.tenant] &&
                _this.buddyTable[u.tenant][u.user_id] &&
                _this.buddyTable[u.tenant][u.user_id].isTemporaryBuddy
              ) {
                _this.chatClient.kickOutOfConference(
                  { conf_id: conf_id, tenant: u.tenant, user_id: u.user_id },
                  null,
                  null,
                )
              }
            })
            if (
              conference.creator.conf_status === Constants.CONF_STATUS_JOINED
            ) {
              this.chatClient.kickOutOfConference(
                {
                  conf_id: conf_id,
                  tenant: conference.creator.tenant,
                  user_id: conference.creator.user_id,
                },
                null,
                this.kickOutOfWebchatRoom_funcError.bind(this, conference),
              )
            }
          }
          //
          UcUiStore.prototype.kickOutOfWebchatRoom_funcError = function (
            conference,
            ev,
          ) {
            // display error
            this.logger.log(
              'warn',
              'chatClient.kickOutOfConference error code=' +
                ev.code +
                ', message=' +
                ev.message,
            )
            this.addSysmsgToList({
              chatKeys: [
                this.getChatCodeByConfId({ conf_id: conference.conf_id })
                  .chatKey,
              ],
              sysmsgLevel: 'error',
              sysmsgType: 'MSG_LEAVE_CONFERENCE_ERROR',
            })
            this.render()
          }

          // clearWebchatQueue
          UcUiStore.prototype.clearWebchatQueue = function (option) {
            if (!option) {
              return
            }
            var index = this.webchatQueueList.findIndex(
              function (webchatQueue) {
                return (
                  webchatQueue.conf_id === option.conf_id &&
                  webchatQueue.conf_status === Constants.CONF_STATUS_INACTIVE
                )
              },
            )
            if (index !== -1) {
              this.webchatQueueList.splice(index, 1)
              this.render()
            }
          }

          // sendText
          // option
          // option.chatType
          // option.chatCode
          // option.text
          // option.isRichText
          UcUiStore.prototype.sendText = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var text = option.isRichText ? option.text : escapeHTML(option.text)
            var chatKey = option.chatType + '_' + option.chatCode
            var chatHeaderInfo = this.getChatHeaderInfo(option)
            var conf_id = chatHeaderInfo.conf_id

            if (text.length > UiConstants.CHAT_CONTENT_SIZE) {
              this.logger.log('warn', 'message too long length=' + text.length)
              this.addSysmsgToList({
                chatKeys: [chatKey],
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_TOO_LONG',
              })
              this.render()
              return
            }

            // display message
            var conference = null
            if (option.chatType === 'CONFERENCE') {
              conference = this.chatClient.getConference(conf_id)
            }
            var message = this.addMessageToList({
              chatKeys: [chatKey],
              senderInfo: this.chatClient.getProfile(),
              ctype: Constants.CTYPE_TEXT,
              messageText: text,
              messageObject: undefined,
              errorType: '',
              errorDetail: '',
              messageFile: null,
              received_text_id: '',
              topic_id: '',
              conf_type: string(conference && conference.conf_type),
              replyEnabled: false,
              unreached: true,
              messageExtInfo: {
                mailSubject: this.getMailSubject(conference),
              },
              sentTimeValue: +new Date(),
            })

            if (option.chatType === 'CONFERENCE') {
              var profile = this.chatClient.getProfile()
              conference = conference || this.chatClient.getConference(conf_id)
              var nextDistributionTarget = chatHeaderInfo.nextDistributionTarget
              var joinedCount = conference.user.filter(function (u) {
                return u.conf_status === Constants.CONF_STATUS_JOINED
              }).length
              if (
                nextDistributionTarget === profile.user_id &&
                !(
                  conference.conf_status === Constants.CONF_STATUS_JOINED &&
                  joinedCount >= 2
                )
              ) {
                // reply
                if (conference.conf_status === Constants.CONF_STATUS_JOINED) {
                  // leave old conference
                  this.leaveWebchatRoom({ conf_id: conf_id })
                }
                if (!this.unsentReplyMessagesTable[chatKey]) {
                  this.unsentReplyMessagesTable[chatKey] = []
                  // invite guest
                  if (chatHeaderInfo.selectedReplyType) {
                    var continuation_code =
                      this.getChatClient().publishContinuationCode({
                        yyyymm: chatHeaderInfo.yyyymm,
                        conf_id: chatHeaderInfo.conf_id,
                      })
                    this.chatClient.inviteGuest(
                      {
                        conf_id: chatHeaderInfo.conf_id,
                        yyyymm: chatHeaderInfo.yyyymm,
                        selected_reply_type: chatHeaderInfo.selectedReplyType,
                        continuation_code: continuation_code,
                        optional_ev: {
                          agent_operation: 'reply',
                        },
                      },
                      function (ev) {},
                      function (ev) {
                        // display error
                        _this.logger.log(
                          'warn',
                          'chatClient.inviteGuest error code=' +
                            ev.code +
                            ', message=' +
                            ev.message,
                        )
                        message.errorType = 'MSG_SEND_TEXT_ERROR'
                        message.errorDetail = string(ev.message)
                        _this.addSysmsgToList({
                          chatKeys: [chatKey],
                          sysmsgLevel: 'error',
                          sysmsgType: 'MSG_SEND_TEXT_ERROR',
                        })
                        // never send
                        delete _this.unsentReplyMessagesTable[chatKey]
                        _this.render()
                      },
                    )
                  }
                }
                this.unsentReplyMessagesTable[chatKey].push(message)
              } else {
                // send
                this.chatClient.sendConferenceText(
                  text,
                  conf_id,
                  function (ev) {
                    // display sent time
                    message.unreached = false
                    message.sentTimeValue = +parseDate(ev.ltime)
                    message.received_text_id = ev.text_id
                    // clear typing
                    if (_this.lastSentTypingTimeTable[chatKey]) {
                      delete _this.lastSentTypingTimeTable[chatKey]
                    }
                    _this.render()
                  },
                  function (ev) {
                    // display error
                    _this.logger.log(
                      'warn',
                      'chatClient.sendConferenceText error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    message.errorType = 'MSG_SEND_TEXT_ERROR'
                    message.errorDetail = string(ev.message)
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'error',
                      sysmsgType: 'MSG_SEND_TEXT_ERROR',
                    })
                    _this.render()
                  },
                )
              }
            } else if (option.chatType === 'CHAT') {
              try {
                var buddy = JSON.parse(option.chatCode)
                // send
                this.chatClient.sendText(
                  text,
                  buddy,
                  function (ev) {
                    // display sent time
                    message.unreached = false
                    message.sentTimeValue = +parseDate(ev.ltime)
                    message.received_text_id = ev.text_id
                    message.topic_id = ev.topic_id
                    // clear typing
                    if (_this.lastSentTypingTimeTable[chatKey]) {
                      delete _this.lastSentTypingTimeTable[chatKey]
                    }
                    _this.render()
                  },
                  function (ev) {
                    // display error
                    _this.logger.log(
                      'warn',
                      'chatClient.sendText error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    message.errorType = 'MSG_SEND_TEXT_ERROR'
                    message.errorDetail = string(ev.message)
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'error',
                      sysmsgType: 'MSG_SEND_TEXT_ERROR',
                    })
                    _this.render()
                  },
                )
              } catch (e) {
                // display error
                this.logger.log(
                  'warn',
                  'exception occurred in sendText exception=' + e,
                )
                message.errorType = 'MSG_SEND_TEXT_ERROR'
                message.errorDetail = string(e)
                this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'error',
                  sysmsgType: 'MSG_SEND_TEXT_ERROR',
                })
                this.render()
              }
            } else {
              message.unreached = false
            }
            this.render()
          }
          //
          UcUiStore.prototype.createMessageFromReceivedText = function (m) {
            // message
            var chatKeys = []
            var fileProps = null
            if (m.ctype === Constants.CTYPE_FILE_REQUEST) {
              try {
                fileProps = JSON.parse(m.text)
              } catch (e) {}
            }
            var conference = this.chatClient.getConference(m.conf_id)
            var message = {
              chatKeys: chatKeys,
              senderInfo: {
                tenant: string(m && m.sender && m.sender.tenant),
                user_id: string(m && m.sender && m.sender.user_id),
              },
              ctype: int(m.ctype),
              messageText:
                m.ctype === Constants.CTYPE_TEXT ||
                m.ctype === Constants.CTYPE_CALL_RESULT
                  ? string(m.text)
                  : '',
              messageObject: m.object,
              errorType: '',
              errorDetail: '',
              messageFile: fileProps && {
                file_id: string(fileProps.file_id),
                name: string(fileProps.name),
                size: string(fileProps.size),
                receiverInfo: {
                  tenant: string(fileProps.target && fileProps.target.tenant),
                  user_id: string(fileProps.target && fileProps.target.user_id),
                },
                status: Constants.FILE_STATUS_UNPREPARED,
                progress: 0,
                inlineImage: {
                  loading: false,
                  url: '',
                },
                messageFileError: '',
              },
              received_text_id: string(m.received_text_id),
              topic_id: string(m.topic_id),
              conf_type: conference.conf_type,
              replyEnabled: true,
              unreached: false,
              messageExtInfo: {
                mailSubject: this.getMailSubject(conference),
              },
              sentTimeValue: +parseDate(m.sent_ltime),
            }
            if (m.conf_id === null) {
              // buddy
              chatKeys.push('CHAT' + '_' + JSON.stringify(message.senderInfo))
            } else {
              // conference
              chatKeys.push(
                this.getChatCodeByConfId({ conf_id: m.conf_id }).chatKey,
              )
            }
            return message
          }
          //
          UcUiStore.prototype.getMailSubject = function (conference) {
            return (
              string(
                conference &&
                  conference.conf_tags &&
                  conference.conf_tags.filter &&
                  conference.conf_tags
                    .filter(function (tag) {
                      return (
                        tag &&
                        ((tag.tag_type === '_webchatext' &&
                          tag.tag_key === 'subject') ||
                          (tag.tag_type === '_conftag' &&
                            tag.tag_key === '_outgoing_email_subject'))
                      )
                    })
                    .sort(function (tag1, tag2) {
                      return tag1.tstamp - tag2.tstamp
                    })
                    .map(function (tag) {
                      return tag.tag_value
                    })
                    .pop(),
              ) ||
              // null : mailSubject has not been obtained yet
              // '' :   mailSubject will never be obtained
              (conference &&
              conference.conf_status !== Constants.CONF_STATUS_INACTIVE &&
              conference.conf_type === 'webchat'
                ? null
                : '')
            )
          }
          //
          UcUiStore.prototype.addSysmsgToList = function (
            option,
            indexToInsertTable,
          ) {
            var _this = this

            var chatKeys = (option && option.chatKeys) || []
            var sysmsg = {
              key: string(++this.keyCounter),
              type: 'sysmsg',
              sysmsgLevel: string(option && option.sysmsgLevel),
              sysmsgType: string(option && option.sysmsgType),
              buddy: option.buddy || { tenant: '', user_id: '' },
              sysmsgData: string(option && option.sysmsgData),
            }
            this.keyObjectTable[sysmsg.key] = sysmsg

            if (!indexToInsertTable) {
              indexToInsertTable = {}
            }

            chatKeys.forEach(function (chatKey) {
              if (!_this.chatTable[chatKey]) {
                _this.chatTable[chatKey] = _this.newChatTableEntry(chatKey)
              }
              var chatList = _this.chatTable[chatKey].chatList
              if (
                !indexToInsertTable[chatKey] &&
                indexToInsertTable[chatKey] !== 0
              ) {
                indexToInsertTable[chatKey] = chatList.length
              }
              chatList.splice(indexToInsertTable[chatKey]++, 0, sysmsg)
            })
          }
          //
          UcUiStore.prototype.addMessageToList = function (
            option,
            indexToInsertTable,
          ) {
            var _this = this

            var chatKeys = (option && option.chatKeys) || []
            var messageFile = (option && option.messageFile) || {} // do not clone option.messageFile (keep reference)
            messageFile.file_id = string(messageFile.file_id)
            messageFile.name = string(messageFile.name)
            messageFile.size = int(messageFile.size)
            messageFile.receiverInfo = messageFile.receiverInfo || {}
            messageFile.receiverInfo.tenant = string(
              messageFile.receiverInfo.tenant,
            )
            messageFile.receiverInfo.user_id = string(
              messageFile.receiverInfo.user_id,
            )
            messageFile.status = int(messageFile.status)
            messageFile.progress = int(messageFile.progress)
            messageFile.inlineImage = messageFile.inlineImage || {}
            messageFile.inlineImage.loading = Boolean(
              messageFile.inlineImage.loading,
            )
            messageFile.inlineImage.url = string(messageFile.inlineImage.url)
            messageFile.messageFileError = string(messageFile.messageFileError)
            var message = {
              key: string(++this.keyCounter),
              senderInfo: {
                tenant: string(
                  option && option.senderInfo && option.senderInfo.tenant,
                ),
                user_id: string(
                  option && option.senderInfo && option.senderInfo.user_id,
                ),
              },
              ctype: int(option && option.ctype),
              messageText: string(option && option.messageText),
              messageObject: option ? option.messageObject : undefined,
              errorType: string(option && option.errorType),
              errorDetail: string(option && option.errorDetail),
              messageFile: messageFile,
              received_text_id: string(option && option.received_text_id),
              topic_id: string(option && option.topic_id),
              conf_type: string(option && option.conf_type),
              replyEnabled: Boolean(option && option.replyEnabled),
              isBroadcast: Boolean(option && option.isBroadcast),
              unreached: Boolean(option && option.unreached),
              messageExtInfo: (option && option.messageExtInfo) || {},
              sentTimeValue: int(option && option.sentTimeValue),
            }
            this.keyObjectTable[message.key] = message

            if (!indexToInsertTable) {
              indexToInsertTable = {}
            }

            var eventArgs = []
            chatKeys.forEach(function (chatKey) {
              if (!_this.chatTable[chatKey]) {
                _this.chatTable[chatKey] = _this.newChatTableEntry(chatKey)
              }
              var chatList = _this.chatTable[chatKey].chatList
              var existing = chatList.some(function (chat) {
                return (
                  chat &&
                  chat.messageList &&
                  chat.messageList.some(function (mes) {
                    return (
                      mes &&
                      mes.received_text_id &&
                      mes.received_text_id === message.received_text_id
                    )
                  })
                )
              })
              if (!existing) {
                var paragraph = null
                var sameNameSameTime = false
                if (
                  !indexToInsertTable[chatKey] &&
                  indexToInsertTable[chatKey] !== 0
                ) {
                  indexToInsertTable[chatKey] = chatList.length
                }
                var lastParagraph = chatList[indexToInsertTable[chatKey] - 1]
                if (lastParagraph && lastParagraph.messageList) {
                  var lastMessage =
                    lastParagraph.messageList[
                      lastParagraph.messageList.length - 1
                    ]
                  if (lastMessage) {
                    var t = message.sentTimeValue - lastMessage.sentTimeValue
                    if (
                      message.senderInfo.tenant ===
                        lastMessage.senderInfo.tenant &&
                      message.senderInfo.user_id ===
                        lastMessage.senderInfo.user_id &&
                      0 <= t &&
                      t <= 30000
                    ) {
                      sameNameSameTime = true
                    }
                  }
                }
                if (sameNameSameTime) {
                  paragraph = lastParagraph
                } else {
                  paragraph = {
                    key: string(++_this.keyCounter),
                    type: 'paragraph',
                    messageList: [],
                  }
                  _this.keyObjectTable[paragraph.key] = paragraph
                  chatList.splice(indexToInsertTable[chatKey]++, 0, paragraph)
                }
                paragraph.messageList.push(message)

                var messageClone = {}
                try {
                  messageClone = JSON.parse(JSON.stringify(message))
                } catch (e) {}
                eventArgs.push({
                  chatType: chatKey.substr(0, chatKey.indexOf('_')),
                  chatCode: chatKey.substr(chatKey.indexOf('_') + 1),
                  message: messageClone,
                })
              }
            })

            eventArgs.forEach(function (e) {
              _this.fire('newMessage', e)
            })

            return message
          }
          //
          UcUiStore.prototype.addShowmorelinkToList = function (
            option,
            indexToInsertTable,
          ) {
            var _this = this

            var chatKeys = (option && option.chatKeys) || []
            var key = string(++this.keyCounter)
            var showmorelink_id = key
            var showmorelink = {
              key: key,
              type: 'showmorelink',
              showmorelink_id: showmorelink_id,
              unread: Boolean(option && option.unread),
            }
            this.keyObjectTable[showmorelink.key] = showmorelink
            this.showmorelinkTable[showmorelink_id] = {
              chatKeys: chatKeys,
              key: key,
              unread: Boolean(option && option.unread),
              condition_tenant: string(option && option.condition_tenant),
              condition_user_id: string(option && option.condition_user_id),
              next: Boolean(option && option.next),
              isRelatedConference: Boolean(
                option && option.isRelatedConference,
              ),
              condition_conf_id: string(option && option.condition_conf_id),
              condition_yyyymm: string(option && option.condition_yyyymm),
              condition_tstamp: string(option && option.condition_tstamp),
              nowReceiving: false,
              tried: false,
              errorType: '',
              errorDetail: '',
            }

            if (!indexToInsertTable) {
              indexToInsertTable = {}
            }

            chatKeys.forEach(function (chatKey) {
              if (!_this.chatTable[chatKey]) {
                _this.chatTable[chatKey] = _this.newChatTableEntry(chatKey)
              }
              var chatList = _this.chatTable[chatKey].chatList
              if (
                !indexToInsertTable[chatKey] &&
                indexToInsertTable[chatKey] !== 0
              ) {
                indexToInsertTable[chatKey] = chatList.length
              }
              var oldIndex = indexToInsertTable[chatKey] - 1
              if (
                chatList[oldIndex] &&
                chatList[oldIndex].type === 'showmorelink' &&
                _this.showmorelinkTable[chatList[oldIndex].showmorelink_id] &&
                _this.showmorelinkTable[chatList[oldIndex].showmorelink_id]
                  .chatKeys.length === 1 &&
                _this.showmorelinkTable[chatList[oldIndex].showmorelink_id]
                  .chatKeys[0] === chatKey
              ) {
                // replace old showmorelink
                delete _this.showmorelinkTable[
                  chatList[oldIndex].showmorelink_id
                ]
                chatList.splice(oldIndex, 1, showmorelink)
                indexToInsertTable[chatKey]++
              } else {
                chatList.splice(indexToInsertTable[chatKey]++, 0, showmorelink)
              }
            })
          }
          // receiveMore
          // option
          // option.showmorelink_id
          // option.begin
          UcUiStore.prototype.receiveMore = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var showmorelinkEntry =
              this.showmorelinkTable[option.showmorelink_id]
            if (!showmorelinkEntry || showmorelinkEntry.nowReceiving) {
              return
            }
            if (showmorelinkEntry.unread) {
              // receive more unread texts
              var receiveUnreceivedFunction_funcOK =
                function receiveUnreceivedFunction_funcOK(ev) {
                  // funcOK
                  var messageList = ev.messages.map(
                    _this.createMessageFromReceivedText.bind(_this),
                  )
                  var indexToInsertTable = {}
                  delete _this.showmorelinkTable[option.showmorelink_id]
                  // delete old show more link
                  showmorelinkEntry.chatKeys.forEach(function (chatKey) {
                    var index = _this.chatTable[chatKey].chatList.findIndex(
                      function (p) {
                        return p.key === showmorelinkEntry.key
                      },
                    )
                    if (index !== -1) {
                      _this.chatTable[chatKey].chatList.splice(index, 1)
                      indexToInsertTable[chatKey] = index
                    }
                  })
                  // add show more link
                  if (ev.hasMore) {
                    var newShowmorelinkChatKeys = {}
                    messageList.forEach(function (message) {
                      message.chatKeys.forEach(function (chatKey) {
                        newShowmorelinkChatKeys[chatKey] = true
                      })
                    })
                    var newShowmorelinkOption = {
                      chatKeys: Object.keys(newShowmorelinkChatKeys),
                      unread: true,
                    }
                    _this.addShowmorelinkToList(
                      newShowmorelinkOption,
                      indexToInsertTable,
                    )
                  } else {
                    Object.keys(indexToInsertTable).forEach(function (chatKey) {
                      if (indexToInsertTable[chatKey] === 0) {
                        var chatType = chatKey.split('_')[0]
                        var chatCode = chatKey.substr((chatType + '_').length)
                        if (chatType === 'CHAT') {
                          if (
                            _this.chatClient
                              .getBuddylist()
                              .user.some(function (u) {
                                return (
                                  chatCode ===
                                  JSON.stringify({
                                    tenant: u.tenant,
                                    user_id: u.user_id,
                                  })
                                )
                              })
                          ) {
                            _this.addShowmorelinkToList(
                              {
                                chatKeys: [chatKey],
                                unread: false,
                              },
                              indexToInsertTable,
                            )
                          }
                        }
                      }
                    })
                  }
                  // add messages
                  messageList.forEach(function (message) {
                    // add to chat table
                    _this.addMessageToList(message, indexToInsertTable)
                  })
                  // read text
                  var toRead = ev.messages
                    .filter(function (m) {
                      return m.requires_read
                    })
                    .map(function (m) {
                      return m.received_text_id
                    })
                  if (toRead.length > 0) {
                    _this.chatClient.readText(toRead, null)
                  }
                  _this.render()
                }
              var receiveUnreceivedFunction_funcError = function (ev) {
                // funcError
                _this.logger.log(
                  'warn',
                  'receiveUnreceivedFunction_funcError code=' +
                    ev.code +
                    ', message=' +
                    ev.message,
                )
                showmorelinkEntry.nowReceiving = false
                showmorelinkEntry.errorType =
                  'MSG_RECEIVE_MORE_UNREAD_TEXTS_FAILED'
                showmorelinkEntry.errorDetail = ev.message
                _this.render()
              }
              // start receiving
              showmorelinkEntry.nowReceiving = true
              showmorelinkEntry.tried = true
              showmorelinkEntry.errorType = ''
              showmorelinkEntry.errorDetail = ''
              this.chatClient.receiveUnreadText(
                receiveUnreceivedFunction_funcOK,
                receiveUnreceivedFunction_funcError,
              )
            } else if (!showmorelinkEntry.isRelatedConference) {
              // receive more already-read texts
              showmorelinkEntry.chatKeys.some(function (chatKey) {
                var chatType = chatKey.split('_')[0]
                var chatCode = chatKey.substr((chatType + '_').length)
                var condition = {
                  max: UiConstants.SEARCH_PREV_NEXT_TEXTS_MAX + 1,
                }
                if (showmorelinkEntry.condition_user_id) {
                  condition.tenant = string(showmorelinkEntry.condition_tenant)
                  condition.user_id = string(
                    showmorelinkEntry.condition_user_id,
                  )
                } else if (
                  chatType === 'CHAT' ||
                  chatType === 'HISTORYDETAIL'
                ) {
                  var buddy = undefined
                  try {
                    buddy = JSON.parse(chatCode)
                  } catch (e) {
                    _this.logger.log(
                      'warn',
                      'exception occurred exception=' + e,
                    )
                  }
                  if (!buddy) {
                    return false
                  }
                  condition.tenant = buddy.tenant
                  condition.user_id = buddy.user_id
                } else {
                  return false
                }
                if (showmorelinkEntry.next) {
                  var begin = null
                  _this.chatTable[chatKey].chatList.some(function (chat) {
                    if (
                      chat &&
                      chat.messageList &&
                      chat.messageList[chat.messageList.length - 1] &&
                      chat.messageList[chat.messageList.length - 1]
                        .sentTimeValue
                    ) {
                      begin =
                        chat.messageList[chat.messageList.length - 1]
                          .sentTimeValue
                      return false
                    }
                  })
                  condition.begin = begin
                  condition.asc = true
                } else {
                  var end = null
                  _this.chatTable[chatKey].chatList.some(function (chat) {
                    if (
                      chat &&
                      chat.messageList &&
                      chat.messageList[0] &&
                      chat.messageList[0].sentTimeValue
                    ) {
                      end = chat.messageList[0].sentTimeValue
                      return true
                    }
                  })
                  condition.end = end
                }
                var doNotDelete = false
                if (option.begin && !showmorelinkEntry.tried) {
                  doNotDelete = true
                  condition.begin = Math.max(
                    int(condition.begin),
                    int(option.begin),
                  )
                }
                // start receiving
                showmorelinkEntry.nowReceiving = true
                showmorelinkEntry.tried = true
                showmorelinkEntry.errorType = ''
                showmorelinkEntry.errorDetail = ''
                _this.chatClient.searchTexts(
                  condition,
                  function (ev) {
                    // funcOK
                    if (!_this.chatTable[chatKey]) {
                      _this.logger.log(
                        'info',
                        'already destroyed chatTable[' +
                          chatKey +
                          '] after chatClient.searchTexts',
                      )
                      return
                    }
                    var messageList = ev.logs.map(function (log) {
                      var messageFile = null
                      if (log.ctype === Constants.CTYPE_FILE_REQUEST) {
                        try {
                          messageFile = JSON.parse(log.content)
                          messageFile.receiverInfo = messageFile.target
                        } catch (e) {}
                      }
                      return {
                        chatKeys: [chatKey],
                        senderInfo: log.sender,
                        ctype: log.ctype,
                        messageText:
                          log.ctype === Constants.CTYPE_TEXT ||
                          log.ctype === Constants.CTYPE_CALL_RESULT
                            ? string(log.content)
                            : '',
                        messageObject: log.object,
                        errorType: '',
                        errorDetail: '',
                        messageFile: messageFile,
                        received_text_id: log.log_id,
                        topic_id: log.topic_id,
                        conf_type: '',
                        replyEnabled: false,
                        unreached: false,
                        messageExtInfo: {
                          mailSubject: _this.getMailSubject(),
                        },
                        sentTimeValue: +parseDate(log.ltime),
                      }
                    })
                    if (!showmorelinkEntry.next) {
                      messageList.reverse()
                    }
                    var indexToInsertTable = {}
                    var mustIncrementIndex = false
                    if (
                      messageList.length >
                      UiConstants.SEARCH_PREV_NEXT_TEXTS_MAX
                    ) {
                      // has more
                      showmorelinkEntry.nowReceiving = false
                      if (showmorelinkEntry.next) {
                        messageList.pop()
                        indexToInsertTable[chatKey] =
                          _this.chatTable[chatKey].chatList.length - 1
                      } else {
                        messageList.shift()
                        indexToInsertTable[chatKey] = 1
                      }
                    } else if (doNotDelete) {
                      // might has more
                      showmorelinkEntry.nowReceiving = false
                      if (showmorelinkEntry.next) {
                        indexToInsertTable[chatKey] =
                          _this.chatTable[chatKey].chatList.length - 1
                      } else {
                        indexToInsertTable[chatKey] = 1
                      }
                    } else {
                      // no more
                      delete _this.showmorelinkTable[option.showmorelink_id]
                      if (showmorelinkEntry.next) {
                        _this.chatTable[chatKey].chatList.pop()
                        indexToInsertTable[chatKey] = null
                      } else {
                        _this.chatTable[chatKey].chatList.shift()
                        indexToInsertTable[chatKey] = 0
                      }
                    }
                    // add messages
                    messageList.forEach(function (message) {
                      // add to chat table
                      _this.addMessageToList(message, indexToInsertTable)
                    })
                    _this.render()
                  },
                  function (ev) {
                    // funcError
                    _this.logger.log(
                      'warn',
                      'chatClient.searchTexts error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    showmorelinkEntry.nowReceiving = false
                    showmorelinkEntry.errorType =
                      'MSG_RECEIVE_MORE_TEXTS_FAILED'
                    showmorelinkEntry.errorDetail = ev.message
                    _this.render()
                  },
                )
                return true
              })
            } else {
              // receive more related conference
              showmorelinkEntry.chatKeys.some(function (chatKey) {
                var chatType = chatKey.split('_')[0]
                var chatCode = chatKey.substr((chatType + '_').length)
                var condition = {
                  conf_id: showmorelinkEntry.condition_conf_id,
                  yyyymm: showmorelinkEntry.condition_yyyymm,
                }
                if (showmorelinkEntry.next) {
                  condition.begin = showmorelinkEntry.condition_tstamp
                  condition.asc = true
                } else {
                  condition.end = showmorelinkEntry.condition_tstamp
                  condition.asc = false
                }
                // start receiving
                showmorelinkEntry.nowReceiving = true
                showmorelinkEntry.tried = true
                showmorelinkEntry.errorType = ''
                showmorelinkEntry.errorDetail = ''
                _this.chatClient.searchRelatedConferenceTexts(
                  condition,
                  function (ev) {
                    // funcOK
                    if (!_this.chatTable[chatKey]) {
                      _this.logger.log(
                        'info',
                        'already destroyed chatTable[' +
                          chatKey +
                          '] after chatClient.searchRelatedConferenceTexts',
                      )
                      return
                    }
                    var messageList = ev.logs.map(function (log) {
                      var messageFile = null
                      if (log.ctype === Constants.CTYPE_FILE_REQUEST) {
                        try {
                          messageFile = JSON.parse(log.content)
                          messageFile.receiverInfo = messageFile.target
                        } catch (e) {}
                      }
                      return {
                        chatKeys: [chatKey],
                        senderInfo: log.sender,
                        ctype: log.ctype,
                        messageText:
                          log.ctype === Constants.CTYPE_TEXT ||
                          log.ctype === Constants.CTYPE_CALL_RESULT
                            ? string(log.content)
                            : '',
                        messageObject: log.object,
                        errorType: '',
                        errorDetail: '',
                        messageFile: messageFile,
                        received_text_id: log.log_id,
                        topic_id: log.topic_id,
                        conf_type: '',
                        replyEnabled: false,
                        unreached: false,
                        messageExtInfo: {
                          mailSubject: _this.getMailSubject(),
                        },
                        sentTimeValue: +parseDate(log.ltime),
                      }
                    })
                    var indexToInsertTable = {}
                    var mustIncrementIndex = false
                    if (
                      ev.conference &&
                      ev.conference.conf_id &&
                      (showmorelinkEntry.next ||
                        !ev.conference.relation_origin_tag_key)
                    ) {
                      // might has more
                      showmorelinkEntry.nowReceiving = false
                      showmorelinkEntry.condition_conf_id =
                        ev.conference.conf_id
                      showmorelinkEntry.condition_yyyymm = ev.conference.yyyymm
                      showmorelinkEntry.condition_tstamp = ev.conference.tstamp
                      if (showmorelinkEntry.next) {
                        indexToInsertTable[chatKey] =
                          _this.chatTable[chatKey].chatList.length - 1
                      } else {
                        indexToInsertTable[chatKey] = 1
                      }
                    } else {
                      // no more
                      delete _this.showmorelinkTable[option.showmorelink_id]
                      if (showmorelinkEntry.next) {
                        _this.chatTable[chatKey].chatList.pop()
                        indexToInsertTable[chatKey] = null
                      } else {
                        _this.chatTable[chatKey].chatList.shift()
                        indexToInsertTable[chatKey] = 0
                      }
                    }
                    // add messages
                    messageList.forEach(function (message) {
                      // add to chat table
                      _this.addMessageToList(message, indexToInsertTable)
                    })
                    _this.render()
                  },
                  function (ev) {
                    // funcError
                    _this.logger.log(
                      'warn',
                      'chatClient.searchRelatedConferenceTexts error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    showmorelinkEntry.nowReceiving = false
                    showmorelinkEntry.errorType =
                      'MSG_RECEIVE_MORE_TEXTS_FAILED'
                    showmorelinkEntry.errorDetail = ev.message
                    _this.render()
                  },
                )
                return true
              })
            }
          }
          //
          UcUiStore.prototype.newChatTableEntry = function (chatKey) {
            var chatType = chatKey.split('_')[0]
            var chatCode = chatKey.substr((chatType + '_').length)
            var profile = this.chatClient.getProfile()
            if (chatType === 'CHAT') {
              var buddy
              try {
                buddy = JSON.parse(chatCode)
              } catch (e) {
                this.logger.log('warn', 'exception occurred exception=' + e)
                buddy = {}
              }
              return {
                chatType: chatType,
                chatCode: chatCode,
                chatList: [],
                memberList: [
                  {
                    tenant: profile.tenant,
                    user_id: profile.user_id,
                  },
                  {
                    tenant: buddy.tenant,
                    user_id: buddy.user_id,
                  },
                ],
                typingBuddy: {},
              }
            } else {
              return {
                chatType: chatType,
                chatCode: chatCode,
                chatList: [],
                memberList: [],
                typingBuddy: {},
              }
            }
          }
          // changeMessageText
          // option
          // option.key
          // option.messageText
          UcUiStore.prototype.changeMessageText = function (option) {
            if (!option) {
              return
            }
            var message = this.keyObjectTable[option.key]
            if (!message) {
              return
            }
            message.messageText = string(option.messageText)
            this.render()
          }

          // sendBroadcastText
          // option
          // option.target
          // option.text
          // option.isRichText
          UcUiStore.prototype.sendBroadcastText = function (option) {
            var _this = this

            if (!option || !option.target || !option.target.length) {
              return
            }
            var text = option.isRichText ? option.text : escapeHTML(option.text)
            var chatKeys = option.target.map(function (t) {
              return (
                'CHAT' +
                '_' +
                JSON.stringify({
                  tenant: string(t.tenant),
                  user_id: string(t.user_id),
                })
              )
            })

            if (text.length > UiConstants.CHAT_CONTENT_SIZE) {
              this.logger.log('warn', 'message too long length=' + text.length)
              this.addSysmsgToList({
                chatKeys: chatKeys,
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_TOO_LONG',
              })
              this.render()
              return
            }

            // display message
            var message = this.addMessageToList({
              chatKeys: chatKeys,
              senderInfo: this.chatClient.getProfile(),
              ctype: Constants.CTYPE_TEXT,
              messageText: text,
              messageObject: undefined,
              errorType: '',
              errorDetail: '',
              messageFile: null,
              received_text_id: '',
              topic_id: '',
              conf_type: '',
              replyEnabled: false,
              isBroadcast: true,
              unreached: true,
              messageExtInfo: {
                mailSubject: this.getMailSubject(),
              },
              sentTimeValue: +new Date(),
            })

            // send
            try {
              this.chatClient.sendBroadcastText(
                text,
                option.target,
                function (ev) {
                  // display sent time
                  message.unreached = false
                  message.sentTimeValue = +parseDate(ev.ltime)
                  message.received_text_id = ev.text_id
                  if (!_this.skipDummyTopicIdBroadcast) {
                    message.topic_id = string(
                      ((ev.topic_ids || [])[0] || {}).topic_id,
                    ) // dummy
                  }
                  _this.render()
                },
                function (ev) {
                  // display error
                  _this.logger.log(
                    'warn',
                    'chatClient.sendBroadcastText error code=' +
                      ev.code +
                      ', message=' +
                      ev.message,
                  )
                  message.errorType = 'MSG_SEND_TEXT_ERROR'
                  message.errorDetail = string(ev.message)
                  _this.addSysmsgToList({
                    chatKeys: chatKeys,
                    sysmsgLevel: 'error',
                    sysmsgType: 'MSG_SEND_TEXT_ERROR',
                  })
                  _this.render()
                },
              )
            } catch (e) {
              // display error
              this.logger.log(
                'warn',
                'exception occurred in sendBroadcastText exception=' + e,
              )
              message.errorType = 'MSG_SEND_TEXT_ERROR'
              message.errorDetail = string(e)
              this.addSysmsgToList({
                chatKeys: chatKeys,
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_SEND_TEXT_ERROR',
              })
              this.render()
            }
            this.render()
          }

          // sendTyping
          // option
          // option.chatType
          // option.chatCode
          UcUiStore.prototype.sendTyping = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var conf_id = this.getChatHeaderInfo(option).conf_id

            var now = new Date().getTime()
            if (
              !this.lastSentTypingTimeTable[chatKey] ||
              now >=
                this.lastSentTypingTimeTable[chatKey] +
                  UiConstants.SEND_TYPING_INTERVAL
            ) {
              this.lastSentTypingTimeTable[chatKey] = now

              if (option.chatType === 'CONFERENCE') {
                var profile = this.chatClient.getProfile()
                var conference = this.chatClient.getConference(conf_id)
                if (conference.conf_status === Constants.CONF_STATUS_JOINED) {
                  conference.user.forEach(function (u) {
                    if (u.conf_status === Constants.CONF_STATUS_JOINED) {
                      if (
                        u.tenant !== profile.tenant ||
                        u.user_id !== profile.user_id
                      ) {
                        _this.chatClient.sendTyping(u, null, function (e) {
                          return _this.logger.log(
                            'warn',
                            'chatClient.sendTyping error code=' +
                              e.code +
                              ', message=' +
                              e.message,
                          )
                        })
                      }
                    }
                  })
                }
              } else if (option.chatType === 'CHAT') {
                try {
                  var buddy = JSON.parse(option.chatCode)
                  this.chatClient.sendTyping(buddy, null, function (e) {
                    return _this.logger.log(
                      'warn',
                      'chatClient.sendTyping error code=' +
                        e.code +
                        ', message=' +
                        e.message,
                    )
                  })
                } catch (e) {
                  this.logger.log(
                    'warn',
                    'exception occurred in sendTyping exception=' + e,
                  )
                }
              }
            }
          }

          // sendCustomClientEvent
          // option
          // option.chatType
          // option.chatCode
          // option.client_param
          // option.sysmsg
          UcUiStore.prototype.sendCustomClientEvent = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var conf_id = this.getChatHeaderInfo(option).conf_id

            if (option.chatType === 'CONFERENCE') {
              var profile = this.chatClient.getProfile()
              var conference = this.chatClient.getConference(conf_id)
              if (conference.conf_status === Constants.CONF_STATUS_JOINED) {
                var client_param = option.client_param
                if (
                  client_param &&
                  typeof client_param.conf_id === 'undefined'
                ) {
                  client_param = Object.assign({}, client_param)
                  client_param.conf_id = conf_id
                }
                conference.user.forEach(function (u) {
                  if (u.conf_status === Constants.CONF_STATUS_JOINED) {
                    if (
                      u.tenant !== profile.tenant ||
                      u.user_id !== profile.user_id
                    ) {
                      _this.chatClient.sendCustomClientEvent(
                        u,
                        client_param,
                        null,
                        function (e) {
                          return _this.logger.log(
                            'warn',
                            'chatClient.sendCustomClientEvent error code=' +
                              e.code +
                              ', message=' +
                              e.message,
                          )
                        },
                      )
                    }
                  }
                })
              }
            } else if (option.chatType === 'CHAT') {
              try {
                var buddy = JSON.parse(option.chatCode)
                this.chatClient.sendCustomClientEvent(
                  buddy,
                  option.client_param,
                  null,
                  function (e) {
                    return _this.logger.log(
                      'warn',
                      'chatClient.sendCustomClientEvent error code=' +
                        e.code +
                        ', message=' +
                        e.message,
                    )
                  },
                )
              } catch (e) {
                this.logger.log(
                  'warn',
                  'exception occurred in sendCustomClientEvent exception=' + e,
                )
              }
            }

            var sysmsg =
              typeof option.sysmsg !== 'undefined'
                ? option.sysmsg
                : {
                    sysmsgLevel: 'info',
                    sysmsgType: 'sysSendCustomClientEvent',
                  }
            if (sysmsg) {
              this.addSysmsgChat({
                chatType: option.chatType,
                chatCode: option.chatCode,
                sysmsg: sysmsg,
              })
            }
          }

          // sendFiles
          // option
          // option.chatType
          // option.chatCode
          // option.files
          UcUiStore.prototype.sendFiles = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var conf_id = this.getChatHeaderInfo(option).conf_id
            if (!option.files || !option.files.length) {
              // display error
              this.logger.log('warn', 'empty files')
              this.addSysmsgToList({
                chatKeys: [chatKey],
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_SEND_FILE_ERROR',
              })
              this.render()
              return
            }
            var profile = this.chatClient.getProfile()
            var settings = this.chatClient.getSettings()

            // determine target
            var target = null
            var conference = null
            if (option.chatType === 'CONFERENCE') {
              conference = this.chatClient.getConference(conf_id)
              var memberList = conference.user
              if (
                conference.conf_status === Constants.CONF_STATUS_JOINED &&
                memberList.length >= 2
              ) {
                //// except me
                //for (var i = 0; i < memberList.length; i++) {
                //    if (memberList[i].tenant === profile.tenant && memberList[i].user_id === profile.user_id) {
                //        memberList.splice(i, 1);
                //        break;
                //    }
                //}
                //// to guest if exists
                //if (conference.conf_type === 'webchat' && memberList.some(function (member) {
                //    return member.tenant === conference.creator.tenant && member.user_id === conference.creator.user_id;
                //})) {
                //    target = {
                //        tenant: conference.creator.tenant,
                //        user_id: conference.creator.user_id,
                //        conf_id: conf_id
                //    };
                //}
                //// to agent who most recently spoke
                //if (!target) {
                //    var chatList = this.chatTable[chatKey] && this.chatTable[chatKey].chatList || [];
                //    for (var _i = chatList.length - 1; _i >= 0; _i--) {
                //        var chat = chatList[_i];
                //        if (chat && chat.type === 'paragraph' && chat.messageList && chat.messageList[0] && chat.messageList[0].senderInfo) {
                //            var senderInfo = chat.messageList[0].senderInfo;
                //            if (memberList.some(function (member) {
                //                return member.tenant === senderInfo.tenant && member.user_id === senderInfo.user_id;
                //            })) {
                //                target = {
                //                    tenant: senderInfo.tenant,
                //                    user_id: senderInfo.user_id,
                //                    conf_id: conf_id
                //                };
                //                break;
                //            }
                //        }
                //    }
                //}
                //// to the first agent if no one spoke
                //if (!target) {
                //    target = {
                //        tenant: memberList[0].tenant,
                //        user_id: memberList[0].user_id,
                //        conf_id: conf_id
                //    };
                //}
                target = { conf_id: conf_id }
              } else {
                this.logger.log(
                  'warn',
                  'cannot send files to this conference conf_id=' +
                    conf_id +
                    ', conference.conf_status=' +
                    conference.conf_status +
                    ', memberList.length=' +
                    memberList.length,
                )
              }
            } else if (option.chatType === 'CHAT') {
              try {
                target = JSON.parse(option.chatCode)
              } catch (ex) {
                this.logger.log(
                  'warn',
                  'JSON.parse error text=' + option.chatCode + ', ex=' + ex,
                )
              }
            }
            if (!target) {
              // display error
              this.logger.log('warn', 'empty target')
              this.addSysmsgToList({
                chatKeys: [chatKey],
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_SEND_FILE_ERROR',
              })
              this.render()
              return
            }

            // display message for each file
            var messageFiles = []
            var messages = []
            Array.prototype.forEach.call(option.files, function (f, i) {
              var name = string(f && f.name)
              var size = int(f && f.size)
              // create message file info
              messageFiles[i] = {
                file_id: '',
                name: name,
                size: size,
                receiverInfo: {
                  tenant: string(target.tenant),
                  user_id: string(target.user_id),
                },
                status: Constants.FILE_STATUS_UNACCEPTED,
                progress: 0,
                inlineImage: {
                  loading: false,
                  url: '',
                },
                messageFileError: '',
              }
              // inline image
              if (size > 0) {
                var ext = name.substr(name.lastIndexOf('.') + 1).toLowerCase()
                if (
                  ext === 'png' ||
                  ext === 'jpg' ||
                  ext === 'jpeg' ||
                  ext === 'gif' ||
                  ext === 'bmp'
                ) {
                  if (
                    !(
                      settings.optional_settings &&
                      settings.optional_settings.image_file_transfer === 'file'
                    ) &&
                    typeof Blob !== 'undefined' &&
                    typeof URL !== 'undefined'
                  ) {
                    // create objectURL of inline image
                    _this.objectURLList.push(
                      (messageFiles[i].inlineImage.url =
                        URL.createObjectURL(f)),
                    )
                  }
                }
              }
              // display message
              messages[i] = _this.addMessageToList({
                chatKeys: [chatKey],
                senderInfo: profile,
                ctype: Constants.CTYPE_FILE_REQUEST,
                messageText: '',
                messageObject: undefined,
                errorType: '',
                errorDetail: '',
                messageFile: messageFiles[i],
                received_text_id: '',
                topic_id: '',
                conf_type: string(conference && conference.conf_type),
                replyEnabled: false,
                unreached: true,
                messageExtInfo: {
                  mailSubject: _this.getMailSubject(conference),
                },
                sentTimeValue: +new Date(),
              })
            })

            // send files
            this.chatClient.sendFiles(
              target,
              option.files,
              function (ev) {
                ev.infoList.forEach(function (info, i) {
                  // change message file info
                  messageFiles[i].file_id = info.fileInfo.file_id
                  messageFiles[i].status = info.fileInfo.status
                  messageFiles[i].progress = info.fileInfo.progress
                  if (info.fileInfos && info.fileInfos.length >= 2) {
                    messageFiles[i].multiReceiversInfo = []
                    info.fileInfos.forEach(function (fileInfo) {
                      messageFiles[i].multiReceiversInfo.push({
                        tenant: string(
                          fileInfo.target && fileInfo.target.tenant,
                        ),
                        user_id: string(
                          fileInfo.target && fileInfo.target.user_id,
                        ),
                        file_id: string(fileInfo.file_id),
                        status: int(fileInfo.status),
                        progress: int(fileInfo.progress),
                      })
                      // save message file info
                      _this.activeMessageFileTable[fileInfo.file_id] =
                        messageFiles[i]
                    })
                  } else {
                    // save message file info
                    _this.activeMessageFileTable[info.fileInfo.file_id] =
                      messageFiles[i]
                  }
                  // display sent time
                  messages[i].unreached = false
                  messages[i].sentTimeValue = +parseDate(info.ltime)
                  messages[i].received_text_id = info.text_id
                  messages[i].topic_id = info.topic_id
                })
                _this.render()
              },
              function (ev) {
                // display error
                _this.logger.log(
                  'warn',
                  'chatClient.sendFiles error code=' +
                    ev.code +
                    ', message=' +
                    ev.message,
                )
                messages.forEach(function (message) {
                  message.errorType = 'MSG_SEND_FILE_ERROR'
                  message.errorDetail = string(ev.message)
                })
                _this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'error',
                  sysmsgType: 'MSG_SEND_FILE_ERROR',
                })
                _this.render()
              },
            )
          }

          // acceptFile
          // option
          // option.file_id
          // option.form
          UcUiStore.prototype.acceptFile = function (option) {
            var _this = this

            if (!option) {
              return
            }
            this.chatClient.acceptFile(
              option.file_id,
              option.form,
              function (ev) {
                // error
                _this.logger.log(
                  'warn',
                  'chatClient.acceptFile error code=' +
                    ev.code +
                    ', message=' +
                    ev.message,
                )
                if (_this.activeMessageFileTable[option.file_id]) {
                  _this.activeMessageFileTable[
                    option.file_id
                  ].messageFileError = string(ev.message)
                }
                _this.render()
              },
            )
          }

          // sendCallResult
          // option
          // option.chatType
          // option.chatCode
          // option.text
          UcUiStore.prototype.sendCallResult = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var text = string(option.text)
            var chatKey = option.chatType + '_' + option.chatCode
            var conf_id = this.getChatHeaderInfo(option).conf_id

            if (text.length > UiConstants.CHAT_CONTENT_SIZE) {
              this.logger.log('warn', 'message too long length=' + text.length)
              this.addSysmsgToList({
                chatKeys: [chatKey],
                sysmsgLevel: 'error',
                sysmsgType: 'MSG_TOO_LONG',
              })
              this.render()
              return
            }

            // display message
            var conference = null
            if (option.chatType === 'CONFERENCE') {
              conference = this.chatClient.getConference(conf_id)
            }
            var message = this.addMessageToList({
              chatKeys: [chatKey],
              senderInfo: this.chatClient.getProfile(),
              ctype: Constants.CTYPE_CALL_RESULT,
              messageText: text,
              messageObject: undefined,
              errorType: '',
              errorDetail: '',
              messageFile: null,
              received_text_id: '',
              topic_id: '',
              conf_type: string(conference && conference.conf_type),
              replyEnabled: false,
              unreached: true,
              messageExtInfo: {
                mailSubject: this.getMailSubject(conference),
              },
              sentTimeValue: +new Date(),
            })

            if (option.chatType === 'CONFERENCE') {
              // send
              this.chatClient.sendCallResult(
                { conf_id: conf_id },
                text,
                function (ev) {
                  // display sent time
                  message.unreached = false
                  message.sentTimeValue = +parseDate(ev.ltime)
                  // clear typing
                  if (_this.lastSentTypingTimeTable[chatKey]) {
                    delete _this.lastSentTypingTimeTable[chatKey]
                  }
                  _this.render()
                },
                function (ev) {
                  // display error
                  _this.logger.log(
                    'warn',
                    'chatClient.sendCallResult error code=' +
                      ev.code +
                      ', message=' +
                      ev.message,
                  )
                  message.errorType = 'MSG_SEND_TEXT_ERROR'
                  message.errorDetail = string(ev.message)
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'error',
                    sysmsgType: 'MSG_SEND_TEXT_ERROR',
                  })
                  _this.render()
                },
              )
            } else if (option.chatType === 'CHAT') {
              try {
                var buddy = JSON.parse(option.chatCode)
                // send
                this.chatClient.sendCallResult(
                  buddy,
                  text,
                  function (ev) {
                    // display sent time
                    message.unreached = false
                    message.sentTimeValue = +parseDate(ev.ltime)
                    message.received_text_id = ev.text_id
                    message.topic_id = ev.topic_id
                    // clear typing
                    if (_this.lastSentTypingTimeTable[chatKey]) {
                      delete _this.lastSentTypingTimeTable[chatKey]
                    }
                    _this.render()
                  },
                  function (ev) {
                    // display error
                    _this.logger.log(
                      'warn',
                      'chatClient.sendCallResult error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    message.errorType = 'MSG_SEND_TEXT_ERROR'
                    message.errorDetail = string(ev.message)
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'error',
                      sysmsgType: 'MSG_SEND_TEXT_ERROR',
                    })
                    _this.render()
                  },
                )
              } catch (e) {
                // display error
                this.logger.log(
                  'warn',
                  'exception occurred in sendCallResult exception=' + e,
                )
                message.errorType = 'MSG_SEND_TEXT_ERROR'
                message.errorDetail = string(e)
                this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'error',
                  sysmsgType: 'MSG_SEND_TEXT_ERROR',
                })
                this.render()
              }
            } else {
              message.unreached = false
            }
            this.render()
          }

          // sendObject
          // option
          // option.chatType
          // option.chatCode
          // option.object
          UcUiStore.prototype.sendObject = function (option) {
            var _this = this

            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var conf_id = this.getChatHeaderInfo(option).conf_id

            // display message
            var conference = null
            if (option.chatType === 'CONFERENCE') {
              conference = this.chatClient.getConference(conf_id)
            }
            var message = this.addMessageToList({
              chatKeys: [chatKey],
              senderInfo: this.chatClient.getProfile(),
              ctype: Constants.CTYPE_OBJECT,
              messageText: '',
              messageObject: option.object,
              errorType: '',
              errorDetail: '',
              messageFile: null,
              received_text_id: '',
              topic_id: '',
              conf_type: string(conference && conference.conf_type),
              replyEnabled: false,
              unreached: true,
              messageExtInfo: {
                mailSubject: this.getMailSubject(conference),
              },
              sentTimeValue: +new Date(),
            })

            if (option.chatType === 'CONFERENCE') {
              // send
              this.chatClient.sendObject(
                { conf_id: conf_id },
                option.object,
                function (ev) {
                  // display sent time
                  message.unreached = false
                  message.sentTimeValue = +parseDate(ev.ltime)
                  // clear typing
                  if (_this.lastSentTypingTimeTable[chatKey]) {
                    delete _this.lastSentTypingTimeTable[chatKey]
                  }
                  _this.render()
                },
                function (ev) {
                  // display error
                  _this.logger.log(
                    'warn',
                    'chatClient.sendObject error code=' +
                      ev.code +
                      ', message=' +
                      ev.message,
                  )
                  message.errorType = 'MSG_SEND_TEXT_ERROR'
                  message.errorDetail = string(ev.message)
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'error',
                    sysmsgType: 'MSG_SEND_TEXT_ERROR',
                  })
                  _this.render()
                },
              )
            } else if (option.chatType === 'CHAT') {
              try {
                var buddy = JSON.parse(option.chatCode)
                // send
                this.chatClient.sendObject(
                  buddy,
                  option.object,
                  function (ev) {
                    // display sent time
                    message.unreached = false
                    message.sentTimeValue = +parseDate(ev.ltime)
                    message.received_text_id = ev.text_id
                    message.topic_id = ev.topic_id
                    // clear typing
                    if (_this.lastSentTypingTimeTable[chatKey]) {
                      delete _this.lastSentTypingTimeTable[chatKey]
                    }
                    _this.render()
                  },
                  function (ev) {
                    // display error
                    _this.logger.log(
                      'warn',
                      'chatClient.sendObject error code=' +
                        ev.code +
                        ', message=' +
                        ev.message,
                    )
                    message.errorType = 'MSG_SEND_TEXT_ERROR'
                    message.errorDetail = string(ev.message)
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'error',
                      sysmsgType: 'MSG_SEND_TEXT_ERROR',
                    })
                    _this.render()
                  },
                )
              } catch (e) {
                // display error
                this.logger.log(
                  'warn',
                  'exception occurred in sendObject exception=' + e,
                )
                message.errorType = 'MSG_SEND_TEXT_ERROR'
                message.errorDetail = string(e)
                this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'error',
                  sysmsgType: 'MSG_SEND_TEXT_ERROR',
                })
                this.render()
              }
            } else {
              message.unreached = false
            }
            this.render()
          }

          // addSysmsgChat
          // option
          // option.chatType
          // option.chatCode
          // option.sysmsg
          UcUiStore.prototype.addSysmsgChat = function (option) {
            option &&
              this.addSysmsgToList({
                chatKeys: [option.chatType + '_' + option.chatCode],
                sysmsgLevel: string(option.sysmsg && option.sysmsg.sysmsgLevel),
                sysmsgType: string(option.sysmsg && option.sysmsg.sysmsgType),
                buddy: string(option.sysmsg && option.sysmsg.buddy),
                sysmsgData: string(option.sysmsg && option.sysmsg.sysmsgData),
              })
            this.render()
          }

          /**
           * getLogger function
           */
          UcUiStore.prototype.getLogger = function () {
            return this.logger
          }

          /**
           * getChatClient function
           */
          UcUiStore.prototype.getChatClient = function () {
            return this.chatClient
          }

          /**
           * getSignInStatus function
           */
          UcUiStore.prototype.getSignInStatus = function () {
            return this.signInStatus
          }

          /**
           * getSignInOption function
           */
          UcUiStore.prototype.getSignInOption = function () {
            return JSON.parse(JSON.stringify(this.signInOption))
          }

          /**
           * getLastStatus function
           */
          UcUiStore.prototype.getLastStatus = function () {
            return JSON.parse(JSON.stringify(this.lastStatus))
          }

          /**
           * getLastSignOutReason function
           */
          UcUiStore.prototype.getLastSignOutReason = function () {
            return JSON.parse(JSON.stringify(this.lastSignOutReason))
          }

          /**
           * getGuestConfId function
           */
          UcUiStore.prototype.getGuestConfId = function () {
            return this.guest_conf_id
          }

          /**
           * getReenterUserId function
           */
          UcUiStore.prototype.getReenterUserId = function () {
            return this.reenter_user_id
          }

          /**
           * getBuddyTable function
           */
          UcUiStore.prototype.getBuddyTable = function () {
            return JSON.parse(JSON.stringify(this.buddyTable))
          }

          /**
           * getWebchatQueueList function
           */
          UcUiStore.prototype.getWebchatQueueList = function () {
            return this.webchatQueueList.map(this.getWebchatQueue.bind(this))
          }

          /**
           * getWebchatQueue function
           * option
           * option.conf_id
           */
          UcUiStore.prototype.getWebchatQueue = function (option) {
            var _this = this
            var webchatQueue = option || {}
            if (this.webchatQueueList.indexOf(webchatQueue) === -1) {
              webchatQueue = this.webchatQueueList.find(function (q) {
                return q.conf_id === webchatQueue.conf_id
              })
            }
            var conference = this.chatClient.getConference(
              webchatQueue && webchatQueue.conf_id,
            )
            if (
              conference.conf_status === Constants.CONF_STATUS_INACTIVE &&
              webchatQueue
            ) {
              webchatQueue.conf_status = Constants.CONF_STATUS_INACTIVE
              webchatQueue.from.conf_status = Constants.CONF_STATUS_INACTIVE
              webchatQueue.creator.conf_status = Constants.CONF_STATUS_INACTIVE
              webchatQueue.assigned.conf_status = Constants.CONF_STATUS_INACTIVE
            } else {
              conference.messageList =
                (webchatQueue && webchatQueue.messageList) || []
              conference.baseTime = (webchatQueue && webchatQueue.baseTime) || 0
              webchatQueue = conference
            }
            webchatQueue = JSON.parse(JSON.stringify(webchatQueue))
            webchatQueue.isTalking =
              conference.conf_status === Constants.CONF_STATUS_JOINED &&
              (conference.creator.conf_status ===
                Constants.CONF_STATUS_JOINED ||
                conference.user.some(function (u) {
                  return (
                    u.conf_status === Constants.CONF_STATUS_JOINED &&
                    _this.buddyTable[u.tenant] &&
                    _this.buddyTable[u.tenant][u.user_id] &&
                    _this.buddyTable[u.tenant][u.user_id].isTemporaryBuddy
                  )
                }))
            return webchatQueue
          }

          /**
           * getChatTable function
           */
          UcUiStore.prototype.getChatTable = function () {
            var _this = this
            var table = {}
            Object.keys(this.chatTable).forEach(function (chatKey) {
              table[chatKey] = {
                chatType: _this.chatTable[chatKey].chatType,
                chatCode: _this.chatTable[chatKey].chatCode,
              }
            })
            return table
          }

          /**
           * getChatList function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getChatList = function (option) {
            if (!option) {
              return []
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var chatTableEntry = this.chatTable[chatKey]
            return (
              (chatTableEntry &&
                JSON.parse(JSON.stringify(chatTableEntry.chatList))) ||
              []
            )
          }

          /**
           * getMemberList function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getMemberList = function (option) {
            if (!option) {
              return []
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var chatTableEntry = this.chatTable[chatKey]
            return (
              (chatTableEntry &&
                JSON.parse(JSON.stringify(chatTableEntry.memberList))) ||
              []
            )
          }

          /**
           * getTypingBuddy function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getTypingBuddy = function (option) {
            var typingBuddy = {
              tenant: '',
              user_id: '',
            }
            if (!option) {
              return typingBuddy
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var chatTableEntry = this.chatTable[chatKey]
            if (
              chatTableEntry &&
              chatTableEntry.typingBuddy &&
              chatTableEntry.typingBuddy.time &&
              chatTableEntry.typingBuddy.time +
                UiConstants.SHOW_TYPING_DURATION >
                +new Date()
            ) {
              typingBuddy.tenant = chatTableEntry.typingBuddy.tenant
              typingBuddy.user_id = chatTableEntry.typingBuddy.user_id
            }
            return typingBuddy
          }

          /**
           * getShowmorelinkTable function
           */
          UcUiStore.prototype.getShowmorelinkTable = function () {
            return JSON.parse(JSON.stringify(this.showmorelinkTable))
          }

          /**
           * getConfInJoinProcTable function
           */
          UcUiStore.prototype.getConfInJoinProcTable = function () {
            return JSON.parse(JSON.stringify(this.confInJoinProcTable))
          }

          /**
           * getSearchConditions function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getSearchConditions = function (option) {
            if (!option) {
              return []
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchConditionsTableEntry = this.searchConditionsTable[chatKey]
            return (
              (searchConditionsTableEntry &&
                JSON.parse(JSON.stringify(searchConditionsTableEntry))) ||
              []
            )
          }

          // setSearchConditions
          // option
          // option.chatType
          // option.chatCode
          // option.searchConditions
          UcUiStore.prototype.setSearchConditions = function (option) {
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchConditionsOrgJson = JSON.stringify(
              this.searchConditionsTable[chatKey] || [],
            )
            this.searchConditionsTable[chatKey] = (
              option.searchConditions || []
            ).map(function (c) {
              return {
                conditionKey: string(c.conditionKey),
                conditionValue: string(c.conditionValue),
                conditionLabel: string(c.conditionLabel),
                options: (c.options || []).map(function (o) {
                  return {
                    optionValue: string(o.optionValue),
                    optionLabel: string(o.optionLabel),
                  }
                }),
                defaultValue:
                  typeof c.defaultValue === 'undefined' ||
                  c.defaultValue === null
                    ? null
                    : string(c.defaultValue),
                hidden: Boolean(c.hidden),
              }
            })
            var searchConditionsNewJson = JSON.stringify(
              this.searchConditionsTable[chatKey] || [],
            )
            if (searchConditionsNewJson !== searchConditionsOrgJson) {
              this.fire('searchConditionsChanged', {
                chatType: option.chatType,
                chatCode: option.chatCode,
                searchConditions: JSON.parse(searchConditionsNewJson),
              })
              this.render()
            }
          }

          // doSearch
          // option
          // option.chatType
          // option.chatCode
          // option.searchMore
          // option.emphasize
          // option.queueing
          UcUiStore.prototype.doSearch = function (option) {
            var _this = this
            var condition
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchWorkData = (this.searchWorkDataTable[chatKey] =
              this.searchWorkDataTable[chatKey] || {})
            if (searchWorkData.searching) {
              if (option.queueing) {
                this.logger.log(
                  'info',
                  'adding to searchQueue chatKey=' + chatKey,
                )
                searchWorkData.searchQueue = [option]
                return
              } else {
                this.logger.log('warn', 'now searching chatKey=' + chatKey)
                return
              }
            }
            if (option.searchMore) {
              if (!searchWorkData.conditionForSearchMore) {
                this.logger.log('warn', 'not found conditionForSearchMore')
                return
              }
              condition = searchWorkData.conditionForSearchMore
            } else {
              this.searchResultsTable[chatKey] = []
            }
            var searchResultsTableEntry = this.searchResultsTable[chatKey]
            searchWorkData.searching = true
            searchWorkData.conditionForSearchMore = null
            delete searchWorkData.errorType
            delete searchWorkData.errorDetail
            this.fire('searchResultChanged', {
              chatType: option.chatType,
              chatCode: option.chatCode,
              searching: Boolean(searchWorkData.searching),
              hasMore: Boolean(searchWorkData.conditionForSearchMore),
              searchResultIds: searchResultsTableEntry.map(
                function (searchResult) {
                  return string(searchResult.searchResultId)
                },
              ),
            })
            this.render()
            // start search process
            if (!option.searchMore) {
              condition = { tags: [], user_id_me: '', max: 10 }
              var searchConditionsTableEntry =
                this.searchConditionsTable[chatKey] || []
              searchConditionsTableEntry.forEach(function (searchCondition) {
                if (searchCondition.conditionKey === '_content') {
                  condition.content = string(searchCondition.conditionValue)
                } else if (searchCondition.conditionKey === '_any') {
                  condition.any = string(searchCondition.conditionValue)
                } else if (searchCondition.conditionKey === '_datetime') {
                  var beginEnd = string(searchCondition.conditionValue).split(
                    '-',
                  )
                  if (beginEnd[0]) {
                    condition.begin = beginEnd[0]
                  }
                  if (beginEnd[1]) {
                    condition.end = beginEnd[1]
                  }
                } else if (searchCondition.conditionKey === '_webchatIds') {
                  if (searchCondition.conditionValue) {
                    condition.conf_id = string(searchCondition.conditionValue)
                      .split(',')
                      .filter(function (webchatId) {
                        return webchatId.indexOf('_') !== -1
                      })
                      .map(function (webchatId) {
                        var s = webchatId.split('_')
                        return {
                          conf_id: string(s[1]),
                          yyyymm: string(s[0]),
                        }
                      })
                  }
                } else if (searchCondition.conditionKey === '_onlyMe') {
                  if (searchCondition.conditionValue === '1') {
                    condition.user_id_me = _this.chatClient.getProfile().user_id
                  } else if (searchCondition.conditionValue === '2') {
                    condition.user_id_me = null
                  }
                } else if (searchCondition.conditionKey === '_tenant') {
                  condition.tenant_me = string(searchCondition.conditionValue)
                } else if (searchCondition.conditionKey === '_chatType') {
                  if (searchCondition.conditionValue) {
                    condition.conf_type = string(
                      searchCondition.conditionValue,
                    ).split(',')
                  }
                } else if (searchCondition.conditionKey === '_userId') {
                  condition.user_id = string(searchCondition.conditionValue)
                } else if (searchCondition.conditionKey === '_name') {
                  condition.name = string(searchCondition.conditionValue)
                } else if (searchCondition.conditionKey === '_mediaType') {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'mediaType',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (
                  searchCondition.conditionKey === '_webchatServiceId'
                ) {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'webchatServiceId',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (
                  searchCondition.conditionKey === '_webchatServiceCode'
                ) {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'webchatServiceCode',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (searchCondition.conditionKey === '_acd') {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'acd',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (searchCondition.conditionKey === '_contactId') {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'contactId',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (searchCondition.conditionKey === '_projectId') {
                  if (searchCondition.conditionValue) {
                    condition.tags.push({
                      tag_key: 'projectId',
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchat',
                    })
                  }
                } else if (searchCondition.conditionKey === '_maxResultCount') {
                  condition.max =
                    int(searchCondition.conditionValue) || condition.max
                } else {
                  if (
                    searchCondition.conditionKey &&
                    searchCondition.conditionValue
                  ) {
                    condition.tags.push({
                      tag_key: string(searchCondition.conditionKey),
                      tag_value: string(searchCondition.conditionValue),
                      tag_type: '_webchatext',
                    })
                  }
                }
              })
            }
            var keywordStr = string(condition.content || condition.any)
            var keywordRegExps = []
            if (option.emphasize) {
              keywordRegExps = keywordStr
                .split(' ')
                .filter(function (keyword, index, array) {
                  return keyword && array.indexOf(keyword) === index
                })
                .sort(function (keyword1, keyword2) {
                  return keyword2.length - keyword1.length
                })
                .map(function (keyword) {
                  return new RegExp(
                    '(' +
                      keyword.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1') +
                      ')',
                    'gi',
                  )
                })
            }
            this.chatClient.searchTopicsByCondition(
              condition,
              function (ev) {
                var countForSearchMore = 0
                if (searchWorkData.clearing) {
                  searchResultsTableEntry.length = 0
                  searchWorkData.clearing = false
                } else {
                  if (ev && ev.topics && ev.topics.forEach) {
                    ev.topics.forEach(function (topic) {
                      if (topic && topic.peer) {
                        // check existing
                        if (
                          !searchResultsTableEntry.some(
                            function (searchResult) {
                              return (
                                searchResult._topic_id ===
                                string(topic.topic_id)
                              )
                            },
                          )
                        ) {
                          var topicContent = '?'
                          if (topic.ctype === Constants.CTYPE_TEXT) {
                            topicContent = string(topic.content).replace(
                              /<[^>]*>/g,
                              '',
                            )
                          } else if (
                            topic.ctype === Constants.CTYPE_FILE_REQUEST
                          ) {
                            try {
                              topicContent = string(
                                JSON.parse(topic.content).name,
                              )
                            } catch (e) {
                              topicContent = ''
                            }
                          } else if (
                            topic.ctype === Constants.CTYPE_CALL_RESULT
                          ) {
                            topicContent = ''
                          } else if (topic.ctype === Constants.CTYPE_OBJECT) {
                            topicContent = ''
                          } else if (
                            topic.ctype === Constants.CTYPE_CONF_START
                          ) {
                            topicContent = ''
                          }
                          // emphasize keywords
                          var emphCtrlCharCands = ['@', '#', '_']
                          for (var i = 0; i < emphCtrlCharCands.length; i++) {
                            var emphCtrlChar = emphCtrlCharCands[i]
                            if (
                              keywordStr.indexOf(emphCtrlChar) === -1 &&
                              topicContent.indexOf(emphCtrlChar) === -1
                            ) {
                              keywordRegExps.forEach(function (keywordRegExp) {
                                topicContent = topicContent.replace(
                                  keywordRegExp,
                                  emphCtrlChar +
                                    emphCtrlChar +
                                    '$1' +
                                    emphCtrlChar,
                                )
                              })
                              topicContent = topicContent.replace(
                                new RegExp(emphCtrlChar + emphCtrlChar, 'g'),
                                '<span class="brEmphasized">',
                              )
                              topicContent = topicContent.replace(
                                new RegExp(emphCtrlChar, 'g'),
                                '</span>',
                              )
                              break
                            }
                          }
                          // add marks to topicContent
                          if (topic.ctype === Constants.CTYPE_FILE_REQUEST) {
                            topicContent =
                              '<span class="brFileRequest"></span>' +
                              topicContent
                          } else if (
                            topic.ctype === Constants.CTYPE_CALL_RESULT
                          ) {
                            topicContent =
                              '<span class="brCallResult"></span>' +
                              topicContent
                          } else if (topic.ctype === Constants.CTYPE_OBJECT) {
                            topicContent =
                              '<span class="brObject"></span>' + topicContent
                          }
                          // create result entry
                          var yyyymm =
                            string(topic.ltime).substr(0, 4) +
                            string(topic.ltime).substr(5, 2)
                          searchResultsTableEntry.push({
                            searchResultId:
                              'r' +
                              ('0000000' + ++_this.searchResultIdCounter).slice(
                                -7,
                              ),
                            webchatId: topic.peer.conf_id
                              ? yyyymm + '_' + string(topic.peer.conf_id)
                              : '',
                            chatType: string(topic.peer.conf_type),
                            assignedTenant: string(
                              topic.peer.conf_properties &&
                                topic.peer.conf_properties.assigned &&
                                topic.peer.conf_properties.assigned.tenant,
                            ),
                            assignedUserId: string(
                              topic.peer.conf_properties &&
                                topic.peer.conf_properties.assigned &&
                                topic.peer.conf_properties.assigned.user_id,
                            ),
                            customerTenant: string(
                              topic.peer.creator && topic.peer.creator.tenant,
                            ),
                            customerUserId: string(
                              topic.peer.creator && topic.peer.creator.user_id,
                            ),
                            customerName: string(
                              topic.peer.creator &&
                                topic.peer.creator.user_name,
                            ),
                            customerEmail: string(
                              topic.peer.creator &&
                                topic.peer.creator.user_email,
                            ),
                            customerNote: JSON.stringify(
                              (topic.peer.creator &&
                                topic.peer.creator.user_properties &&
                                topic.peer.creator.user_properties.settings &&
                                topic.peer.creator.user_properties.settings
                                  .optional_settings &&
                                topic.peer.creator.user_properties.settings
                                  .optional_settings.profinfo) ||
                                {},
                            ),
                            mediaType: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'mediaType'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            webchatServiceId: string(
                              topic.peer.conf_properties &&
                                topic.peer.conf_properties.webchat_service_id,
                            ),
                            webchatContinuable: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'webchatContinuable'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            replyTypes: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'replyTypes'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            editorTypes: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'editorTypes'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            initialEditorType: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'initialEditorType'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            lastConfType: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'lastConfType'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            nextDistributionType: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'nextDistributionType'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            nextDistributionTarget: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'nextDistributionTarget'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            originalWebchatId: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_relation' &&
                                      tag.tag_key === '_originalWebchatId'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            mailSubject: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      (tag.tag_type === '_webchatext' &&
                                        tag.tag_key === 'subject') ||
                                      (tag.tag_type === '_conftag' &&
                                        tag.tag_key ===
                                          '_outgoing_email_subject')
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            webchatServiceCode: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'webchatServiceCode'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            acd: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'acd'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            contactId: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'contactId'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            projectId: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'projectId'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            extWebchatInfo:
                              (topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return tag.tag_type === '_webchatext'
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .reduce(function (extWebchatInfo, tag) {
                                    extWebchatInfo[tag.tag_key] = tag.tag_value
                                    return extWebchatInfo
                                  }, {})) ||
                              {},
                            customerStartTime: int(
                              topic.peer.conf_created_tstamp || topic.tstamp,
                            ),
                            summary: topicContent,
                            selected: false,
                            _expanded: false,
                            _topic_id: string(topic.topic_id),
                            _conf_id: string(topic.peer.conf_id),
                            _searchtoken: string(topic.searchtoken),
                            _profinfoFormatted: string(
                              topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return (
                                      tag.tag_type === '_webchat' &&
                                      tag.tag_key === 'profinfoFormatted'
                                    )
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .map(function (tag) {
                                    return tag.tag_value
                                  })
                                  .pop(),
                            ),
                            _yyyymm: yyyymm,
                            _relation:
                              (topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return tag.tag_type === '_relation'
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .reduce(function (_relation, tag) {
                                    _relation[tag.tag_key] = tag.tag_value
                                    return _relation
                                  }, {})) ||
                              {},
                            _relationOrigin:
                              (topic.tags &&
                                topic.tags
                                  .filter(function (tag) {
                                    return tag.tag_type === '_relationOrigin'
                                  })
                                  .sort(function (tag1, tag2) {
                                    return tag1.tstamp - tag2.tstamp
                                  })
                                  .reduce(function (_relationOrigin, tag) {
                                    _relationOrigin[tag.tag_key] = tag.tag_value
                                    return _relationOrigin
                                  }, {})) ||
                              {},
                            _topic: topic,
                          })
                        }
                      } else {
                        _this.logger.log(
                          'warn',
                          'chatClient.searchTopicsByCondition return invalid topic.peer',
                        )
                      }
                      if (
                        ev &&
                        ev.hasMore &&
                        topic &&
                        ev.hasMore === topic.tstamp
                      ) {
                        countForSearchMore++
                      }
                    })
                    if (ev && ev.hasMore) {
                      condition.end = int(ev.hasMore)
                      condition.max += countForSearchMore
                      searchWorkData.conditionForSearchMore = condition
                    }
                  } else {
                    _this.logger.log(
                      'warn',
                      'chatClient.searchTopicsByCondition return invalid ev.topics',
                    )
                  }
                }
                searchWorkData.searching = false
                if (
                  searchWorkData.searchQueue &&
                  searchWorkData.searchQueue.length
                ) {
                  setTimeout(
                    _this.doSearch.bind(
                      _this,
                      searchWorkData.searchQueue.shift(),
                    ),
                    0,
                  )
                }
                _this.fire('searchResultChanged', {
                  chatType: option.chatType,
                  chatCode: option.chatCode,
                  searching: Boolean(searchWorkData.searching),
                  hasMore: Boolean(searchWorkData.conditionForSearchMore),
                  searchResultIds: searchResultsTableEntry.map(
                    function (searchResult) {
                      return string(searchResult.searchResultId)
                    },
                  ),
                })
                _this.render()
              },
              function (ev) {
                _this.logger.log(
                  'warn',
                  'chatClient.searchTopicsByCondition error code=' +
                    ev.code +
                    ', message=' +
                    ev.message,
                )
                if (searchWorkData.clearing) {
                  searchResultsTableEntry.length = 0
                  searchWorkData.clearing = false
                }
                searchWorkData.searching = false
                searchWorkData.errorType = 'MSG_SEARCH_TOPICS_FAILED'
                searchWorkData.errorDetail = string(ev.message)
                if (
                  searchWorkData.searchQueue &&
                  searchWorkData.searchQueue.length
                ) {
                  setTimeout(
                    _this.doSearch.bind(
                      _this,
                      searchWorkData.searchQueue.shift(),
                    ),
                    0,
                  )
                }
                _this.fire('searchResultChanged', {
                  chatType: option.chatType,
                  chatCode: option.chatCode,
                  searching: Boolean(searchWorkData.searching),
                  hasMore: Boolean(searchWorkData.conditionForSearchMore),
                  searchResultIds: searchResultsTableEntry.map(
                    function (searchResult) {
                      return string(searchResult.searchResultId)
                    },
                  ),
                })
                _this.render()
              },
            )
          }

          /**
           * getSearchWorkData function
           * option
           * option.chatType
           * option.chatCode
           */
          UcUiStore.prototype.getSearchWorkData = function (option) {
            var searchWorkData = {
              searching: false,
              hasMore: false,
              clearing: false,
            }
            if (option) {
              var chatKey = option.chatType + '_' + option.chatCode
              if (this.searchWorkDataTable[chatKey]) {
                searchWorkData.searching = Boolean(
                  this.searchWorkDataTable[chatKey].searching,
                )
                searchWorkData.hasMore = Boolean(
                  this.searchWorkDataTable[chatKey].conditionForSearchMore,
                )
                searchWorkData.clearing = Boolean(
                  this.searchWorkDataTable[chatKey].clearing,
                )
                if (
                  typeof this.searchWorkDataTable[chatKey].errorType !==
                  'undefined'
                ) {
                  searchWorkData.errorType =
                    this.searchWorkDataTable[chatKey].errorType
                }
                if (
                  typeof this.searchWorkDataTable[chatKey].errorDetail !==
                  'undefined'
                ) {
                  searchWorkData.errorDetail =
                    this.searchWorkDataTable[chatKey].errorDetail
                }
              }
            }
            return searchWorkData
          }

          /**
           * getSearchResults function
           * option
           * option.chatType
           * option.chatCode
           * option.searchResultIds
           */
          UcUiStore.prototype.getSearchResults = function (option) {
            if (!option) {
              return []
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchResultsTableEntry = this.searchResultsTable[chatKey]
            if (!searchResultsTableEntry) {
              return []
            }
            var searchResultIds =
              typeof option.searchResultIds === 'string'
                ? option.searchResultIds.split(',')
                : option.searchResultIds ||
                  {
                    /* dummy object for getting all */
                  }
            if (typeof searchResultIds.indexOf === 'function') {
              searchResultsTableEntry = searchResultsTableEntry.filter(
                function (searchResult) {
                  return (
                    searchResultIds.indexOf(searchResult.searchResultId) !== -1
                  )
                },
              )
            }
            return JSON.parse(JSON.stringify(searchResultsTableEntry))
          }

          // selectSearchResult
          // option
          // option.chatType
          // option.chatCode
          // option.selectIds
          // option.unselectIds
          // option.reverseIds
          UcUiStore.prototype.selectSearchResult = function (option) {
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchResultsTableEntry = this.searchResultsTable[chatKey]
            if (!searchResultsTableEntry) {
              return
            }
            var selectIds =
              typeof option.selectIds === 'string'
                ? option.selectIds.split(',')
                : option.selectIds ||
                  {
                    /* dummy object for getting all */
                  }
            var selectSearchResultsTableEntry = searchResultsTableEntry.filter(
              function (searchResult) {
                return (
                  !searchResult.selected &&
                  (typeof selectIds.indexOf !== 'function' ||
                    selectIds.indexOf(searchResult.searchResultId) !== -1)
                )
              },
            )
            var selectedSearchResultIds = selectSearchResultsTableEntry.map(
              function (searchResult) {
                searchResult.selected = true
                return searchResult.searchResultId
              },
            )
            var unselectIds =
              typeof option.unselectIds === 'string'
                ? option.unselectIds.split(',')
                : option.unselectIds ||
                  {
                    /* dummy object for getting all */
                  }
            var unselectSearchResultsTableEntry =
              searchResultsTableEntry.filter(function (searchResult) {
                return (
                  searchResult.selected &&
                  (typeof unselectIds.indexOf !== 'function' ||
                    unselectIds.indexOf(searchResult.searchResultId) !== -1)
                )
              })
            var unselectedSearchResultIds = unselectSearchResultsTableEntry.map(
              function (searchResult) {
                searchResult.selected = false
                return searchResult.searchResultId
              },
            )
            var reverseIds =
              typeof option.reverseIds === 'string'
                ? option.reverseIds.split(',')
                : option.reverseIds ||
                  {
                    /* dummy object for getting all */
                  }
            var reverseSearchResultsTableEntry = searchResultsTableEntry
            if (typeof reverseIds.indexOf === 'function') {
              reverseSearchResultsTableEntry = searchResultsTableEntry.filter(
                function (searchResult) {
                  return reverseIds.indexOf(searchResult.searchResultId) !== -1
                },
              )
            }
            reverseSearchResultsTableEntry.forEach(function (searchResult) {
              if (searchResult.selected) {
                searchResult.selected = false
                unselectedSearchResultIds.push(searchResult.searchResultId)
              } else {
                searchResult.selected = true
                selectedSearchResultIds.push(searchResult.searchResultId)
              }
            })
            this.fire('searchResultSelected', {
              chatType: option.chatType,
              chatCode: option.chatCode,
              selectedSearchResultIds: selectedSearchResultIds,
              unselectedSearchResultIds: unselectedSearchResultIds,
            })
            this.render()
          }

          // expandSearchResult
          // option
          // option.chatType
          // option.chatCode
          // option.searchResultIds
          UcUiStore.prototype.expandSearchResult = function (option) {
            var _this = this
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchResultsTableEntry = this.searchResultsTable[chatKey]
            if (!searchResultsTableEntry) {
              return
            }
            var searchResultIds =
              typeof option.searchResultIds === 'string'
                ? option.searchResultIds.split(',')
                : option.searchResultIds ||
                  {
                    /* dummy object for getting all */
                  }
            if (typeof searchResultIds.indexOf === 'function') {
              searchResultsTableEntry = searchResultsTableEntry.filter(
                function (searchResult) {
                  return (
                    searchResultIds.indexOf(searchResult.searchResultId) !== -1
                  )
                },
              )
            }
            searchResultsTableEntry.forEach(function (searchResult) {
              searchResult._expanded = !Boolean(searchResult._expanded)
              if (searchResult._expanded) {
                var chatKey =
                  'SEARCHRESULTDETAIL' + '_' + searchResult.searchResultId
                if (!_this.chatTable[chatKey]) {
                  _this.chatTable[chatKey] = _this.newChatTableEntry(chatKey)
                  _this.chatHeaderInfoTable[chatKey] = {
                    title: searchResult.customerName,
                    guest: {
                      tenant: searchResult.customerTenant,
                      user_id: searchResult.customerUserId,
                    },
                    guestProfinfo: searchResult._profinfoFormatted,
                    confType: searchResult.chatType,
                    webchatContinuable: searchResult.webchatContinuable,
                    replyTypes: searchResult.replyTypes,
                    editorTypes: searchResult.editorTypes,
                    initialEditorType: searchResult.initialEditorType,
                    lastConfType: searchResult.lastConfType,
                    nextDistributionType: searchResult.nextDistributionType,
                    nextDistributionTarget: searchResult.nextDistributionTarget,
                    originalWebchatId: searchResult.originalWebchatId,
                    yyyymm: searchResult._yyyymm,
                  }
                  var functionName = searchResult._conf_id
                    ? 'searchConferenceTexts'
                    : 'searchTopicTexts'
                  var argument = searchResult._conf_id
                    ? {
                        conf_id: searchResult._conf_id,
                        topic_id: searchResult._topic_id,
                        searchtoken: searchResult._searchtoken,
                      }
                    : searchResult._topic_id
                  _this.chatClient[functionName](
                    argument,
                    function (ev) {
                      if (ev && ev.logs && ev.logs.forEach) {
                        ev.logs.forEach(function (log) {
                          var messageFile = null
                          if (log.ctype === Constants.CTYPE_FILE_REQUEST) {
                            try {
                              messageFile = JSON.parse(log.content)
                              messageFile.receiverInfo = messageFile.target
                            } catch (e) {}
                          }
                          _this.addMessageToList({
                            chatKeys: [chatKey],
                            senderInfo: log.sender,
                            ctype: log.ctype,
                            messageText:
                              log.ctype === Constants.CTYPE_TEXT ||
                              log.ctype === Constants.CTYPE_CALL_RESULT
                                ? string(log.content)
                                : '',
                            messageObject: log.object,
                            errorType: '',
                            errorDetail: '',
                            messageFile: messageFile,
                            received_text_id: log.log_id,
                            topic_id: searchResult._topic_id,
                            conf_type: '',
                            replyEnabled: false,
                            unreached: false,
                            messageExtInfo: {
                              mailSubject: searchResult.mailSubject,
                            },
                            sentTimeValue: +parseDate(log.ltime),
                          })
                          if (log.sender) {
                            // TODO: yano test
                            if (
                              !_this.buddyTable[log.sender.tenant] ||
                              !_this.buddyTable[log.sender.tenant][
                                log.sender.user_id
                              ]
                            ) {
                              log.sender.name = log.sender.user_name // for name
                              log.sender.profile_image_url = string(
                                searchResult._topic &&
                                  searchResult._topic.tags &&
                                  searchResult._topic.tags
                                    .filter(function (tag) {
                                      return (
                                        tag.tag_type === '_webchat' &&
                                        tag.tag_key === 'myProfileImageUrl' &&
                                        tag.tenant === log.sender.tenant &&
                                        tag.user_id === log.sender.user_id
                                      )
                                    })
                                    .sort(function (tag1, tag2) {
                                      return tag1.tstamp - tag2.tstamp
                                    })
                                    .map(function (tag) {
                                      return tag.tag_value
                                    })
                                    .pop(),
                              )
                              _this.addToBuddyTable(log.sender) // TODO: yano add sender user info
                            }
                          }
                        })
                        if (
                          option.chatType === 'HISTORYSUMMARIES' &&
                          !searchResult._conf_id
                        ) {
                          // add showmorelink
                          const indexToInsertTable = {}
                          indexToInsertTable[chatKey] = 0
                          _this.addShowmorelinkToList(
                            {
                              chatKeys: [chatKey],
                              condition_tenant:
                                searchResult._topic &&
                                searchResult._topic.peer &&
                                searchResult._topic.peer.tenant,
                              condition_user_id:
                                searchResult._topic &&
                                searchResult._topic.peer &&
                                searchResult._topic.peer.user_id,
                            },
                            indexToInsertTable,
                          )
                          _this.addShowmorelinkToList({
                            chatKeys: [chatKey],
                            condition_tenant:
                              searchResult._topic &&
                              searchResult._topic.peer &&
                              searchResult._topic.peer.tenant,
                            condition_user_id:
                              searchResult._topic &&
                              searchResult._topic.peer &&
                              searchResult._topic.peer.user_id,
                            next: true,
                          })
                        } else if (
                          option.chatType === 'HISTORYSUMMARIES' &&
                          searchResult._conf_id &&
                          Object.keys(searchResult._relation).length
                        ) {
                          // add showmorelink of related conference
                          const indexToInsertTable = {}
                          indexToInsertTable[chatKey] = 0
                          if (
                            !Object.keys(searchResult._relationOrigin).length
                          ) {
                            _this.addShowmorelinkToList(
                              {
                                chatKeys: [chatKey],
                                isRelatedConference: true,
                                condition_conf_id: searchResult._conf_id,
                                condition_yyyymm: searchResult._yyyymm,
                                condition_tstamp:
                                  searchResult.customerStartTime,
                              },
                              indexToInsertTable,
                            )
                          }
                          _this.addShowmorelinkToList({
                            chatKeys: [chatKey],
                            isRelatedConference: true,
                            condition_conf_id: searchResult._conf_id,
                            condition_yyyymm: searchResult._yyyymm,
                            condition_tstamp: searchResult.customerStartTime,
                            next: true,
                          })
                        }
                      } else {
                        _this.logger.log(
                          'warn',
                          'chatClient.' +
                            functionName +
                            ' return invalid ev.logs',
                        )
                      }
                      _this.render()
                    },
                    function (ev) {
                      _this.logger.log(
                        'warn',
                        'chatClient.' +
                          functionName +
                          ' error code=' +
                          ev.code +
                          ', message=' +
                          ev.message,
                      )
                      _this.render()
                    },
                  )
                }
              }
            })
            this.render()
          }

          // clearSearchResults
          // option
          // option.chatType
          // option.chatCode
          UcUiStore.prototype.clearSearchResults = function (option) {
            var _this = this
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            var searchWorkData = this.searchWorkDataTable[chatKey] || {}
            searchWorkData.searchQueue = []
            if (searchWorkData.searching) {
              searchWorkData.clearing = true
              return
            }
            searchWorkData.conditionForSearchMore = null
            delete searchWorkData.errorType
            delete searchWorkData.errorDetail
            var searchResultsTableEntry = this.searchResultsTable[chatKey]
            if (!searchResultsTableEntry || !searchResultsTableEntry.length) {
              return
            }
            searchResultsTableEntry.forEach(function (searchResult) {
              var chatKey =
                'SEARCHRESULTDETAIL' + '_' + searchResult.searchResultId
              delete _this.chatHeaderInfoTable[chatKey]
              delete _this.chatTable[chatKey]
            })
            this.searchResultsTable[chatKey] = []
            this.fire('searchResultChanged', {
              chatType: option.chatType,
              chatCode: option.chatCode,
              searching: false,
              hasMore: false,
              searchResultIds: [],
            })
            this.render()
          }

          // copyChatList
          // option
          // option.chatTypeSource
          // option.chatCodeSource
          // option.chatTypeTarget
          // option.chatCodeTarget
          // option.doNotOverwrite
          UcUiStore.prototype.copyChatList = function (option) {
            var _this = this
            if (!option) {
              return
            }
            var chatKeySource =
              option.chatTypeSource + '_' + option.chatCodeSource
            var chatKeyTarget =
              option.chatTypeTarget + '_' + option.chatCodeTarget
            if (!this.chatTable[chatKeyTarget]) {
              this.chatTable[chatKeyTarget] =
                this.newChatTableEntry(chatKeyTarget)
            } else if (option.doNotOverwrite) {
              this.logger.log('info', 'option.doNotOverwrite')
              return
            }
            this.chatTable[chatKeyTarget].chatList =
              (this.chatTable[chatKeySource] &&
                JSON.parse(
                  JSON.stringify(this.chatTable[chatKeySource].chatList),
                )) ||
              []
            // re-number showmorelink_id
            this.chatTable[chatKeyTarget].chatList.forEach(function (chat) {
              if (chat.type === 'showmorelink') {
                if (_this.showmorelinkTable[chat.showmorelink_id]) {
                  var key = string(++_this.keyCounter)
                  var showmorelink_id = key
                  _this.showmorelinkTable[showmorelink_id] = {
                    chatKeys: [chatKeyTarget],
                    key: key,
                    unread:
                      _this.showmorelinkTable[chat.showmorelink_id].unread,
                    condition_tenant:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .condition_tenant,
                    condition_user_id:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .condition_user_id,
                    next: _this.showmorelinkTable[chat.showmorelink_id].next,
                    isRelatedConference:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .isRelatedConference,
                    condition_conf_id:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .condition_conf_id,
                    condition_yyyymm:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .condition_yyyymm,
                    condition_tstamp:
                      _this.showmorelinkTable[chat.showmorelink_id]
                        .condition_tstamp,
                    nowReceiving: false,
                    tried: false,
                    errorType: '',
                    errorDetail: '',
                  }
                  chat.key = key
                  chat.showmorelink_id = showmorelink_id
                }
              }
            })
            this.render()
          }

          // createConferenceChatHeaderFromSearchResult
          // option
          // option.chatType
          // option.chatCode
          // option.searchResultId
          UcUiStore.prototype.createConferenceChatHeaderFromSearchResult =
            function (option) {
              var searchResult =
                (option &&
                  this.getSearchResults({
                    chatType: option.chatType,
                    chatCode: option.chatCode,
                    searchResultIds: option.searchResultId
                      ? [option.searchResultId]
                      : option.searchResultIds,
                  })[0]) ||
                {}
              var chatType = 'CONFERENCE'
              var chatCode =
                string(searchResult._yyyymm) +
                '_' +
                string(searchResult._conf_id)
              var chatKey = chatType + '_' + chatCode
              if (!this.chatHeaderInfoTable[chatKey]) {
                this.chatHeaderInfoTable[chatKey] = {}
              }
              this.chatHeaderInfoTable[chatKey].conf_id = string(
                searchResult._conf_id,
              )
              if (searchResult.chatType === 'webchat') {
                this.chatHeaderInfoTable[chatKey].title = string(
                  searchResult.customerName || searchResult.customerUserId,
                )
                if (!this.chatHeaderInfoTable[chatKey].guest) {
                  this.chatHeaderInfoTable[chatKey].guest = {}
                }
                this.chatHeaderInfoTable[chatKey].guest.tenant = string(
                  searchResult.customerTenant,
                )
                this.chatHeaderInfoTable[chatKey].guest.user_id = string(
                  searchResult.customerUserId,
                )
                this.chatHeaderInfoTable[chatKey].guestProfinfo = string(
                  searchResult._profinfoFormatted,
                )
                this.chatHeaderInfoTable[chatKey].confType = string(
                  searchResult.chatType,
                )
                this.chatHeaderInfoTable[chatKey].webchatContinuable = string(
                  searchResult.webchatContinuable,
                )
                this.chatHeaderInfoTable[chatKey].replyTypes = string(
                  searchResult.replyTypes,
                )
                this.chatHeaderInfoTable[chatKey].editorTypes = string(
                  searchResult.editorTypes,
                )
                this.chatHeaderInfoTable[chatKey].initialEditorType = string(
                  searchResult.initialEditorType,
                )
                this.chatHeaderInfoTable[chatKey].lastConfType = string(
                  searchResult.lastConfType,
                )
                this.chatHeaderInfoTable[chatKey].originalWebchatId = string(
                  searchResult.originalWebchatId,
                )
                this.chatHeaderInfoTable[chatKey].yyyymm = string(
                  searchResult._yyyymm,
                )
              }
            }

          // selectReplyType
          // option
          // option.chatType
          // option.chatCode
          // option.replyType
          // option.nextDistributionType
          // option.nextDistributionTarget
          UcUiStore.prototype.selectReplyType = function (option) {
            if (!option) {
              return
            }
            var chatKey = option.chatType + '_' + option.chatCode
            if (this.chatHeaderInfoTable[chatKey]) {
              if (
                typeof option.replyType !== 'undefined' &&
                option.replyType !== null
              ) {
                this.chatHeaderInfoTable[chatKey].selectedReplyType = string(
                  option.replyType,
                )
              }
              if (
                typeof option.nextDistributionType !== 'undefined' &&
                option.nextDistributionType !== null
              ) {
                this.chatHeaderInfoTable[chatKey].nextDistributionType = string(
                  option.nextDistributionType,
                )
              }
              if (
                typeof option.nextDistributionTarget !== 'undefined' &&
                option.nextDistributionTarget !== null
              ) {
                this.chatHeaderInfoTable[chatKey].nextDistributionTarget =
                  string(option.nextDistributionTarget)
              }
            }
            this.addSysmsgToList({
              chatKeys: [chatKey],
              sysmsgLevel: 'info',
              sysmsgType: 'MSG_CONFERENCE_REPLY',
            })
            this.render()
          }

          // setLocalStoragePreference
          // option
          // option.keyValueList
          UcUiStore.prototype.setLocalStoragePreference = function (option) {
            var _this = this

            var tenant = string(this.signInOption && this.signInOption.tenant)
            var t =
              this.signInOption && this.signInOption.isSingleTenant
                ? ''
                : tenant
            var u = string(this.signInOption && this.signInOption.user).split(
              '?',
            )[0]
            var userKey = encodeURIComponent(JSON.stringify([tenant, u])) // not t but tenant for compatibility with uc < 1.6
            ;((option && option.keyValueList) || []).forEach(function (kvp) {
              var key = string(kvp && kvp.key)
              var value = string(kvp && kvp.value)
              _this.localStoragePreference[key] = value
              try {
                if (key && key[key.length - 1] === '+') {
                  localStorage.setItem(key + t + '+' + u, value) // not tenant but t for compatibility with cim
                } else {
                  localStorage.setItem(
                    'UC.ucclientui.' + userKey + '.cookiePreference.' + key,
                    value,
                  )
                }
              } catch (ex) {
                _this.logger.log(
                  'warn',
                  'localStorage.setItem error key=' + key + ', ex=' + ex,
                )
              }
            })
            try {
              localStorage.setItem(
                'UC.ucclientui.' + userKey + '.cookiePreferenceSaved',
                Object.keys(this.localStoragePreference).join(','),
              )
            } catch (ex) {
              this.logger.log('warn', 'localStorage.setItem error ex=' + ex)
            }
          }

          /**
           * getLocalStoragePreference function
           * option
           * option.keyList
           */
          UcUiStore.prototype.getLocalStoragePreference = function (option) {
            var _this = this

            return ((option && option.keyList) || []).map(function (key) {
              return string(_this.localStoragePreference[string(key)])
            })
          }

          /**
           * getConfigProperties function
           */
          UcUiStore.prototype.getConfigProperties = function () {
            return JSON.parse(JSON.stringify(this.configPropertiesCache))
          }

          /**
           * getOptionalSetting function
           * option
           * option.key
           */
          UcUiStore.prototype.getOptionalSetting = function (option) {
            var key = string(option && option.key)
            if (this.signInStatus === 3) {
              var settings = this.chatClient.getSettings() || {}
              var optional_settings = settings.optional_settings || {}
              var optional_config =
                this.configPropertiesCache.optional_config || {}
              if (
                optional_config[key + '_locked'] ||
                typeof optional_settings[key] === 'undefined'
              ) {
                this.optionalSettingCache[key] = optional_config[key]
              } else {
                this.optionalSettingCache[key] = optional_settings[key]
              }
            }
            return this.optionalSettingCache[key]
          }

          /**
           * getUcCimUserType function
           * option
           * option.key
           */
          UcUiStore.prototype.getUcCimUserType = function () {
            if (this.signInStatus === 3) {
              var ucUserType = (this.chatClient.getProfile() || {}).user_type
              var cimUserType = (this.chatClient.getSignedInInfo() || {})
                .cimUserType
              var myUcCimUserType = 1
              if (ucUserType === Constants.USER_TYPE_SYSTEM_ADMIN) {
                myUcCimUserType = 64
              } else if (ucUserType === Constants.USER_TYPE_TENANT_ADMIN) {
                myUcCimUserType = 32
              } else if (cimUserType === '1' || cimUserType === 1) {
                myUcCimUserType = 16
              } else if (cimUserType === '0' || cimUserType === 0) {
                myUcCimUserType = 8
              } else if (cimUserType === '2' || cimUserType === 2) {
                myUcCimUserType = 4
              } else if (ucUserType === Constants.USER_TYPE_TENANT_USER) {
                myUcCimUserType = 2
              }
              this.optionalSettingCache['_ucCimUserType'] = myUcCimUserType
            }
            return int(this.optionalSettingCache['_ucCimUserType'])
          }

          /**
           * events from chatClient
           */
          UcUiStore.prototype.forcedSignOut = function (ev) {
            var retryable =
              ev.code !== Brekeke.UCClient.Errors.UPDATE_STARTED &&
              ev.code !== Brekeke.UCClient.Errors.PLEONASTIC_LOGIN
            this.signInStatus = 0
            this.lastSignOutReason = {
              code: ev.code,
              message: ev.message,
              reSignInTime: retryable ? +new Date() + this.reSignInDelay : 0,
            }
            this.addSignOutSysmsg()
            this.webchatQueueList = []
            if (retryable) {
              this.fire('signedOut', {
                reSignInDelay: this.reSignInDelay,
                tstamp: +new Date() - this.diffClientServerTime,
              })
              this.startReSignInTimer()
            } else {
              this.reSignInDelay = 0
              this.fire('signedOut', {
                reSignInDelay: 0,
                tstamp: +new Date() - this.diffClientServerTime,
              })
            }
            this.render()
          }
          //
          UcUiStore.prototype.buddyStatusChanged = function (ev) {
            this.addToBuddyTable(ev)
            this.renderBsc()
          }
          //
          UcUiStore.prototype.receivedText = function (ev) {
            var _this = this

            // message
            var message = this.createMessageFromReceivedText(ev)

            if (ev.conf_id === null) {
              // buddy
              // add to chat table
              this.addMessageToList(message)
            } else {
              // conference
              var conference = this.chatClient.getConference(ev.conf_id)
              if (conference.invite_properties.webchatfromguest) {
                // webchat
                // add to webchat queue
                var webchatQueue = this.webchatQueueList.find(
                  function (element) {
                    return element.conf_id === ev.conf_id
                  },
                )
                if (webchatQueue && webchatQueue.messageList) {
                  if (
                    !webchatQueue.messageList.some(function (mes) {
                      return (
                        mes &&
                        mes.received_text_id &&
                        mes.received_text_id === message.received_text_id
                      )
                    })
                  ) {
                    webchatQueue.messageList.push(message)
                  }
                }
                if (conference.conf_status === Constants.CONF_STATUS_JOINED) {
                  // joined
                  // add to chat table
                  this.addMessageToList(message)
                }
              } else {
                // add to chat table
                this.addMessageToList(message)
              }
            }

            // hide typing
            for (var chatKey in this.chatTable) {
              if (
                this.chatTable[chatKey].typingBuddy.tenant ===
                  ev.sender.tenant &&
                this.chatTable[chatKey].typingBuddy.user_id ===
                  ev.sender.user_id
              ) {
                this.chatTable[chatKey].typingBuddy = {}
              }
            }

            // read text
            var readText = ev.requires_read
              ? function () {
                  setTimeout(
                    _this.chatClient.readText.bind(
                      _this.chatClient,
                      [ev.received_text_id],
                      null,
                    ),
                    _this.chatClient.getSettings().text_open_sec * 1000,
                  )
                }
              : null

            // notification
            var evObj = {
              chatKeys: message.chatKeys,
              notificationProperties: {
                title: this.getBuddyUserForUi(ev.sender).name,
                body: message.messageText,
              },
              funcOnSelected: readText,
              notificationFunction: null,
              mustScroll: true,
            }
            if (ev.ctype === Constants.CTYPE_CALL_RESULT) {
              var callResult = {}
              try {
                callResult = JSON.parse(message.messageText) || {}
              } catch (ex) {}
              if (callResult.talklen === 0) {
                evObj.doNotBlink = true
                evObj.missedCall = true
                evObj.notificationProperties.body = ''
                this.fire('checkRequiresNotification', evObj)
              }
            } else {
              this.fire('checkRequiresNotification', evObj)
            }
            if (evObj.notificationFunction) {
              evObj.notificationFunction()
            } else if (readText) {
              readText()
            }

            this.addChatClientBuddy([ev.sender])
            this.render()
          }
          //
          UcUiStore.prototype.receivedTyping = function (ev) {
            // show typing
            for (var chatKey in this.chatTable) {
              if (
                this.chatTable[chatKey].memberList.find(function (u) {
                  return u.tenant === ev.tenant && u.user_id === ev.user_id
                })
              ) {
                this.chatTable[chatKey].typingBuddy = {
                  tenant: ev.tenant,
                  user_id: ev.user_id,
                  time: +new Date(),
                }
              }
            }

            // timer
            setTimeout(
              this.render.bind(this),
              UiConstants.SHOW_TYPING_DURATION + 100,
            )
            this.render()
          }
          //
          UcUiStore.prototype.invitedToConference = function (ev) {
            if (ev.conference.invite_properties.webchatfromguest) {
              if (
                !this.webchatQueueList.find(function (element) {
                  return element.conf_id === ev.conference.conf_id
                })
              ) {
                var webchatQueue = ev.conference
                webchatQueue.messageList = []
                webchatQueue.baseTime =
                  ev.conference.created_tstamp + this.diffClientServerTime
                this.webchatQueueList.push(webchatQueue)
              }

              var lastChatOfContinuation = {}
              if (ev.conference.invite_properties.continuation_info) {
                lastChatOfContinuation = this.getChatCodeByConfId({
                  conf_id:
                    ev.conference.invite_properties.continuation_info.conf_id,
                  yyyymm:
                    ev.conference.invite_properties.continuation_info.yyyymm,
                })
                if (
                  this.chatHeaderInfoTable[lastChatOfContinuation.chatKey] &&
                  this.chatHeaderInfoTable[lastChatOfContinuation.chatKey]
                    .doNotContinue
                ) {
                  lastChatOfContinuation = {}
                }
              }

              if (
                ev.conference.conf_status ===
                  Constants.CONF_STATUS_INVITED_WEBCHAT &&
                !ev.conference.invite_properties.rwq &&
                !lastChatOfContinuation.chatCode
              ) {
                // notification
                var evObj = {
                  webchatNotification: true,
                  continuation_info:
                    ev.conference.invite_properties.continuation_info,
                  notificationProperties: {
                    title: ev.conference.webchatinfo.description,
                    body: '',
                  },
                  notificationFunction: null,
                }
                this.fire('checkRequiresNotification', evObj)
                if (evObj.notificationFunction) {
                  evObj.notificationFunction()
                }
              }

              this.chatClient.peekWebchatConferenceText(
                { conf_id: ev.conference.conf_id },
                this.invitedToConference_peekWebchatConferenceText_funcOK.bind(
                  this,
                ),
                null,
              )

              // add nonbuddy to chatClient immediately (do not subscribe)
              this.addChatClientBuddy(ev.conference.user)

              var chatType = lastChatOfContinuation.chatType || 'CONFERENCE'
              var chatCode =
                lastChatOfContinuation.chatCode ||
                string(ev.conference.yyyymm) +
                  '_' +
                  string(ev.conference.conf_id)
              var chatKey = chatType + '_' + chatCode
              if (!this.chatHeaderInfoTable[chatKey]) {
                this.chatHeaderInfoTable[chatKey] = {}
              }
              this.chatHeaderInfoTable[chatKey].conf_id = string(
                ev.conference.conf_id,
              )
              this.getChatHeaderInfo({ chatType: chatType, chatCode: chatCode }) // overwrite guest, yyyymm, etc.
              this.fire('newConference', {
                chatType: chatType,
                chatCode: chatCode,
              })

              if (
                ev.conference.conf_status === Constants.CONF_STATUS_INVITED &&
                ev.conference.invite_properties.webchatfromguest.fromuser
              ) {
                // notification
                var evObj = {
                  chatKeys: [chatKey],
                  notificationProperties: {
                    title: this.getBuddyUserForUi(ev.conference.from).name,
                    body: ev.conference.subject,
                  },
                  notificationFunction: null,
                }
                this.fire('checkRequiresNotification', evObj)
                if (evObj.notificationFunction) {
                  evObj.notificationFunction()
                }
              }

              if (
                ev.conference.conf_status ===
                Constants.CONF_STATUS_INVITED_WEBCHAT
              ) {
                if (lastChatOfContinuation.chatCode) {
                  // continuation conference
                  this.joinWebchatRoom({
                    conf_id: string(ev.conference.conf_id),
                    properties: { invisible: false, exclusive: true },
                  })
                } else if (
                  int(ev.conference.webchatinfo.auto_answer) &
                  (1 << int(this.chatClient.getStatus().status))
                ) {
                  // auto answer
                  this.joinWebchatRoom({
                    conf_id: string(ev.conference.conf_id),
                    properties: { invisible: false, exclusive: true },
                  })
                }
              }
            } else {
              this.addChatClientBuddy(ev.conference.user)

              var chatType = 'CONFERENCE'
              var chatCode =
                string(ev.conference.yyyymm) +
                '_' +
                string(ev.conference.conf_id)
              var chatKey = chatType + '_' + chatCode
              if (!this.chatHeaderInfoTable[chatKey]) {
                this.chatHeaderInfoTable[chatKey] = {}
              }
              this.chatHeaderInfoTable[chatKey].conf_id = string(
                ev.conference.conf_id,
              )
              this.getChatHeaderInfo({ chatType: chatType, chatCode: chatCode }) // overwrite guest, yyyymm, etc.
              this.fire('newConference', {
                chatType: chatType,
                chatCode: chatCode,
              })

              if (!ev.conference.invite_properties.rejoinable) {
                this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'info',
                  sysmsgType: 'MSG_CONFERENCE_INVITED',
                  buddy: ev.conference.from,
                })

                if (
                  ev.conference.conf_status === Constants.CONF_STATUS_INVITED
                ) {
                  // notification
                  var evObj = {
                    chatKeys: [chatKey],
                    notificationProperties: {
                      title: this.getBuddyUserForUi(ev.conference.from).name,
                      body: ev.conference.subject,
                    },
                    notificationFunction: null,
                  }
                  this.fire('checkRequiresNotification', evObj)
                  if (evObj.notificationFunction) {
                    evObj.notificationFunction()
                  }
                }
              }
            }

            this.render()
          }
          //
          UcUiStore.prototype.invitedToConference_peekWebchatConferenceText_funcOK =
            function (ev) {
              var _this = this

              ev.messages.forEach(function (m) {
                // message
                var message = _this.createMessageFromReceivedText(m)
                // add to webchat queue
                var webchatQueue = _this.webchatQueueList.find(
                  function (element) {
                    return element.conf_id === m.conf_id
                  },
                )
                if (webchatQueue && webchatQueue.messageList) {
                  if (
                    !webchatQueue.messageList.some(function (mes) {
                      return (
                        mes &&
                        mes.received_text_id &&
                        mes.received_text_id === message.received_text_id
                      )
                    })
                  ) {
                    webchatQueue.messageList.push(message)
                  }
                }
              })
              this.render()
            }
          //
          UcUiStore.prototype.conferenceMemberChanged = function (ev) {
            var settings = this.chatClient.getSettings()
            if (ev.conference.conf_type === 'webchat') {
              var index = this.webchatQueueList.findIndex(function (element) {
                return element.conf_id === ev.conference.conf_id
              })
              if (index !== -1) {
                if (
                  ev.conference.conf_status === Constants.CONF_STATUS_INACTIVE
                ) {
                  // remove queue
                  var webchatQueue = ev.conference
                  webchatQueue.messageList =
                    this.webchatQueueList[index].messageList
                  webchatQueue.baseTime = this.webchatQueueList[index].baseTime
                  this.webchatQueueList[index] = webchatQueue
                }
              }
            }

            this.conferenceMemberChanged_updateMemberList(ev.conference.conf_id)

            this.render()
          }
          //
          UcUiStore.prototype.conferenceMemberChanged_updateMemberList =
            function (conf_id) {
              var _this = this

              var profile = this.chatClient.getProfile()
              var conference = this.chatClient.getConference(conf_id)
              if (
                conference.conf_status !== Constants.CONF_STATUS_JOINED &&
                conference.conf_status !== Constants.CONF_STATUS_INACTIVE
              ) {
                return
              }
              if (
                conference.conf_status === Constants.CONF_STATUS_INACTIVE &&
                profile.user_type === Constants.USER_TYPE_TENANT_GUEST
              ) {
                setTimeout(this.signOut.bind(this), 1000) // sign-out after buddyStatusChanged of message
              }
              var chatKey = this.getChatCodeByConfId({
                conf_id: conf_id,
              }).chatKey
              if (!chatKey) {
                chatKey = 'CONFERENCE' + '_' + conference.yyyymm + '_' + conf_id
              }
              if (!this.chatTable[chatKey]) {
                if (conference.conf_status === Constants.CONF_STATUS_INACTIVE) {
                  return
                }
                this.chatTable[chatKey] = this.newChatTableEntry(chatKey)
              }
              var confMemberListOrg =
                this.chatTable[chatKey].memberList.concat()
              var confMemberList = conference.user.concat()
              var leftUsers = confMemberListOrg.filter(function (uo) {
                return (
                  uo.conf_status === Constants.CONF_STATUS_JOINED &&
                  confMemberList.find(function (u) {
                    return (
                      uo.tenant === u.tenant &&
                      uo.user_id === u.user_id &&
                      u.conf_status === Constants.CONF_STATUS_JOINED
                    )
                  }) === undefined
                )
              })
              leftUsers.sort(function (u1, u2) {
                if (
                  u1.tenant === profile.tenant &&
                  u1.user_id === profile.user_id
                ) {
                  return 1
                } else if (
                  u2.tenant === profile.tenant &&
                  u2.user_id === profile.user_id
                ) {
                  return -1
                } else {
                  return 0
                }
              })
              leftUsers.forEach(function (u) {
                if (
                  u.tenant === profile.tenant &&
                  u.user_id === profile.user_id
                ) {
                  // me
                  if (profile.user_type !== Constants.USER_TYPE_TENANT_GUEST) {
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'info',
                      sysmsgType: 'MSG_CONFERENCE_ME_LEFT',
                    })
                  }
                } else if (string(u.user_id)[0] !== '#') {
                  // non-guest
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'info',
                    sysmsgType: 'MSG_CONFERENCE_MEMBER_LEFT',
                    buddy: u,
                  })
                } else {
                  // guest
                  if (
                    confMemberList.filter(function (u2) {
                      return (
                        u2.conf_status === Constants.CONF_STATUS_JOINED &&
                        string(u2.name || u2.user_id) ===
                          string(u.name || u.user_id)
                      )
                    }).length === 0
                  ) {
                    // 1 -> 0
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'info',
                      sysmsgType: 'MSG_CONFERENCE_MEMBER_OFFLINE',
                      buddy: u,
                    })
                  }
                }
              })
              var joinedUsers = confMemberList.filter(function (u) {
                return (
                  u.conf_status === Constants.CONF_STATUS_JOINED &&
                  confMemberListOrg.find(function (uo) {
                    return (
                      uo.tenant === u.tenant &&
                      uo.user_id === u.user_id &&
                      uo.conf_status === Constants.CONF_STATUS_JOINED
                    )
                  }) === undefined
                )
              })
              joinedUsers.sort(function (u1, u2) {
                if (
                  u1.tenant === profile.tenant &&
                  u1.user_id === profile.user_id
                ) {
                  return 1
                } else if (
                  u2.tenant === profile.tenant &&
                  u2.user_id === profile.user_id
                ) {
                  return -1
                } else {
                  return 0
                }
              })
              this.addChatClientBuddy(joinedUsers)
              joinedUsers.forEach(function (u) {
                if (
                  u.tenant === profile.tenant &&
                  u.user_id === profile.user_id
                ) {
                  // me
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'info',
                    sysmsgType: 'MSG_CONFERENCE_ME_JOINED',
                  })
                } else if (string(u.user_id)[0] !== '#') {
                  // non-guest
                  _this.addSysmsgToList({
                    chatKeys: [chatKey],
                    sysmsgLevel: 'info',
                    sysmsgType: 'MSG_CONFERENCE_MEMBER_JOINED',
                    buddy: u,
                  })
                } else {
                  // guest
                  if (u.reenter_user_id) {
                    // reenter
                    if (
                      confMemberListOrg.filter(function (u2) {
                        return (
                          u2.conf_status === Constants.CONF_STATUS_JOINED &&
                          string(u2.name || u2.user_id) ===
                            string(u.name || u.user_id)
                        )
                      }).length === 0
                    ) {
                      // 0 -> 1
                      _this.addSysmsgToList({
                        chatKeys: [chatKey],
                        sysmsgLevel: 'info',
                        sysmsgType: 'MSG_CONFERENCE_MEMBER_ONLINE',
                        buddy: u,
                      })
                    }
                  } else {
                    // new guest
                    _this.addSysmsgToList({
                      chatKeys: [chatKey],
                      sysmsgLevel: 'info',
                      sysmsgType: 'MSG_CONFERENCE_MEMBER_JOINED',
                      buddy: u,
                    })
                  }
                }
              })

              this.chatTable[chatKey].memberList = confMemberList
            }
          //
          UcUiStore.prototype.extConfInfoChanged = function (ev) {}
          //
          UcUiStore.prototype.fileReceived = function (ev) {
            var _this = this

            var settings = this.chatClient.getSettings()
            var file_id = ev.fileInfo.file_id
            // create message file info
            var messageFile = (this.activeMessageFileTable[file_id] = {
              file_id: file_id,
              name: ev.fileInfo.name,
              size: ev.fileInfo.size,
              receiverInfo: this.chatClient.getProfile(),
              status: ev.fileInfo.status,
              progress: ev.fileInfo.progress,
              inlineImage: {
                loading: false,
                url: '',
              },
              messageFileError: '',
            })
            // inline image
            var ext = ev.fileInfo.name
              .substr(ev.fileInfo.name.lastIndexOf('.') + 1)
              .toLowerCase()
            if (
              ext === 'png' ||
              ext === 'jpg' ||
              ext === 'jpeg' ||
              ext === 'gif' ||
              ext === 'bmp'
            ) {
              if (
                !(
                  settings.optional_settings &&
                  settings.optional_settings.image_file_transfer === 'file'
                ) &&
                typeof Blob !== 'undefined' &&
                typeof URL !== 'undefined' &&
                typeof XMLHttpRequest !== 'undefined'
              ) {
                messageFile.inlineImage.loading = true
                var xhr = new XMLHttpRequest()
                xhr.onreadystatechange = function () {
                  if (xhr.readyState === 1) {
                    xhr.responseType = 'blob'
                  } else if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                      // create objectURL of inline image
                      _this.objectURLList.push(
                        (messageFile.inlineImage.url = URL.createObjectURL(
                          xhr.response,
                        )),
                      )
                    } else {
                      // error
                      _this.logger.log('warn', 'xhr error status=' + xhr.status)
                      messageFile.messageFileError =
                        'xhr error status=' + xhr.status
                    }
                    messageFile.inlineImage.loading = false
                    _this.render()
                  }
                }
                this.chatClient.acceptFileWithXhr(file_id, xhr, function (ev) {
                  // error
                  _this.logger.log(
                    'warn',
                    'chatClient.acceptFileWithXhr error code=' +
                      ev.code +
                      ', message=' +
                      ev.message,
                  )
                  messageFile.messageFileError = string(ev.message)
                })
              }
            }
            // message
            var conference = null
            if (ev.conf_id) {
              conference = this.chatClient.getConference(ev.conf_id)
            }
            var message = {
              chatKeys: [
                ev.conf_id
                  ? this.getChatCodeByConfId({ conf_id: ev.conf_id }).chatKey
                  : 'CHAT' + '_' + JSON.stringify(ev.fileInfo.target),
              ],
              senderInfo: ev.fileInfo.target,
              ctype: Constants.CTYPE_FILE_REQUEST,
              messageText: '',
              messageObject: undefined,
              errorType: '',
              errorDetail: '',
              messageFile: messageFile,
              received_text_id: ev.text_id,
              topic_id: ev.topic_id,
              conf_type: string(conference && conference.conf_type),
              replyEnabled: false,
              unreached: false,
              messageExtInfo: {
                mailSubject: this.getMailSubject(conference),
              },
              sentTimeValue: +parseDate(ev.sent_ltime),
            }

            if (ev.conf_id === null) {
              // buddy
              // add to chat table
              this.addMessageToList(message)
            } else {
              // conference
              conference =
                conference || this.chatClient.getConference(ev.conf_id)
              if (conference.invite_properties.webchatfromguest) {
                // webchat
                if (conference.conf_status === Constants.CONF_STATUS_JOINED) {
                  // joined
                  // add to chat table
                  this.addMessageToList(message)
                }
              } else {
                // add to chat table
                this.addMessageToList(message)
              }
            }

            // notification
            var evObj = {
              chatKeys: message.chatKeys,
              notificationProperties: {
                title: this.getBuddyUserForUi(ev.fileInfo.target).name,
                body: message.messageText,
              },
              funcOnSelected: null,
              notificationFunction: null,
              mustScroll: true,
            }
            this.fire('checkRequiresNotification', evObj)
            if (evObj.notificationFunction) {
              evObj.notificationFunction()
            }

            this.addChatClientBuddy([ev.fileInfo.target])
            this.render()
          }
          //
          UcUiStore.prototype.fileInfoChanged = function (ev) {
            if (this.activeMessageFileTable[ev.fileInfo.file_id]) {
              // change message file info
              if (
                !this.activeMessageFileTable[ev.fileInfo.file_id]
                  .multiReceiversInfo
              ) {
                this.activeMessageFileTable[ev.fileInfo.file_id].status =
                  ev.fileInfo.status
                this.activeMessageFileTable[ev.fileInfo.file_id].progress =
                  ev.fileInfo.progress
              } else {
                var prepared = false
                var accepted = false
                var incompleted = false
                var localCancel = false
                var error = false
                var sum = 0
                this.activeMessageFileTable[
                  ev.fileInfo.file_id
                ].multiReceiversInfo.forEach(function (info) {
                  if (ev.fileInfo.file_id === info.file_id) {
                    info.status = ev.fileInfo.status
                    info.progress = ev.fileInfo.progress
                  }
                  if (info.status !== Constants.FILE_STATUS_UNPREPARED) {
                    prepared = true
                  }
                  if (info.status !== Constants.FILE_STATUS_UNACCEPTED) {
                    accepted = true
                  }
                  if (info.status !== Constants.FILE_STATUS_COMPLETED) {
                    incompleted = true
                  }
                  if (info.status === Constants.FILE_STATUS_LOCAL_CANCEL) {
                    localCancel = true
                  }
                  if (info.status === Constants.FILE_STATUS_ERROR) {
                    error = true
                  }
                  sum += info.progress
                })
                this.activeMessageFileTable[ev.fileInfo.file_id].status = error
                  ? Constants.FILE_STATUS_ERROR
                  : localCancel
                    ? Constants.FILE_STATUS_LOCAL_CANCEL
                    : !prepared
                      ? Constants.FILE_STATUS_UNPREPARED
                      : !accepted
                        ? Constants.FILE_STATUS_UNACCEPTED
                        : !incompleted
                          ? Constants.FILE_STATUS_COMPLETED
                          : Constants.FILE_STATUS_TRANSFERRING
                this.activeMessageFileTable[ev.fileInfo.file_id].progress = int(
                  sum /
                    this.activeMessageFileTable[ev.fileInfo.file_id]
                      .multiReceiversInfo.length,
                )
              }
              this.render()
            }
          }
          //
          UcUiStore.prototype.fileTerminated = function (ev) {
            this.fileInfoChanged(ev)
            // delete message file info cache
            delete this.activeMessageFileTable[ev.fileInfo.file_id]
          }
          //
          UcUiStore.prototype.objectReceived = function (ev) {
            this.receivedText(ev)
          }
          //
          UcUiStore.prototype.confLeaveReceived = function (ev) {
            if (ev.conf_id !== null) {
              var chatKey = this.getChatCodeByConfId({
                conf_id: ev.conf_id,
              }).chatKey
              if (chatKey) {
                this.addSysmsgToList({
                  chatKeys: [chatKey],
                  sysmsgLevel: 'info',
                  sysmsgType: 'MSG_CONFERENCE_MEMBER_LEFT',
                  buddy: ev.sender,
                })
              }
            }
          }

          /**
           * Utility functions
           */
          var int = function int(value) {
            return parseInt(value, 10) || 0
          }
          var string = function string(value) {
            return String(value || value === 0 || value === false ? value : '')
          }
          var stringify = function stringify(object) {
            var key, returnString

            if (object && typeof object === 'object') {
              returnString = ''
              for (key in object) {
                returnString += string(key) + ': ' + string(object[key]) + ', '
              }
              if (returnString.length > 2) {
                returnString = returnString.substr(0, returnString.length - 2)
              }
              return returnString
            } else {
              return string(object)
            }
          }
          var escapeHTML = function escapeHTML(str) {
            return string(str)
              .replace(/&/g, '&amp;')
              .replace(/</g, '&lt;')
              .replace(/>/g, '&gt;')
              .replace(/"/g, '&quot;')
              .replace(/'/g, '&#39;')
          }
          var formatStr = function formatStr(fmt, a) {
            var rep_fn = undefined
            if (typeof a === 'object') {
              rep_fn = function rep_fn(m, k) {
                return a[k]
              }
            } else {
              var args = arguments
              rep_fn = function rep_fn(m, k) {
                return args[parseInt(k) + 1]
              }
            }
            return string(fmt).replace(/\{(\w+)\}/g, rep_fn)
          }
          var parseDate = function parseDate(str) {
            return new Date(
              int(str.substr(0, 4)),
              int(str.substr(5, 2)) - 1,
              int(str.substr(8, 2)),
              int(str.substr(11, 2)),
              int(str.substr(14, 2)),
              int(str.substr(17, 2)),
            )
          }
          // polyfill
          if (!Array.prototype.find) {
            Array.prototype.find = function (predicate) {
              if (this === null) {
                throw new TypeError(
                  'Array.prototype.find called on null or undefined',
                )
              }
              if (typeof predicate !== 'function') {
                throw new TypeError('predicate must be a function')
              }
              var list = Object(this)
              var length = list.length >>> 0
              var thisArg = arguments[1]
              var value

              for (var i = 0; i < length; i++) {
                value = list[i]
                if (predicate.call(thisArg, value, i, list)) {
                  return value
                }
              }
              return undefined
            }
          }
          if (!Array.prototype.findIndex) {
            Array.prototype.findIndex = function (predicate) {
              if (this === null) {
                throw new TypeError(
                  'Array.prototype.findIndex called on null or undefined',
                )
              }
              if (typeof predicate !== 'function') {
                throw new TypeError('predicate must be a function')
              }
              var list = Object(this)
              var length = list.length >>> 0
              var thisArg = arguments[1]
              var value

              for (var i = 0; i < length; i++) {
                value = list[i]
                if (predicate.call(thisArg, value, i, list)) {
                  return i
                }
              }
              return -1
            }
          }

          /**
           * global object
           */
          UcUiStore.UiConstants = UiConstants
          /**
           * export global object
           */
          return UcUiStore
        })
      },
      { '../net/jsonrpc.js': 395, '../ucclient/ucclient.js': 397 },
    ],
  },
  {},
  [387],
)
